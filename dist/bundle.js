/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n={283:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".modal__content--discord-event{max-width:540px;overflow:visible !important;min-height:auto;max-height:85vh;position:relative}.modal__content--discord-event .form-group{margin-bottom:1.5rem}.modal__content--discord-event .form-group .form-label{display:block;color:#997e43;font-size:.9rem;font-weight:600;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.modal__content--discord-event .form-group .banner-preview-wrapper{position:relative}.modal__content--discord-event .form-group .banner-preview-wrapper .banner-preview{width:100%;height:200px;background-size:cover;background-position:center;border-radius:8px;border:1px solid #1b1d1f}.modal__content--discord-event .form-group .banner-preview-wrapper .trash-btn{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.7);border:1px solid hsla(0,0%,100%,.2);border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.modal__content--discord-event .form-group .banner-preview-wrapper .trash-btn:hover{background:rgba(0,0,0,.9)}.modal__content--discord-event .form-group .custom-dropdown{position:relative}.modal__content--discord-event .form-group .custom-dropdown .dropdown-trigger{width:100%;padding:.75rem 1rem;background:#1b1d1f;border:1px solid #1b1d1f;border-radius:8px;color:#494949;text-align:left;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:.95rem;transition:border-color .2s}.modal__content--discord-event .form-group .custom-dropdown .dropdown-trigger:hover:not(:disabled){border-color:#997e43}.modal__content--discord-event .form-group .custom-dropdown .dropdown-trigger:disabled{opacity:.5;cursor:not-allowed}.modal__content--discord-event .form-group .custom-dropdown .dropdown-trigger .dropdown-arrow{font-size:.7rem;opacity:.6}.modal__content--discord-event .form-group .custom-dropdown .dropdown-popup{position:absolute;top:calc(100% + 4px);left:0;right:0;background:#1b1d1f;border:1px solid #1b1d1f;border-radius:8px;max-height:240px;overflow-y:auto;z-index:6000;box-shadow:0 8px 24px rgba(0,0,0,.4)}.modal__content--discord-event .form-group .custom-dropdown .dropdown-popup .dropdown-item{padding:.75rem 1rem;color:#494949;cursor:pointer;transition:background .15s,color .15s}.modal__content--discord-event .form-group .custom-dropdown .dropdown-popup .dropdown-item:hover{background:rgba(230,200,150,.1);color:#997e43}.modal__content--discord-event .form-group .custom-dropdown .dropdown-popup .dropdown-item:not(:last-child){border-bottom:1px solid hsla(0,0%,100%,.05)}.modal__content--discord-event .modal__input{width:100%;padding:.75rem 1rem;background:#1b1d1f;border:1px solid #1b1d1f;border-radius:8px;color:#d5d5d5;font-size:.95rem;transition:border-color .2s}.modal__content--discord-event .modal__input:focus{outline:none;border-color:#997e43}.modal__content--discord-event .modal__input::placeholder{color:rgba(148,163,184,.5)}.modal__content--discord-event .modal__body{overflow:visible !important;max-height:none !important}.modal__content--discord-event .modal__body_content{overflow:visible !important}.modal__content--discord-event .date-time-row{display:flex;gap:.75rem;align-items:flex-start;flex-wrap:wrap}.modal__content--discord-event .date-time-row .datepick{flex:1;min-width:200px;position:relative;z-index:100}.modal__content--discord-event .date-time-row .time-fields{display:flex;align-items:center;gap:.25rem}.modal__content--discord-event .date-time-row .time-fields .time-sep{padding:0 .1rem;opacity:.7}.modal__content--discord-event .date-time-row .time-fields .modal__select{width:80px}.modal__content--discord-event .dp-pop{z-index:7000 !important}.modal__content--discord-event .modal__checkrow{display:flex;align-items:center;gap:.5rem;font-size:.9rem;color:#494949;cursor:pointer;user-select:none}.modal__content--discord-event .modal__checkrow input[type=checkbox]{cursor:pointer;width:18px;height:18px}.modal__content--discord-event .modal__checkrow span{cursor:pointer}.modal__content--discord-event .modal__checkrow:hover{color:#997e43}",""]);const u=c},312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(1720))&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},411:(e,t,n)=>{var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},582:(e,t,n)=>{"use strict";e.exports=n.p+"0994ced5097592f31d4c.woff"},668:(e,t,n)=>{"use strict";e.exports=n.p+"041a2a164f59d1a23099.eot"},724:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".interactive-map-container>div{width:100%;height:100%}",""]);const s=a},735:(e,t)=>{"use strict";t.DefaultEventPriority=16,t.LegacyRoot=0},772:(e,t,n)=>{"use strict";e.exports=n(735)},834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,o=((r=n(411))&&r.__esModule?r:{default:r}).default,i=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM,t.default=i},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},1020:(e,t,n)=>{"use strict";var r=n(6540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1345:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1426:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-bulk876ed27f8e2e7a34c58a.svg"},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1682:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(8275),n.b),f=a()(o());f.i(s.A),f.i(l.A),f.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var p=u()(d);f.push([e.id,`.history{position:relative;display:block;min-height:100%;height:100%;max-height:100%;color:#e2e8f0;overflow:hidden;background-image:url(${p});background-size:cover;background-position:center}`,""]);const h=f},1687:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.loreDetail{background-size:cover !important;background-position:center center !important}.loreDetail .bgLayer{position:absolute;inset:0;background:inherit;background-size:cover;background-position:center;pointer-events:none;filter:blur(0px);transform:translate3d(0, -1rem, 0);will-change:filter;z-index:0}.loreDetail .publish-toggle-btn{position:fixed;top:calc(130px + 1rem);right:1.2rem;z-index:10000;background:rgba(14,15,15,.8);opacity:.2 !important}.loreDetail .publish-toggle-btn:hover{opacity:1 !important;background:#1b1d1f}.loreDetail.offset-container{height:auto;min-height:100%;min-height:100vh;position:relative;margin-top:0;padding-bottom:2rem;padding-top:0}.loreDetail .overflow-container{position:absolute;top:130px;left:0;right:0;bottom:0;width:100%;overflow-y:auto;overscroll-behavior-y:contain;-webkit-overflow-scrolling:touch;scroll-padding-top:16px}.loreDetail .contentContainer{max-width:700px;margin:0 auto;overflow:visible;position:relative;padding-bottom:2rem}.loreDetail .contentContainer .pageTitle{margin:50vh 0 0 0;position:relative;text-align:center}.loreDetail .contentContainer .pageTitle h1{font-size:2.5rem;color:#e2e8f0}.loreDetail .contentContainer .pageTitle textarea{text-align:center;resize:none}.loreDetail .contentContainer .pageTitle:focus-within input,.loreDetail .contentContainer .pageTitle textarea{outline:none}.loreDetail .contentContainer .pageTitle:hover .banner-icon{opacity:.5}.loreDetail .contentContainer .pageTitle .banner-icon{position:absolute;top:-2.5rem;left:50%;transform:translateX(-50%);cursor:pointer;color:#d5d5d5;opacity:0;display:flex;align-items:center;justify-content:center}.loreDetail .contentContainer .pageTitle .banner-icon span{margin-left:.5rem}.loreDetail .contentContainer .pageTitle .banner-icon.loaded{color:#997e43}.loreDetail .contentContainer .pageTitle .banner-icon:hover{opacity:.8}.loreDetail .contentContainer .pageSubtitle{position:relative;text-align:center;margin:0}.loreDetail .contentContainer .pageSubtitle:focus-within input,.loreDetail .contentContainer .pageSubtitle textarea{outline:none}.loreDetail .contentContainer .pageSubtitle textarea{text-align:center;resize:none;height:30px}.loreDetail .contentContainer .pageSubtitle h4{font-size:1.2rem;color:#997e43;font-weight:400}.loreDetail .contentContainer .dateWrapper{display:flex;justify-content:center;align-items:center;color:#d5d5d5;font-family:"Montserrat",sans-serif;font-weight:700;font-weight:300;font-size:.65rem;gap:.5rem}.loreDetail .contentContainer .dateWrapper .dateWrappedIcon{opacity:.8}.loreDetail .contentContainer .dateWrapper .datepick{flex:0 1 auto;min-width:200px}.loreDetail .contentContainer .dateWrapper .datepick .datepick__inputWrap .modal__input.datepill{font-family:"Montserrat",sans-serif;font-weight:700;font-weight:300;font-size:.65rem;text-align:center;padding:.4rem 2rem;background:rgba(0,0,0,.2);border:1px solid hsla(0,0%,100%,.1)}.loreDetail .contentContainer .dateWrapper .datepick .datepick__inputWrap .modal__input.datepill::placeholder{color:#bababa;opacity:.6}.loreDetail .contentContainer .dateWrapper .datepick .datepick__inputWrap .datepill__icon{left:.5rem;opacity:.7}.loreDetail .contentContainer .dateWrapper .sessionDate{font-family:"Montserrat",sans-serif;font-weight:700;font-weight:300;font-size:.65rem}.loreDetail .contentContainer .dateWrapper input[type=date]{font-family:"Montserrat",sans-serif;font-weight:700;width:auto;outline:none;font-weight:300;font-size:.65rem;background:rgba(0,0,0,0);border:none;color:#bababa;text-align:center;position:relative}.loreDetail .contentContainer .richTextBlock--title{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-transform:uppercase;background:rgba(0,0,0,0);border:none;color:#e2e8f0;font-size:larger;width:100%;padding:0}.loreDetail .contentContainer .richTextBlock--subtitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;background:rgba(0,0,0,0);border:none;color:#997e43;font-size:1.2rem;width:100%;padding:0;text-transform:uppercase}.loreDetail .contentContainer .blocks{margin-top:1.5rem}.loreDetail .contentContainer .blocks .blockRow{position:relative;display:flex;align-items:flex-start;gap:8px;width:100%}.loreDetail .contentContainer .blocks .blockRow+.blockRow{margin-top:8px}.loreDetail .contentContainer .blocks .blockRow .blockRow__add{display:flex;justify-content:center;align-items:center;position:relative;width:22px;height:22px;border-radius:6px;color:#d5d5d5;background:rgba(0,0,0,0);border:none;box-shadow:none;line-height:1;opacity:0;cursor:pointer;transition:opacity .15s ease,background .15s ease,border-color .15s ease}.loreDetail .contentContainer .blocks .blockRow .blockRow__add:hover{background:#494949;color:#e2e8f0}.loreDetail .contentContainer .blocks .richTextBlock{font-family:"Crimson Text",sans-serif;width:100%;position:relative;margin-top:25px}.loreDetail .contentContainer .blocks .richTextBlock.rt-hidden .rt-content{border:2px dashed #a855f7;padding:1rem;border-radius:6px;background:rgba(168,85,247,.2)}.loreDetail .contentContainer .blocks .richTextBlock.rt-hidden .rt-content::before{content:"Secret";color:#a855f7;font-size:.9rem;font-weight:600;margin-bottom:.5rem}.loreDetail .contentContainer .blocks .richTextBlock .rt-content{position:relative;outline:none;font-size:1.1rem;line-height:1.2}.loreDetail .contentContainer .blocks .richTextBlock .rt-content[data-empty=true][data-placeholder]::before{content:attr(data-placeholder);position:absolute;pointer-events:none;opacity:.5;color:#494949}.loreDetail .contentContainer .blocks .richTextBlock .rt-content p,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h1,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h2,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h3,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h4,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h5,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h6,.loreDetail .contentContainer .blocks .richTextBlock .rt-content blockquote,.loreDetail .contentContainer .blocks .richTextBlock .rt-content ul{color:#e2e8f0;outline:none;margin:0}.loreDetail .contentContainer .blocks .richTextBlock .rt-content blockquote{background:rgba(230,217,190,.2);padding:1rem;color:#bababa;margin:1rem 0;border-radius:6px;border:1px solid #997e43}.loreDetail .contentContainer .blocks .richTextBlock .rt-content blockquote p{color:#e2e8f0}.loreDetail .contentContainer .blocks .richTextBlock .rt-content p{color:#e2e8f0}.loreDetail .contentContainer .blocks .richTextBlock:hover .rt-toolbar{opacity:1}.saveStatus{font-family:"Montserrat",sans-serif;font-weight:300;font-size:.65rem;color:#bababa;text-align:center}.saveStatus .error{color:#a855f7}.campaignWorldDate{position:relative}.campaignWorldDate .datepick{display:flex;justify-content:center}.campaignWorldDate .datepick .datepill__icon{display:none}.campaignWorldDate .datepick input{width:auto;background:rgba(0,0,0,0);border:none;padding:0 !important;height:20px;color:#d5d5d5;text-align:center;cursor:pointer}.campaignWorldDate .datepick input::placeholder{color:#bababa}',""]);const u=c},1720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6540),a=h(i),s=h(n(961)),l=h(n(5556)),c=h(n(9090)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6462)),d=n(834),f=h(d),p=n(1345);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",b=d.canUseDOM&&void 0!==s.default.createPortal,v=function(e){return document.createElement(e)},x=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function k(e){return e()}var w=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!b&&s.default.unmountComponentAtNode(o.node);var e=k(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=x()(o,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=v("div")),this.node.className=this.props.portalClassName,k(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:k(e.parentSelector),nextParent:k(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=v("div")),x()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(f.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(f.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},w.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(w),t.default=w},1769:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.timeline{position:relative;top:0;margin:0 auto;height:calc(100% - 130px);margin-top:130px;overflow:auto;padding:0}.timelineHeader{position:fixed;margin-top:20px;width:100%;height:30px;display:flex;justify-content:space-between;align-items:center;opacity:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards;padding:0 1rem;z-index:4}.actions{display:flex;gap:.5rem}.actionButton{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:4px;cursor:pointer;font-size:.9rem}.toolbox{display:flex;gap:.5rem}.toolboxButton{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-transform:uppercase;display:flex;align-items:center;gap:.4rem;border:none;color:#e2e8f0;font-size:.7rem;cursor:pointer}.toolboxButton.hide{display:none}.groupFilter{display:flex;gap:.5rem;flex-wrap:wrap}.pill{font-family:"Montserrat",sans-serif;font-weight:400;border:1px solid #494949;border-radius:9999px;padding:.25rem .75rem;font-size:.8rem;cursor:pointer;color:#e2e8f0;background:rgba(0,0,0,0);transition:background .2s,color .2s}.pill.active{background:#e2e8f0;color:#0e0f0f;border-color:#0e0f0f}.timeline-wrapper{margin-top:70px}.virtuoso-timeline div[data-testid=virtuoso-item-list]{padding-bottom:3rem !important}.timeline-event-wrapper{max-width:1060px;margin:0 auto;opacity:0;padding-top:10px;position:relative;z-index:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards}.timeline-event-wrapper:has(.contextMenu.open){z-index:100}.event{position:relative}.event:last-child .line{bottom:50%}.line{position:absolute;left:90px;top:16px;bottom:-2rem;width:2px;background-color:#494949;z-index:0}.row{display:flex;align-items:stretch;height:170px}.date{width:90px;text-align:right;padding-right:.5rem;height:100%;flex:.1}.date .year{font-weight:600}.date .diff{font-size:.75rem;color:#bababa}.marker{position:relative}.marker .diamond{left:4px;top:4px;z-index:1;display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.marker .diamond .diamond-line{width:1px;margin-top:.5rem;margin-bottom:.5rem;height:100%;background-color:#d5d5d5}.cardWrapper{flex:.75;margin-left:1rem;position:relative;overflow:visible}.cardWrapper .card{position:relative;background-color:rgba(30,41,59,.8);border-radius:8px;color:#e2e8f0;overflow:visible;display:flex;width:100%;background-size:cover;background-position:center;border:1px solid #0e0f0f;transition:border .2s ease,box-shadow .2s ease;height:100%}.cardWrapper .card::after{content:"";position:absolute;left:0;right:0;bottom:0px;height:40%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));z-index:2;pointer-events:none;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.cardWrapper .card:hover{border:1px solid #fff}.cardWrapper .card .cardBg{width:100%;position:absolute;top:0;left:0;z-index:1;height:100%;background-size:cover;background-position:left 50% top -50px;border-radius:8px;opacity:.5}.info{position:relative;z-index:3;padding:1rem;flex:1;display:flex;flex-direction:column;justify-content:space-between}.groupLabel{align-self:flex-start;background-color:var(--group-color, rgb(73, 73, 73));color:#0e0f0f;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;border:1px solid}.title_wrapper{display:flex;flex-direction:row;gap:.7rem;align-items:center;padding-right:3rem}.title_wrapper .icon_square-btn{height:45px;width:45px}.title_wrapper .icon_square-btn:hover{background:rgba(0,0,0,0);color:#d5d5d5}.title_wrapper .title_subtitle_wrapper{display:flex;flex-direction:column}.title{margin:0;font-size:1.1rem;font-weight:600;padding-right:30px;text-transform:uppercase}.subtitle{font-size:.8rem;color:#bababa;margin-top:.25rem;padding-right:30px}.description{font-size:.75rem;color:#d5d5d5;margin-top:.5rem;line-height:1.4}.editButton{background:none;border:none;color:#60a5fa;font-size:.75rem;cursor:pointer;padding:0}.editRow{position:absolute;bottom:15px;right:20px;display:flex;justify-content:flex-end;z-index:4;height:30px;width:30px;align-self:flex-end}.menuButton{display:none;background:none;border:none;color:#e2e8f0;font-size:1.1rem;cursor:pointer;padding:.8rem .6rem;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s ease;height:100%;width:100%}.menuButton:hover{display:flex;background:hsla(0,0%,100%,.12)}.menuButton:focus-visible{outline:2px solid #d0b373;outline-offset:2px}.contextMenu{position:absolute;top:-12rem;right:-10rem;background:#1b1d1f;border:1px solid #997e43;border-radius:8px;min-width:180px;padding:.25rem 0;box-shadow:0 0 10px rgba(0,0,0,.2);z-index:10;display:none;flex-direction:column;z-index:100}.contextMenu.open{display:flex}.contextMenu .menuItem{padding:.55rem .9rem;font-size:.85rem;color:#e2e8f0;cursor:pointer;white-space:nowrap;transition:background .2s ease}.contextMenu .menuItem:hover{background:hsla(0,0%,100%,.1)}.contextMenu .separator{height:1px;background:hsla(0,0%,100%,.12);margin:.25rem 0}.contextMenu .submenu{position:relative}.contextMenu .submenu::after{content:"â€º";position:absolute;right:10px}.contextMenu .submenu-list{display:none;position:absolute;top:-1px;left:100%;background:#1e293b;border:1px solid #494949;border-radius:8px;min-width:160px;padding:.25rem 0;box-shadow:0 6px 16px rgba(0,0,0,.45);z-index:10}.contextMenu .submenu:hover .submenu-list{display:block}.card.menu-open{border:1px solid #fff;box-shadow:0 0 10px hsla(0,0%,100%,.35)}.image{width:35%;background-size:cover;background-position:center}.floating-button{position:fixed;bottom:2rem;left:2rem;background:#d0b373;color:#0e0f0f;border:none;padding:.6rem 1rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:600;cursor:pointer;display:flex;width:3rem;height:3rem;font-size:1.5rem;align-items:center;justify-content:center;transition:background-color .3s ease,color .3s ease}.floating-button:hover{background-color:#997e43;color:#e2e8f0}@keyframes wrapperFromTopToBottom{0%{transform:translateY(100%)}100%{transform:translateY(0);opacity:1}}.timeline-event-wrapper.menu-open{z-index:3000}.card.menu-open{z-index:3100}.contextMenu{z-index:3200}',""]);const u=c},1890:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-light40a279e5b45f6be0b987.svg"},1948:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(3123),n.b),f=a()(o());f.i(s.A),f.i(l.A),f.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var p=u()(d);f.push([e.id,`input[type=number]{appearance:textfield;-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.datepick{position:relative}.datepick__label{font-size:.8rem;gap:.4rem;display:block}.datepick__inputWrap{position:relative}.datepick__inputWrap .modal__input.datepill{position:relative;padding-left:2rem;cursor:pointer}.datepick__inputWrap .modal__input.datepill:focus{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}.datepick__inputWrap:focus-within .datepill__icon svg{color:#d0b373}.datepick__inputWrap .datepill__icon{display:flex;justify-content:center;align-items:center;position:absolute;width:25px;height:25px;top:.5rem;font-size:1rem;color:#d5d5d5;left:.3rem}.datepick__inputWrap .datepill__icon-end{display:flex;justify-content:center;align-items:center;position:absolute;width:25px;height:25px;top:.4rem;font-size:1rem;color:#d5d5d5;right:.4rem;background:none;border:none;cursor:pointer}.datepick__inputWrap .datepill__icon-end:hover{color:#d5d5d5}.datepick__inputWrap .datepill__icon-end{width:30px;height:30px}.datepick__inputWrap.session-datepicker{display:flex;justify-content:center;align-items:center}.datepick__inputWrap.session-datepicker .modal__input.datepill{background-color:rgba(0,0,0,0) !important;margin:0;padding:0 !important;height:20px;border:0 !important;width:70px !important}.datepick__inputWrap.is-disabled{opacity:.6;pointer-events:none}.datefield,.modal__select.datepill{display:flex;align-items:center;gap:.5rem;width:100%;text-align:left;padding:.625rem .75rem;border-radius:10px;background:#1b1d1f;border:1px solid #494949;line-height:1.25;transition:border-color .15s ease,box-shadow .15s ease}.datefield:hover,.modal__select.datepill:hover{border-color:#bababa}.datefield:focus-visible,.modal__select.datepill:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.datefield__icon{display:inline-flex;opacity:.9}.dp-pop{position:absolute;top:calc(100% + 8px);left:50%;transform:translateX(-50%);font-size:.8rem;background:#1b1d1f;border-radius:8px;z-index:3}.dp-pop.dp-pop--above{top:auto;bottom:calc(100% + 8px)}.dp-pop__panel{background:#1b1d1f;border:1px solid #494949;border-radius:12px;box-shadow:0 12px 28px rgba(0,0,0,.45);padding:12px;min-width:360px;max-width:420px;display:grid;grid-template-rows:auto auto 1fr;gap:10px}.dp-pop__panel .dp-pop__head{display:flex;justify-content:center}.dp-pop__panel .dp-pop__head .dp-pop__navbtn{background:rgba(0,0,0,0);border:none;color:#d5d5d5;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:4px}.dp-pop__panel .dp-pop__head .dp-pop__navbtn:hover{color:#d0b373}.dp-pop__panel .dp-pop__head .dp-pop__headmain{display:flex;font-size:.6rem;align-items:flex-start;gap:.4rem}.dp-pop__panel .dp-pop__head .dp-pop__headmain input,.dp-pop__panel .dp-pop__head .dp-pop__headmain select{background:rgba(0,0,0,.3);color:#d5d5d5;font-size:.6rem;border:1px solid #494949;text-align:center;margin-top:0;border-radius:6px;padding:6px 12px;width:auto;height:100%}.dp-pop__panel .dp-pop__head .dp-pop__headmain input:focus,.dp-pop__panel .dp-pop__head .dp-pop__headmain select:focus{outline:none;border-color:#d0b373}.dp-pop__panel .dp-pop__head .dp-pop__headmain select{appearance:none;background-image:url(${p});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}.dp-pop__panel .dp-pop__head .dp-pop__headmain select:focus{appearance:none;background-image:url(${p});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}.dp-pop__grid{display:grid;grid-template-columns:repeat(7, 1fr);gap:6px}.dp-pop__grid .dp-pop__weekcell{text-align:center;color:#bababa;font-size:.7rem;font-weight:600;padding:4px 0}.dp-pop__toolbar{display:flex;align-items:center;justify-content:space-between;gap:8px}.dp-pop__nav{display:inline-flex;align-items:center;gap:6px}.dp-pop__nav button{appearance:none;border:1px solid #494949;background:rgba(0,0,0,0);border-radius:8px;width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,border-color .15s ease,box-shadow .15s ease}.dp-pop__nav button:hover{background:hsla(0,0%,100%,.1);border-color:#bababa}.dp-pop__nav button:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.dp-pop__selectors{display:inline-flex;align-items:center;gap:8px}.dp-pop__panel select{appearance:none;border-radius:10px;padding:.5rem 1.9rem .5rem .75rem;font:inherit;line-height:1.25;color:inherit;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease;background-repeat:no-repeat;background-position:right .6rem center;background-size:12px 12px;background-image:none}.dp-pop__panel select:hover{border-color:#bababa}.dp-pop__panel select:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.dp-pop__caption{text-align:center;font-weight:600;letter-spacing:.2px}.dp-pop__dow{display:contents}.dp-pop__dow>*{text-align:center;font-size:.75rem;font-weight:600;opacity:.7;padding:4px 0 6px;text-transform:uppercase}.dp-pop__daybtn,.dp-pop__day{appearance:none;border:1px solid rgba(0,0,0,0);background:rgba(0,0,0,0);border-radius:8px;width:40px;height:36px;line-height:36px;display:inline-flex;align-items:center;justify-content:center;font:inherit;color:#d5d5d5;cursor:pointer;transition:background .12s ease,border-color .12s ease,box-shadow .12s ease;font-size:.85rem}.dp-pop__daybtn:hover,.dp-pop__day:hover{background:hsla(0,0%,100%,.1);border-color:#494949}.dp-pop__daybtn:focus-visible,.dp-pop__day:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.dp-pop__daybtn.is-outside,.dp-pop__day.is-outside{opacity:.3;color:#bababa}.dp-pop__daybtn.is-disabled,.dp-pop__day.is-disabled,.dp-pop__daybtn[disabled]{opacity:.25;pointer-events:none}.dp-pop__daybtn.is-selected,.dp-pop__day.is-selected,.dp-pop__daybtn[aria-current=date]{background:#997e43;color:#0e0f0f;border-color:#d0b373;font-weight:600}@media(max-width: 420px){.dp-pop__grid button,.dp-pop__day{width:36px;height:32px;line-height:32px}}`,""]);const h=f},1954:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".tsm__overlay{background-color:rgba(0,0,0,.6) !important;z-index:1000 !important}.tsm__content{top:50% !important;left:50% !important;right:auto !important;bottom:auto !important;transform:translate(-50%, -50%) !important;background-color:#1e293b !important;border:1px solid #334155 !important;border-radius:8px !important;padding:1rem 0 !important;width:640px !important;max-height:90vh !important;overflow:hidden !important;color:#f0f4fc !important;display:flex !important}.tsm__nav{width:180px;border-right:1px solid #334155;padding:1rem;background:#0e0f0f}.tsm__title{margin:.5 0rem;font-size:1rem}.tsm__navlist{display:flex;flex-direction:column;gap:.5rem}.tsm__navbtn{text-align:left;background:rgba(0,0,0,0);border:none;color:#f0f4fc;padding:.5rem;border-radius:4px;cursor:pointer}.tsm__navbtn.is-active{background:#334155}.tsm__body{flex:1;padding:0 1rem;overflow-y:auto}.tsm__sectionTitle{margin:0 0 1rem}.tsm__help{font-size:.8rem;color:#94a3b8}.tsm__grid{display:flex;flex-wrap:wrap;gap:1rem}.tsm__field{flex:0 0 45%}.tsm__label{font-size:.85rem;display:block}.tsm__input,.tsm__select{width:100%;margin-top:.25rem;color:#f0f4fc;background:rgba(0,0,0,0);border-radius:6px;border:1px dashed #1b1d1f;padding:.5rem}.tsm__input--flex{flex:1}.tsm__input--num{width:60px}.tsm__input--abbr{width:60px}.tsm__input--year{width:80px}.tsm__checkrow{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.tsm__list{margin-top:.5rem}.tsm__listItem{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;padding:.5rem;background:#0f1724;border-radius:4px;border:1px solid #334155}.tsm__handle{cursor:grab;color:#94a3b8}.tsm__index{width:24px;color:#cbd5e1}.tsm__btn{padding:.4rem .8rem;border:none;border-radius:4px;cursor:pointer}.tsm__btn--primary{background:#2563eb;color:#fff}.tsm__btn--muted{background:#334155;color:#f0f4fc}.tsm__iconbtn{background:none;border:none;font-size:1rem;cursor:pointer}.tsm__iconbtn--danger{color:#ef4444}.tsm__formats{display:flex;gap:2rem;flex-wrap:wrap}.tsm__formatsCol{flex:0 0 300px}.tsm__formatsCol--codes{flex:1;min-width:200px}.tsm__subtitle{font-size:.9rem;margin:0}.tsm__example{font-size:.8rem;color:#94a3b8;margin-top:.25rem}.tsm__label--spaced{margin-top:.5rem;display:block}.tsm__codes{font-size:.8rem;color:#94a3b8;line-height:1.4}.tsm__actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:1rem;padding-bottom:1rem}",""]);const u=c},2162:(e,t,n)=>{"use strict";var r=n(6540),o=n(9888),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var p=a(e,d[0],d[1]);return l(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},2310:(e,t,n)=>{"use strict";e.exports=n.p+"6c3492a36854b6cfbb69.ttf"},2411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return[].slice.call(t.querySelectorAll("*"),0).reduce(function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])},[]).filter(a)};var n="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var o=window.getComputedStyle(e),i=o.getPropertyValue("display");return t?i!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,o):i===n}catch(e){return console.warn("Failed to inspect element style"),!1}}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&function(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}(e,!n)}e.exports=t.default},2462:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(3123),n.b),f=new URL(n(9622),n.b),p=a()(o());p.i(s.A),p.i(l.A),p.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var h=u()(d),m=u()(f);p.push([e.id,`.navBar{position:fixed;left:0;right:0;align-items:center;z-index:1000;display:flex;justify-content:center;align-items:center}.navBar .brand{display:flex;flex-direction:column;align-items:center}.navBar .brand .brand-logo{width:auto}.navBar.other{padding:.5rem 1rem;background:#1b1d1f;border-bottom:1px solid #997e43;height:130px;top:0}.navBar.other .brand .brand-logo{max-height:100px;width:auto}.navBar.is-home{padding:1.5rem 1rem;background:rgba(0,0,0,0);top:50%;left:50%;transform:translate(-50%, -50%);height:260px;animation:fromTopToBottom 1s ease-out forwards;animation-delay:6s;width:100%}.navLink{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-decoration:none;font-weight:600;color:#e2e8f0;transition:color .2s;width:160px;transition:all .2s ease}.navLink:hover{color:#d0b373}.navLink.active{color:#d0b373}.navLink.active:hover{color:#bababa}.navLink.is-home{font-size:1.5rem;width:200px}.navLink.is-home.brand{height:auto;width:300px;animation:smmaller .4s ease forwards;animation-delay:6s}.navLink.is-home:not(.brand){opacity:0;animation:appear 3s ease forwards;animation-delay:5s}.navLink.other{font-size:1rem}.brand .treeIcon{line-height:1}.brand .name{font-family:"serif";letter-spacing:.05em;color:#d0b373;font-weight:700}.brand.is-home .treeIcon{font-size:3rem}.brand.other .treeIcon{font-size:1.8rem}.brand.is-home .name{font-size:2.5rem}.brand.other .name{font-size:1.4rem}.backLink{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;position:absolute;top:50%;left:1rem;transform:translateY(-50%);text-decoration:none;font-weight:200;color:#e2e8f0;display:flex;transition:all .2s ease}.backLink:hover{color:#d0b373}@keyframes fromTopToBottom{0%{top:50%;left:50%;transform:translate(-50%, -50%)}100%{height:100px;top:calc(100% - 210px);background:#1b1d1f}}@keyframes fromBottomToTop{0%{top:50%;left:50%;transform:translate(-50%, -50%)}100%{top:0px;border-width:100%;border-opacity:1}}@keyframes smmaller{0%{width:300px}100%{width:100px}}.lore-create-fab{position:fixed;bottom:2rem;left:2rem;z-index:1000}.lcfab__surface{position:fixed;bottom:2rem;left:2rem;background:#d0b373;color:#0e0f0f;border:none;padding:.6rem 1rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:600;cursor:pointer;display:flex;width:3rem;height:3rem;font-size:1.5rem;align-items:center;justify-content:center;transition:background-color .3s ease,color .3s ease}.lcfab__surface:hover{background-color:#d0b373;color:#0e0f0f}.lcfab__surface{font-family:"Montserrat",sans-serif;font-weight:400;transition:all .3s cubic-bezier(0.2, 0.7, 0.2, 1);outline:none}.lcfab__surface .lcfab__plus{display:flex;justify-content:center;align-items:center;position:absolute;height:100%;width:100%;transition:all .2s ease;outline:none}.lcfab__surface .lcfab__content{opacity:0;pointer-events:none;transition:all .2s ease;outline:none;width:100%}.lcfab__surface .lcfab__content .lcfab__content_wrapper{display:flex;align-items:flex-start;gap:10px;justify-content:flex-start;flex-direction:column;width:100%}.lcfab__surface .lcfab__content .lcfab__content_wrapper--option{font-family:"Montserrat",sans-serif;font-weight:300;display:flex;align-items:center;justify-content:flex-start;font-size:.9rem;text-transform:uppercase}.lcfab__surface .lcfab__content .lcfab__content_wrapper--option-icon{margin-right:.3rem}.lcfab__surface[data-open=true]{width:200px;height:240px;box-shadow:0 18px 40px rgba(0,0,0,.55)}.lcfab__surface[data-open=true]:hover{background:#d0b373}.lcfab__surface[data-open=true] .lcfab__plus{opacity:0;pointer-events:none}.lcfab__surface[data-open=true] .lcfab__content{opacity:1;pointer-events:auto}.lcfab__surface[data-open=true] .lcfab__content .lcfab__content_wrapper--option{width:100%}.lcfab__surface[data-open=true] .lcfab__content .lcfab__content_wrapper--option:hover{font-weight:600}.lcfab__modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:1100;display:flex;align-items:center;justify-content:center;padding:16px}.lcfab__modal__card{background:rgba(14,15,15,.8);color:#e2e8f0;border-radius:8px;min-width:280px;max-width:92vw;box-shadow:0 20px 50px rgba(0,0,0,.5);padding:14px;border:1px solid #997e43;max-height:90vh;overflow-y:auto}.lcfab__modal__card--large{min-width:400px;max-width:600px}.lcfab__modal__title{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;font-size:1.2rem;margin-bottom:8px}.lcfab__modal__label{font-family:"Montserrat",sans-serif;font-weight:300;font-size:.85rem;opacity:.9;margin:6px 0 4px;display:block}.lcfab__modal__input{width:100%;background:#0e0f0f;color:#d5d5d5;border:1px solid #997e43;border-radius:4px;padding:8px 10px;outline:none}.lcfab__modal__preview{width:100%;background:#0e0f0f;color:#d5d5d5;border:1px solid #997e43;border-radius:4px;padding:12px;margin-bottom:12px;max-height:300px;overflow-y:auto;white-space:pre-wrap;line-height:1.6;font-size:.9rem}.lcfab__modal__check{display:flex;align-items:center;gap:8px;margin-top:8px;font-family:"Montserrat",sans-serif;font-weight:300}.lcfab__modal__actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}.lcfab__modal__actions .modal__btn{padding:6px 10px;border-radius:4px;border:1px solid #997e43;background:#0e0f0f;color:#e2e8f0}.lcfab__modal__actions .modal__btn.primary{background:#997e43;color:#111}.lcfab__modal__dropdown{position:relative;width:100%;margin-bottom:1rem}.lcfab__modal__dropdown-toggle{width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#0e0f0f;border:1px solid #997e43;border-radius:4px;color:#d5d5d5;font-family:"Montserrat",sans-serif;font-weight:300;font-size:.95rem;cursor:pointer;transition:all .2s ease}.lcfab__modal__dropdown-toggle:hover{background:rgba(208,179,115,.05)}.lcfab__modal__dropdown-arrow{color:#997e43;font-size:.7rem;margin-left:8px}.lcfab__modal__dropdown-menu{position:absolute;top:calc(100% + 4px);left:0;right:0;height:200px;overflow-y:auto;background:#2d2d2d;border-radius:4px;box-shadow:0 4px 12px rgba(0,0,0,.5);z-index:1000}.lcfab__modal__dropdown-item{width:100%;padding:10px 12px;background:rgba(0,0,0,0);border:none;color:#a0a0a0;font-family:"Montserrat",sans-serif;font-weight:300;font-size:.9rem;cursor:pointer;text-align:left;transition:background-color .15s ease}.lcfab__modal__dropdown-item:hover{background-color:hsla(0,0%,100%,.05)}.lcfab__modal__dropdown-item--selected{background-color:hsla(0,0%,100%,.08);color:#c8c8c8}.lcfab__modal__dropdown-empty{padding:16px 12px;color:rgba(213,213,213,.5);font-family:"Montserrat",sans-serif;font-weight:300;font-size:.9rem;text-align:center}@keyframes checkIn{from{opacity:0;transform:scale(0.5)}to{opacity:1;transform:scale(1)}}.sr-only{position:absolute !important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}*{box-sizing:border-box}body,html,#root{font-family:"Montserrat",sans-serif;font-weight:400;max-width:100%;max-height:100%;min-height:100%;height:100%;background:#1b1d1f}.btn-primary{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.btn-primary .icon{font-size:1rem;display:flex}.btn-primary .icon.iconly-Hide:before{padding-top:1px}.btn-primary span{display:flex}.btn-primary{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.btn-primary:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.btn-muted{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.btn-muted .icon{font-size:1rem;display:flex}.btn-muted .icon.iconly-Hide:before{padding-top:1px}.btn-muted span{display:flex}.btn-muted{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.btn-muted:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.btn-muted{background-color:#1b1d1f;color:#bababa}.btn-muted:hover{background-color:rgb(50.7413793103,54.5,58.2586206897);color:#e2e8f0}.loginContainer{position:fixed;z-index:1001;display:flex;align-items:center;gap:.75rem;top:43.3333333333px;right:1rem}.loginButton{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;background:rgba(0,0,0,0);border:none;color:#bababa;font-size:1rem;text-transform:uppercase;cursor:pointer}.loginButton .loginButtonWrapper{display:flex;align-items:center;gap:.5rem}.loginButton .loginButtonWrapper:hover{color:#997e43}.loginButton .loginButtonWrapper:hover .icon_square-btn{background:#997e43;color:#e2e8f0}.googleStatus{display:flex;align-items:center;gap:.5rem;font-size:.9rem;color:#bababa;background:rgba(0,0,0,.3);padding:.4rem .75rem;border-radius:8px;backdrop-filter:blur(10px)}.googleStatus .reconnectButton{background:rgba(0,0,0,0);border:none;color:#bababa;cursor:pointer;display:flex;align-items:center;gap:.35rem;font-size:.85rem;padding:.25rem .5rem;border-radius:4px;transition:all .2s}.googleStatus .reconnectButton:hover{background:rgba(255,152,0,.1);color:#ff9800}.appContent{max-width:100%;max-height:100%;margin:0 auto;min-height:100%;height:100%}.appContent.other{overflow:hidden}.appContent.home{padding-top:2rem}.offset-container{position:relative;top:0;margin:0 auto;height:calc(100% - 130px - 30px);margin-top:130px;overflow:auto;padding:0 1rem}.overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.85) 80%)}.rounded-button{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.rounded-button .icon{font-size:1rem;display:flex}.rounded-button .icon.iconly-Hide:before{padding-top:1px}.rounded-button span{display:flex}.rounded-button{background-color:#1b1d1f;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease}.rounded-button:hover{background-color:hsl(41.2903225806,49.7326203209%,-26.6666666667%)}.form-label{font-size:.8rem;gap:.4rem;display:block}.form-label.color-picker{flex-direction:column;display:flex;gap:0;height:53px}.form-label.color-picker .form-input{height:34px}.checkbox-wrapper{display:flex;gap:.5rem;align-items:center;justify-content:flex-start;margin-top:1rem;padding-inline:2px}.checkbox-wrapper .input-checkbox{display:none}.checkbox-wrapper .input-checkbox,.checkbox-wrapper .input-checkbox:after,.checkbox-wrapper .input-checkbox:before,.checkbox-wrapper .input-checkbox *,.checkbox-wrapper .input-checkbox *:after,.checkbox-wrapper .input-checkbox *:before,.checkbox-wrapper .input-checkbox+.input-checkbox-btn{box-sizing:border-box}.checkbox-wrapper .input-checkbox::-moz-selection,.checkbox-wrapper .input-checkbox:after::-moz-selection,.checkbox-wrapper .input-checkbox:before::-moz-selection,.checkbox-wrapper .input-checkbox *::-moz-selection,.checkbox-wrapper .input-checkbox *:after::-moz-selection,.checkbox-wrapper .input-checkbox *:before::-moz-selection,.checkbox-wrapper .input-checkbox+.input-checkbox-btn::-moz-selection,.checkbox-wrapper .input-checkbox::selection,.checkbox-wrapper .input-checkbox:after::selection,.checkbox-wrapper .input-checkbox:before::selection,.checkbox-wrapper .input-checkbox *::selection,.checkbox-wrapper .input-checkbox *:after::selection,.checkbox-wrapper .input-checkbox *:before::selection,.checkbox-wrapper .input-checkbox+.input-checkbox-btn::selection{background:none}.checkbox-wrapper .input-checkbox+.input-checkbox-btn{outline:0;display:block;width:2.3em;height:.6em;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox-wrapper .input-checkbox+.input-checkbox-btn:after,.checkbox-wrapper .input-checkbox+.input-checkbox-btn:before{position:absolute;display:block;content:"";width:1rem;height:1rem;top:-3px}.checkbox-wrapper .input-checkbox+.input-checkbox-btn:after{left:0}.checkbox-wrapper .input-checkbox+.input-checkbox-btn:before{display:none}.checkbox-wrapper .input-checkbox:checked+.input-checkbox-btn:after{left:1.5em}.checkbox-wrapper .input-checkbox-light+.input-checkbox-btn{background:#f0f0f0;border-radius:2em;padding:2px;transition:all .4s ease}.checkbox-wrapper .input-checkbox-light+.input-checkbox-btn:after{border-radius:50%;background:#fff;transition:all .2s ease}.checkbox-wrapper .input-checkbox-light:checked+.input-checkbox-btn{background:#d0b373}.form-input{font-family:"Montserrat",sans-serif;font-weight:400;width:100%;margin-top:.25rem;color:#d5d5d5;background:#0e0f0f;border-radius:6px;padding:.5rem;border:1px solid #0e0f0f;font-size:.75rem}.form-input:focus,.form-input:focus-visible{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}.icon__hover{transition:all .2s ease-in-out}.icon__hover.dim_on_hover:hover{opacity:.3}.icon__hover.gold_on_hover:hover{color:#d0b373}.draggable__list{margin-top:.5rem;display:flex;flex-direction:column;gap:.5rem}.draggable__list .draggable__listItem{display:flex;align-items:center;gap:.75rem;padding:.5rem .75rem;border-radius:10px;background:#0e0f0f;border:1px solid #0e0f0f;transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}.draggable__list .draggable__listItem:hover{border-color:#0e0f0f}.draggable__list .draggable__listItem:focus-within{border-color:#997e43;box-shadow:none;background:#1b1d1f}.draggable__handle{width:18px;height:18px;display:inline-block;flex:0 0 18px;color:#94a3b8;opacity:.8;cursor:grab;background-image:radial-gradient(currentColor 1px, transparent 1px);background-size:4px 4px;background-position:0 0}.draggable__index{width:28px;text-align:center;color:#cbd5e1;font-variant-numeric:tabular-nums}.draggable__input,.draggable__select{width:100%;padding:.4rem .55rem;background:rgba(0,0,0,0);color:#f0f4fc;border:1px solid rgba(0,0,0,0);border-radius:8px;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease}.draggable__input:focus,.draggable__select:focus{border-color:rgba(0,0,0,0);box-shadow:none;background:rgba(0,0,0,0)}.draggable__input--num{width:64px;text-align:right}.draggable__input--year{width:80px;text-align:right}.draggable__btn{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.draggable__btn .icon{font-size:1rem;display:flex}.draggable__btn .icon.iconly-Hide:before{padding-top:1px}.draggable__btn span{display:flex}.draggable__btn{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.draggable__btn:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.draggable__btn--muted{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.draggable__btn--muted .icon{font-size:1rem;display:flex}.draggable__btn--muted .icon.iconly-Hide:before{padding-top:1px}.draggable__btn--muted span{display:flex}.draggable__btn--muted{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.draggable__btn--muted:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.draggable__btn--muted{background-color:#1b1d1f;color:#bababa}.draggable__btn--muted:hover{background-color:rgb(50.7413793103,54.5,58.2586206897);color:#e2e8f0}.draggable__iconbtn{background:none;border:none;font-size:1rem;cursor:pointer;color:#94a3b8;padding:.2rem .35rem;border-radius:6px;transition:background .15s ease,color .15s ease}.draggable__iconbtn:hover{background:rgba(148,163,184,.12);color:#e2e8f0}.draggable__iconbtn--danger{color:#997e43}.draggable__iconbtn--danger:hover{color:#d0b373}.ReactModalPortal{top:0;left:0;position:fixed;z-index:5000}.modal__overlay{background-color:rgba(0,0,0,.6);z-index:1000;position:fixed;width:100%;height:100%}.modal__content{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background-color:rgba(14,15,15,.8);border:1px solid #997e43;border-radius:8px;max-width:90%;min-height:80vh;min-width:600px;max-height:90vh;overflow:hidden;color:#f0f4fc;display:flex;backdrop-filter:blur(2px)}.modal__content--asset_mngr{min-width:80vw}.modal__content--asset_mngr .modal__body .modal__body_content{padding-top:0}.modal__content--page-picker{min-width:auto;max-width:500px;min-height:300px;max-height:400px}.modal__content--event{min-width:360px;overflow:visible;max-width:400px;min-height:60vh}.modal__content--event .modal__body{overflow:visible;padding:0}.modal__content--event .modal__body .modal__body_content{padding:0}.modal__content--event .modal__body .modal__body_content .bannerPreview{position:relative;height:170px;background-color:rgba(0,0,0,0);color:#e2e8f0;overflow:visible;display:flex;width:100%;background-size:cover;background-position:center center;flex-wrap:wrap;justify-content:center;align-items:center;border-radius:6px}.modal__content--event .modal__body .modal__body_content .bannerPreview::after{content:"";position:absolute;left:0;right:0;bottom:-1px;height:40%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));z-index:2;pointer-events:none}.modal__content--event .modal__body .modal__body_content .bannerPreview .trash-btn,.modal__content--event .modal__body .modal__body_content .bannerPreview .icon_square-btn{background:rgba(14,15,15,.8);border:none;font-size:1rem;cursor:pointer;color:#d5d5d5;width:35px;height:35px;display:flex;justify-content:center;align-items:center;border-radius:6px;transition:background .15s ease,color .15s ease}.modal__content--event .modal__body .modal__body_content .bannerPreview .trash-btn:hover,.modal__content--event .modal__body .modal__body_content .bannerPreview .icon_square-btn:hover{background:#997e43;color:#e2e8f0}.modal__content--event .modal__body .modal__body_content .bannerPreview .icon_square-btn{background:rgba(0,0,0,0);border:#d5d5d5 1px solid;padding:0 9px}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__assets_manager{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;align-self:flex-end;margin-top:2rem}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__assets_manager button{padding:.5rem 1rem;background:rgba(0,0,0,0);color:#494949;border:1px dashed;border-radius:4px}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__title_wrapper{font-size:.9rem;padding-inline:2px;align-self:flex-end;width:100%;position:relative;z-index:3;flex:100%;display:flex;padding:.5rem;padding-left:.9rem}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__title_wrapper .modal__input{background:rgba(0,0,0,0);border:none}.modal__content--event .modal__body .modal__body_content .modal__form_wrapper{padding:1rem}.modal__body{flex:1;padding:1rem;overflow-y:auto;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.modal__body .modal__body_content{width:100%;height:100%;padding:1rem}.modal__body .modal__body_content .modal__form_wrapper{display:flex;flex-direction:column;gap:.75rem}.modal__body .modal__body_content .modal__title_actions{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.modal__body .modal__body_content .modal__title_actions .modal__actions{display:flex;align-items:center;justify-content:flex-end;gap:.5rem}.modal__body .modal__body_content .modal__field{display:flex;align-items:center}.modal__body .modal__body_content .modal__field:hover{border-color:#0e0f0f}.modal__body .modal__body_content .modal__field .modal__checkrow{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.modal__body .modal__body_content .modal__input,.modal__body .modal__body_content .modal__select{font-family:"Montserrat",sans-serif;font-weight:400;width:100%;margin-top:.25rem;color:#d5d5d5;background:#0e0f0f;border-radius:6px;padding:.5rem;border:1px solid #0e0f0f;font-size:.75rem}.modal__body .modal__body_content .modal__input:focus,.modal__body .modal__body_content .modal__input:focus-visible,.modal__body .modal__body_content .modal__select:focus,.modal__body .modal__body_content .modal__select:focus-visible{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}.modal__body .modal__body_content .modal__input.modal__input--flex,.modal__body .modal__body_content .modal__select.modal__input--flex{flex:1}.modal__body .modal__body_content .modal__input.modal__input--num,.modal__body .modal__body_content .modal__select.modal__input--num{width:60px}.modal__body .modal__body_content .modal__input.modal__input--abbr,.modal__body .modal__body_content .modal__select.modal__input--abbr{width:60px}.modal__body .modal__body_content .modal__input.modal__input--year,.modal__body .modal__body_content .modal__select.modal__input--year{width:80px}.modal__body .modal__body_content .modal__input.datepill,.modal__body .modal__body_content .modal__select.datepill{padding-left:2rem}.modal__body .modal__actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:1rem;padding-bottom:1rem;align-self:flex-end}.columns_layout{display:flex;flex-direction:row}.columns_layout .columns_wrapper{display:flex;flex-direction:row;gap:4rem}.columns_layout .columns_wrapper .column{display:flex;flex-direction:column}.icon_square-btn{background:rgba(14,15,15,.8);border:none;font-size:1rem;cursor:pointer;color:#d5d5d5;width:35px;height:35px;display:flex;justify-content:center;align-items:center;border-radius:6px;transition:background .15s ease,color .15s ease}.icon_square-btn:hover{background:#997e43;color:#e2e8f0}.icon_square-btn{background:rgba(0,0,0,0);border:#d5d5d5 1px solid;padding:0 9px}.aetheriumDivider{display:flex;flex-direction:row;align-items:center}.aetheriumDivider .aetherium-logo{height:auto}.aetheriumDivider .aetherium-logo img{width:40px;height:auto;margin:0}.aetheriumDivider .divider-line{flex:.5;height:1px;width:100%;background:#997e43}input,select{font-family:"Montserrat",sans-serif;font-weight:400;width:100%;margin-top:.25rem;color:#d5d5d5;background:#0e0f0f;border-radius:6px;padding:.5rem;border:1px solid #0e0f0f;font-size:.75rem}input:focus,input:focus-visible,select:focus,select:focus-visible{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}select{appearance:none;background-image:url(${h});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}select:focus{appearance:none;background-image:url(${h});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}.home-appear{opacity:0;animation:appear 1s ease forwards;animation-delay:7s}@keyframes disappear{from{opacity:1}to{opacity:0}}@keyframes appear{from{opacity:0}to{opacity:1}}.homepage{position:relative;min-height:100%;height:100%;max-height:100%;color:#e2e8f0;text-align:center;overflow:hidden;background-image:url(${m});background-size:contain;background-position:center;background-repeat:no-repeat}.homepage::after{position:absolute;z-index:1;top:0;left:0;height:100%;width:100%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0) 90%, rgba(0, 0, 0, 0.85) 80%)}.homepage .dark-bg{position:absolute;z-index:0;top:0;left:0;height:100%;width:100%;background:#1b1d1f;opacity:1;animation:disappear 3s ease forwards;animation-delay:5s}.homepage .homepage__title{position:relative;opacity:0;top:calc(100% - 390px);animation:appear 2s ease forwards;animation-delay:7s;font-size:4rem;font-family:"Cinzel Decorative",serif;z-index:3;font-weight:300}.homepage .glow{text-align:center;-webkit-animation:glow 1s ease-in-out infinite alternate;-moz-animation:glow 1s ease-in-out infinite alternate;animation:glow 1s ease-in-out infinite alternate}@-webkit-keyframes glow{from{text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #e9ca00,0 0 40px #e9ca00,0 0 50px #e9ca00,0 0 60px #e9ca00,0 0 70px #e9ca00}to{text-shadow:0 0 20px #fff,0 0 30px #e6d460,0 0 40px #e6d460,0 0 50px #e6d460,0 0 60px #e6d460,0 0 70px #e6d460,0 0 80px #e6d460}}@keyframes appear{from{opacity:0}to{opacity:1}}.timeline{position:relative;top:0;margin:0 auto;height:calc(100% - 130px);margin-top:130px;overflow:auto;padding:0}.timelineHeader{position:fixed;margin-top:20px;width:100%;height:30px;display:flex;justify-content:space-between;align-items:center;opacity:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards;padding:0 1rem;z-index:4}.actions{display:flex;gap:.5rem}.actionButton{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:4px;cursor:pointer;font-size:.9rem}.toolbox{display:flex;gap:.5rem}.toolboxButton{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-transform:uppercase;display:flex;align-items:center;gap:.4rem;border:none;color:#e2e8f0;font-size:.7rem;cursor:pointer}.toolboxButton.hide{display:none}.groupFilter{display:flex;gap:.5rem;flex-wrap:wrap}.pill{font-family:"Montserrat",sans-serif;font-weight:400;border:1px solid #494949;border-radius:9999px;padding:.25rem .75rem;font-size:.8rem;cursor:pointer;color:#e2e8f0;background:rgba(0,0,0,0);transition:background .2s,color .2s}.pill.active{background:#e2e8f0;color:#0e0f0f;border-color:#0e0f0f}.timeline-wrapper{margin-top:70px}.virtuoso-timeline div[data-testid=virtuoso-item-list]{padding-bottom:3rem !important}.timeline-event-wrapper{max-width:1060px;margin:0 auto;opacity:0;padding-top:10px;position:relative;z-index:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards}.timeline-event-wrapper:has(.contextMenu.open){z-index:100}.event{position:relative}.event:last-child .line{bottom:50%}.line{position:absolute;left:90px;top:16px;bottom:-2rem;width:2px;background-color:#494949;z-index:0}.row{display:flex;align-items:stretch;height:170px}.date{width:90px;text-align:right;padding-right:.5rem;height:100%;flex:.1}.date .year{font-weight:600}.date .diff{font-size:.75rem;color:#bababa}.marker{position:relative}.marker .diamond{left:4px;top:4px;z-index:1;display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.marker .diamond .diamond-line{width:1px;margin-top:.5rem;margin-bottom:.5rem;height:100%;background-color:#d5d5d5}.cardWrapper{flex:.75;margin-left:1rem;position:relative;overflow:visible}.cardWrapper .card{position:relative;background-color:rgba(30,41,59,.8);border-radius:8px;color:#e2e8f0;overflow:visible;display:flex;width:100%;background-size:cover;background-position:center;border:1px solid #0e0f0f;transition:border .2s ease,box-shadow .2s ease;height:100%}.cardWrapper .card::after{content:"";position:absolute;left:0;right:0;bottom:0px;height:40%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));z-index:2;pointer-events:none;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.cardWrapper .card:hover{border:1px solid #fff}.cardWrapper .card .cardBg{width:100%;position:absolute;top:0;left:0;z-index:1;height:100%;background-size:cover;background-position:left 50% top -50px;border-radius:8px;opacity:.5}.info{position:relative;z-index:3;padding:1rem;flex:1;display:flex;flex-direction:column;justify-content:space-between}.groupLabel{align-self:flex-start;background-color:var(--group-color, rgb(73, 73, 73));color:#0e0f0f;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;border:1px solid}.title_wrapper{display:flex;flex-direction:row;gap:.7rem;align-items:center;padding-right:3rem}.title_wrapper .icon_square-btn{height:45px;width:45px}.title_wrapper .icon_square-btn:hover{background:rgba(0,0,0,0);color:#d5d5d5}.title_wrapper .title_subtitle_wrapper{display:flex;flex-direction:column}.title{margin:0;font-size:1.1rem;font-weight:600;padding-right:30px;text-transform:uppercase}.subtitle{font-size:.8rem;color:#bababa;margin-top:.25rem;padding-right:30px}.description{font-size:.75rem;color:#d5d5d5;margin-top:.5rem;line-height:1.4}.editButton{background:none;border:none;color:#60a5fa;font-size:.75rem;cursor:pointer;padding:0}.editRow{position:absolute;bottom:15px;right:20px;display:flex;justify-content:flex-end;z-index:4;height:30px;width:30px;align-self:flex-end}.menuButton{display:none;background:none;border:none;color:#e2e8f0;font-size:1.1rem;cursor:pointer;padding:.8rem .6rem;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s ease;height:100%;width:100%}.menuButton:hover{display:flex;background:hsla(0,0%,100%,.12)}.menuButton:focus-visible{outline:2px solid #d0b373;outline-offset:2px}.contextMenu{position:absolute;top:-12rem;right:-10rem;background:#1b1d1f;border:1px solid #997e43;border-radius:8px;min-width:180px;padding:.25rem 0;box-shadow:0 0 10px rgba(0,0,0,.2);z-index:10;display:none;flex-direction:column;z-index:100}.contextMenu.open{display:flex}.contextMenu .menuItem{padding:.55rem .9rem;font-size:.85rem;color:#e2e8f0;cursor:pointer;white-space:nowrap;transition:background .2s ease}.contextMenu .menuItem:hover{background:hsla(0,0%,100%,.1)}.contextMenu .separator{height:1px;background:hsla(0,0%,100%,.12);margin:.25rem 0}.contextMenu .submenu{position:relative}.contextMenu .submenu::after{content:"â€º";position:absolute;right:10px}.contextMenu .submenu-list{display:none;position:absolute;top:-1px;left:100%;background:#1e293b;border:1px solid #494949;border-radius:8px;min-width:160px;padding:.25rem 0;box-shadow:0 6px 16px rgba(0,0,0,.45);z-index:10}.contextMenu .submenu:hover .submenu-list{display:block}.card.menu-open{border:1px solid #fff;box-shadow:0 0 10px hsla(0,0%,100%,.35)}.image{width:35%;background-size:cover;background-position:center}.floating-button{position:fixed;bottom:2rem;left:2rem;background:#d0b373;color:#0e0f0f;border:none;padding:.6rem 1rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:600;cursor:pointer;display:flex;width:3rem;height:3rem;font-size:1.5rem;align-items:center;justify-content:center;transition:background-color .3s ease,color .3s ease}.floating-button:hover{background-color:#997e43;color:#e2e8f0}@keyframes wrapperFromTopToBottom{0%{transform:translateY(100%)}100%{transform:translateY(0);opacity:1}}.timeline-event-wrapper.menu-open{z-index:3000}.card.menu-open{z-index:3100}.contextMenu{z-index:3200}`,""]);const g=p},2551:(e,t,n)=>{"use strict";var r=n(6540),o=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),L=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,R=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return F(e.type,!1);case 11:return F(e.type.render,!1);case 1:return F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,_e=null;function Ce(e){if(e=xo(e)){if("function"!=typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=wo(t),we(e.stateNode,e.type,t))}}function Ee(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Le(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Me(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Te(e,t,n)}finally{je=!1,(null!==Se||null!==_e)&&(Me(),Le())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Pe=!1}function Ie(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var De=!1,Re=null,ze=!1,Be=null,Fe={onError:function(e){De=!0,Re=e}};function We(e,t,n,r,o,i,a,s,l){De=!1,Re=null,Ie.apply(Fe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(i(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ge(o),e;if(a===r)return Ge(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Je=o.unstable_requestPaint,Ze=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kt,wt,St,_t,Ct,Et=!1,Lt=[],Tt=null,Mt=null,jt=null,At=new Map,Ot=new Map,Pt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=xo(t))&&wt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Rt(e){var t=vo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Mt&&zt(Mt)&&(Mt=null),null!==jt&&zt(jt)&&(jt=null),At.forEach(Bt),Ot.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return Wt(t,e)}if(0<Lt.length){Wt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Wt(Tt,e),null!==Mt&&Wt(Mt,e),null!==jt&&Wt(jt,e),At.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Pt.shift()}var Ut=x.ReactCurrentBatchConfig,Gt=!0;function $t(e,t,n,r){var o=vt,i=Ut.transition;Ut.transition=null;try{vt=1,qt(e,t,n,r)}finally{vt=o,Ut.transition=i}}function Vt(e,t,n,r){var o=vt,i=Ut.transition;Ut.transition=null;try{vt=4,qt(e,t,n,r)}finally{vt=o,Ut.transition=i}}function qt(e,t,n,r){if(Gt){var o=Kt(e,t,n,r);if(null===o)Gr(e,t,r,Yt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,o),!0;case"dragenter":return Mt=Dt(Mt,e,t,n,r,o),!0;case"mouseover":return jt=Dt(jt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return At.set(i,Dt(At.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&kt(i),null===(i=Kt(e,t,n,r))&&Gr(e,t,r,Yt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=vo(e=ke(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Xt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=R({},cn,{view:0,detail:0}),fn=on(dn),pn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),mn=on(R({},pn,{dataTransfer:0})),gn=on(R({},dn,{relatedTarget:0})),yn=on(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),xn=on(R({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return _n}var En=R({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=on(En),Tn=on(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),jn=on(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(An),Pn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,Rn=u&&(!Nn||In&&8<In&&11>=In),zn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function $n(e,t,n,r){Ee(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,qn=null;function Yn(e){zr(e,0)}function Kn(e){if(q(ko(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Xn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}Xn=Qn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),qn=Vn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];$n(t,qn,e,ke(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ir(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Y(r)||(r="selectionStart"in(r=gr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Vr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},_r={};function Cr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er=Cr("animationend"),Lr=Cr("animationiteration"),Tr=Cr("animationstart"),Mr=Cr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){jr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Nr=Ar[Pr];Or(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Lr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Mr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(We.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Re;De=!1,Re=null,ze||(ze=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Rr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Rr(o,s,c),i=l}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Wr]){e[Wr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Fr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Jt(t)){case 1:var o=$t;break;case 4:o=Vt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=vo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=i,o=ke(n),a=[];e:{var s=jr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Er:case Lr:case Tr:l=yn;break;case Mr:l=jn;break;case"scroll":l=fn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&null!=(m=Oe(h,f))&&u.push($r(h,m,p))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vo(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:ko(l),p=null==c?s:ko(c),(s=new u(m,h+"leave",l,n,o)).target=d,s.relatedTarget=p,m=null,vo(o)===r&&((u=new u(f,h+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=qr(p))h++;for(p=0,m=f;m;m=qr(m))p++;for(;0<h-p;)u=qr(u),h--;for(;0<p-h;)f=qr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=qr(u),f=qr(f)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?ko(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Gn(s))if(Zn)g=ar;else{g=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?$n(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ko(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,o)}var b;if(Nn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Rn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(b=en()):(Xt="value"in(Zt=o)?Zt.value:Zt.textContent,Hn=!0)),0<(y=Vr(r,v)).length&&(v=new xn(v,e,null,n,o),a.push({event:v,listeners:y}),(b||null!==(b=Wn(n)))&&(v.data=b))),(b=Dn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Nn&&Fn(e,t)?(e=en(),Qt=Xt=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Vr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=b)}zr(a,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift($r(e,i,o)),null!=(i=Oe(e,t))&&r.push($r(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Oe(n,i))&&a.unshift($r(n,l,s)):o||null!=(l=Oe(n,i))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,yo="__reactListeners$"+fo,bo="__reactHandles$"+fo;function vo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wo(e){return e[ho]||null}var So=[],_o=-1;function Co(e){return{current:e}}function Eo(e){0>_o||(e.current=So[_o],So[_o]=null,_o--)}function Lo(e,t){_o++,So[_o]=e.current,e.current=t}var To={},Mo=Co(To),jo=Co(!1),Ao=To;function Oo(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Po(e){return null!=e.childContextTypes}function No(){Eo(jo),Eo(Mo)}function Io(e,t,n){if(Mo.current!==To)throw Error(i(168));Lo(Mo,t),Lo(jo,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,U(e)||"Unknown",o));return R({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Ao=Mo.current,Lo(Mo,e),Lo(jo,jo.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,Eo(jo),Eo(Mo),Lo(Mo,e)):Eo(jo),Lo(jo,n)}var Bo=null,Fo=!1,Wo=!1;function Ho(e){null===Bo?Bo=[e]:Bo.push(e)}function Uo(){if(!Wo&&null!==Bo){Wo=!0;var e=0,t=vt;try{var n=Bo;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,Fo=!1}catch(t){throw null!==Bo&&(Bo=Bo.slice(e+1)),qe(Qe,Uo),t}finally{vt=t,Wo=!1}}return null}var Go=[],$o=0,Vo=null,qo=0,Yo=[],Ko=0,Jo=null,Zo=1,Xo="";function Qo(e,t){Go[$o++]=qo,Go[$o++]=Vo,Vo=e,qo=t}function ei(e,t,n){Yo[Ko++]=Zo,Yo[Ko++]=Xo,Yo[Ko++]=Jo,Jo=e;var r=Zo;e=Xo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Xo=i+e}else Zo=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Vo;)Vo=Go[--$o],Go[$o]=null,qo=Go[--$o],Go[$o]=null;for(;e===Jo;)Jo=Yo[--Ko],Yo[Ko]=null,Xo=Yo[--Ko],Yo[Ko]=null,Zo=Yo[--Ko],Yo[Ko]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Zo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=x.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===O&&vi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case w:return(t=zc(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?c(e,t,n,r):null;case w:return n.key===o?u(e,t,n,r):null;case O:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:d(e,t,n,r,null);bi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,o,null);bi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(o,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),ii&&Qo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Qo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Qo(o,m),c}function g(o,s,l,c){var u=I(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=p(o,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(o,m),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(o,m),ii&&Qo(o,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=f(o,b.value,c))&&(s=a(b,s,g),null===d?u=b:d.sibling=b,d=b);return ii&&Qo(o,g),u}for(m=r(o,m);!b.done;g++,b=l.next())null!==(b=h(m,o,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(o,e)}),ii&&Qo(o,g),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&vi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Ic(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Nc(a.type,a.key,a.props,null,r.mode,l)).ref=yi(r,i,a),l.return=r,r=l)}return s(r);case w:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(a,r.mode,l)).return=r,r=i}return s(r);case O:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(I(a))return g(r,i,a,l);bi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Rc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var ki=xi(!0),wi=xi(!1),Si=Co(null),_i=null,Ci=null,Ei=null;function Li(){Ei=Ci=_i=null}function Ti(e){var t=Si.current;Eo(Si),e._currentValue=t}function Mi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){_i=e,Ei=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===_i)throw Error(i(308));Ci=e,_i.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Oi=null;function Pi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Pi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Tl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ii(e,n)}return null===(o=r.interleaved)?(t.next=t,Pi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ii(e,n)}function Wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=m.payload)?h.call(p,d,f):h))break e;d=R({},d,f);break e;case 2:Di=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Gi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var $i={},Vi=Co($i),qi=Co($i),Yi=Co($i);function Ki(e){if(e===$i)throw Error(i(174));return e}function Ji(e,t){switch(Lo(Yi,t),Lo(qi,e),Lo(Vi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Vi),Lo(Vi,t)}function Zi(){Eo(Vi),Eo(qi),Eo(Yi)}function Xi(e){Ki(Yi.current);var t=Ki(Vi.current),n=le(t,e.type);t!==n&&(Lo(qi,e),Lo(Vi,n))}function Qi(e){qi.current===e&&(Eo(Vi),Eo(qi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,fa=0,pa=0;function ha(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Qa:es,e=n(r,o),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Xa,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==fa;return fa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function va(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function xa(e,t){return"function"==typeof t?t(e):t}function ka(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,sa.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Dl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(vs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function _a(e,t){var n=sa,r=va(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,vs=!0),r=r.queue,Da(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,Ea.bind(null,n,r,o,t),void 0,null),null===Ml)throw Error(i(349));30&aa||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ma(e)}function La(e,t,n){return n(function(){Ta(t)&&Ma(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Ma(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=ba();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return va().memoizedState}function Pa(e,t,n,r){var o=ba();sa.flags|=e,o.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var o=va();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Aa(t,n,i,r))}sa.flags|=e,o.memoizedState=Aa(1|t,n,i,r)}function Ia(e,t){return Pa(8390656,8,e,t)}function Da(e,t){return Na(2048,8,e,t)}function Ra(e,t){return Na(4,2,e,t)}function za(e,t){return Na(4,4,e,t)}function Ba(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!=n?n.concat([e]):null,Na(4,4,Ba.bind(null,t,e),n)}function Wa(){}function Ha(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function $a(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{vt=n,ia.transition=r}}function Va(){return va().memoizedState}function qa(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e)?Ja(t,n):null!==(n=Ni(e,t,n,r))&&(nc(n,e,r,ec()),Za(n,t,r))}function Ya(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ja(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Pi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ni(e,t,o,r))&&(nc(n,e,r,o=ec()),Za(n,t,r))}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Xa={readContext:Ai,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Qa={readContext:Ai,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Pa(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:ja,useDebugValue:Wa,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=$a.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ba();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ml)throw Error(i(349));30&aa||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ia(La.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Ml.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Ha,useContext:Ai,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Ra,useLayoutEffect:za,useMemo:Ua,useReducer:ka,useRef:Oa,useState:function(){return ka(xa)},useDebugValue:Wa,useDeferredValue:function(e){return Ga(va(),la.memoizedState,e)},useTransition:function(){return[ka(xa)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Va,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Ha,useContext:Ai,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Ra,useLayoutEffect:za,useMemo:Ua,useReducer:wa,useRef:Oa,useState:function(){return wa(xa)},useDebugValue:Wa,useDeferredValue:function(e){var t=va();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Va,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Bi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nc(t,e,o,r),Wi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Bi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nc(t,e,o,r),Wi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Bi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Fi(e,o,r))&&(nc(t,e,r,n),Wi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function as(e,t,n){var r=!1,o=To,i=t.contextType;return"object"==typeof i&&null!==i?i=Ai(i):(o=Po(t)?Ao:Mo.current,i=(r=null!=(r=t.contextTypes))?Oo(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ri(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ai(i):(i=Po(t)?Ao:Mo.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Ui(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var fs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Bi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,$l=r),ds(0,t)},n}function hs(e,t,n){(n=Bi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e)}var bs=x.ReactCurrentOwner,vs=!1;function xs(e,t,n,r){t.child=null===e?wi(t,null,n,r):ki(t,e.child,n,r)}function ks(e,t,n,r,o){n=n.render;var i=t.ref;return ji(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||vs?(ii&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function ws(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,o)}return t.flags|=1,(e=Pc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Gs(e,t,o);131072&e.flags&&(vs=!0)}}return Es(e,t,n,r,o)}function _s(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lo(Pl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Lo(Pl,Ol),Ol|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lo(Pl,Ol),Ol|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Lo(Pl,Ol),Ol|=r;return xs(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,o){var i=Po(n)?Ao:Mo.current;return i=Oo(t,i),ji(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||vs?(ii&&r&&ti(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Ls(e,t,n,r,o){if(Po(n)){var i=!0;Ro(t)}else i=!1;if(ji(t,o),null===t.stateNode)Us(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Ai(c):Oo(t,c=Po(n)?Ao:Mo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Di=!1;var f=t.memoizedState;a.state=f,Ui(t,r,a,o),l=t.memoizedState,s!==r||f!==l||jo.current||Di?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Di||is(t,n,s,r,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Ai(l):Oo(t,l=Po(n)?Ao:Mo.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,a,r,l),Di=!1,f=t.memoizedState,a.state=f,Ui(t,r,a,o);var h=t.memoizedState;s!==d||f!==h||jo.current||Di?("function"==typeof p&&(rs(t,n,p,r),h=t.memoizedState),(c=Di||is(t,n,c,r,f,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,o)}function Ts(e,t,n,r,o,i){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&zo(t,n,!1),Gs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),Ji(e,t.containerInfo)}function js(e,t,n,r,o){return hi(),mi(o),t.flags|=256,xs(e,t,n,r),t.child}var As,Os,Ps,Ns,Is={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Lo(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Dc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Ic(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Is,e):zs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(a=Ic(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&ki(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Is,a);if(!(1&t.mode))return Bs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(r=Ml)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ii(e,o),nc(r,e,o,-1))}return mc(),Bs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Yo[Ko++]=Zo,Yo[Ko++]=Xo,Yo[Ko++]=Jo,Zo=e.id,Xo=e.overflow,Jo=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Pc(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,o}return e=(s=e.child).sibling,o=Pc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function zs(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mi(r),ki(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mi(e.return,t,n)}function Ws(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Lo(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ws(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Us(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Po(t.type)&&No(),Vs(t),null;case 3:return r=t.stateNode,Zi(),Eo(jo),Eo(Mo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Os(e,t),Vs(t),null;case 5:Qi(t);var o=Ki(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Vs(t),null}if(e=Ki(Vi.current),fi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=!!(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)Br(Ir[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var l in be(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":V(r),Q(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Br(Ir[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":J(e,r),o=K(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=R({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in be(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":V(e),Q(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Yi.current),Ki(Vi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Vs(t),null;case 13:if(Eo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))pi(),hi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Zi(),Os(e,t),null===e&&Hr(t.stateNode.containerInfo),Vs(t),null;case 10:return Ti(t.type._context),Vs(t),null;case 19:if(Eo(ea),null===(a=t.memoizedState))return Vs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Lo(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Hl&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Vs(t),null}else 2*Ze()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,Lo(ea,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ol)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ni(t),t.tag){case 1:return Po(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Eo(jo),Eo(Mo),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(Eo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ea),null;case 4:return Zi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ps=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ki(Vi.current);var i,a=null;switch(n){case"input":o=K(e,o),r=K(e,r),a=[];break;case"select":o=R({},o,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Js=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){_c(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){_c(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[yo],delete t[bo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Js||Qs(n,t);case 6:var r=ul,o=dl;ul=null,fl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ht(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Js&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Js&&(Qs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){_c(n,t,e)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(e,t,n),Js=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){_c(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){_c(e,e.return,t)}try{nl(5,e,e.return)}catch(t){_c(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){_c(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),ve(l,s);var u=ve(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):v(o,d,f,u)}switch(l){case"input":X(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){_c(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){_c(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){_c(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Wl=Ze())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,ml(t,e),Js=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Xs=e,d=e.child;null!==d;){for(f=Xs=d;null!==Xs;){switch(h=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){_c(r,n,e)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){kl(f);continue}}null!==h?(h.return=p,Xs=h):kl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){_c(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){_c(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),yl(e),4&r&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){_c(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xs=e,vl(e,t,n)}function vl(e,t,n){for(var r=!!(1&e.mode);null!==Xs;){var o=Xs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ks;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ks;var c=Js;if(Ks=a,(Js=l)&&!c)for(Xs=o;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?wl(o):null!==l?(l.return=a,Xs=l):wl(o);for(;null!==i;)Xs=i,vl(i,t,n),i=i.sibling;Xs=o,Ks=s,Js=c}xl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Xs=i):xl(e)}}function xl(e){for(;null!==Xs;){var t=Xs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Gi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(i(163))}Js||512&t.flags&&ol(t)}catch(e){_c(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){_c(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){_c(t,o,e)}}var i=t.return;try{ol(t)}catch(e){_c(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){_c(t,a,e)}}}catch(e){_c(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sl,_l=Math.ceil,Cl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,Ll=x.ReactCurrentBatchConfig,Tl=0,Ml=null,jl=null,Al=0,Ol=0,Pl=Co(0),Nl=0,Il=null,Dl=0,Rl=0,zl=0,Bl=null,Fl=null,Wl=0,Hl=1/0,Ul=null,Gl=!1,$l=null,Vl=null,ql=!1,Yl=null,Kl=0,Jl=0,Zl=null,Xl=-1,Ql=0;function ec(){return 6&Tl?Ze():-1!==Xl?Xl:Xl=Ze()}function tc(e){return 1&e.mode?2&Tl&&0!==Al?Al&-Al:null!==gi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type):1}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(i(185));yt(e,n,r),2&Tl&&e===Ml||(e===Ml&&(!(2&Tl)&&(Rl|=n),4===Nl&&sc(e,Al)),rc(e,r),1===n&&0===Tl&&!(1&t.mode)&&(Hl=Ze()+500,Fo&&Uo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Ml?Al:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fo=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),ao(function(){!(6&Tl)&&Uo()}),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xl=-1,Ql=0,6&Tl)throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ml?Al:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var a=hc();for(Ml===e&&Al===t||(Ul=null,Hl=Ze()+500,fc(e,t));;)try{bc();break}catch(t){pc(e,t)}Li(),Cl.current=a,Tl=o,null!==jl?t=0:(Ml=null,Al=0,t=Nl)}if(0!==t){if(2===t&&0!==(o=ht(e))&&(r=o,t=ic(e,o)),1===t)throw n=Il,fc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gc(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Il,fc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kc(e,Fl,Ul);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Wl+500-Ze())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(kc.bind(null,e,Fl,Ul),t);break}kc(e,Fl,Ul);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ro(kc.bind(null,e,Fl,Ul),r);break}kc(e,Fl,Ul);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ac(t)),e}function ac(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~zl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Tl)throw Error(i(327));wc();var t=ft(e,0);if(!(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Il,fc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fl,Ul),rc(e,Ze()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Ze()+500,Fo&&Uo())}}function uc(e){null!==Yl&&0===Yl.tag&&!(6&Tl)&&wc();var t=Tl;Tl|=1;var n=Ll.transition,r=vt;try{if(Ll.transition=null,vt=1,e)return e()}finally{vt=r,Ll.transition=n,!(6&(Tl=t))&&Uo()}}function dc(){Ol=Pl.current,Eo(Pl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&No();break;case 3:Zi(),Eo(jo),Eo(Mo),ra();break;case 5:Qi(r);break;case 4:Zi();break;case 13:case 19:Eo(ea);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ml=e,jl=e=Pc(e.current,null),Al=Ol=t,Nl=0,Il=null,zl=Rl=Dl=0,Fl=Bl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Oi=null}return e}function pc(e,t){for(;;){var n=jl;try{if(Li(),oa.current=Xa,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,fa=0,El.current=null,null===n||null===n.return){Nl=1,Il=t,jl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&ms(a,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=gs(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Nl&&(Nl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,ps(0,c,t));break e;case 1:l=c;var b=a.type,v=a.stateNode;if(!(128&a.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Vl&&Vl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(e){t=e,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function hc(){var e=Cl.current;return Cl.current=Xa,null===e?Xa:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ml||!(268435455&Dl)&&!(268435455&Rl)||sc(Ml,Al)}function gc(e,t){var n=Tl;Tl|=2;var r=hc();for(Ml===e&&Al===t||(Ul=null,fc(e,t));;)try{yc();break}catch(t){pc(e,t)}if(Li(),Tl=n,Cl.current=r,null!==jl)throw Error(i(261));return Ml=null,Al=0,Nl}function yc(){for(;null!==jl;)vc(jl)}function bc(){for(;null!==jl&&!Ke();)vc(jl)}function vc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):jl=t,El.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ys(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Nl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=qs(n,t,Ol)))return void(jl=n);if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Nl&&(Nl=5)}function kc(e,t,n){var r=vt,o=Ll.transition;try{Ll.transition=null,vt=1,function(e,t,n,r){do{wc()}while(null!==Yl);if(6&Tl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Ml&&(jl=Ml=null,Al=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ql||(ql=!0,Mc(tt,function(){return wc(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Ll.transition,Ll.transition=null;var s=vt;vt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(eo=Gt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(l=s),p===a&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Gt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(e){_c(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(to),Gt=!!eo,to=eo=null,e.current=n,bl(n,e,o),Je(),Tl=l,vt=s,Ll.transition=a}else e.current=n;if(ql&&(ql=!1,Yl=e,Kl=o),0===(a=e.pendingLanes)&&(Vl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Gl)throw Gl=!1,e=$l,$l=null,e;!!(1&Kl)&&0!==e.tag&&wc(),1&(a=e.pendingLanes)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Uo()}(e,t,n,r)}finally{Ll.transition=o,vt=r}return null}function wc(){if(null!==Yl){var e=xt(Kl),t=Ll.transition,n=vt;try{if(Ll.transition=null,vt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,6&Tl)throw Error(i(331));var o=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(16&Xs.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Xs=f;else for(;null!==Xs;){var p=(d=Xs).sibling,h=d.return;if(il(d),d===u){Xs=null;break}if(null!==p){p.return=h,Xs=p;break}Xs=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(2048&(a=Xs).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Xs=b;break e}Xs=a.return}}var v=e.current;for(Xs=v;null!==Xs;){var x=(s=Xs).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Xs=x;else e:for(s=v;null!==Xs;){if(2048&(l=Xs).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){_c(l,l.return,e)}if(l===s){Xs=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Xs=k;break e}Xs=l.return}}if(Tl=o,Uo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{vt=n,Ll.transition=t}}return!1}function Sc(e,t,n){e=Fi(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Fi(t,e=hs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Al&n)===n&&(4===Nl||3===Nl&&(130023424&Al)===Al&&500>Ze()-Wl?fc(e,0):zl|=n),rc(e,t)}function Ec(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Ii(e,t))&&(yt(e,t,n),rc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Mc(e,t){return qe(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Oc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Ic(n.children,o,a,t);case _:s=8,o|=8;break;case C:return(e=Ac(12,n,t,2|o)).elementType=C,e.lanes=a,e;case M:return(e=Ac(13,n,t,o)).elementType=M,e.lanes=a,e;case j:return(e=Ac(19,n,t,o)).elementType=j,e.lanes=a,e;case P:return Dc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case L:s=9;break e;case T:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,o,i,a,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Wc(e){if(!e)return To;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Po(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Po(n))return Do(e,n,t)}return t}function Hc(e,t,n,r,o,i,a,s,l){return(e=Fc(n,r,!0,e,0,i,0,s,l)).context=Wc(null),n=e.current,(i=Bi(r=ec(),o=tc(n))).callback=null!=t?t:null,Fi(n,i,o),e.current.lanes=o,yt(e,o,r),rc(e,r),e}function Uc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(o,t,a))&&(nc(e,o,a,i),Wi(e,o,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||jo.current)vs=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),hi();break;case 5:Xi(t);break;case 1:Po(t.type)&&Ro(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Lo(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Lo(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Lo(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);Lo(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Lo(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Gs(e,t,n)}(e,t,n);vs=!!(131072&e.flags)}else vs=!1,ii&&1048576&t.flags&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var o=Oo(t,Mo.current);ji(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Po(r)?(a=!0,Ro(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ri(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),xs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ls(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ls(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ms(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,zi(e,t),Ui(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=js(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=js(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Gs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Rs(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Lo(Si,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!jo.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Bi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Mi(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Mi(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ji(t,n),r=r(o=Ai(o)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),ws(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Us(e,t),t.tag=1,Po(r)?(e=!0,Ro(t)):e=!1,ji(t,n),as(t,r,o),ls(t,r,o,n),Ts(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return _s(e,t,n)}throw Error(i(156,t.tag))};var qc="function"==typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Qc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Gc(a);s.call(e)}}Uc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Gc(a);i.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[mo]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[mo]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc(function(){Uc(t,l,n,r)}),l}(n,t,e,o,r);return Gc(a)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Uc(null,e,null,null)}),t[mo]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Rt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ze()),!(6&Tl)&&(Hl=Ze()+500,Uo()))}break;case 13:uc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=Ii(e,134217728);null!==t&&nc(t,e,134217728,ec()),Vc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);null!==n&&nc(n,e,t,ec()),Vc(e,t)}},_t=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=wo(r);if(!o)throw Error(i(90));q(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Me=uc;var eu={usingClientEntryPoint:!1,Events:[xo,ko,wo,Ee,Le,cc]},tu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",o=qc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=qc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2610:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".assetmgr{display:flex;flex-direction:column;height:100%}.assetmgr__bar{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.assetmgr__title{font-weight:700}.assetmgr__muted{color:#bababa;margin-left:.5rem}.assetmgr__file{display:none}.assetmgr__layout{display:grid;grid-template-columns:1fr 320px;gap:1rem;height:calc(100% - 2rem)}.assetmgr__layout{display:grid;grid-template-columns:1fr 340px;gap:1rem}.asset-manager-columns-container{display:flex}.assetmgr__grid{display:flex;flex-wrap:wrap;gap:.75rem;align-content:start;padding-right:10px}.assetmgr__grid .assetmgr__card{box-sizing:border-box}.assetmgr__grid--scroll{max-height:100%;width:100%;overflow-y:auto;padding-right:20px}.assetmgr__grid--scroll ::-webkit-scrollbar{width:6px}.assetmgr__card{background:#0e0f0f;border:1px solid #0e0f0f;border-radius:10px;color:inherit;text-align:left;padding:0;cursor:pointer;display:flex;flex-direction:column;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease;max-width:20%}.assetmgr__card:hover{border-color:#1b1d1f}.assetmgr__card.is-selected{border-color:#997e43;box-shadow:0 0 0 2px rgba(255,215,128,.25)}.assetmgr__thumbWrap{position:relative;width:100%;padding-top:56%;overflow:hidden;border-top-left-radius:10px;border-top-right-radius:10px}.assetmgr__thumbWrap{position:relative;width:100%;padding-top:66%;overflow:hidden;border-top-left-radius:10px;border-top-right-radius:10px}.assetmgr__thumb{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.assetmgr__thumb{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;background:rgba(0,0,0,.35)}.assetmgr__deleteBtn{position:absolute;top:.5rem;right:.5rem;width:32px;height:32px;border-radius:6px;background:rgba(0,0,0,.75);backdrop-filter:blur(4px);border:1px solid hsla(0,0%,100%,.15);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:opacity .2s ease,background .15s ease,border-color .15s ease;z-index:10}.assetmgr__deleteBtn:hover{background:rgba(220,38,38,.9);border-color:rgba(239,68,68,.5)}.assetmgr__card:hover .assetmgr__deleteBtn{opacity:1}.assetmgr__meta{padding:.5rem .6rem;display:flex;align-items:center}.assetmgr__name{font-size:.85rem;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.assetmgr__sidebar{border-left:1px solid #0e0f0f;padding-left:1rem;display:flex;flex:30%}.assetmgr__sidebar{border-left:1px solid #0e0f0f;padding-left:1rem;display:flex;flex-direction:column;align-items:flex-start;position:sticky;top:0}.assetmgr__sidebar--left{flex:70%}.assetmgr__empty{margin:auto;display:flex;flex-direction:column;align-items:center;gap:.75rem}.assetmgr__icon{font-size:2rem;color:#bababa}.assetmgr__details{display:flex;flex-direction:column;gap:.75rem;width:100%}.assetmgr__preview{background:#0e0f0f;border:1px solid #0e0f0f;border-radius:8px;padding:.25rem;max-height:200px}.assetmgr__previewImg{display:block;width:100%;height:auto;border-radius:6px}.assetmgr__actions{display:flex;gap:.5rem;justify-content:center;align-items:center;display:flex;flex-direction:row}.assetmgr__upload{justify-content:center;align-items:center;display:flex;flex-direction:column}.assetmgr__breadcrumb{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;padding:.5rem .75rem;background:#0e0f0f;border-radius:6px;font-size:.9rem}.assetmgr__breadcrumb-btn{display:flex;align-items:center;gap:.25rem;background:rgba(0,0,0,0);border:none;color:#e2e8f0;cursor:pointer;padding:.25rem .5rem;border-radius:4px;transition:background .15s ease,color .15s ease}.assetmgr__breadcrumb-btn:hover{background:hsla(0,0%,100%,.1);color:#997e43}.assetmgr__breadcrumb-sep{color:#bababa;margin:0 .25rem}.assetmgr__breadcrumb-current{color:#997e43;font-weight:600}.assetmgr__newfolder{display:flex;gap:.5rem;align-items:center;margin-bottom:.75rem;padding:.75rem;background:#0e0f0f;border-radius:6px}.assetmgr__newfolder input{flex:1}.assetmgr__folder{position:relative;background:#0e0f0f;border:1px solid #0e0f0f;border-radius:10px;color:inherit;text-align:center;padding:1.5rem 1rem;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:.5rem;max-width:20%;min-width:20%;transition:border-color .15s ease,background .15s ease;justify-content:center}.assetmgr__folder:hover{border-color:#1b1d1f;background:hsl(180,3.4482758621%,7.6862745098%)}.assetmgr__folder:hover .assetmgr__deleteBtn{opacity:1}.assetmgr__folder-icon{color:#997e43;opacity:.8}.assetmgr__folder-name .assetmgr__preview{background:#0e0f0f;border:1px solid #0e0f0f;border-radius:8px;padding:.5rem;max-height:200px;width:100%;overflow:hidden}.assetmgr__folder-name{font-size:.9rem;color:#e2e8f0;font-weight:500}.assetmgr__previewInner{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.assetmgr__previewImg{display:block;width:100%;height:auto;max-height:100%;object-fit:contain;border-radius:6px}.assetmgr__move{display:flex;flex-direction:column;gap:.5rem;text-align:center;width:100%;padding:.75rem;background:#0e0f0f;border-radius:6px}.assetmgr__move-label{font-size:.85rem;color:#bababa;font-weight:500}.assetmgr__breadcrumb-actions{margin-left:auto;display:flex;align-items:center;gap:.5rem}.assetmgr__newfolder-inline{display:flex;gap:.5rem;align-items:center}",""]);const u=c},2694:(e,t,n)=>{"use strict";var r=n(6925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},2799:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,f=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;n=h("react.element"),r=h("react.portal"),o=h("react.fragment"),i=h("react.strict_mode"),a=h("react.profiler"),s=h("react.provider"),l=h("react.context"),c=h("react.forward_ref"),u=h("react.suspense"),d=h("react.suspense_list"),f=h("react.memo"),p=h("react.lazy"),h("react.block"),h("react.server.block"),h("react.fundamental"),h("react.debug_trace_mode"),h("react.legacy_hidden")}t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case f:case s:return e;default:return t}}case r:return t}}}(e)===l}},2935:(e,t,n)=>{e.exports=function(e){var t={},r=n(6540),o=n(9982),i=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=k&&e[k]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case v:t=e._payload,e=e._init;try{return S(e(t))}catch(e){}}return null}function _(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function C(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function E(e){if(C(e)!==e)throw Error(a(188))}function L(e){var t=e.alternate;if(!t){if(null===(t=C(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return E(o),e;if(i===r)return E(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=L(e))?M(e):null}function M(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=M(e);if(null!==t)return t;e=e.sibling}return null}function j(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=j(e);if(null!==t)return t}e=e.sibling}return null}var A,O=Array.isArray,P=e.getPublicInstance,N=e.getRootHostContext,I=e.getChildHostContext,D=e.prepareForCommit,R=e.resetAfterCommit,z=e.createInstance,B=e.appendInitialChild,F=e.finalizeInitialChildren,W=e.prepareUpdate,H=e.shouldSetTextContent,U=e.createTextInstance,G=e.scheduleTimeout,$=e.cancelTimeout,V=e.noTimeout,q=e.isPrimaryRenderer,Y=e.supportsMutation,K=e.supportsPersistence,J=e.supportsHydration,Z=e.getInstanceFromNode,X=e.preparePortalMount,Q=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,oe=e.findFiberRoot,ie=e.getBoundingRect,ae=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,pe=e.commitTextUpdate,he=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ye=e.insertInContainerBefore,be=e.removeChild,ve=e.removeChildFromContainer,xe=e.resetTextContent,ke=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,_e=e.unhideTextInstance,Ce=e.clearContainer,Ee=e.cloneInstance,Le=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Me=e.finalizeContainerChildren,je=e.replaceContainerChildren,Ae=e.cloneHiddenInstance,Oe=e.cloneHiddenTextInstance,Pe=e.canHydrateInstance,Ne=e.canHydrateTextInstance,Ie=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Re=e.isSuspenseInstanceFallback,ze=e.getSuspenseInstanceFallbackErrorDetails,Be=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,We=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,Ue=e.getFirstHydratableChildWithinSuspenseInstance,Ge=e.hydrateInstance,$e=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Ye=e.commitHydratedContainer,Ke=e.commitHydratedSuspenseInstance,Je=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,Xe=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var ot=Object.prototype.hasOwnProperty,it=[],at=-1;function st(e){return{current:e}}function lt(e){0>at||(e.current=it[at],it[at]=null,at--)}function ct(e,t){at++,it[at]=e.current,e.current=t}var ut={},dt=st(ut),ft=st(!1),pt=ut;function ht(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mt(e){return null!=e.childContextTypes}function gt(){lt(ft),lt(dt)}function yt(e,t,n){if(dt.current!==ut)throw Error(a(168));ct(dt,t),ct(ft,n)}function bt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,_(e)||"Unknown",o));return i({},n,r)}function vt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,pt=dt.current,ct(dt,e),ct(ft,ft.current),!0}function xt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bt(e,t,pt),r.__reactInternalMemoizedMergedChildContext=e,lt(ft),lt(dt),ct(dt,e)):lt(ft),ct(ft,n)}var kt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(wt(e)/St|0)|0},wt=Math.log,St=Math.LN2,_t=64,Ct=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=Et(s):0!==(i&=a)&&(r=Et(i))}else 0!==(a=n&~o)?r=Et(a):0!==i&&(r=Et(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-kt(t)),r|=e[n],t&=~o;return r}function Tt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Mt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(){var e=_t;return!(4194240&(_t<<=1))&&(_t=64),e}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ot(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-kt(t)]=n}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Nt=0;function It(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Dt=o.unstable_scheduleCallback,Rt=o.unstable_cancelCallback,zt=o.unstable_shouldYield,Bt=o.unstable_requestPaint,Ft=o.unstable_now,Wt=o.unstable_ImmediatePriority,Ht=o.unstable_UserBlockingPriority,Ut=o.unstable_NormalPriority,Gt=o.unstable_IdlePriority,$t=null,Vt=null,qt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Yt=null,Kt=!1,Jt=!1;function Zt(e){null===Yt?Yt=[e]:Yt.push(e)}function Xt(){if(!Jt&&null!==Yt){Jt=!0;var e=0,t=Nt;try{var n=Yt;for(Nt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Yt=null,Kt=!1}catch(t){throw null!==Yt&&(Yt=Yt.slice(e+1)),Dt(Wt,Xt),t}finally{Nt=t,Jt=!1}}return null}var Qt=[],en=0,tn=null,nn=0,rn=[],on=0,an=null,sn=1,ln="";function cn(e,t){Qt[en++]=nn,Qt[en++]=tn,tn=e,nn=t}function un(e,t,n){rn[on++]=sn,rn[on++]=ln,rn[on++]=an,an=e;var r=sn;e=ln;var o=32-kt(r)-1;r&=~(1<<o),n+=1;var i=32-kt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,sn=1<<32-kt(t)+o|n<<o|r,ln=i+e}else sn=1<<i|n<<o|r,ln=e}function dn(e){null!==e.return&&(cn(e,1),un(e,1,0))}function fn(e){for(;e===tn;)tn=Qt[--en],Qt[en]=null,nn=Qt[--en],Qt[en]=null;for(;e===an;)an=rn[--on],rn[on]=null,ln=rn[--on],rn[on]=null,sn=rn[--on],rn[on]=null}var pn=null,hn=null,mn=!1,gn=!1,yn=null;function bn(e,t){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vn(e,t){switch(e.tag){case 5:return null!==(t=Pe(t,e.type,e.pendingProps))&&(e.stateNode=t,pn=e,hn=We(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,pn=e,hn=null,!0);case 13:if(null!==(t=Ie(t))){var n=null!==an?{id:sn,overflow:ln}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=as(18,null,null,0)).stateNode=t,n.return=e,e.child=n,pn=e,hn=null,!0}return!1;default:return!1}}function xn(e){return!(!(1&e.mode)||128&e.flags)}function kn(e){if(mn){var t=hn;if(t){var n=t;if(!vn(e,t)){if(xn(e))throw Error(a(418));t=Fe(n);var r=pn;t&&vn(e,t)?bn(r,n):(e.flags=-4097&e.flags|2,mn=!1,pn=e)}}else{if(xn(e))throw Error(a(418));e.flags=-4097&e.flags|2,mn=!1,pn=e}}}function wn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;pn=e}function Sn(e){if(!J||e!==pn)return!1;if(!mn)return wn(e),mn=!0,!1;if(3!==e.tag&&(5!==e.tag||Xe(e.type)&&!H(e.type,e.memoizedProps))){var t=hn;if(t){if(xn(e))throw _n(),Error(a(418));for(;t;)bn(e,t),t=Fe(t)}}if(wn(e),13===e.tag){if(!J)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));hn=qe(e)}else hn=pn?Fe(e.stateNode):null;return!0}function _n(){for(var e=hn;e;)e=Fe(e)}function Cn(){J&&(hn=pn=null,gn=mn=!1)}function En(e){null===yn?yn=[e]:yn.push(e)}var Ln=s.ReactCurrentBatchConfig;function Tn(e,t){if(qt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ot.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function Mn(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);default:return""}}function jn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function An(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function On(e){return(0,e._init)(e._payload)}function Pn(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=ls(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=fs(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n,r){var i=n.type;return i===u?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===v&&On(i)===t.type)?((r=o(t,n.props)).ref=jn(e,t,n),r.return=e,r):((r=cs(n.type,n.key,n.props,null,e.mode,r)).ref=jn(e,t,n),r.return=e,r)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ps(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=us(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=fs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=cs(t.type,t.key,t.props,null,e.mode,n)).ref=jn(e,null,t),n.return=e,n;case c:return(t=ps(t,e.mode,n)).return=e,t;case v:return m(e,(0,t._init)(t._payload),n)}if(O(t)||w(t))return(t=us(t,e.mode,n,null)).return=e,t;An(e,t)}return null}function g(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===o?f(e,t,n,r):null;case c:return n.key===o?p(e,t,n,r):null;case v:return g(e,t,(o=n._init)(n._payload),r)}if(O(n)||w(n))return null!==o?null:h(e,t,n,r,null);An(e,n)}return null}function y(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return d(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o);case c:return p(t,e=e.get(null===r.key?n:r.key)||null,r,o);case v:return y(e,t,n,(0,r._init)(r._payload),o)}if(O(r)||w(r))return h(t,e=e.get(n)||null,r,o,null);An(t,r)}return null}function b(o,a,s,l){for(var c=null,u=null,d=a,f=a=0,p=null;null!==d&&f<s.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var h=g(o,d,s[f],l);if(null===h){null===d&&(d=p);break}e&&d&&null===h.alternate&&t(o,d),a=i(h,a,f),null===u?c=h:u.sibling=h,u=h,d=p}if(f===s.length)return n(o,d),mn&&cn(o,f),c;if(null===d){for(;f<s.length;f++)null!==(d=m(o,s[f],l))&&(a=i(d,a,f),null===u?c=d:u.sibling=d,u=d);return mn&&cn(o,f),c}for(d=r(o,d);f<s.length;f++)null!==(p=y(d,o,f,s[f],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),a=i(p,a,f),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(o,e)}),mn&&cn(o,f),c}function x(o,s,l,c){var u=w(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,f=s,p=s=0,h=null,b=l.next();null!==f&&!b.done;p++,b=l.next()){f.index>p?(h=f,f=null):h=f.sibling;var v=g(o,f,b.value,c);if(null===v){null===f&&(f=h);break}e&&f&&null===v.alternate&&t(o,f),s=i(v,s,p),null===d?u=v:d.sibling=v,d=v,f=h}if(b.done)return n(o,f),mn&&cn(o,p),u;if(null===f){for(;!b.done;p++,b=l.next())null!==(b=m(o,b.value,c))&&(s=i(b,s,p),null===d?u=b:d.sibling=b,d=b);return mn&&cn(o,p),u}for(f=r(o,f);!b.done;p++,b=l.next())null!==(b=y(f,o,p,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?p:b.key),s=i(b,s,p),null===d?u=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(o,e)}),mn&&cn(o,p),u}return function e(r,i,a,d){if("object"==typeof a&&null!==a&&a.type===u&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case l:e:{for(var f=a.key,p=i;null!==p;){if(p.key===f){if((f=a.type)===u){if(7===p.tag){n(r,p.sibling),(i=o(p,a.props.children)).return=r,r=i;break e}}else if(p.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===v&&On(f)===p.type){n(r,p.sibling),(i=o(p,a.props)).ref=jn(r,p,a),i.return=r,r=i;break e}n(r,p);break}t(r,p),p=p.sibling}a.type===u?((i=us(a.props.children,r.mode,d,a.key)).return=r,r=i):((d=cs(a.type,a.key,a.props,null,r.mode,d)).ref=jn(r,i,a),d.return=r,r=d)}return s(r);case c:e:{for(p=a.key;null!==i;){if(i.key===p){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=ps(a,r.mode,d)).return=r,r=i}return s(r);case v:return e(r,i,(p=a._init)(a._payload),d)}if(O(a))return b(r,i,a,d);if(w(a))return x(r,i,a,d);An(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=fs(a,r.mode,d)).return=r,r=i),s(r)):n(r,i)}}var Nn=Pn(!0),In=Pn(!1),Dn=st(null),Rn=null,zn=null,Bn=null;function Fn(){Bn=zn=Rn=null}function Wn(e,t,n){q?(ct(Dn,t._currentValue),t._currentValue=n):(ct(Dn,t._currentValue2),t._currentValue2=n)}function Hn(e){var t=Dn.current;lt(Dn),q?e._currentValue=t:e._currentValue2=t}function Un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gn(e,t){Rn=e,Bn=zn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(No=!0),e.firstContext=null)}function $n(e){var t=q?e._currentValue:e._currentValue2;if(Bn!==e)if(e={context:e,memoizedValue:t,next:null},null===zn){if(null===Rn)throw Error(a(308));zn=e,Rn.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var Vn=null;function qn(e){null===Vn?Vn=[e]:Vn.push(e)}function Yn(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,qn(t)):(n.next=o.next,o.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Jn=!1;function Zn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&na){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Kn(e,n)}return null===(o=r.interleaved)?(t.next=t,qn(r)):(t.next=o.next,o.next=t),r.interleaved=t,Kn(e,n)}function tr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}function nr(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rr(e,t,n,r){var o=e.updateQueue;Jn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;null!==d&&(l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c)}if(null!==a){var f=o.baseState;for(s=0,d=u=c=null,l=a;;){var p=l.lane,h=l.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(p=t,h=n,g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(h,f,p);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(h,f,p):m))break e;f=i({},f,p);break e;case 2:Jn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=h,c=f):d=d.next=h,s|=p;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(p=l).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);ua|=s,e.lanes=s,e.memoizedState=f}}function or(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var ir={},ar=st(ir),sr=st(ir),lr=st(ir);function cr(e){if(e===ir)throw Error(a(174));return e}function ur(e,t){ct(lr,t),ct(sr,e),ct(ar,ir),e=N(t),lt(ar),ct(ar,e)}function dr(){lt(ar),lt(sr),lt(lr)}function fr(e){var t=cr(lr.current),n=cr(ar.current);n!==(t=I(n,e.type,t))&&(ct(sr,e),ct(ar,t))}function pr(e){sr.current===e&&(lt(ar),lt(sr))}var hr=st(0);function mr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||Re(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gr=[];function yr(){for(var e=0;e<gr.length;e++){var t=gr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}gr.length=0}var br=s.ReactCurrentDispatcher,vr=s.ReactCurrentBatchConfig,xr=0,kr=null,wr=null,Sr=null,_r=!1,Cr=!1,Er=0,Lr=0;function Tr(){throw Error(a(321))}function Mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function jr(e,t,n,r,o,i){if(xr=i,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?ho:mo,e=n(r,o),Cr){i=0;do{if(Cr=!1,Er=0,25<=i)throw Error(a(301));i+=1,Sr=wr=null,t.updateQueue=null,br.current=go,e=n(r,o)}while(Cr)}if(br.current=po,t=null!==wr&&null!==wr.next,xr=0,Sr=wr=kr=null,_r=!1,t)throw Error(a(300));return e}function Ar(){var e=0!==Er;return Er=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sr?kr.memoizedState=Sr=e:Sr=Sr.next=e,Sr}function Pr(){if(null===wr){var e=kr.alternate;e=null!==e?e.memoizedState:null}else e=wr.next;var t=null===Sr?kr.memoizedState:Sr.next;if(null!==t)Sr=t,wr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(wr=e).memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},null===Sr?kr.memoizedState=Sr=e:Sr=Sr.next=e}return Sr}function Nr(e,t){return"function"==typeof t?t(e):t}function Ir(e){var t=Pr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=wr,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((xr&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,kr.lanes|=d,ua|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,qt(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,kr.lanes|=i,ua|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dr(e){var t=Pr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);qt(i,t.memoizedState)||(No=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Rr(){}function zr(e,t){var n=kr,r=Pr(),o=t(),i=!qt(r.memoizedState,o);if(i&&(r.memoizedState=o,No=!0),r=r.queue,Jr(Wr.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==Sr&&1&Sr.memoizedState.tag){if(n.flags|=2048,$r(9,Fr.bind(null,n,r,o,t),void 0,null),null===ra)throw Error(a(349));30&xr||Br(n,t,o)}return o}function Br(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=kr.updateQueue)?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fr(e,t,n,r){t.value=n,t.getSnapshot=r,Hr(t)&&Ur(e)}function Wr(e,t,n){return n(function(){Hr(t)&&Ur(e)})}function Hr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch(e){return!0}}function Ur(e){var t=Kn(e,1);null!==t&&Oa(t,e,1,-1)}function Gr(e){var t=Or();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=lo.bind(null,kr,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=kr.updateQueue)?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vr(){return Pr().memoizedState}function qr(e,t,n,r){var o=Or();kr.flags|=e,o.memoizedState=$r(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var o=Pr();r=void 0===r?null:r;var i=void 0;if(null!==wr){var a=wr.memoizedState;if(i=a.destroy,null!==r&&Mr(r,a.deps))return void(o.memoizedState=$r(t,n,i,r))}kr.flags|=e,o.memoizedState=$r(1|t,n,i,r)}function Kr(e,t){return qr(8390656,8,e,t)}function Jr(e,t){return Yr(2048,8,e,t)}function Zr(e,t){return Yr(4,2,e,t)}function Xr(e,t){return Yr(4,4,e,t)}function Qr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function eo(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4,4,Qr.bind(null,t,e),n)}function to(){}function no(e,t){var n=Pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Mr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ro(e,t){var n=Pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Mr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oo(e,t,n){return 21&xr?(qt(n,t)||(n=jt(),kr.lanes|=n,ua|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=n)}function io(e,t){var n=Nt;Nt=0!==n&&4>n?n:4,e(!0);var r=vr.transition;vr.transition={};try{e(!1),t()}finally{Nt=n,vr.transition=r}}function ao(){return Pr().memoizedState}function so(e,t,n){var r=Aa(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},co(e)?uo(t,n):null!==(n=Yn(e,t,n,r))&&(Oa(n,e,r,ja()),fo(n,t,r))}function lo(e,t,n){var r=Aa(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(co(e))uo(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,qt(s,a)){var l=t.interleaved;return null===l?(o.next=o,qn(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Yn(e,t,o,r))&&(Oa(n,e,r,o=ja()),fo(n,t,r))}}function co(e){var t=e.alternate;return e===kr||null!==t&&t===kr}function uo(e,t){Cr=_r=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}var po={readContext:$n,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},ho={readContext:$n,useCallback:function(e,t){return Or().memoizedState=[e,void 0===t?null:t],e},useContext:$n,useEffect:Kr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,qr(4194308,4,Qr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return qr(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=so.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Or().memoizedState=e},useState:Gr,useDebugValue:to,useDeferredValue:function(e){return Or().memoizedState=e},useTransition:function(){var e=Gr(!1),t=e[0];return e=io.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,o=Or();if(mn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ra)throw Error(a(349));30&xr||Br(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Kr(Wr.bind(null,r,i,e),[e]),r.flags|=2048,$r(9,Fr.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Or(),t=ra.identifierPrefix;if(mn){var n=ln;t=":"+t+"R"+(n=(sn&~(1<<32-kt(sn)-1)).toString(32)+n),0<(n=Er++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Lr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mo={readContext:$n,useCallback:no,useContext:$n,useEffect:Jr,useImperativeHandle:eo,useInsertionEffect:Zr,useLayoutEffect:Xr,useMemo:ro,useReducer:Ir,useRef:Vr,useState:function(){return Ir(Nr)},useDebugValue:to,useDeferredValue:function(e){return oo(Pr(),wr.memoizedState,e)},useTransition:function(){return[Ir(Nr)[0],Pr().memoizedState]},useMutableSource:Rr,useSyncExternalStore:zr,useId:ao,unstable_isNewReconciler:!1},go={readContext:$n,useCallback:no,useContext:$n,useEffect:Jr,useImperativeHandle:eo,useInsertionEffect:Zr,useLayoutEffect:Xr,useMemo:ro,useReducer:Dr,useRef:Vr,useState:function(){return Dr(Nr)},useDebugValue:to,useDeferredValue:function(e){var t=Pr();return null===wr?t.memoizedState=e:oo(t,wr.memoizedState,e)},useTransition:function(){return[Dr(Nr)[0],Pr().memoizedState]},useMutableSource:Rr,useSyncExternalStore:zr,useId:ao,unstable_isNewReconciler:!1};function yo(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function bo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&C(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ja(),o=Aa(e),i=Qn(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=er(e,i,o))&&(Oa(t,e,o,r),tr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ja(),o=Aa(e),i=Qn(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=er(e,i,o))&&(Oa(t,e,o,r),tr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ja(),r=Aa(e),o=Qn(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=er(e,o,r))&&(Oa(t,e,r,n),tr(t,e,r))}};function xo(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&Tn(n,r)&&Tn(o,i))}function ko(e,t,n){var r=!1,o=ut,i=t.contextType;return"object"==typeof i&&null!==i?i=$n(i):(o=mt(t)?pt:dt.current,i=(r=null!=(r=t.contextTypes))?ht(e,o):ut),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Zn(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=$n(i):(i=mt(t)?pt:dt.current,o.context=ht(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(bo(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&vo.enqueueReplaceState(o,o.state,null),rr(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function _o(e,t){try{var n="",r=t;do{n+=Mn(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function Co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Eo(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Lo="function"==typeof WeakMap?WeakMap:Map;function To(e,t,n){(n=Qn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xa||(xa=!0,ka=r),Eo(0,t)},n}function Mo(e,t,n){(n=Qn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Eo(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){Eo(0,t),"function"!=typeof r&&(null===wa?wa=new Set([this]):wa.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function jo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Lo;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=es.bind(null,e,t,n),t.then(e,e))}function Ao(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Oo(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Qn(-1,1)).tag=2,er(n,t,1))),n.lanes|=1),e)}var Po=s.ReactCurrentOwner,No=!1;function Io(e,t,n,r){t.child=null===e?In(t,null,n,r):Nn(t,e.child,n,r)}function Do(e,t,n,r,o){n=n.render;var i=t.ref;return Gn(t,o),r=jr(e,t,n,r,i,o),n=Ar(),null===e||No?(mn&&n&&dn(t),t.flags|=1,Io(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ii(e,t,o))}function Ro(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||ss(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=cs(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,zo(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Tn)(a,r)&&e.ref===t.ref)return ii(e,t,o)}return t.flags|=1,(e=ls(i,r)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Tn(i,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,ii(e,t,o);131072&e.flags&&(No=!0)}}return Wo(e,t,n,r,o)}function Bo(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(sa,aa),aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ct(sa,aa),aa|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(sa,aa),aa|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ct(sa,aa),aa|=r;return Io(e,t,o,n),t.child}function Fo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wo(e,t,n,r,o){var i=mt(n)?pt:dt.current;return i=ht(t,i),Gn(t,o),n=jr(e,t,n,r,i,o),r=Ar(),null===e||No?(mn&&r&&dn(t),t.flags|=1,Io(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ii(e,t,o))}function Ho(e,t,n,r,o){if(mt(n)){var i=!0;vt(t)}else i=!1;if(Gn(t,o),null===t.stateNode)oi(e,t),ko(t,n,r),So(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?$n(c):ht(t,c=mt(n)?pt:dt.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&wo(t,a,r,c),Jn=!1;var f=t.memoizedState;a.state=f,rr(t,r,a,o),l=t.memoizedState,s!==r||f!==l||ft.current||Jn?("function"==typeof u&&(bo(t,n,u,r),l=t.memoizedState),(s=Jn||xo(t,n,s,r,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,d=t.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?$n(l):ht(t,l=mt(n)?pt:dt.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&wo(t,a,r,l),Jn=!1,f=t.memoizedState,a.state=f,rr(t,r,a,o);var h=t.memoizedState;s!==d||f!==h||ft.current||Jn?("function"==typeof p&&(bo(t,n,p,r),h=t.memoizedState),(c=Jn||xo(t,n,c,r,f,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Uo(e,t,n,r,i,o)}function Uo(e,t,n,r,o,i){Fo(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&xt(t,n,!1),ii(e,t,i);r=t.stateNode,Po.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Nn(t,e.child,null,i),t.child=Nn(t,null,s,i)):Io(e,t,s,i),t.memoizedState=r.state,o&&xt(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?yt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yt(0,t.context,!1),ur(e,t.containerInfo)}function $o(e,t,n,r,o){return Cn(),En(o),t.flags|=256,Io(e,t,n,r),t.child}var Vo,qo,Yo,Ko,Jo={dehydrated:null,treeContext:null,retryLane:0};function Zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xo(e,t,n){var r,o=t.pendingProps,i=hr.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ct(hr,1&i),null===e)return kn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Re(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=ds(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=us(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zo(n),t.memoizedState=Jo,e):Qo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,s){if(n)return 256&t.flags?(t.flags&=-257,ei(e,t,s,r=Co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ds({mode:"visible",children:r.children},o,0,null),(i=us(i,o,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&Nn(t,e.child,null,s),t.child.memoizedState=Zo(s),t.memoizedState=Jo,i);if(!(1&t.mode))return ei(e,t,s,null);if(Re(o))return r=ze(o).digest,ei(e,t,s,r=Co(i=Error(a(419)),r,void 0));if(n=0!==(s&e.childLanes),No||n){if(null!==(r=ra)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Kn(e,o),Oa(r,e,o,-1))}return Ga(),ei(e,t,s,r=Co(Error(a(421))))}return De(o)?(t.flags|=128,t.child=e.child,t=ns.bind(null,e),Be(o,t),null):(e=i.treeContext,J&&(hn=Ue(o),pn=t,mn=!0,yn=null,gn=!1,null!==e&&(rn[on++]=sn,rn[on++]=ln,rn[on++]=an,sn=e.id,ln=e.overflow,an=t)),(t=Qo(t,r.children)).flags|=4096,t)}(e,t,l,o,r,i,n);if(s){s=o.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===i?(o=ls(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=ls(r,s):(s=us(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Jo,o}return e=(s=e.child).sibling,o=ls(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Qo(e,t){return(t=ds({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ei(e,t,n,r){return null!==r&&En(r),Nn(t,e.child,null,n),(e=Qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ti(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Un(e.return,t,n)}function ni(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ri(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),2&(r=hr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,n,t);else if(19===e.tag)ti(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(hr,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===mr(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ni(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===mr(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ni(t,!0,n,null,i);break;case"together":ni(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function oi(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ii(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ua|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ls(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ls(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ai(e){e.flags|=4}function si(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(Y)Vo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Yo=function(e,t,n,r,o){if((e=e.memoizedProps)!==r){var i=t.stateNode,a=cr(ar.current);n=W(i,n,e,r,o,a),(t.updateQueue=n)&&ai(t)}},Ko=function(e,t,n,r){n!==r&&ai(t)};else if(K){Vo=function(e,t,n,r){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;n&&r&&(i=Ae(i,o.type,o.memoizedProps,o)),B(e,i)}else if(6===o.tag)i=o.stateNode,n&&r&&(i=Oe(i,o.memoizedProps,o)),B(e,i);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(i=o.child)&&(i.return=o),Vo(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var li=function(e,t,n,r){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;n&&r&&(i=Ae(i,o.type,o.memoizedProps,o)),Te(e,i)}else if(6===o.tag)i=o.stateNode,n&&r&&(i=Oe(i,o.memoizedProps,o)),Te(e,i);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(i=o.child)&&(i.return=o),li(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};qo=function(e,t){var n=t.stateNode;if(!si(e,t)){e=n.containerInfo;var r=Le(e);li(r,t,!1,!1),n.pendingChildren=r,ai(t),Me(e,r)}},Yo=function(e,t,n,r,o){var i=e.stateNode,a=e.memoizedProps;if((e=si(e,t))&&a===r)t.stateNode=i;else{var s=t.stateNode,l=cr(ar.current),c=null;a!==r&&(c=W(s,n,a,r,o,l)),e&&null===c?t.stateNode=i:(i=Ee(i,c,n,a,r,t,e,s),F(i,n,r,o,l)&&ai(t),t.stateNode=i,e?ai(t):Vo(i,t,!1,!1))}},Ko=function(e,t,n,r){n!==r?(e=cr(lr.current),n=cr(ar.current),t.stateNode=U(r,e,n,t),ai(t)):t.stateNode=e.stateNode}}else qo=function(){},Yo=function(){},Ko=function(){};function ci(e,t){if(!mn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ui(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function di(e,t,n){var r=t.pendingProps;switch(fn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:case 17:return mt(t.type)&&gt(),ui(t),null;case 3:return n=t.stateNode,dr(),lt(ft),lt(dt),yr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Sn(t)?ai(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==yn&&(Da(yn),yn=null))),qo(e,t),ui(t),null;case 5:pr(t),n=cr(lr.current);var o=t.type;if(null!==e&&null!=t.stateNode)Yo(e,t,o,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ui(t),null}if(e=cr(ar.current),Sn(t)){if(!J)throw Error(a(175));e=Ge(t.stateNode,t.type,t.memoizedProps,n,e,t,!gn),t.updateQueue=e,null!==e&&ai(t)}else{var i=z(o,r,n,e,t);Vo(i,t,!1,!1),t.stateNode=i,F(i,o,r,n,e)&&ai(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(e&&null!=t.stateNode)Ko(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=cr(lr.current),n=cr(ar.current),Sn(t)){if(!J)throw Error(a(176));if(e=t.stateNode,n=t.memoizedProps,(r=$e(e,n,t,!gn))&&null!==(o=pn))switch(o.tag){case 3:Qe(o.stateNode.containerInfo,e,n,!!(1&o.mode));break;case 5:et(o.type,o.memoizedProps,o.stateNode,e,n,!!(1&o.mode))}r&&ai(t)}else t.stateNode=U(r,e,n,t)}return ui(t),null;case 13:if(lt(hr),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(mn&&null!==hn&&1&t.mode&&!(128&t.flags))_n(),Cn(),t.flags|=98560,o=!1;else if(o=Sn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!J)throw Error(a(344));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));Ve(o,t)}else Cn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ui(t),o=!1}else null!==yn&&(Da(yn),yn=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((n=null!==r)!=(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&hr.current?0===la&&(la=3):Ga())),null!==t.updateQueue&&(t.flags|=4),ui(t),null);case 4:return dr(),qo(e,t),null===e&&X(t.stateNode.containerInfo),ui(t),null;case 10:return Hn(t.type._context),ui(t),null;case 19:if(lt(hr),null===(o=t.memoizedState))return ui(t),null;if(r=!!(128&t.flags),null===(i=o.rendering))if(r)ci(o,!1);else{if(0!==la||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=mr(e))){for(t.flags|=128,ci(o,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)o=e,(r=n).flags&=14680066,null===(i=r.alternate)?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=i.childLanes,r.lanes=i.lanes,r.child=i.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=i.memoizedProps,r.memoizedState=i.memoizedState,r.updateQueue=i.updateQueue,r.type=i.type,o=i.dependencies,r.dependencies=null===o?null:{lanes:o.lanes,firstContext:o.firstContext}),n=n.sibling;return ct(hr,1&hr.current|2),t.child}e=e.sibling}null!==o.tail&&Ft()>ga&&(t.flags|=128,r=!0,ci(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=mr(i))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),ci(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!mn)return ui(t),null}else 2*Ft()-o.renderingStartTime>ga&&1073741824!==n&&(t.flags|=128,r=!0,ci(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,e=hr.current,ct(hr,r?1&e|2:1&e),t):(ui(t),null);case 22:case 23:return Fa(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&aa)&&(ui(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):ui(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function fi(e,t){switch(fn(t),t.tag){case 1:return mt(t.type)&&gt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),lt(ft),lt(dt),yr(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pr(t),null;case 13:if(lt(hr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Cn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(hr),null;case 4:return dr(),null;case 10:return Hn(t.type._context),null;case 22:case 23:return Fa(),null;default:return null}}var pi=!1,hi=!1,mi="function"==typeof WeakSet?WeakSet:Set,gi=null;function yi(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Qa(e,t,n)}else n.current=null}function bi(e,t,n){try{n()}catch(n){Qa(e,t,n)}}var vi=!1;function xi(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&bi(t,n,i)}o=o.next}while(o!==r)}}function ki(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wi(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?P(n):n,"function"==typeof t?t(e):t.current=e}}function Si(e){var t=e.alternate;null!==t&&(e.alternate=null,Si(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ee(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _i(e){return 5===e.tag||3===e.tag||4===e.tag}function Ci(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_i(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ei(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ye(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Ei(e,t,n),e=e.sibling;null!==e;)Ei(e,t,n),e=e.sibling}function Li(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Li(e,t,n),e=e.sibling;null!==e;)Li(e,t,n),e=e.sibling}var Ti=null,Mi=!1;function ji(e,t,n){for(n=n.child;null!==n;)Ai(e,t,n),n=n.sibling}function Ai(e,t,n){if(Vt&&"function"==typeof Vt.onCommitFiberUnmount)try{Vt.onCommitFiberUnmount($t,n)}catch(e){}switch(n.tag){case 5:hi||yi(n,t);case 6:if(Y){var r=Ti,o=Mi;Ti=null,ji(e,t,n),Mi=o,null!==(Ti=r)&&(Mi?ve(Ti,n.stateNode):be(Ti,n.stateNode))}else ji(e,t,n);break;case 18:Y&&null!==Ti&&(Mi?Ze(Ti,n.stateNode):Je(Ti,n.stateNode));break;case 4:Y?(r=Ti,o=Mi,Ti=n.stateNode.containerInfo,Mi=!0,ji(e,t,n),Ti=r,Mi=o):(K&&(r=n.stateNode.containerInfo,o=Le(r),je(r,o)),ji(e,t,n));break;case 0:case 11:case 14:case 15:if(!hi&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&bi(n,t,a),o=o.next}while(o!==r)}ji(e,t,n);break;case 1:if(!hi&&(yi(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Qa(n,t,e)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:1&n.mode?(hi=(r=hi)||null!==n.memoizedState,ji(e,t,n),hi=r):ji(e,t,n);break;default:ji(e,t,n)}}function Oi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new mi),t.forEach(function(t){var r=rs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Pi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t;if(Y){var l=s;e:for(;null!==l;){switch(l.tag){case 5:Ti=l.stateNode,Mi=!1;break e;case 3:case 4:Ti=l.stateNode.containerInfo,Mi=!0;break e}l=l.return}if(null===Ti)throw Error(a(160));Ai(i,s,o),Ti=null,Mi=!1}else Ai(i,s,o);var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Qa(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ni(t,e),t=t.sibling}function Ni(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pi(t,e),Ii(e),4&r){try{xi(3,e,e.return),ki(3,e)}catch(t){Qa(e,e.return,t)}try{xi(5,e,e.return)}catch(t){Qa(e,e.return,t)}}break;case 1:Pi(t,e),Ii(e),512&r&&null!==n&&yi(n,n.return);break;case 5:if(Pi(t,e),Ii(e),512&r&&null!==n&&yi(n,n.return),Y){if(32&e.flags){var o=e.stateNode;try{xe(o)}catch(t){Qa(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps;if(n=null!==n?n.memoizedProps:i,r=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{me(o,t,r,n,i,e)}catch(t){Qa(e,e.return,t)}}}break;case 6:if(Pi(t,e),Ii(e),4&r&&Y){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps,n=null!==n?n.memoizedProps:i;try{pe(o,n,i)}catch(t){Qa(e,e.return,t)}}break;case 3:if(Pi(t,e),Ii(e),4&r){if(Y&&J&&null!==n&&n.memoizedState.isDehydrated)try{Ye(t.containerInfo)}catch(t){Qa(e,e.return,t)}if(K){o=t.containerInfo,i=t.pendingChildren;try{je(o,i)}catch(t){Qa(e,e.return,t)}}}break;case 4:if(Pi(t,e),Ii(e),4&r&&K){o=(i=e.stateNode).containerInfo,i=i.pendingChildren;try{je(o,i)}catch(t){Qa(e,e.return,t)}}break;case 13:Pi(t,e),Ii(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(ma=Ft())),4&r&&Oi(e);break;case 22:var s=null!==n&&null!==n.memoizedState;if(1&e.mode?(hi=(n=hi)||s,Pi(t,e),hi=n):Pi(t,e),Ii(e),8192&r){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!s&&1&e.mode)for(gi=e,r=e.child;null!==r;){for(t=gi=r;null!==gi;){var l=(s=gi).child;switch(s.tag){case 0:case 11:case 14:case 15:xi(4,s,s.return);break;case 1:yi(s,s.return);var c=s.stateNode;if("function"==typeof c.componentWillUnmount){var u=s,d=s.return;try{var f=u;c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(e){Qa(u,d,e)}}break;case 5:yi(s,s.return);break;case 22:if(null!==s.memoizedState){Bi(t);continue}}null!==l?(l.return=s,gi=l):Bi(t)}r=r.sibling}if(Y)e:if(r=null,Y)for(t=e;;){if(5===t.tag){if(null===r){r=t;try{o=t.stateNode,n?ke(o):Se(t.stateNode,t.memoizedProps)}catch(t){Qa(e,e.return,t)}}}else if(6===t.tag){if(null===r)try{i=t.stateNode,n?we(i):_e(i,t.memoizedProps)}catch(t){Qa(e,e.return,t)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Pi(t,e),Ii(e),4&r&&Oi(e);break;case 21:break;default:Pi(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(2&t){try{if(Y){e:{for(var n=e.return;null!==n;){if(_i(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(xe(o),r.flags&=-33),Li(e,Ci(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;Ei(e,Ci(e),i);break;default:throw Error(a(161))}}}catch(t){Qa(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Di(e,t,n){gi=e,Ri(e,t,n)}function Ri(e,t,n){for(var r=!!(1&e.mode);null!==gi;){var o=gi,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||pi;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||hi;s=pi;var c=hi;if(pi=a,(hi=l)&&!c)for(gi=o;null!==gi;)l=(a=gi).child,22===a.tag&&null!==a.memoizedState?Fi(o):null!==l?(l.return=a,gi=l):Fi(o);for(;null!==i;)gi=i,Ri(i,t,n),i=i.sibling;gi=o,pi=s,hi=c}zi(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,gi=i):zi(e)}}function zi(e){for(;null!==gi;){var t=gi;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:hi||ki(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!hi)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&or(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=P(t.child.stateNode);break;case 1:n=t.child.stateNode}or(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&he(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(J&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ke(d)}}}break;default:throw Error(a(163))}hi||512&t.flags&&wi(t)}catch(e){Qa(t,t.return,e)}}if(t===e){gi=null;break}if(null!==(n=t.sibling)){n.return=t.return,gi=n;break}gi=t.return}}function Bi(e){for(;null!==gi;){var t=gi;if(t===e){gi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,gi=n;break}gi=t.return}}function Fi(e){for(;null!==gi;){var t=gi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ki(4,t)}catch(e){Qa(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Qa(t,o,e)}}var i=t.return;try{wi(t)}catch(e){Qa(t,i,e)}break;case 5:var a=t.return;try{wi(t)}catch(e){Qa(t,a,e)}}}catch(e){Qa(t,t.return,e)}if(t===e){gi=null;break}var s=t.sibling;if(null!==s){s.return=t.return,gi=s;break}gi=t.return}}var Wi=0,Hi=1,Ui=2,Gi=3,$i=4;if("function"==typeof Symbol&&Symbol.for){var Vi=Symbol.for;Wi=Vi("selector.component"),Hi=Vi("selector.has_pseudo_class"),Ui=Vi("selector.role"),Gi=Vi("selector.test_id"),$i=Vi("selector.text")}function qi(e){var t=Z(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=oe(e)))throw Error(a(362));return e.stateNode.current}function Yi(e,t){switch(t.$$typeof){case Wi:if(e.type===t.value)return!0;break;case Hi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],o=e[n++],i=t[o];if(5!==r.tag||!se(r)){for(;null!=i&&Yi(r,i);)i=t[++o];if(o===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,o),r=r.sibling}}t=!1}return t;case Ui:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case $i:if((5===e.tag||6===e.tag)&&null!==(e=ae(e))&&0<=e.indexOf(t.value))return!0;break;case Gi:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function Ki(e){switch(e.$$typeof){case Wi:return"<"+(S(e.value)||"Unknown")+">";case Hi:return":has("+(Ki(e)||"")+")";case Ui:return'[role="'+e.value+'"]';case $i:return'"'+e.value+'"';case Gi:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Ji(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var o=e[r++],i=e[r++],a=t[i];if(5!==o.tag||!se(o)){for(;null!=a&&Yi(o,a);)a=t[++i];if(i===t.length)n.push(o);else for(o=o.child;null!==o;)e.push(o,i),o=o.sibling}}return n}function Zi(e,t){if(!re)throw Error(a(363));e=Ji(e=qi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Xi=Math.ceil,Qi=s.ReactCurrentDispatcher,ea=s.ReactCurrentOwner,ta=s.ReactCurrentBatchConfig,na=0,ra=null,oa=null,ia=0,aa=0,sa=st(0),la=0,ca=null,ua=0,da=0,fa=0,pa=null,ha=null,ma=0,ga=1/0,ya=null;function ba(){ga=Ft()+500}var va,xa=!1,ka=null,wa=null,Sa=!1,_a=null,Ca=0,Ea=0,La=null,Ta=-1,Ma=0;function ja(){return 6&na?Ft():-1!==Ta?Ta:Ta=Ft()}function Aa(e){return 1&e.mode?2&na&&0!==ia?ia&-ia:null!==Ln.transition?(0===Ma&&(Ma=jt()),Ma):0!==(e=Nt)?e:Q():1}function Oa(e,t,n,r){if(50<Ea)throw Ea=0,La=null,Error(a(185));Ot(e,n,r),2&na&&e===ra||(e===ra&&(!(2&na)&&(da|=n),4===la&&Ra(e,ia)),Pa(e,r),1===n&&0===na&&!(1&t.mode)&&(ba(),Kt&&Xt()))}function Pa(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-kt(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=Tt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=Lt(e,e===ra?ia:0);if(0===r)null!==n&&Rt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Rt(n),1===t)0===e.tag?function(e){Kt=!0,Zt(e)}(za.bind(null,e)):Zt(za.bind(null,e)),te?ne(function(){!(6&na)&&Xt()}):Dt(Wt,Xt),n=null;else{switch(It(r)){case 1:n=Wt;break;case 4:n=Ht;break;case 16:default:n=Ut;break;case 536870912:n=Gt}n=os(n,Na.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Na(e,t){if(Ta=-1,Ma=0,6&na)throw Error(a(327));var n=e.callbackNode;if(Za()&&e.callbackNode!==n)return null;var r=Lt(e,e===ra?ia:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=$a(e,r);else{t=r;var o=na;na|=2;var i=Ua();for(ra===e&&ia===t||(ya=null,ba(),Wa(e,t));;)try{qa();break}catch(t){Ha(e,t)}Fn(),Qi.current=i,na=o,null!==oa?t=0:(ra=null,ia=0,t=la)}if(0!==t){if(2===t&&0!==(o=Mt(e))&&(r=o,t=Ia(e,o)),1===t)throw n=ca,Wa(e,0),Ra(e,r),Pa(e,Ft()),n;if(6===t)Ra(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!qt(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=$a(e,r),2===t&&(i=Mt(e),0!==i&&(r=i,t=Ia(e,i))),1!==t)))throw n=ca,Wa(e,0),Ra(e,r),Pa(e,Ft()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ja(e,ha,ya);break;case 3:if(Ra(e,r),(130023424&r)===r&&10<(t=ma+500-Ft())){if(0!==Lt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ja(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=G(Ja.bind(null,e,ha,ya),t);break}Ja(e,ha,ya);break;case 4:if(Ra(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-kt(r);i=1<<s,(s=t[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xi(r/1960))-r)){e.timeoutHandle=G(Ja.bind(null,e,ha,ya),r);break}Ja(e,ha,ya);break;default:throw Error(a(329))}}}return Pa(e,Ft()),e.callbackNode===n?Na.bind(null,e):null}function Ia(e,t){var n=pa;return e.current.memoizedState.isDehydrated&&(Wa(e,t).flags|=256),2!==(e=$a(e,t))&&(t=ha,ha=n,null!==t&&Da(t)),e}function Da(e){null===ha?ha=e:ha.push.apply(ha,e)}function Ra(e,t){for(t&=~fa,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function za(e){if(6&na)throw Error(a(327));Za();var t=Lt(e,0);if(!(1&t))return Pa(e,Ft()),null;var n=$a(e,t);if(0!==e.tag&&2===n){var r=Mt(e);0!==r&&(t=r,n=Ia(e,r))}if(1===n)throw n=ca,Wa(e,0),Ra(e,t),Pa(e,Ft()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ja(e,ha,ya),Pa(e,Ft()),null}function Ba(e){null!==_a&&0===_a.tag&&!(6&na)&&Za();var t=na;na|=1;var n=ta.transition,r=Nt;try{if(ta.transition=null,Nt=1,e)return e()}finally{Nt=r,ta.transition=n,!(6&(na=t))&&Xt()}}function Fa(){aa=sa.current,lt(sa)}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==V&&(e.timeoutHandle=V,$(n)),null!==oa)for(n=oa.return;null!==n;){var r=n;switch(fn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&gt();break;case 3:dr(),lt(ft),lt(dt),yr();break;case 5:pr(r);break;case 4:dr();break;case 13:case 19:lt(hr);break;case 10:Hn(r.type._context);break;case 22:case 23:Fa()}n=n.return}if(ra=e,oa=e=ls(e.current,null),ia=aa=t,la=0,ca=null,fa=da=ua=0,ha=pa=null,null!==Vn){for(t=0;t<Vn.length;t++)if(null!==(r=(n=Vn[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Vn=null}return e}function Ha(e,t){for(;;){var n=oa;try{if(Fn(),br.current=po,_r){for(var r=kr.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}_r=!1}if(xr=0,Sr=wr=kr=null,Cr=!1,Er=0,ea.current=null,null===n||null===n.return){la=1,ca=t,oa=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=ia,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Ao(s);if(null!==h){h.flags&=-257,Oo(h,s,l,0,t),1&h.mode&&jo(i,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){jo(i,u,t),Ga();break e}c=Error(a(426))}else if(mn&&1&l.mode){var y=Ao(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),Oo(y,s,l,0,t),En(_o(c,l));break e}}i=c=_o(c,l),4!==la&&(la=2),null===pa?pa=[i]:pa.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,nr(i,To(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==wa&&wa.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,nr(i,Mo(i,l,t));break e}}i=i.return}while(null!==i)}Ka(n)}catch(e){t=e,oa===n&&null!==n&&(oa=n=n.return);continue}break}}function Ua(){var e=Qi.current;return Qi.current=po,null===e?po:e}function Ga(){0!==la&&3!==la&&2!==la||(la=4),null===ra||!(268435455&ua)&&!(268435455&da)||Ra(ra,ia)}function $a(e,t){var n=na;na|=2;var r=Ua();for(ra===e&&ia===t||(ya=null,Wa(e,t));;)try{Va();break}catch(t){Ha(e,t)}if(Fn(),na=n,Qi.current=r,null!==oa)throw Error(a(261));return ra=null,ia=0,la}function Va(){for(;null!==oa;)Ya(oa)}function qa(){for(;null!==oa&&!zt();)Ya(oa)}function Ya(e){var t=va(e.alternate,e,aa);e.memoizedProps=e.pendingProps,null===t?Ka(e):oa=t,ea.current=null}function Ka(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=fi(n,t)))return n.flags&=32767,void(oa=n);if(null===e)return la=6,void(oa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=di(n,t,aa)))return void(oa=n);if(null!==(t=t.sibling))return void(oa=t);oa=t=e}while(null!==t);0===la&&(la=5)}function Ja(e,t,n){var r=Nt,o=ta.transition;try{ta.transition=null,Nt=1,function(e,t,n,r){do{Za()}while(null!==_a);if(6&na)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-kt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,i),e===ra&&(oa=ra=null,ia=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Sa||(Sa=!0,os(Ut,function(){return Za(),null})),i=!!(15990&n.flags),15990&n.subtreeFlags||i){i=ta.transition,ta.transition=null;var s=Nt;Nt=1;var l=na;na|=4,ea.current=null,function(e,t){for(D(e.containerInfo),gi=t;null!==gi;)if(t=(e=gi).child,1028&e.subtreeFlags&&null!==t)t.return=e,gi=t;else for(;null!==gi;){e=gi;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,o=n.memoizedState,i=e.stateNode,s=i.getSnapshotBeforeUpdate(e.elementType===e.type?r:yo(e.type,r),o);i.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Ce(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(t){Qa(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,gi=t;break}gi=e.return}n=vi,vi=!1}(e,n),Ni(n,e),R(e.containerInfo),e.current=n,Di(n,e,o),Bt(),na=l,Nt=s,ta.transition=i}else e.current=n;if(Sa&&(Sa=!1,_a=e,Ca=o),0===(i=e.pendingLanes)&&(wa=null),function(e){if(Vt&&"function"==typeof Vt.onCommitFiberRoot)try{Vt.onCommitFiberRoot($t,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),Pa(e,Ft()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(xa)throw xa=!1,e=ka,ka=null,e;!!(1&Ca)&&0!==e.tag&&Za(),1&(i=e.pendingLanes)?e===La?Ea++:(Ea=0,La=e):Ea=0,Xt()}(e,t,n,r)}finally{ta.transition=o,Nt=r}return null}function Za(){if(null!==_a){var e=It(Ca),t=ta.transition,n=Nt;try{if(ta.transition=null,Nt=16>e?16:e,null===_a)var r=!1;else{if(e=_a,_a=null,Ca=0,6&na)throw Error(a(331));var o=na;for(na|=4,gi=e.current;null!==gi;){var i=gi,s=i.child;if(16&gi.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(gi=u;null!==gi;){var d=gi;switch(d.tag){case 0:case 11:case 15:xi(8,d,i)}var f=d.child;if(null!==f)f.return=d,gi=f;else for(;null!==gi;){var p=(d=gi).sibling,h=d.return;if(Si(d),d===u){gi=null;break}if(null!==p){p.return=h,gi=p;break}gi=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}gi=i}}if(2064&i.subtreeFlags&&null!==s)s.return=i,gi=s;else e:for(;null!==gi;){if(2048&(i=gi).flags)switch(i.tag){case 0:case 11:case 15:xi(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,gi=b;break e}gi=i.return}}var v=e.current;for(gi=v;null!==gi;){var x=(s=gi).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,gi=x;else e:for(s=v;null!==gi;){if(2048&(l=gi).flags)try{switch(l.tag){case 0:case 11:case 15:ki(9,l)}}catch(e){Qa(l,l.return,e)}if(l===s){gi=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,gi=k;break e}gi=l.return}}if(na=o,Xt(),Vt&&"function"==typeof Vt.onPostCommitFiberRoot)try{Vt.onPostCommitFiberRoot($t,e)}catch(e){}r=!0}return r}finally{Nt=n,ta.transition=t}}return!1}function Xa(e,t,n){e=er(e,t=To(0,t=_o(n,t),1),1),t=ja(),null!==e&&(Ot(e,1,t),Pa(e,t))}function Qa(e,t,n){if(3===e.tag)Xa(e,e,n);else for(;null!==t;){if(3===t.tag){Xa(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===wa||!wa.has(r))){t=er(t,e=Mo(t,e=_o(n,e),1),1),e=ja(),null!==t&&(Ot(t,1,e),Pa(t,e));break}}t=t.return}}function es(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ja(),e.pingedLanes|=e.suspendedLanes&n,ra===e&&(ia&n)===n&&(4===la||3===la&&(130023424&ia)===ia&&500>Ft()-ma?Wa(e,0):fa|=n),Pa(e,t)}function ts(e,t){0===t&&(1&e.mode?(t=Ct,!(130023424&(Ct<<=1))&&(Ct=4194304)):t=1);var n=ja();null!==(e=Kn(e,t))&&(Ot(e,t,n),Pa(e,n))}function ns(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ts(e,n)}function rs(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),ts(e,n)}function os(e,t){return Dt(e,t)}function is(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(e,t,n,r){return new is(e,t,n,r)}function ss(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ls(e,t){var n=e.alternate;return null===n?((n=as(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cs(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)ss(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case u:return us(n.children,o,i,t);case d:s=8,o|=8;break;case f:return(e=as(12,n,t,2|o)).elementType=f,e.lanes=i,e;case g:return(e=as(13,n,t,o)).elementType=g,e.lanes=i,e;case y:return(e=as(19,n,t,o)).elementType=y,e.lanes=i,e;case x:return ds(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case p:s=10;break e;case h:s=9;break e;case m:s=11;break e;case b:s=14;break e;case v:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=as(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function us(e,t,n,r){return(e=as(7,e,r,t)).lanes=n,e}function ds(e,t,n,r){return(e=as(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={isHidden:!1},e}function fs(e,t,n){return(e=as(6,e,null,t)).lanes=n,e}function ps(e,t,n){return(t=as(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hs(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=V,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=r,this.onRecoverableError=o,J&&(this.mutableSourceEagerHydrationData=null)}function ms(e,t,n,r,o,i,a,s,l){return e=new hs(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=as(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zn(i),e}function gs(e){if(!e)return ut;e:{if(C(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(mt(n))return bt(e,n,t)}return t}function ys(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=T(t))?null:e.stateNode}function bs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vs(e,t){bs(e,t),(e=e.alternate)&&bs(e,t)}function xs(e){return null===(e=T(e))?null:e.stateNode}function ks(){return null}return va=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)No=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:Go(t),Cn();break;case 5:fr(t);break;case 1:mt(t.type)&&vt(t);break;case 4:ur(t,t.stateNode.containerInfo);break;case 10:Wn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ct(hr,1&hr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(ct(hr,1&hr.current),null!==(e=ii(e,t,n))?e.sibling:null);ct(hr,1&hr.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return ri(e,t,n);t.flags|=128}var o=t.memoizedState;if(null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),ct(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bo(e,t,n)}return ii(e,t,n)}(e,t,n);No=!!(131072&e.flags)}else No=!1,mn&&1048576&t.flags&&un(t,nn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oi(e,t),e=t.pendingProps;var o=ht(t,dt.current);Gn(t,n),o=jr(null,t,r,e,o,n);var i=Ar();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(i=!0,vt(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Zn(t),o.updater=vo,t.stateNode=o,o._reactInternals=t,So(t,r,e,n),t=Uo(null,t,r,!0,i,n)):(t.tag=0,mn&&i&&dn(t),Io(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oi(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return ss(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===b)return 14}return 2}(r),e=yo(r,e),o){case 0:t=Wo(null,t,r,e,n);break e;case 1:t=Ho(null,t,r,e,n);break e;case 11:t=Do(null,t,r,e,n);break e;case 14:t=Ro(null,t,r,yo(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Wo(e,t,r,o=t.elementType===r?o:yo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ho(e,t,r,o=t.elementType===r?o:yo(r,o),n);case 3:e:{if(Go(t),null===e)throw Error(a(387));r=t.pendingProps,o=(i=t.memoizedState).element,Xn(e,t),rr(t,r,null,n);var s=t.memoizedState;if(r=s.element,J&&i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=$o(e,t,r,n,o=_o(Error(a(423)),t));break e}if(r!==o){t=$o(e,t,r,n,o=_o(Error(a(424)),t));break e}for(J&&(hn=He(t.stateNode.containerInfo),pn=t,mn=!0,yn=null,gn=!1),n=In(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Cn(),r===o){t=ii(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return fr(t),null===e&&kn(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,H(r,o)?s=null:null!==i&&H(r,i)&&(t.flags|=32),Fo(e,t),Io(e,t,s,n),t.child;case 6:return null===e&&kn(t),null;case 13:return Xo(e,t,n);case 4:return ur(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Nn(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Do(e,t,r,o=t.elementType===r?o:yo(r,o),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,Wn(0,r,s=o.value),null!==i)if(qt(i.value,s)){if(i.children===o.children&&!ft.current){t=ii(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Qn(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Un(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Un(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}Io(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Gn(t,n),r=r(o=$n(o)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return o=yo(r=t.type,t.pendingProps),Ro(e,t,r,o=yo(r.type,o),n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yo(r,o),oi(e,t),t.tag=1,mt(r)?(e=!0,vt(t)):e=!1,Gn(t,n),ko(t,r,o),So(t,r,o,n),Uo(null,t,r,!0,e,n);case 19:return ri(e,t,n);case 22:return Bo(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=Kn(e,134217728);null!==t&&Oa(t,e,134217728,ja()),vs(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Kn(e,1);null!==t&&Oa(t,e,1,ja()),vs(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Aa(e),n=Kn(e,t);null!==n&&Oa(n,e,t,ja()),vs(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Pt(t,1|n),Pa(t,Ft()),!(6&na)&&(ba(),Xt()))}break;case 13:Ba(function(){var t=Kn(e,1);if(null!==t){var n=ja();Oa(t,e,1,n)}}),vs(e,1)}},t.batchedUpdates=function(e,t){var n=na;na|=1;try{return e(t)}finally{0===(na=n)&&(ba(),Kt&&Xt())}},t.createComponentSelector=function(e){return{$$typeof:Wi,value:e}},t.createContainer=function(e,t,n,r,o,i,a){return ms(e,t,!1,null,0,r,0,i,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Hi,value:e}},t.createHydrationContainer=function(e,t,n,r,o,i,a,s,l){return(e=ms(n,r,!0,e,0,i,0,s,l)).context=gs(null),n=e.current,(i=Qn(r=ja(),o=Aa(n))).callback=null!=t?t:null,er(n,i,o),e.current.lanes=o,Ot(e,o,r),Pa(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ui,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Gi,value:e}},t.createTextSelector=function(e){return{$$typeof:$i,value:e}},t.deferredUpdates=function(e){var t=Nt,n=ta.transition;try{return ta.transition=null,Nt=16,e()}finally{Nt=t,ta.transition=n}},t.discreteUpdates=function(e,t,n,r,o){var i=Nt,a=ta.transition;try{return ta.transition=null,Nt=1,e(t,n,r,o)}finally{Nt=i,ta.transition=a,0===na&&ba()}},t.findAllNodes=Zi,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=Zi(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ie(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,o=r+n.width,i=n.y,s=i+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,f=c.y,p=f+c.height;if(r>=u&&i>=f&&o<=d&&s<=p){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||p<i||f>s)){f>i&&(c.height+=f-i,c.y=i),p<s&&(c.height=s-f),e.splice(t,1);break}if(!(i!==f||n.height!==c.height||d<r||u>o)){u>r&&(c.width+=u-r,c.x=r),d<o&&(c.width=o-u),e.splice(t,1);break}}return e},t.findHostInstance=ys,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=L(e))?j(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ys(e)},t.flushControlled=function(e){var t=na;na|=1;var n=ta.transition,r=Nt;try{ta.transition=null,Nt=1,e()}finally{Nt=r,ta.transition=n,0===(na=t)&&(ba(),Xt())}},t.flushPassiveEffects=Za,t.flushSync=Ba,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=Ji(e=qi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Nt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[qi(e),0];for(var o=0;o<e.length;){var i=e[o++],s=e[o++],l=t[s];if((5!==i.tag||!se(i))&&(Yi(i,l)&&(r.push(Ki(l)),++s>n&&(n=s)),s<t.length))for(i=i.child;null!==i;)e.push(i,s),i=i.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ki(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?P(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:xs,findFiberByHostInstance:e.findFiberByHostInstance||ks,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{$t=t.inject(e),Vt=t}catch(e){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=Zi(e,t);var o=ue(e,n,r).disconnect;return{disconnect:function(){o()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var o=t.current,i=ja(),a=Aa(o);return n=gs(n),null===t.context?t.context=n:t.pendingContext=n,(t=Qn(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=er(o,t,a))&&(Oa(e,o,a,i),tr(e,o,a)),a},t}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case l:return e;default:return t}}case o:return t}}}function w(e){return k(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||k(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===i},t.isLazy=function(e){return k(e)===g},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===o},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===v||e.$$typeof===x||e.$$typeof===y)},t.typeOf=k},3123:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9L12 15L18 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="rgb%28255,255,255%29"/></svg>'},3206:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/aetherium-logo-animatedeca2046b51ab57dde51a.svg"},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},3761:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-Brokenca20f96a70c5c0b59591.svg"},3893:(e,t,n)=>{"use strict";e.exports=n.p+"64d0e2aa2c14b462b79a.eot"},4088:(e,t,n)=>{var r=n(6540);e.exports=function(e,t,n){const o=r.useRef("loading"),i=r.useRef(),[a,s]=r.useState(0),l=r.useRef(),c=r.useRef(),u=r.useRef();return l.current===e&&c.current===t&&u.current===n||(o.current="loading",i.current=void 0,l.current=e,c.current=t,u.current=n),r.useLayoutEffect(function(){if(e){var r=document.createElement("img");return r.addEventListener("load",a),r.addEventListener("error",l),t&&(r.crossOrigin=t),n&&(r.referrerPolicy=n),r.src=e,function(){r.removeEventListener("load",a),r.removeEventListener("error",l)}}function a(){r.decode().catch(()=>{}).finally(()=>{o.current="loaded",i.current=r,s(Math.random())})}function l(){o.current="failed",i.current=void 0,s(Math.random())}},[e,t,n]),[i.current,o.current]}},4146:(e,t,n)=>{"use strict";var r=n(3404),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(i[y]||r&&r[y]||m&&m[y]||s&&s[y])){var b=f(n,y);try{c(t,y,b)}catch(e){}}}}return t}},4169:(e,t,n)=>{"use strict";e.exports=n.p+"085c3c5da0121aee4847.ttf"},4363:(e,t,n)=>{"use strict";e.exports=n(2799)},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},4517:(e,t,n)=>{"use strict";n.d(t,{A:()=>q});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(9844),l=n(4417),c=n.n(l),u=new URL(n(668),n.b),d=new URL(n(5526),n.b),f=new URL(n(2310),n.b),p=new URL(n(1890),n.b),h=new URL(n(6375),n.b),m=new URL(n(4655),n.b),g=new URL(n(4169),n.b),y=new URL(n(3761),n.b),b=new URL(n(3893),n.b),v=new URL(n(6621),n.b),x=new URL(n(4799),n.b),k=new URL(n(9727),n.b),w=new URL(n(6204),n.b),S=new URL(n(582),n.b),_=new URL(n(8198),n.b),C=new URL(n(1426),n.b),E=a()(o());E.i(s.A);var L=c()(u),T=c()(u,{hash:"?#iefix"}),M=c()(d),j=c()(f),A=c()(p,{hash:"#Iconly-light"}),O=c()(h),P=c()(h,{hash:"?#iefix"}),N=c()(m),I=c()(g),D=c()(y,{hash:"#Iconly-Broken"}),R=c()(b),z=c()(b,{hash:"?#iefix"}),B=c()(v),F=c()(x),W=c()(k,{hash:"#Iconly-Bold"}),H=c()(w),U=c()(w,{hash:"?#iefix"}),G=c()(S),$=c()(_),V=c()(C,{hash:"#Iconly-bulk"});E.push([e.id,`@font-face{font-family:iconly;font-style:normal;font-weight:200;src:url(${L});src:url(${T}) format("embedded-opentype"),url(${M}) format("woff"),url(${j}) format("truetype"),url(${A}) format("svg")}@font-face{font-family:iconly;font-style:normal;font-weight:normal;src:url(${O});src:url(${P}) format("embedded-opentype"),url(${N}) format("woff"),url(${I}) format("truetype"),url(${D}) format("svg")}@font-face{font-family:iconly;font-style:normal;font-weight:700;src:url(${R});src:url(${z}) format("embedded-opentype"),url(${B}) format("woff"),url(${F}) format("truetype"),url(${W}) format("svg")}@font-face{font-family:iconly;font-style:normal;font-weight:900;src:url(${H});src:url(${U}) format("embedded-opentype"),url(${G}) format("woff"),url(${$}) format("truetype"),url(${V}) format("svg")}[class^=iconly-],[class*=iconly-]{font-family:"iconly" !important;speak:never;font-style:normal;font-variant:normal;text-transform:none;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icli{font-weight:200}.icbr{font-weight:normal}.icbo{font-weight:700}.icbu{font-weight:900}.iconly-Activity:before{content:"î¤€"}.iconly-Add-User:before{content:"î¤"}.iconly-Arrow-Down:before{content:"î¤‚"}.iconly-Arrow-Down-2:before{content:"î¤ƒ"}.iconly-Arrow-Down-3:before{content:"î¤„"}.iconly-Arrow-Down-Circle:before{content:"î¤…"}.iconly-Arrow-Down-Square:before{content:"î¤†"}.iconly-Arrow-Left:before{content:"î¤‡"}.iconly-Arrow-Left-2:before{content:"î¤ˆ"}.iconly-Arrow-Left-3:before{content:"î¤‰"}.iconly-Arrow-Left-Circle:before{content:"î¤Š"}.iconly-Arrow-Left-Square:before{content:"î¤‹"}.iconly-Arrow-Right:before{content:"î¤Œ"}.iconly-Arrow-Right-2:before{content:"î¤"}.iconly-Arrow-Right-3:before{content:"î¤Ž"}.iconly-Arrow-Right-Circle:before{content:"î¤"}.iconly-Arrow-Right-Square:before{content:"î¤"}.iconly-Arrow-Up:before{content:"î¤‘"}.iconly-Arrow-Up-2:before{content:"î¤’"}.iconly-Arrow-Up-3:before{content:"î¤“"}.iconly-Arrow-Up-Circle:before{content:"î¤”"}.iconly-Arrow-Up-Square:before{content:"î¤•"}.iconly-Bag:before{content:"î¤–"}.iconly-Bag-2:before{content:"î¤—"}.iconly-Bookmark:before{content:"î¤˜"}.iconly-Buy:before{content:"î¤™"}.iconly-Calendar:before{content:"î¤š"}.iconly-Call:before{content:"î¤›"}.iconly-Call-Missed:before{content:"î¤œ"}.iconly-Call-Silent:before{content:"î¤"}.iconly-Calling:before{content:"î¤ž"}.iconly-Camera:before{content:"î¤Ÿ"}.iconly-Category:before{content:"î¤ "}.iconly-Chart:before{content:"î¤¡"}.iconly-Chat:before{content:"î¤¢"}.iconly-Close-Square:before{content:"î¤£"}.iconly-Danger:before{content:"î¤¤"}.iconly-Delete:before{content:"î¤¥"}.iconly-Discount:before{content:"î¤¦"}.iconly-Discovery:before{content:"î¤§"}.iconly-Document:before{content:"î¤¨"}.iconly-Download:before{content:"î¤©"}.iconly-Edit:before{content:"î¤ª"}.iconly-Edit-Square:before{content:"î¤«"}.iconly-Filter:before{content:"î¤¬"}.iconly-Filter-2:before{content:"î¤­"}.iconly-Folder:before{content:"î¤®"}.iconly-Game:before{content:"î¤¯"}.iconly-Graph:before{content:"î¤°"}.iconly-Heart:before{content:"î¤±"}.iconly-Hide:before{content:"î¤²"}.iconly-Home:before{content:"î¤³"}.iconly-Image:before{content:"î¤´"}.iconly-Image-2:before{content:"î¤µ"}.iconly-Info-Circle:before{content:"î¤¶"}.iconly-Info-Square:before{content:"î¤·"}.iconly-Location:before{content:"î¤¸"}.iconly-Lock:before{content:"î¤¹"}.iconly-Login:before{content:"î¤º"}.iconly-Logout:before{content:"î¤»"}.iconly-Message:before{content:"î¤¼"}.iconly-More-Circle:before{content:"î¤½"}.iconly-More-Square:before{content:"î¤¾"}.iconly-Notification:before{content:"î¤¿"}.iconly-Paper:before{content:"î¥€"}.iconly-Paper-Download:before{content:"î¥"}.iconly-Paper-Fail:before{content:"î¥‚"}.iconly-Paper-Negative:before{content:"î¥ƒ"}.iconly-Paper-Plus:before{content:"î¥„"}.iconly-Paper-Upload:before{content:"î¥…"}.iconly-Password:before{content:"î¥†"}.iconly-Play:before{content:"î¥‡"}.iconly-Plus:before{content:"î¥ˆ"}.iconly-Profile:before{content:"î¥‰"}.iconly-Scan:before{content:"î¥Š"}.iconly-Search:before{content:"î¥‹"}.iconly-Send:before{content:"î¥Œ"}.iconly-Setting:before{content:"î¥"}.iconly-Shield-Done:before{content:"î¥Ž"}.iconly-Shield-Fail:before{content:"î¥"}.iconly-Show:before{content:"î¥"}.iconly-Star:before{content:"î¥‘"}.iconly-Swap:before{content:"î¥’"}.iconly-Tick-Square:before{content:"î¥“"}.iconly-Ticket:before{content:"î¥”"}.iconly-Ticket-Star:before{content:"î¥•"}.iconly-Time-Circle:before{content:"î¥–"}.iconly-Time-Square:before{content:"î¥—"}.iconly-Unlock:before{content:"î¥˜"}.iconly-Upload:before{content:"î¥™"}.iconly-User2:before{content:"î¥š"}.iconly-User3:before{content:"î¥›"}.iconly-Video:before{content:"î¥œ"}.iconly-Voice:before{content:"î¥"}.iconly-Voice-2:before{content:"î¥ž"}.iconly-Volume-Down:before{content:"î¥Ÿ"}.iconly-Volume-Off:before{content:"î¥ "}.iconly-Volume-Up:before{content:"î¥¡"}.iconly-Wallet:before{content:"î¥¢"}.iconly-Work:before{content:"î¥£"}`,""]);const q=E},4585:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".polygon-edit-modal{position:absolute;background:#1b1d1f;border:1px solid #d0b373;border-radius:8px;box-shadow:0 8px 32px rgba(0,0,0,.6);z-index:2000;min-width:220px;user-select:none}.polygon-edit-modal .polygon-edit-modal-header{padding:12px 16px;background:linear-gradient(135deg, rgb(153, 126, 67) 0%, rgb(208, 179, 115) 100%);color:#0e0f0f;border-radius:8px 8px 0 0;cursor:grab}.polygon-edit-modal .polygon-edit-modal-header:active{cursor:grabbing}.polygon-edit-modal .polygon-edit-modal-header h4{margin:0;font-size:14px;font-weight:600;color:#0e0f0f}.polygon-edit-modal .polygon-edit-modal-body{padding:12px 16px;border-bottom:1px solid #494949;background:#1b1d1f}.polygon-edit-modal .polygon-edit-modal-body p{margin:0;font-size:13px;color:#d5d5d5}.polygon-edit-modal .polygon-edit-modal-actions{padding:12px 16px;display:flex;gap:8px;justify-content:flex-end;background:#1b1d1f;border-radius:0 0 8px 8px}.polygon-edit-modal .polygon-edit-modal-actions button{padding:8px 16px;border:none;border-radius:4px;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s ease}.polygon-edit-modal .polygon-edit-modal-actions button:hover{transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.3)}.polygon-edit-modal .polygon-edit-modal-actions button:active{transform:translateY(0)}.polygon-edit-modal .polygon-edit-modal-actions .btn-cancel{background:#494949;color:#e2e8f0;border:1px solid #494949}.polygon-edit-modal .polygon-edit-modal-actions .btn-cancel:hover{background:rgb(98.5,98.5,98.5)}.polygon-edit-modal .polygon-edit-modal-actions .btn-save{background:#997e43;color:#0e0f0f;border:1px solid #d0b373}.polygon-edit-modal .polygon-edit-modal-actions .btn-save:hover{background:#d0b373}",""]);const u=c},4655:(e,t,n)=>{"use strict";e.exports=n.p+"53fd4281d77d75bfd0f3.woff"},4799:(e,t,n)=>{"use strict";e.exports=n.p+"6f06110df00423c9fa6d.ttf"},4838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)o(e,n[t]);var i=document.body;for(var a in r)o(i,r[a]);n={},r={}},t.log=function(){};var n={},r={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),o.add(e)});var o,i},t.remove=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&o.remove(e)});var o,i}},4845:(e,t,n)=>{"use strict";e.exports=n(2935)},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var f=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},5095:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var a=i[o];if(!("_owner"===a&&t.$$typeof||e(t[a],n[a])))return!1}return!0}return t!=t&&n!=n}},5187:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".confirm-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:10000;backdrop-filter:blur(4px);animation:fadeIn .15s ease-out}.confirm-modal{background:#1a1a1a;border:1px solid #c9a96e;border-radius:12px;min-width:400px;max-width:500px;box-shadow:0 8px 32px rgba(0,0,0,.5);animation:slideUp .2s ease-out}.confirm-modal-header{padding:20px 24px 16px;border-bottom:1px solid #333}.confirm-modal-header h3{margin:0;color:#c9a96e;font-size:20px;font-weight:600}.confirm-modal-body{padding:24px}.confirm-modal-body p{margin:0;color:#e0e0e0;font-size:15px;line-height:1.6}.confirm-modal-actions{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px 20px;border-top:1px solid #333}.confirm-modal-actions button{padding:10px 24px;border-radius:6px;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.confirm-modal-actions button.btn-cancel{background:#2a2a2a;color:#c9a96e;border:1px solid #444}.confirm-modal-actions button.btn-cancel:hover{background:#333;border-color:#c9a96e}.confirm-modal-actions button.btn-cancel:focus{outline:2px solid #c9a96e;outline-offset:2px}.confirm-modal-actions button.btn-confirm{color:#fff}.confirm-modal-actions button.btn-confirm--danger{background:#dc3545}.confirm-modal-actions button.btn-confirm--danger:hover{background:#c82333;transform:translateY(-1px);box-shadow:0 4px 12px rgba(220,53,69,.4)}.confirm-modal-actions button.btn-confirm--warning{background:#ffc107;color:#1a1a1a}.confirm-modal-actions button.btn-confirm--warning:hover{background:#ffca2c;transform:translateY(-1px);box-shadow:0 4px 12px rgba(255,193,7,.4)}.confirm-modal-actions button.btn-confirm--info{background:#0dcaf0;color:#1a1a1a}.confirm-modal-actions button.btn-confirm--info:hover{background:#31d2f2;transform:translateY(-1px);box-shadow:0 4px 12px rgba(13,202,240,.4)}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}",""]);const s=a},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=v.prototype=new b;x.constructor=v,m(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var L=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,k(a)?(o="",null!=e&&(o=e.replace(L,"$&/")+"/"),M(a,t,o,"",function(e){return e})):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(L,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",k(e))for(var c=0;c<e.length;c++){var u=i+T(s=e[c],c);l+=M(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=M(s=s.value,t,o,u=i+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],o=0;return M(e,r,"","",function(e){return t.call(n,e,o++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=I,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},5383:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".region-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:2000;backdrop-filter:blur(4px)}.region-modal{background:#1a1a1a;border:1px solid #c9a96e;border-radius:12px;padding:24px;min-width:400px;max-width:500px;box-shadow:0 8px 32px rgba(0,0,0,.5)}.region-modal h2{margin:0 0 24px 0;color:#c9a96e;font-size:24px;font-weight:600}.region-modal .form-group-cols{display:flex;flex-wrap:wrap}.region-modal .form-group-cols .preview-group{flex:100%}.region-modal .form-group-cols .form-group{flex:100%}.region-modal .form-group-cols .form-group--half{flex:48%}.region-modal .form-group-cols .form-group--half:first-child{margin-right:2%}.region-modal .form-group-cols .form-group--half:nth-child(2){margin-left:2%}.region-modal .linkedToPage{color:#997e43}.region-modal .form-group{margin-bottom:20px}.region-modal .form-group label{display:block;color:#c9a96e;font-size:14px;margin-bottom:8px;font-weight:500}.region-modal .form-group input[type=text]{width:100%;padding:10px 12px;background:#2a2a2a;border:1px solid #444;border-radius:6px;color:#fff;font-size:14px;transition:border-color .2s}.region-modal .form-group input[type=text]:focus{outline:none;border-color:#c9a96e}.region-modal .form-group input[type=text]::placeholder{color:#666}.region-modal .form-group input[type=text]:disabled{background:#1b1d1f;cursor:not-allowed;color:#444}.region-modal .form-group input[type=range]{width:100%;height:6px;background:#2a2a2a;border-radius:3px;outline:none;-webkit-appearance:none}.region-modal .form-group input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;background:#c9a96e;border-radius:50%;cursor:pointer;transition:background .2s}.region-modal .form-group input[type=range]::-webkit-slider-thumb:hover{background:#e6c896}.region-modal .form-group input[type=range]::-moz-range-thumb{width:18px;height:18px;background:#c9a96e;border-radius:50%;cursor:pointer;border:none;transition:background .2s}.region-modal .form-group input[type=range]::-moz-range-thumb:hover{background:#e6c896}.region-modal .color-input-group{display:flex;gap:12px;align-items:center}.region-modal .color-input-group input[type=color]{width:50px;height:50px;border:1px solid #444;border-radius:6px;cursor:pointer;background:#2a2a2a;padding:4px}.region-modal .color-input-group input[type=color]::-webkit-color-swatch-wrapper{padding:0}.region-modal .color-input-group input[type=color]::-webkit-color-swatch{border:none;border-radius:4px}.region-modal .color-input-group input[type=text]{flex:1}.region-modal .preview-group{margin-bottom:24px}.region-modal .preview-group label{display:block;color:#c9a96e;font-size:14px;margin-bottom:8px;font-weight:500}.region-modal .preview-group .color-preview{width:100%;height:80px;border-radius:8px;position:relative;background-image:linear-gradient(45deg, #333 25%, transparent 25%),linear-gradient(-45deg, #333 25%, transparent 25%),linear-gradient(45deg, transparent 75%, #333 75%),linear-gradient(-45deg, transparent 75%, #333 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0px}.region-modal .asset-selector .selected-asset{display:flex;align-items:center;gap:12px;padding:12px;background:#2a2a2a;border:1px solid #444;border-radius:6px}.region-modal .asset-selector .selected-asset .asset-preview{width:48px;height:48px;object-fit:contain;border-radius:4px;background:#1a1a1a}.region-modal .asset-selector .selected-asset .remove-asset-btn{padding:6px 12px;background:#dc3545;color:#fff;border:none;border-radius:4px;font-size:12px;cursor:pointer;transition:background .2s}.region-modal .asset-selector .selected-asset .remove-asset-btn:hover{background:#c82333}.region-modal .asset-selector .select-asset-btn{width:100%;padding:10px 12px;background:#2a2a2a;border:1px solid #444;border-radius:6px;color:#c9a96e;font-size:14px;cursor:pointer;transition:all .2s}.region-modal .asset-selector .select-asset-btn:hover{background:#333;border-color:#c9a96e}.region-modal .modal-actions{display:flex;justify-content:space-between;align-items:center;margin-top:24px;padding-top:20px;border-top:1px solid #333}.region-modal .modal-actions .modal-actions-right{display:flex;gap:12px}.region-modal .modal-actions button{padding:10px 20px;border-radius:6px;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.region-modal .modal-actions button.btn-save{background:#c9a96e;color:#1a1a1a}.region-modal .modal-actions button.btn-save:hover{background:#e6c896;transform:translateY(-1px);box-shadow:0 4px 12px rgba(201,169,110,.3)}.region-modal .modal-actions button.btn-cancel{background:#2a2a2a;color:#c9a96e;border:1px solid #444}.region-modal .modal-actions button.btn-cancel:hover{background:#333;border-color:#c9a96e}.region-modal .modal-actions button.btn-delete{background:#dc3545;color:#fff}.region-modal .modal-actions button.btn-delete:hover{background:#c82333;transform:translateY(-1px);box-shadow:0 4px 12px rgba(220,53,69,.3)}",""]);const u=c},5475:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".linkLike{background:none;border:none;color:#8ab4ff;cursor:pointer;padding:0;text-decoration:underline}.page-picker{display:flex;flex-direction:column;height:100%}.page-picker__header{display:flex;align-items:center;gap:.5rem;padding:1rem 1.25rem;border-bottom:1px solid hsla(0,0%,100%,.1)}.page-picker__header h3{margin:0;font-size:1.1rem;font-weight:600}.page-picker__loading{font-size:.85rem;opacity:.6}.page-picker__search{width:100%;padding:.75rem 1rem;margin:.75rem 1.25rem;margin-bottom:.5rem;background:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,100%,.1);border-radius:6px;color:#fff;font-size:.95rem;max-width:calc(100% - 2.5rem)}.page-picker__search:focus{outline:none;border-color:rgba(138,180,255,.5);background:hsla(0,0%,100%,.08)}.page-picker__search::placeholder{color:hsla(0,0%,100%,.4)}.page-picker__list{flex:1;overflow-y:auto;padding:.5rem .75rem;max-height:400px}.page-picker__item{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem .75rem;background:none;border:none;border-radius:6px;color:#fff;text-align:left;cursor:pointer;transition:background .15s}.page-picker__item:hover{background:hsla(0,0%,100%,.08)}.page-picker__item:active{background:hsla(0,0%,100%,.12)}.page-picker__icon{display:flex;align-items:center;justify-content:center;width:32px;height:32px;font-size:1.2rem;color:rgba(138,180,255,.8);flex-shrink:0}.page-picker__title{font-size:.95rem;flex:1}.page-picker__empty{padding:2rem 1rem;text-align:center;color:hsla(0,0%,100%,.4);font-size:.9rem}.page-picker__footer{padding:1rem 1.25rem;border-top:1px solid hsla(0,0%,100%,.1);display:flex;justify-content:flex-end}",""]);const s=a},5526:(e,t,n)=>{"use strict";e.exports=n.p+"271ca46482613b8fb8ea.woff"},5556:(e,t,n)=>{e.exports=n(2694)()},5781:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(9622),n.b),f=a()(o());f.i(s.A),f.i(l.A),f.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var p=u()(d);f.push([e.id,`.homepage{position:relative;min-height:100%;height:100%;max-height:100%;color:#e2e8f0;text-align:center;overflow:hidden;background-image:url(${p});background-size:contain;background-position:center;background-repeat:no-repeat}.homepage::after{position:absolute;z-index:1;top:0;left:0;height:100%;width:100%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0) 90%, rgba(0, 0, 0, 0.85) 80%)}.homepage .dark-bg{position:absolute;z-index:0;top:0;left:0;height:100%;width:100%;background:#1b1d1f;opacity:1;animation:disappear 3s ease forwards;animation-delay:5s}.homepage .homepage__title{position:relative;opacity:0;top:calc(100% - 390px);animation:appear 2s ease forwards;animation-delay:7s;font-size:4rem;font-family:"Cinzel Decorative",serif;z-index:3;font-weight:300}.homepage .glow{text-align:center;-webkit-animation:glow 1s ease-in-out infinite alternate;-moz-animation:glow 1s ease-in-out infinite alternate;animation:glow 1s ease-in-out infinite alternate}@-webkit-keyframes glow{from{text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #e9ca00,0 0 40px #e9ca00,0 0 50px #e9ca00,0 0 60px #e9ca00,0 0 70px #e9ca00}to{text-shadow:0 0 20px #fff,0 0 30px #e6d460,0 0 40px #e6d460,0 0 50px #e6d460,0 0 60px #e6d460,0 0 70px #e6d460,0 0 80px #e6d460}}@keyframes appear{from{opacity:0}to{opacity:1}}`,""]);const h=f},5922:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.rt-bubble-menu,.rt-bubble-menu-image{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:6px 8px;display:inline-flex;align-items:center;gap:8px;user-select:none}.rt-bubble-menu--hidden,.rt-bubble-menu-image--hidden{display:none}.rt-bubble-menu .btns,.rt-bubble-menu-image .btns{display:inline-flex;align-items:center;gap:6px}.rt-bubble-menu select,.rt-bubble-menu .rt-select,.rt-bubble-menu-image select,.rt-bubble-menu-image .rt-select{appearance:none;background:#0e0f0f;color:inherit;border:1px solid #494949;border-radius:10px;padding:6px 10px;font:inherit;line-height:1;cursor:pointer}.rt-bubble-menu .rt-mode,.rt-bubble-menu-image .rt-mode{position:relative}.rt-bubble-menu .rt-mode__btn,.rt-bubble-menu-image .rt-mode__btn{appearance:none;background:#1b1d1f;color:inherit;border-radius:6px;padding:6px 10px;font:inherit;line-height:1;cursor:pointer;min-width:120px;text-align:left}.rt-bubble-menu .rt-mode-menu,.rt-bubble-menu-image .rt-mode-menu{position:absolute;top:calc(100% + 6px);left:0;background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:6px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:10px;min-width:220px;z-index:1000}.rt-bubble-menu .rt-mode-menu::before,.rt-bubble-menu-image .rt-mode-menu::before{content:"";position:absolute;top:-6px;left:14px;width:10px;height:10px;background:#494949;border-top:1px solid #494949;border-left:1px solid #494949;transform:rotate(45deg)}.rt-bubble-menu .rt-menu-section,.rt-bubble-menu-image .rt-menu-section{font-size:12px;opacity:.6;margin:4px 0 6px}.rt-bubble-menu .rt-menu-row,.rt-bubble-menu-image .rt-menu-row{display:flex;align-items:center;gap:6px;padding:4px 0}.rt-bubble-menu .rt-menu-row>span,.rt-bubble-menu-image .rt-menu-row>span{font-size:12px;opacity:.7}.rt-bubble-menu .rt-menu-row button,.rt-bubble-menu-image .rt-menu-row button{appearance:none;background:rgba(0,0,0,0);color:inherit;border:1px solid rgba(0,0,0,0);padding:6px 8px;border-radius:6px;cursor:pointer;transition:background .12s ease,border-color .12s ease;width:100%;text-align:left;justify-content:flex-start}.rt-bubble-menu .rt-menu-row button:hover,.rt-bubble-menu-image .rt-menu-row button:hover{background:#1b1d1f;border-color:#494949}.rt-bubble-menu .rt-menu-row button.active,.rt-bubble-menu-image .rt-menu-row button.active{background:color-mix(in srgb, rgb(208, 179, 115) 18%, transparent);border-color:color-mix(in srgb, rgb(208, 179, 115) 55%, rgb(73, 73, 73));color:#0b0b0b;font-weight:700}.rt-bubble-menu button,.rt-bubble-menu-image button{appearance:none;border:1px solid rgba(0,0,0,0);background:rgba(0,0,0,0);color:inherit;width:32px;height:32px;border-radius:6px;display:grid;place-items:center;cursor:pointer;transition:background .12s ease,border-color .12s ease,transform .06s ease}.rt-bubble-menu button:hover,.rt-bubble-menu-image button:hover{background:#1b1d1f;border-color:#494949}.rt-bubble-menu button:active,.rt-bubble-menu-image button:active{transform:translateY(1px)}.rt-bubble-menu button.active,.rt-bubble-menu-image button.active{background:color-mix(in srgb, rgb(208, 179, 115) 18%, transparent);border-color:color-mix(in srgb, rgb(208, 179, 115) 55%, rgb(73, 73, 73));color:#0b0b0b;font-weight:700}.rt-bubble-menu button:disabled,.rt-bubble-menu-image button:disabled{opacity:.45;cursor:not-allowed}.rt-bubble-menu .rt-divider,.rt-bubble-menu-image .rt-divider{width:1px;height:22px;background:#494949;margin:0 4px}.rt-bubble-menu:after,.rt-bubble-menu-image:after{content:"";position:absolute;inset-inline:0;margin-inline:auto;bottom:-6px;width:10px;height:10px;background:#1b1d1f;border-right:1px solid #494949;border-bottom:1px solid #494949;transform:rotate(45deg)}.rt-float{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:6px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:6px 8px}.rt-toolbar{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end;margin-bottom:.3rem;opacity:0;position:absolute;top:-25px;z-index:10;width:100%}.rt-toolbar .rt-add-block{display:flex;gap:.5rem}.rt-toolbar .add-block-btn{display:flex;justify-content:center;align-items:center;position:relative;padding:.3rem;border-radius:3px;width:24px;border-radius:3px;color:#d5d5d5;background:#494949;border:none;box-shadow:none;line-height:1;cursor:pointer;transition:opacity .15s ease,background .15s ease,border-color .15s ease}.rt-toolbar .add-block-btn:hover{background:#0e0f0f}.rt-toolbar .rt-sideTools{justify-content:flex-end;display:flex;gap:.5rem}.rt-toolbar .rt-sideTools button{background:#494949;border:none;color:#d5d5d5;padding:.3rem;border-radius:3px;width:24px;cursor:pointer}.rt-toolbar .rt-sideTools button:hover{background:#0e0f0f}.richtext-dropcursor{color:#d0b373}p img{max-width:100%;height:auto}div[data-node=image] div{max-width:100%}div[data-node=image] div img{max-width:100%;height:auto}.rt-content [data-resize-container]{position:relative;display:inline-flex;align-items:flex-start;justify-content:flex-start}.rt-content [data-resize-wrapper]{position:relative;display:inline-block;line-height:0}.rt-content [data-resize-handle]{position:absolute;width:12px;height:12px;border-radius:50%;background:#c49f17;border:2px solid #0f1116;box-shadow:0 0 0 1px rgba(0,0,0,.35);z-index:5;pointer-events:auto;opacity:.95;font-size:0;line-height:0}.rt-content [data-resize-handle=top]{top:-6px;left:50%;transform:translate(-50%, -50%);cursor:ns-resize}.rt-content [data-resize-handle=bottom]{bottom:-6px;right:0;cursor:ns-resize}.rt-content [data-resize-handle=left]{left:-6px;top:50%;transform:translate(-50%, -50%);cursor:ew-resize}.rt-content [data-resize-handle=right]{right:-6px;top:50%;transform:translate(50%, -50%);cursor:ew-resize}.rt-content [data-resize-container] [data-resize-handle]{display:none}.rt-content [data-resize-container]:hover [data-resize-handle],.rt-content [data-resize-container].ProseMirror-selectednode [data-resize-handle],.rt-content [data-resize-container] img.ProseMirror-selectednode+[data-resize-handle]{display:block}.ProseMirror p div:has(.float-left){float:left;margin-right:5px}.ProseMirror p div:has(.float-right){float:right;margin-left:5px}.ProseMirror p div:has(.float-none){float:none;margin:0}.rt-content [data-resize-container][data-float=left]{float:left;margin:.5rem;margin-right:1rem;margin-top:.7rem;margin-left:0}.rt-content [data-resize-container][data-float=right]{float:right;margin:.5rem;margin-left:1rem;margin-top:.7rem;margin-right:0}.rt-content [data-resize-container][data-float=none]{float:none;margin:0}',""]);const u=c},6204:(e,t,n)=>{"use strict";e.exports=n.p+"27ec0d8f53ae8f6cc374.eot"},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},6375:(e,t,n)=>{"use strict";e.exports=n.p+"ea9c1d594ac9cda959b6.eot"},6462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a&&(a.removeAttribute?a.removeAttribute("aria-hidden"):null!=a.length?a.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(a).forEach(function(e){return e.removeAttribute("aria-hidden")})),a=null},t.log=function(){},t.assertNodeList=s,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);s(n,t),t=n}return a=t||a},t.validateElement=l,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=l(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.setAttribute("aria-hidden","true")}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=l(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.removeAttribute("aria-hidden")}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){a=null};var r,o=(r=n(9771))&&r.__esModule?r:{default:r},i=n(834),a=null;function s(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){var t=e||a;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},6503:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Aetherium-Tyriandor8870d93f7057c320cf14.webp"},6523:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"",""]);const s=a},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},6621:(e,t,n)=>{"use strict";e.exports=n.p+"77d938db69c858a9a936.woff"},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(n.length){var r=void 0,a=t.shiftKey,s=n[0],l=n[n.length-1],c=i();if(e===c){if(!a)return;r=l}if(l!==c||a||(r=s),s===c&&a&&(r=l),r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var d=n.indexOf(c);if(d>-1&&(d+=a?-1:1),void 0===(r=n[d]))return t.preventDefault(),void(r=a?l:s).focus();t.preventDefault(),r.focus()}}else t.preventDefault()};var r,o=(r=n(2411))&&r.__esModule?r:{default:r};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?i(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},7305:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.loreHome{background-size:cover !important;background-position:center center !important}.loreHome .bgLayer{position:absolute;inset:0;background:inherit;background-size:cover;background-position:center;pointer-events:none;filter:blur(0px);transform:translateZ(0);will-change:filter;z-index:0}.loreHome .mapBackgroundLayer{position:fixed;inset:0;top:130px;z-index:1;pointer-events:auto}.loreHome .mapOverlayUI{position:fixed;top:calc(260px + 1rem);right:2rem;z-index:10;pointer-events:none}.loreHome .mapOverlayUI>*{pointer-events:auto}.loreHome .mapModeToggle{width:50px;height:50px;border-radius:50%;background:rgba(0,0,0,.7);backdrop-filter:blur(10px);border:2px solid rgba(153,126,67,.3);color:#bababa;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px rgba(0,0,0,.3)}.loreHome .mapModeToggle:hover{background:rgba(153,126,67,.2);border-color:rgba(153,126,67,.6);color:#e2e8f0}.loreHome .mapModeToggle.active{background:#997e43;border-color:#997e43;color:#0e0f0f}.loreHome .mapModeToggle svg{width:24px;height:24px}.loreHome .categoriesMenu{position:fixed;top:calc(260px + 1rem);z-index:10;width:200px;transition:transform .3s ease;transform:translate3d(2rem, 0, 0)}.loreHome .categoriesMenu.collapsed{transform:translate3d(calc(-2rem - 200px + 30px), 0, 0)}.loreHome .categoriesMenu--collapsible{position:absolute;right:-30px;top:60px;transform:translateY(-50%);width:30px;height:60px;background:rgba(14,15,15,.8);border:none;border-radius:0 8px 8px 0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#e6c896;padding:0}.loreHome.offset-container{height:auto;min-height:100%;min-height:100vh;position:relative;margin-top:0;padding-bottom:2rem;padding-top:0}.loreHome .overflow-container{position:absolute;top:130px;left:0;right:0;bottom:0;width:100%;overflow-y:auto;overscroll-behavior-y:contain;-webkit-overflow-scrolling:touch;scroll-padding-top:16px;z-index:2;pointer-events:none}.loreHome .overflow-container>*{pointer-events:auto}.loreHome .contentContainer{max-width:100%;margin:0 auto;overflow:visible;position:relative;padding:2rem;pointer-events:none}.loreHome .contentContainer>*{pointer-events:auto}.loreTitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;font-size:2.5rem;margin:0 0 .5rem 0;text-align:center;color:#e2e8f0;text-transform:uppercase}.loreSubtitle{font-family:"Montserrat",sans-serif;font-weight:300;font-size:1rem;color:#bababa;margin-bottom:3rem;text-align:center}.loreColumns{display:flex;gap:2rem;align-items:start;pointer-events:none;max-width:1000px;margin:0 auto}.loreColumns>*{pointer-events:auto}.categoriesColumn{position:relative;background-color:rgba(14,15,15,.8);backdrop-filter:blur(10px);z-index:10;pointer-events:auto;border-radius:8px;padding:1.5rem;box-shadow:0 4px 12px rgba(0,0,0,.3)}.pagesColumn{min-height:400px;position:relative;z-index:10;pointer-events:auto}.pagesColumn>*{pointer-events:auto}.columnTitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;font-size:1rem;margin-bottom:1.5rem;color:#997e43;text-transform:uppercase}.categoriesList{display:flex;flex-direction:column;gap:.5rem}.categoryCard{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;background:rgba(0,0,0,0);border:none;padding:.75rem 1rem;cursor:pointer;transition:all .2s ease;color:#d5d5d5;text-align:left;font-size:.9rem;text-transform:uppercase;position:relative}.categoryCard::before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background:rgba(0,0,0,0);transition:background .2s ease}.categoryCard:hover{color:#e2e8f0;padding-left:1.25rem}.categoryCard.active{color:#d0b373;padding-left:1.25rem}.categoryCard.active::before{background:#d0b373}.categoryCard .label{font-size:.9rem}.loadingText,.emptyText{font-family:"Montserrat",sans-serif;font-weight:300;text-align:center;color:#bababa;padding:2rem}.pageList{list-style:none;padding:0;margin:0;display:flex;gap:1rem;flex-direction:row}.pageListItem{cursor:pointer;flex:1;min-height:250px;max-width:200px}.pageCard{position:relative;background:rgba(14,15,15,.8);border-radius:8px;overflow:hidden;display:flex;flex-direction:column;height:100%;transition:all .2s ease;border:1px solid #0e0f0f;align-items:flex-end;justify-content:flex-end}.pageCard:hover{border-color:#d0b373}.pageCard:hover .meta .pageExcerpt{opacity:1;transform:translateY(0)}.pageCard .thumb{width:100%;height:100%;background-size:cover;background-position:center;object-fit:cover;position:absolute}.pageCard .meta{position:relative;padding:.75rem;justify-content:flex-start;align-self:flex-end;width:100%;background:rgba(14,15,15,.8);display:flex;flex-direction:column;overflow:hidden;transition:max-height 300ms ease;will-change:max-height}.pageCard .meta .deleteBtn{position:absolute;bottom:.5rem;right:.5rem;background:rgba(0,0,0,.6);border:1px solid hsla(0,0%,100%,.2);border-radius:6px;padding:.35rem;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#d5d5d5;transition:all .2s ease;opacity:0;transform:translateY(4px)}.pageCard .meta .deleteBtn:hover{background:rgba(168,85,247,.3);border-color:#a855f7;color:#a855f7}.pageCard .meta .deleteBtn:active{transform:translateY(4px) scale(0.95)}.pageCard .meta:hover .deleteBtn{opacity:1;transform:translateY(0)}.pageCard .pageTitle{font-family:"Montserrat",sans-serif;font-weight:700;margin:0;font-size:1rem;color:#e2e8f0;text-transform:uppercase}.pageCard .pageSubtitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;margin:0;font-size:.6rem;color:#997e43}.pageCard .pageExcerpt{font-family:"Crimson Text",sans-serif;font-weight:400;margin:.3rem 0 0 0;font-size:1rem;color:#d5d5d5;opacity:0;transform:translateY(4px);transition:opacity 220ms ease,transform 220ms ease}.pageCard .pageExcerpt .moreIndicator{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;color:#997e43;font-size:.7rem;cursor:pointer}.draftBadge{position:absolute;display:flex;align-items:center;justify-content:center;height:30px;top:.3rem;margin-top:.25rem;padding:.1rem .5rem;background:#0e0f0f;color:#d0b373;border-top-left-radius:4px;border-bottom-left-radius:4px;font-size:.7rem;font-weight:600}.modal__btn{padding:8px 16px;border-radius:6px;border:1px solid #494949;background:#0e0f0f;color:#e2e8f0;cursor:pointer;transition:all .2s ease;font-size:.9rem}.modal__btn:hover{background:#1b1d1f;border-color:#d5d5d5}.modal__btn.cancel{background:rgba(0,0,0,0);color:#d5d5d5}.modal__btn.cancel:hover{background:hsla(0,0%,100%,.05);color:#e2e8f0}.modal__btn.delete{background:rgba(168,85,247,.2);border-color:#a855f7;color:#a855f7}.modal__btn.delete:hover{background:#a855f7;color:#0e0f0f}@media(max-width: 768px){.loreColumns{grid-template-columns:1fr;gap:1.5rem}.categoriesColumn{position:static}.categoriesList{flex-direction:row;flex-wrap:wrap}.categoryCard.active{padding-left:1rem}.categoryCard::before{display:none}}.sidebarPageDetail{position:fixed;top:130px;right:0px;width:400px;height:100vh;background-color:#1b1d1f;border-left:1px solid #997e43;box-shadow:rgba(0,0,0,.3) -4px 0px 24px;z-index:1100;overflow-y:auto;padding:1.5rem;color:#e2e8f0}',""]);const u=c},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,P(w);else{var t=r(u);null!==t&&N(k,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,b(E),E=-1),h=!0;var i=p;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!M());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(c)&&o(c),x(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&N(k,d.startTime-n),l=!1}return l}finally{f=null,p=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,C=null,E=-1,L=5,T=-1;function M(){return!(t.unstable_now()-T<L)}function j(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(_=!1,C=null)}}else _=!1}if("function"==typeof v)S=function(){v(j)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=j,S=function(){O.postMessage(null)}}else S=function(){y(j,0)};function P(e){C=e,_||(_=!0,S())}function N(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,N(k,i-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,P(w))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[i,a],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}i=a=null,s=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(s.length);for(var e=[i,a],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,o=(r=n(9628))&&r.__esModule?r:{default:r},i=void 0,a=void 0,s=[];function l(){0!==s.length&&s[s.length-1].focusContent()}o.default.subscribe(function(e,t){i||a||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",l),(a=i.cloneNode()).addEventListener("focus",l)),(s=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(i.parentElement&&i.parentElement.removeChild(i),a.parentElement&&a.parentElement.removeChild(a))})},7791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){i=[]},t.log=function(){},t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==i.length&&(t=i.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var r,o=(r=n(2411))&&r.__esModule?r:{default:r},i=[],a=null,s=!1;function l(){s=!0}function c(){if(s){if(s=!1,!a)return;setTimeout(function(){a.contains(document.activeElement)||((0,o.default)(a)[0]||a).focus()},0)}}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},8198:(e,t,n)=>{"use strict";e.exports=n.p+"2c366a82a5f6b0233fa9.ttf"},8275:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/aetherium_coming_of_elves687a1d3ca30d04f70eb0.png"},8493:(e,t,n)=>{"use strict";var r=n(6540),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},9090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6540),s=g(n(5556)),l=m(n(7791)),c=g(n(7067)),u=m(n(6462)),d=m(n(4838)),f=n(834),p=g(f),h=g(n(9628));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(7727);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=0,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName,a=e.parentSelector,s=a&&a().ownerDocument||document;i&&d.remove(s.body,i),o&&d.remove(s.getElementsByTagName("html")[0],o),r&&b>0&&0==(b-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},function(){n.openAnimationFrame=requestAnimationFrame(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,r){return n[e+"-"+r]=t[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName,i=e.parentSelector,a=i&&i().ownerDocument||document;o&&d.add(a.body,o),r&&d.add(a.getElementsByTagName("html")[0],r),n&&(b+=1,u.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,i=e.defaultStyles,a=e.children,s=n?{}:i.content,l=o?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,a);return this.props.overlayElement(c,d)}}]),t}(a.Component);v.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},v.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(p.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(p.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=v,e.exports=t.default},9242:(e,t,n)=>{"use strict";e.exports=n(2162)},9622:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/homebg2183232c95e066aadfa6.webp"},9628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(n){return n(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},9632:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.navBar{position:fixed;left:0;right:0;align-items:center;z-index:1000;display:flex;justify-content:center;align-items:center}.navBar .brand{display:flex;flex-direction:column;align-items:center}.navBar .brand .brand-logo{width:auto}.navBar.other{padding:.5rem 1rem;background:#1b1d1f;border-bottom:1px solid #997e43;height:130px;top:0}.navBar.other .brand .brand-logo{max-height:100px;width:auto}.navBar.is-home{padding:1.5rem 1rem;background:rgba(0,0,0,0);top:50%;left:50%;transform:translate(-50%, -50%);height:260px;animation:fromTopToBottom 1s ease-out forwards;animation-delay:6s;width:100%}.navLink{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-decoration:none;font-weight:600;color:#e2e8f0;transition:color .2s;width:160px;transition:all .2s ease}.navLink:hover{color:#d0b373}.navLink.active{color:#d0b373}.navLink.active:hover{color:#bababa}.navLink.is-home{font-size:1.5rem;width:200px}.navLink.is-home.brand{height:auto;width:300px;animation:smmaller .4s ease forwards;animation-delay:6s}.navLink.is-home:not(.brand){opacity:0;animation:appear 3s ease forwards;animation-delay:5s}.navLink.other{font-size:1rem}.brand .treeIcon{line-height:1}.brand .name{font-family:"serif";letter-spacing:.05em;color:#d0b373;font-weight:700}.brand.is-home .treeIcon{font-size:3rem}.brand.other .treeIcon{font-size:1.8rem}.brand.is-home .name{font-size:2.5rem}.brand.other .name{font-size:1.4rem}.backLink{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;position:absolute;top:50%;left:1rem;transform:translateY(-50%);text-decoration:none;font-weight:200;color:#e2e8f0;display:flex;transition:all .2s ease}.backLink:hover{color:#d0b373}@keyframes fromTopToBottom{0%{top:50%;left:50%;transform:translate(-50%, -50%)}100%{height:100px;top:calc(100% - 210px);background:#1b1d1f}}@keyframes fromBottomToTop{0%{top:50%;left:50%;transform:translate(-50%, -50%)}100%{top:0px;border-width:100%;border-opacity:1}}@keyframes smmaller{0%{width:300px}100%{width:100px}}',""]);const u=c},9648:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/aetherium-logo-nostrokebbfba33c8a0d804c03fd.svg"},9727:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-Boldc0510fb2a8df5a276722.svg"},9771:e=>{"use strict";e.exports=function(){}},9844:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'[class^=iconlyBulk-],[class*=" iconlyBulk-"]{font-family:"iconly" !important;speak:never;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;font-weight:900;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconlyBulk-Arrow-Down .path1:before{content:"î¤€";opacity:.4}.iconlyBulk-Arrow-Down .path2:before{content:"î¤";margin-left:-1em}.iconlyBulk-User2 .path1:before{content:"î¤‚"}.iconlyBulk-User2 .path2:before{content:"î¤ƒ";margin-left:-1em;opacity:.4}.iconlyBulk-User2 .path3:before{content:"î¤„";margin-left:-1em;opacity:.4}.iconlyBulk-User2 .path4:before{content:"î¤…";margin-left:-1em}.iconlyBulk-User3 .path1:before{content:"î¤†"}.iconlyBulk-User3 .path2:before{content:"î¤‡";margin-left:-1em;opacity:.4}.iconlyBulk-User3 .path3:before{content:"î¤ˆ";margin-left:-1em;opacity:.4}.iconlyBulk-User3 .path4:before{content:"î¤‰";margin-left:-1em}.iconlyBulk-User3 .path5:before{content:"î¤Š";margin-left:-1em;opacity:.4}.iconlyBulk-User3 .path6:before{content:"î¤‹";margin-left:-1em}.iconlyBulk-Activity .path1:before{content:"î¤Œ"}.iconlyBulk-Activity .path2:before{content:"î¤";margin-left:-1em;opacity:.4}.iconlyBulk-Add-User .path1:before{content:"î¤Ž"}.iconlyBulk-Add-User .path2:before{content:"î¤";margin-left:-1em}.iconlyBulk-Add-User .path3:before{content:"î¤";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Down-2 .path1:before{content:"î¤‘"}.iconlyBulk-Arrow-Down-2 .path2:before{content:"î¤’";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Down-3 .path1:before{content:"î¤“";opacity:.4}.iconlyBulk-Arrow-Down-3 .path2:before{content:"î¤”";margin-left:-1em}.iconlyBulk-Arrow-Down-Circle .path1:before{content:"î¤•";opacity:.4}.iconlyBulk-Arrow-Down-Circle .path2:before{content:"î¤–";margin-left:-1em}.iconlyBulk-Arrow-Down-Square .path1:before{content:"î¤—";opacity:.4}.iconlyBulk-Arrow-Down-Square .path2:before{content:"î¤˜";margin-left:-1em}.iconlyBulk-Arrow-Left-2 .path1:before{content:"î¤™"}.iconlyBulk-Arrow-Left-2 .path2:before{content:"î¤š";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Left-3 .path1:before{content:"î¤›";opacity:.4}.iconlyBulk-Arrow-Left-3 .path2:before{content:"î¤œ";margin-left:-1em}.iconlyBulk-Arrow-Left-Circle .path1:before{content:"î¤";opacity:.4}.iconlyBulk-Arrow-Left-Circle .path2:before{content:"î¤ž";margin-left:-1em}.iconlyBulk-Arrow-Left-Square .path1:before{content:"î¤Ÿ";opacity:.4}.iconlyBulk-Arrow-Left-Square .path2:before{content:"î¤ ";margin-left:-1em}.iconlyBulk-Arrow-Left .path1:before{content:"î¤¡";opacity:.4}.iconlyBulk-Arrow-Left .path2:before{content:"î¤¢";margin-left:-1em}.iconlyBulk-Arrow-Right-2 .path1:before{content:"î¤£"}.iconlyBulk-Arrow-Right-2 .path2:before{content:"î¤¤";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Right-3 .path1:before{content:"î¤¥";opacity:.4}.iconlyBulk-Arrow-Right-3 .path2:before{content:"î¤¦";margin-left:-1em}.iconlyBulk-Arrow-Right-Circle .path1:before{content:"î¤§";opacity:.4}.iconlyBulk-Arrow-Right-Circle .path2:before{content:"î¤¨";margin-left:-1em}.iconlyBulk-Arrow-Right-Square .path1:before{content:"î¤©";opacity:.4}.iconlyBulk-Arrow-Right-Square .path2:before{content:"î¤ª";margin-left:-1em}.iconlyBulk-Arrow-Right .path1:before{content:"î¤«";opacity:.4}.iconlyBulk-Arrow-Right .path2:before{content:"î¤¬";margin-left:-1em}.iconlyBulk-Arrow-Up-2 .path1:before{content:"î¤­"}.iconlyBulk-Arrow-Up-2 .path2:before{content:"î¤®";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Up-3 .path1:before{content:"î¤¯";opacity:.4}.iconlyBulk-Arrow-Up-3 .path2:before{content:"î¤°";margin-left:-1em}.iconlyBulk-Arrow-Up-Circle .path1:before{content:"î¤±";opacity:.4}.iconlyBulk-Arrow-Up-Circle .path2:before{content:"î¤²";margin-left:-1em}.iconlyBulk-Arrow-Up-Square .path1:before{content:"î¤³";opacity:.4}.iconlyBulk-Arrow-Up-Square .path2:before{content:"î¤´";margin-left:-1em}.iconlyBulk-Arrow-Up .path1:before{content:"î¤µ";opacity:.4}.iconlyBulk-Arrow-Up .path2:before{content:"î¤¶";margin-left:-1em}.iconlyBulk-Bag-2 .path1:before{content:"î¤·";opacity:.4}.iconlyBulk-Bag-2 .path2:before{content:"î¤¸";margin-left:-1em}.iconlyBulk-Bag .path1:before{content:"î¤¹"}.iconlyBulk-Bag .path2:before{content:"î¤º";margin-left:-1em;opacity:.4}.iconlyBulk-Bookmark .path1:before{content:"î¤»";opacity:.4}.iconlyBulk-Bookmark .path2:before{content:"î¤¼";margin-left:-1em}.iconlyBulk-Buy .path1:before{content:"î¤½";opacity:.4}.iconlyBulk-Buy .path2:before{content:"î¤¾";margin-left:-1em}.iconlyBulk-Calendar .path1:before{content:"î¤¿"}.iconlyBulk-Calendar .path2:before{content:"î¥€";margin-left:-1em;opacity:.4}.iconlyBulk-Calendar .path3:before{content:"î¥";margin-left:-1em}.iconlyBulk-Calendar .path4:before{content:"î¥‚";margin-left:-1em}.iconlyBulk-Call-Missed .path1:before{content:"î¥ƒ"}.iconlyBulk-Call-Missed .path2:before{content:"î¥„";margin-left:-1em;opacity:.4}.iconlyBulk-Call-Silent .path1:before{content:"î¥…"}.iconlyBulk-Call-Silent .path2:before{content:"î¥†";margin-left:-1em}.iconlyBulk-Call-Silent .path3:before{content:"î¥‡";margin-left:-1em;opacity:.4}.iconlyBulk-Call:before{content:"î¥ˆ"}.iconlyBulk-Calling .path1:before{content:"î¥‰";opacity:.4}.iconlyBulk-Calling .path2:before{content:"î¥Š";margin-left:-1em;opacity:.4}.iconlyBulk-Calling .path3:before{content:"î¥‹";margin-left:-1em}.iconlyBulk-Camera .path1:before{content:"î¥Œ"}.iconlyBulk-Camera .path2:before{content:"î¥";margin-left:-1em;opacity:.4}.iconlyBulk-Category .path1:before{content:"î¥Ž";opacity:.4}.iconlyBulk-Category .path2:before{content:"î¥";margin-left:-1em}.iconlyBulk-Chart .path1:before{content:"î¥";opacity:.4}.iconlyBulk-Chart .path2:before{content:"î¥‘";margin-left:-1em}.iconlyBulk-Chart .path3:before{content:"î¥’";margin-left:-1em}.iconlyBulk-Chart .path4:before{content:"î¥“";margin-left:-1em}.iconlyBulk-Chat .path1:before{content:"î¥”";opacity:.4}.iconlyBulk-Chat .path2:before{content:"î¥•";margin-left:-1em}.iconlyBulk-Close-Square .path1:before{content:"î¥–";opacity:.4}.iconlyBulk-Close-Square .path2:before{content:"î¥—";margin-left:-1em}.iconlyBulk-Danger .path1:before{content:"î¥˜";opacity:.4}.iconlyBulk-Danger .path2:before{content:"î¥™";margin-left:-1em}.iconlyBulk-Delete .path1:before{content:"î¥š";opacity:.4}.iconlyBulk-Delete .path2:before{content:"î¥›";margin-left:-1em}.iconlyBulk-Discount .path1:before{content:"î¥œ";opacity:.4}.iconlyBulk-Discount .path2:before{content:"î¥";margin-left:-1em}.iconlyBulk-Discovery .path1:before{content:"î¥ž";opacity:.4}.iconlyBulk-Discovery .path2:before{content:"î¥Ÿ";margin-left:-1em}.iconlyBulk-Document .path1:before{content:"î¥ ";opacity:.4}.iconlyBulk-Document .path2:before{content:"î¥¡";margin-left:-1em}.iconlyBulk-Download .path1:before{content:"î¥¢";opacity:.4}.iconlyBulk-Download .path2:before{content:"î¥£";margin-left:-1em}.iconlyBulk-Edit-Square .path1:before{content:"î¥¤";opacity:.4}.iconlyBulk-Edit-Square .path2:before{content:"î¥¥";margin-left:-1em}.iconlyBulk-Edit .path1:before{content:"î¥¦";opacity:.4}.iconlyBulk-Edit .path2:before{content:"î¥§";margin-left:-1em}.iconlyBulk-Edit .path3:before{content:"î¥¨";margin-left:-1em;opacity:.4}.iconlyBulk-Filter-2 .path1:before{content:"î¥©"}.iconlyBulk-Filter-2 .path2:before{content:"î¥ª";margin-left:-1em;opacity:.4}.iconlyBulk-Filter .path1:before{content:"î¥«";opacity:.4}.iconlyBulk-Filter .path2:before{content:"î¥¬";margin-left:-1em;opacity:.4}.iconlyBulk-Filter .path3:before{content:"î¥­";margin-left:-1em}.iconlyBulk-Filter .path4:before{content:"î¥®";margin-left:-1em}.iconlyBulk-Folder .path1:before{content:"î¥¯";opacity:.4}.iconlyBulk-Folder .path2:before{content:"î¥°";margin-left:-1em}.iconlyBulk-Game .path1:before{content:"î¥±";opacity:.4}.iconlyBulk-Game .path2:before{content:"î¥²";margin-left:-1em}.iconlyBulk-Graph .path1:before{content:"î¥³"}.iconlyBulk-Graph .path2:before{content:"î¥´";margin-left:-1em;opacity:.4}.iconlyBulk-Heart .path1:before{content:"î¥µ";opacity:.4}.iconlyBulk-Heart .path2:before{content:"î¥¶";margin-left:-1em}.iconlyBulk-Heart .path3:before{content:"î¥·";margin-left:-1em}.iconlyBulk-Hide .path1:before{content:"î¥¸";opacity:.4}.iconlyBulk-Hide .path2:before{content:"î¥¹";margin-left:-1em}.iconlyBulk-Home:before{content:"î¥º"}.iconlyBulk-Image-2 .path1:before{content:"î¥»"}.iconlyBulk-Image-2 .path2:before{content:"î¥¼";margin-left:-1em;opacity:.4}.iconlyBulk-Image-2 .path3:before{content:"î¥½";margin-left:-1em}.iconlyBulk-Image .path1:before{content:"î¥¾";opacity:.4}.iconlyBulk-Image .path2:before{content:"î¥¿";margin-left:-1em}.iconlyBulk-Info-Circle .path1:before{content:"î¦€";opacity:.4}.iconlyBulk-Info-Circle .path2:before{content:"î¦";margin-left:-1em}.iconlyBulk-Info-Square .path1:before{content:"î¦‚";opacity:.4}.iconlyBulk-Info-Square .path2:before{content:"î¦ƒ";margin-left:-1em}.iconlyBulk-Location .path1:before{content:"î¦„"}.iconlyBulk-Location .path2:before{content:"î¦…";margin-left:-1em;opacity:.4}.iconlyBulk-Lock .path1:before{content:"î¦†"}.iconlyBulk-Lock .path2:before{content:"î¦‡";margin-left:-1em;opacity:.4}.iconlyBulk-Login .path1:before{content:"î¦ˆ";opacity:.4}.iconlyBulk-Login .path2:before{content:"î¦‰";margin-left:-1em}.iconlyBulk-Logout .path1:before{content:"î¦Š";opacity:.4}.iconlyBulk-Logout .path2:before{content:"î¦‹";margin-left:-1em}.iconlyBulk-Message .path1:before{content:"î¦Œ";opacity:.4}.iconlyBulk-Message .path2:before{content:"î¦";margin-left:-1em}.iconlyBulk-More-Circle .path1:before{content:"î¦Ž";opacity:.4}.iconlyBulk-More-Circle .path2:before{content:"î¦";margin-left:-1em}.iconlyBulk-More-Square .path1:before{content:"î¦";opacity:.4}.iconlyBulk-More-Square .path2:before{content:"î¦‘";margin-left:-1em}.iconlyBulk-Notification .path1:before{content:"î¦’"}.iconlyBulk-Notification .path2:before{content:"î¦“";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Download .path1:before{content:"î¦”";opacity:.4}.iconlyBulk-Paper-Download .path2:before{content:"î¦•";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Download .path3:before{content:"î¦–";margin-left:-1em}.iconlyBulk-Paper-Fail .path1:before{content:"î¦—";opacity:.4}.iconlyBulk-Paper-Fail .path2:before{content:"î¦˜";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Fail .path3:before{content:"î¦™";margin-left:-1em}.iconlyBulk-Paper-Negative .path1:before{content:"î¦š";opacity:.4}.iconlyBulk-Paper-Negative .path2:before{content:"î¦›";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Negative .path3:before{content:"î¦œ";margin-left:-1em}.iconlyBulk-Paper-Plus .path1:before{content:"î¦";opacity:.4}.iconlyBulk-Paper-Plus .path2:before{content:"î¦ž";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Plus .path3:before{content:"î¦Ÿ";margin-left:-1em}.iconlyBulk-Paper-Upload .path1:before{content:"î¦ ";opacity:.4}.iconlyBulk-Paper-Upload .path2:before{content:"î¦¡";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Upload .path3:before{content:"î¦¢";margin-left:-1em}.iconlyBulk-Paper .path1:before{content:"î¦£";opacity:.4}.iconlyBulk-Paper .path2:before{content:"î¦¤";margin-left:-1em;opacity:.4}.iconlyBulk-Paper .path3:before{content:"î¦¥";margin-left:-1em}.iconlyBulk-Password .path1:before{content:"î¦¦";opacity:.4}.iconlyBulk-Password .path2:before{content:"î¦§";margin-left:-1em}.iconlyBulk-Play .path1:before{content:"î¦¨";opacity:.4}.iconlyBulk-Play .path2:before{content:"î¦©";margin-left:-1em}.iconlyBulk-Plus .path1:before{content:"î¦ª";opacity:.4}.iconlyBulk-Plus .path2:before{content:"î¦«";margin-left:-1em}.iconlyBulk-Profile .path1:before{content:"î¦¬"}.iconlyBulk-Profile .path2:before{content:"î¦­";margin-left:-1em;opacity:.4}.iconlyBulk-Scan .path1:before{content:"î¦®";opacity:.4}.iconlyBulk-Scan .path2:before{content:"î¦¯";margin-left:-1em}.iconlyBulk-Search .path1:before{content:"î¦°"}.iconlyBulk-Search .path2:before{content:"î¦±";margin-left:-1em;opacity:.4}.iconlyBulk-Send .path1:before{content:"î¦²"}.iconlyBulk-Send .path2:before{content:"î¦³";margin-left:-1em;opacity:.4}.iconlyBulk-Setting .path1:before{content:"î¦´"}.iconlyBulk-Setting .path2:before{content:"î¦µ";margin-left:-1em;opacity:.4}.iconlyBulk-Shield-Done .path1:before{content:"î¦¶";opacity:.4}.iconlyBulk-Shield-Done .path2:before{content:"î¦·";margin-left:-1em}.iconlyBulk-Shield-Fail .path1:before{content:"î¦¸";opacity:.4}.iconlyBulk-Shield-Fail .path2:before{content:"î¦¹";margin-left:-1em}.iconlyBulk-Show .path1:before{content:"î¦º";opacity:.4}.iconlyBulk-Show .path2:before{content:"î¦»";margin-left:-1em}.iconlyBulk-Star .path1:before{content:"î¦¼";opacity:.4}.iconlyBulk-Star .path2:before{content:"î¦½";margin-left:-1em}.iconlyBulk-Swap .path1:before{content:"î¦¾";opacity:.4}.iconlyBulk-Swap .path2:before{content:"î¦¿";margin-left:-1em}.iconlyBulk-Swap .path3:before{content:"î§€";margin-left:-1em;opacity:.4}.iconlyBulk-Swap .path4:before{content:"î§";margin-left:-1em}.iconlyBulk-Tick-Square .path1:before{content:"î§‚";opacity:.4}.iconlyBulk-Tick-Square .path2:before{content:"î§ƒ";margin-left:-1em}.iconlyBulk-Ticket-Star .path1:before{content:"î§„";opacity:.4}.iconlyBulk-Ticket-Star .path2:before{content:"î§…";margin-left:-1em}.iconlyBulk-Ticket .path1:before{content:"î§†";opacity:.4}.iconlyBulk-Ticket .path2:before{content:"î§‡";margin-left:-1em}.iconlyBulk-Time-Circle .path1:before{content:"î§ˆ";opacity:.4}.iconlyBulk-Time-Circle .path2:before{content:"î§‰";margin-left:-1em}.iconlyBulk-Time-Square .path1:before{content:"î§Š";opacity:.4}.iconlyBulk-Time-Square .path2:before{content:"î§‹";margin-left:-1em}.iconlyBulk-Unlock .path1:before{content:"î§Œ";opacity:.4}.iconlyBulk-Unlock .path2:before{content:"î§";margin-left:-1em}.iconlyBulk-Upload .path1:before{content:"î§Ž";opacity:.4}.iconlyBulk-Upload .path2:before{content:"î§";margin-left:-1em}.iconlyBulk-Video .path1:before{content:"î§";opacity:.4}.iconlyBulk-Video .path2:before{content:"î§‘";margin-left:-1em}.iconlyBulk-Voice-2 .path1:before{content:"î§’"}.iconlyBulk-Voice-2 .path2:before{content:"î§“";margin-left:-1em;opacity:.4}.iconlyBulk-Voice .path1:before{content:"î§”";opacity:.4}.iconlyBulk-Voice .path2:before{content:"î§•";margin-left:-1em}.iconlyBulk-Volume-Down .path1:before{content:"î§–"}.iconlyBulk-Volume-Down .path2:before{content:"î§—";margin-left:-1em;opacity:.4}.iconlyBulk-Volume-Off .path1:before{content:"î§˜";opacity:.4}.iconlyBulk-Volume-Off .path2:before{content:"î§™";margin-left:-1em}.iconlyBulk-Volume-Up .path1:before{content:"î§š"}.iconlyBulk-Volume-Up .path2:before{content:"î§›";margin-left:-1em;opacity:.4}.iconlyBulk-Volume-Up .path3:before{content:"î§œ";margin-left:-1em;opacity:.4}.iconlyBulk-Wallet .path1:before{content:"î§"}.iconlyBulk-Wallet .path2:before{content:"î§ž";margin-left:-1em;opacity:.4}.iconlyBulk-Wallet .path3:before{content:"î§Ÿ";margin-left:-1em}.iconlyBulk-Work .path1:before{content:"î§ ";opacity:.4}.iconlyBulk-Work .path2:before{content:"î§¡";margin-left:-1em}.iconlyBulk-Work .path3:before{content:"î§¢";margin-left:-1em}',""]);const s=a},9888:(e,t,n)=>{"use strict";e.exports=n(8493)},9982:(e,t,n)=>{"use strict";e.exports=n(7463)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e](i,i.exports,o),i.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>n[e]);return a.default=()=>n,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",o.b="undefined"!=typeof document&&document.baseURI||self.location.href,o.nc=void 0,(()=>{"use strict";var e={};o.r(e),o.d(e,{hasBrowserEnv:()=>$l,hasStandardBrowserEnv:()=>ql,hasStandardBrowserWebWorkerEnv:()=>Yl,navigator:()=>Vl,origin:()=>Kl});var t={};o.r(t),o.d(t,{appendChild:()=>qw,appendChildToContainer:()=>Yw,appendInitialChild:()=>Lw,cancelTimeout:()=>Ww,clearContainer:()=>aS,commitMount:()=>eS,commitTextUpdate:()=>Qw,commitUpdate:()=>tS,createInstance:()=>Tw,createTextInstance:()=>Mw,detachDeletedInstance:()=>sS,finalizeInitialChildren:()=>jw,getChildHostContext:()=>Bw,getCurrentEventPriority:()=>lS,getPublicInstance:()=>Aw,getRootHostContext:()=>zw,hideInstance:()=>nS,hideTextInstance:()=>rS,idlePriority:()=>_w.unstable_IdlePriority,insertBefore:()=>Kw,insertInContainerBefore:()=>Jw,isPrimaryRenderer:()=>Gw,noTimeout:()=>Hw,now:()=>_w.unstable_now,prepareForCommit:()=>Ow,preparePortalMount:()=>Pw,prepareUpdate:()=>Nw,removeChild:()=>Zw,removeChildFromContainer:()=>Xw,resetAfterCommit:()=>Iw,resetTextContent:()=>Dw,run:()=>_w.unstable_runWithPriority,scheduleTimeout:()=>Fw,shouldDeprioritizeSubtree:()=>Rw,shouldSetTextContent:()=>Uw,supportsMutation:()=>Vw,unhideInstance:()=>oS,unhideTextInstance:()=>iS,warnsIfNotActing:()=>$w});var n,r=o(6540),i=o.t(r,2),a=o(5338);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const l="popstate";function c(e,t){if(!1===e||null==e)throw new Error(t)}function u(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m;function g(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let o=j(("string"==typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let i=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e){let t=M(o);a=L(i[e],t,r)}return a}(e,t,n,!1)}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=N([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),y(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:E(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of b(e.path))o(e,t,n);else o(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=b(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const v=/^:[\w-]+$/,x=3,k=2,w=1,S=10,_=-2,C=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=_),t&&(r+=k),n.filter(e=>!C(e)).reduce((e,t)=>e+(v.test(t)?x:""===t?w:S),r)}function L(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let e=0;e<r.length;++e){let s=r[e],l=e===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=T({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c),d=s.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:N([i,u.pathname]),pathnameBase:I(N([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=N([i,u.pathnameBase]))}return a}function T(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function P(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=h(e):(o=s({},e),c(!o.pathname||!o.pathname.includes("?"),A("?","pathname","search",o)),c(!o.pathname||!o.pathname.includes("#"),A("#","pathname","hash",o)),c(!o.search||!o.search.includes("#"),A("#","search","hash",o)));let i,a=""===e||""===o.pathname,l=a?"/":o.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:D(r),hash:R(o)}}(o,i),d=l&&"/"!==l&&l.endsWith("/"),f=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const N=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",R=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const z=["post","put","patch","delete"],B=(new Set(z),["get",...z]);function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}new Set(B),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const W=r.createContext(null),H=r.createContext(null),U=r.createContext(null),G=r.createContext(null),$=r.createContext({outlet:null,matches:[],isDataRoute:!1}),V=r.createContext(null);function q(){return null!=r.useContext(G)}function Y(){return q()||c(!1),r.useContext(G).location}function K(e){r.useContext(U).static||r.useLayoutEffect(e)}function J(){let{isDataRoute:e}=r.useContext($);return e?function(){let{router:e}=function(){let e=r.useContext(W);return e||c(!1),e}(re.UseNavigateStable),t=ie(oe.UseNavigateStable),n=r.useRef(!1);K(()=>{n.current=!0});let o=r.useCallback(function(r,o){void 0===o&&(o={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,F({fromRouteId:t},o)))},[e,t]);return o}():function(){q()||c(!1);let e=r.useContext(W),{basename:t,future:n,navigator:o}=r.useContext(U),{matches:i}=r.useContext($),{pathname:a}=Y(),s=JSON.stringify(O(i,n.v7_relativeSplatPath)),l=r.useRef(!1);K(()=>{l.current=!0});let u=r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"==typeof n)return void o.go(n);let i=P(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:N([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)},[t,o,s,a,e]);return u}()}function Z(e,t){let{relative:n}=void 0===t?{}:t,{future:o}=r.useContext(U),{matches:i}=r.useContext($),{pathname:a}=Y(),s=JSON.stringify(O(i,o.v7_relativeSplatPath));return r.useMemo(()=>P(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function X(e,t,o,i){q()||c(!1);let{navigator:a}=r.useContext(U),{matches:s}=r.useContext($),l=s[s.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let f,p=Y();if(t){var m;let e="string"==typeof t?h(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),f=e}else f=p;let y=f.pathname||"/",b=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:b}),x=function(e,t,n,o){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=o)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&o&&o.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:r}=n,o=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||o){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((e,o,i)=>{let a,c=!1,f=null,p=null;var h;n&&(a=l&&o.route.id?l[o.route.id]:void 0,f=o.route.errorElement||ee,u&&(d<0&&0===i?(ae[h="route-fallback"]||(ae[h]=!0),c=!0,p=null):d===i&&(c=!0,p=o.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=a?f:c?p:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(ne,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(te,{location:n.location,revalidation:n.revalidation,component:f,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:N([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:N([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,o,i);return t&&x?r.createElement(G.Provider,{value:{location:F({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:n.Pop}},x):x}function Q(){let e=function(){var e;let t=r.useContext(V),n=function(){let e=r.useContext(H);return e||c(!1),e}(oe.UseRouteError),o=ie(oe.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[o]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const ee=r.createElement(Q,null);class te extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement($.Provider,{value:this.props.routeContext},r.createElement(V.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ne(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(W);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement($.Provider,{value:t},o)}var re=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(re||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ie(e){let t=function(){let e=r.useContext($);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const ae={};function se(e){c(!1)}function le(e){let{basename:t="/",children:o=null,location:i,navigationType:a=n.Pop,navigator:s,static:l=!1,future:u}=e;q()&&c(!1);let d=t.replace(/^\/*/,"/"),f=r.useMemo(()=>({basename:d,navigator:s,static:l,future:F({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);"string"==typeof i&&(i=h(i));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:b="default"}=i,v=r.useMemo(()=>{let e=j(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:b},navigationType:a}},[d,p,m,g,y,b,a]);return null==v?null:r.createElement(U.Provider,{value:f},r.createElement(G.Provider,{children:o,value:v}))}function ce(e){let{children:t,location:n}=e;return X(ue(t),n)}function ue(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,ue(e.props.children,i));e.type!==se&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ue(e.props.children,i)),n.push(a)}),n}i.startTransition,new Promise(()=>{}),r.Component;var de=o(961),fe=o.t(de,2);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function he(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function me(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ye=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(gd){}const be=r.createContext({isTransitioning:!1});new Map;const ve=i.startTransition;function xe(e){let{basename:t,children:o,future:i,window:a}=e,u=r.useRef();null==u.current&&(u.current=function(e){return void 0===e&&(e={}),function(e,t,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:a=!1}=o,u=i.history,h=n.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function b(){h=n.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:h,location:x.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(s({},u.state,{idx:g}),""));let x={get action(){return h},get location(){return e(i,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(l,b),m=e,()=>{i.removeEventListener(l,b),m=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=n.Push;let o=f(x.location,e,t);r&&r(o,e),g=y()+1;let s=d(o,g),l=x.createHref(o);try{u.pushState(s,"",l)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(l)}a&&m&&m({action:h,location:x.location,delta:1})},replace:function(e,t){h=n.Replace;let o=f(x.location,e,t);r&&r(o,e),g=y();let i=d(o,g),s=x.createHref(o);u.replaceState(i,"",s),a&&m&&m({action:h,location:x.location,delta:0})},go:e=>u.go(e)};return x}(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return f("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:p(t)},null,e)}({window:a,v5Compat:!0}));let h=u.current,[m,g]=r.useState({action:h.action,location:h.location}),{v7_startTransition:y}=i||{},b=r.useCallback(e=>{y&&ve?ve(()=>g(e)):g(e)},[g,y]);return r.useLayoutEffect(()=>h.listen(b),[h,b]),r.useEffect(()=>{return null==(e=i)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[i]),r.createElement(le,{basename:t,children:o,location:m.location,navigationType:m.action,navigator:h,future:i})}fe.flushSync,i.useId;const ke="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,we=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=r.forwardRef(function(e,t){let n,{onClick:o,relative:i,reloadDocument:a,replace:s,state:l,target:u,to:d,preventScrollReset:f,viewTransition:h}=e,m=he(e,ge),{basename:g}=r.useContext(U),y=!1;if("string"==typeof d&&we.test(d)&&(n=d,ke))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=j(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(e){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;q()||c(!1);let{basename:o,navigator:i}=r.useContext(U),{hash:a,pathname:s,search:l}=Z(e,{relative:n}),u=s;return"/"!==o&&(u="/"===s?o:N([o,s])),i.createHref({pathname:u,search:l,hash:a})}(d,{relative:i}),v=function(e,t){let{target:n,replace:o,state:i,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=J(),u=Y(),d=Z(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==o?o:p(u)===p(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,o,i,n,e,a,s,l])}(d,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:h});return r.createElement("a",pe({},m,{href:n||b,onClick:y||a?o:function(e){o&&o(e),e.defaultPrevented||v(e)},ref:t,target:u}))}),_e=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:s,to:l,viewTransition:u,children:d}=e,f=he(e,ye),p=Z(l,{relative:f.relative}),h=Y(),m=r.useContext(H),{navigator:g,basename:y}=r.useContext(U),b=null!=m&&function(e,t){void 0===t&&(t={});let n=r.useContext(be);null==n&&c(!1);let{basename:o}=function(){let e=r.useContext(W);return e||c(!1),e}(Ce.useViewTransitionState),i=Z(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=j(n.currentLocation.pathname,o)||n.currentLocation.pathname,s=j(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=T(i.pathname,s)||null!=T(i.pathname,a)}(p)&&!0===u,v=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,x=h.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(x=x.toLowerCase(),k=k?k.toLowerCase():null,v=v.toLowerCase()),k&&y&&(k=j(k,y)||k);const w="/"!==v&&v.endsWith("/")?v.length-1:v.length;let S,_=x===v||!a&&x.startsWith(v)&&"/"===x.charAt(w),C=null!=k&&(k===v||!a&&k.startsWith(v)&&"/"===k.charAt(v.length)),E={isActive:_,isPending:C,isTransitioning:b},L=_?n:void 0;S="function"==typeof i?i(E):[i,_?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M="function"==typeof s?s(E):s;return r.createElement(Se,pe({},f,{"aria-current":L,className:S,ref:t,style:M,to:l,viewTransition:u}),"function"==typeof d?d(E):d)});var Ce,Ee;function Le(e){let t=r.useRef(me(e)),n=r.useRef(!1),o=Y(),i=r.useMemo(()=>function(e,t){let n=me(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(o.search,n.current?null:t.current),[o.search]),a=J(),s=r.useCallback((e,t)=>{const r=me("function"==typeof e?e(i):e);n.current=!0,a("?"+r,t)},[a,i]);return[i,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));var Te=o(5072),Me=o.n(Te),je=o(7825),Ae=o.n(je),Oe=o(7659),Pe=o.n(Oe),Ne=o(5056),Ie=o.n(Ne),De=o(540),Re=o.n(De),ze=o(1113),Be=o.n(ze),Fe=o(9632),We={};We.styleTagTransform=Be(),We.setAttributes=Ie(),We.insert=Pe().bind(null,"head"),We.domAPI=Ae(),We.insertStyleElement=Re(),Me()(Fe.A,We),Fe.A&&Fe.A.locals&&Fe.A.locals;const He=o.p+"static/media/aetherium-logo3281a70471a0dd1de1fc.webp";var Ue=(0,r.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Ge=function(e,t,n){var r=n.get(e);return r?r(t):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function $e(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Ve=(0,r.forwardRef)(function(e,t){var n=e.alt,o=e.color,i=e.size,a=e.weight,s=e.mirrored,l=e.children,c=e.renderPath,u=$e(e,["alt","color","size","weight","mirrored","children","renderPath"]),d=(0,r.useContext)(Ue),f=d.color,p=void 0===f?"currentColor":f,h=d.size,m=d.weight,g=void 0===m?"regular":m,y=d.mirrored,b=void 0!==y&&y,v=$e(d,["color","size","weight","mirrored"]);return r.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=i?i:h,height:null!=i?i:h,fill:null!=o?o:p,viewBox:"0 0 256 256",transform:s||b?"scale(-1, 1)":void 0},v,u),!!n&&r.createElement("title",null,n),l,r.createElement("rect",{width:"256",height:"256",fill:"none"}),c(null!=a?a:g,null!=o?o:p))});Ve.displayName="IconBase";const qe=Ve;var Ye=new Map;Ye.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ye.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"160 208 80 128 160 48 160 208",opacity:"0.2"}),r.createElement("polygon",{points:"160 208 80 128 160 48 160 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ye.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M163.1,40.6a8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,160,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,168,208V48A8,8,0,0,0,163.1,40.6Z"}))}),Ye.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ye.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ye.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Ke=function(e,t){return Ge(e,t,Ye)},Je=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:Ke}))});Je.displayName="CaretLeft";const Ze=Je;var Xe=o(4848);const Qe=function(){var e,t=Y(),n="/"===t.pathname,i=t.pathname.split("/").filter(Boolean),a=i[0],s=i[1],l=i.length>=2&&"lore"===a,c="timeline"===(null===(e=t.state)||void 0===e?void 0:e.from),u=c?"/timeline":s?"/".concat(a,"?category=").concat(s):"/".concat(a),d=c?"Back to Timeline":"lore"===a?"Back to Wikilore":"Back to History",f=n?"navBar is-home":"navBar other",p=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e=p.current;if(e){var t=function(){var t=e.contentDocument;if(t){var n=t.querySelector("svg");if(n){var r=n.svgatorPlayer;r&&r.play()}}};return e.addEventListener("load",t),function(){e.removeEventListener("load",t)}}},[]),(0,Xe.jsxs)("nav",{className:f,children:[l&&!n&&(0,Xe.jsxs)(_e,{to:u,className:"backLink ".concat(n?"is-home":"other"),"aria-label":d,children:[(0,Xe.jsx)(Ze,{size:18,weight:"thin"}),(0,Xe.jsx)("span",{children:"BACK"})]}),(0,Xe.jsx)(_e,{to:"/timeline",style:{textAlign:"right"},className:function(e){var t=e.isActive,r="navLink ".concat(n?"is-home":"other");return t?"".concat(r," active"):r},children:"TIMELINE"}),(0,Xe.jsx)(_e,{to:"/",className:"navLink brand ".concat(n?"is-home":"other"),children:n?(0,Xe.jsx)("object",{className:"brand-logo",ref:p,data:o(9648),type:"image/svg+xml"}):(0,Xe.jsx)("img",{src:He,className:"brand-logo",alt:"Aetherium Logo"})}),(0,Xe.jsx)(_e,{to:"/lore",className:function(e){var t=e.isActive,r="navLink ".concat(n?"is-home":"other");return t?"".concat(r," active"):r},children:"WIKILORE"})]})};var et=o(5781),tt={};tt.styleTagTransform=Be(),tt.setAttributes=Ie(),tt.insert=Pe().bind(null,"head"),tt.domAPI=Ae(),tt.insertStyleElement=Re(),Me()(et.A,tt),et.A&&et.A.locals&&et.A.locals;const nt=function(){return(0,Xe.jsxs)("div",{className:"homepage",children:[(0,Xe.jsx)("div",{className:"dark-bg"}),(0,Xe.jsx)("div",{className:"overlay-radial"}),(0,Xe.jsx)("h1",{className:"homepage__title",children:"Welcome to Aetherium"})]})},rt=function(){return(0,Xe.jsxs)("div",{style:{paddingTop:"5rem",paddingBottom:"5rem",textAlign:"center"},children:[(0,Xe.jsx)("h2",{style:{color:"#e2e8f0",fontSize:"2rem",marginBottom:"1rem"},children:"Campaign"}),(0,Xe.jsx)("p",{style:{color:"#94a3b8",fontSize:"1rem",maxWidth:"30rem",margin:"0 auto"},children:"Questa sezione non Ã¨ ancora stata implementata. Torna piÃ¹ tardi per gestire le tue campagne."})]})};var ot=o(1769),it={};it.styleTagTransform=Be(),it.setAttributes=Ie(),it.insert=Pe().bind(null,"head"),it.domAPI=Ae(),it.insertStyleElement=Re(),Me()(ot.A,it),ot.A&&ot.A.locals&&ot.A.locals;var at=o(312),st=o.n(at);function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function ct(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lt(e,t)}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(null,arguments)}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ft(e,t,n){return(t=function(e){var t=function(e){if("object"!=dt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach(function(t){ft(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gt="function"==typeof Symbol&&Symbol.observable||"@@observable",yt=function(){return Math.random().toString(36).substring(7).split("").join(".")},bt={INIT:"@@redux/INIT"+yt(),REPLACE:"@@redux/REPLACE"+yt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yt()}};function vt(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(mt(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(mt(1));return n(vt)(e,t)}if("function"!=typeof e)throw new Error(mt(2));var o=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(mt(3));return i}function d(e){if("function"!=typeof e)throw new Error(mt(4));if(l)throw new Error(mt(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(mt(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(mt(7));if(void 0===e.type)throw new Error(mt(8));if(l)throw new Error(mt(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:bt.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(mt(10));o=e,f({type:bt.REPLACE})}})[gt]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(mt(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[gt]=function(){return this},e},r}function xt(e,t){return function(){return t(e.apply(this,arguments))}}function kt(e,t){if("function"==typeof e)return xt(e,t);if("object"!=typeof e||null===e)throw new Error(mt(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=xt(o,t))}return n}function wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var St=r.createContext(null),_t=function(e){e()},Ct=function(){return _t},Et={notify:function(){},get:function(){return[]}};function Lt(e,t){var n,r=Et;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=Ct(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Et)},getListeners:function(){return r}};return a}var Tt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;const Mt=function(e){var t=e.store,n=e.context,o=e.children,i=(0,r.useMemo)(function(){var e=Lt(t);return{store:t,subscription:e}},[t]),a=(0,r.useMemo)(function(){return t.getState()},[t]);Tt(function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[i,a]);var s=n||St;return r.createElement(s.Provider,{value:i},o)};function jt(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var At=o(4146),Ot=o.n(At),Pt=o(4363),Nt=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],It=["reactReduxForwardedRef"],Dt=[],Rt=[null,null];function zt(e,t){var n=e[1];return[t.payload,n+1]}function Bt(e,t,n){Tt(function(){return e.apply(void 0,t)},n)}function Ft(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function Wt(e,t,n,r,o,i,a,s,l,c){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Ht=function(){return[null,0]};function Ut(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,f=n.storeKey,p=void 0===f?"store":f,h=(n.withRef,n.forwardRef),m=void 0!==h&&h,g=n.context,y=void 0===g?St:g,b=jt(n,Nt),v=y;return function(t){var n=t.displayName||t.name||"Component",o=i(n),a=ut({},b,{getDisplayName:i,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:p,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=b.pure,u=l?r.useMemo:function(e){return e()};function f(n){var o=(0,r.useMemo)(function(){var e=n.reactReduxForwardedRef,t=jt(n,It);return[n.context,e,t]},[n]),i=o[0],s=o[1],l=o[2],c=(0,r.useMemo)(function(){return i&&i.Consumer&&(0,Pt.isContextConsumer)(r.createElement(i.Consumer,null))?i:v},[i,v]),f=(0,r.useContext)(c),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var h=p?n.store:f.store,m=(0,r.useMemo)(function(){return function(t){return e(t.dispatch,a)}(h)},[h]),g=(0,r.useMemo)(function(){if(!d)return Rt;var e=Lt(h,p?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[h,p,f]),y=g[0],b=g[1],x=(0,r.useMemo)(function(){return p?f:ut({},f,{subscription:y})},[p,f,y]),k=(0,r.useReducer)(zt,Dt,Ht),w=k[0][0],S=k[1];if(w&&w.error)throw w.error;var _=(0,r.useRef)(),C=(0,r.useRef)(l),E=(0,r.useRef)(),L=(0,r.useRef)(!1),T=u(function(){return E.current&&l===C.current?E.current:m(h.getState(),l)},[h,w,l]);Bt(Ft,[C,_,L,l,T,E,b]),Bt(Wt,[d,h,y,m,C,_,L,E,b,S],[h,y,m]);var M=(0,r.useMemo)(function(){return r.createElement(t,ut({},T,{ref:s}))},[s,t,T]);return(0,r.useMemo)(function(){return d?r.createElement(c.Provider,{value:x},M):M},[c,M,x])}var h=l?r.memo(f):f;if(h.WrappedComponent=t,h.displayName=f.displayName=o,m){var g=r.forwardRef(function(e,t){return r.createElement(h,ut({},e,{reactReduxForwardedRef:t}))});return g.displayName=o,g.WrappedComponent=t,Ot()(g,t)}return Ot()(h,t)}}function Gt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function $t(e,t){if(Gt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Gt(e[n[o]],t[n[o]]))return!1;return!0}function Vt(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function qt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Yt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=qt(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=qt(o),o=r(t,n)),o},r}}const Kt=[function(e){return"function"==typeof e?Yt(e):void 0},function(e){return e?void 0:Vt(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Vt(function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)}):void 0}],Jt=[function(e){return"function"==typeof e?Yt(e):void 0},function(e){return e?void 0:Vt(function(){return{}})}];function Zt(e,t,n){return ut({},n,e,t)}const Xt=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Zt}}];var Qt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function en(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function tn(e,t,n,r,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;return function(o,h){return p?function(o,p){var h,m,g=!d(p,a),y=!u(o,i,p,a);return i=o,a=p,g&&y?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):y?(h=e(i,a),m=!f(h,s),s=h,m&&(c=n(s,l,a)),c):c}(o,h):(s=e(i=o,a=h),l=t(r,a),c=n(s,l,a),p=!0,c)}}function nn(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=jt(t,Qt),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?tn:en)(a,s,l,e,i)}var rn=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function on(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function an(e,t){return e===t}function sn(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ut:n,o=t.mapStateToPropsFactories,i=void 0===o?Jt:o,a=t.mapDispatchToPropsFactories,s=void 0===a?Kt:a,l=t.mergePropsFactories,c=void 0===l?Xt:l,u=t.selectorFactory,d=void 0===u?nn:u;return function(e,t,n,o){void 0===o&&(o={});var a=o,l=a.pure,u=void 0===l||l,f=a.areStatesEqual,p=void 0===f?an:f,h=a.areOwnPropsEqual,m=void 0===h?$t:h,g=a.areStatePropsEqual,y=void 0===g?$t:g,b=a.areMergedPropsEqual,v=void 0===b?$t:b,x=jt(a,rn),k=on(e,i,"mapStateToProps"),w=on(t,s,"mapDispatchToProps"),S=on(n,c,"mergeProps");return r(d,ut({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:w,initMergeProps:S,pure:u,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:v},x))}}const ln=sn();var cn;function un(e,t){var n=(0,r.useState)(function(){return{inputs:t,result:e()}})[0],o=(0,r.useRef)(!0),i=(0,r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs)),s=a?i.current:{inputs:t,result:e()};return(0,r.useEffect)(function(){o.current=!1,i.current=s},[s]),s.result}cn=de.unstable_batchedUpdates,_t=cn;var dn=un,fn=function(e,t){return un(function(){return e},t)},pn=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},hn=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},mn=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},gn={top:0,right:0,bottom:0,left:0},yn=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?gn:n,o=e.border,i=void 0===o?gn:o,a=e.padding,s=void 0===a?gn:a,l=pn(hn(t,r)),c=pn(mn(t,i)),u=pn(mn(c,s));return{marginBox:l,borderBox:pn(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},bn=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},vn=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return yn({borderBox:l,border:i,margin:a,padding:s})},xn=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),vn(e,t)},kn=function(e,t){var n={top:bn(t.marginTop),right:bn(t.marginRight),bottom:bn(t.marginBottom),left:bn(t.marginLeft)},r={top:bn(t.paddingTop),right:bn(t.paddingRight),bottom:bn(t.paddingBottom),left:bn(t.paddingLeft)},o={top:bn(t.borderTopWidth),right:bn(t.borderRightWidth),bottom:bn(t.borderBottomWidth),left:bn(t.borderLeftWidth)};return yn({borderBox:e,margin:n,padding:r,border:o})},wn=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return kn(t,n)},Sn=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function _n(e,t){return e===t||!(!Sn(e)||!Sn(t))}function Cn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}const En=function(e,t){var n;void 0===t&&(t=Cn);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},Ln=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Tn(e,t){}function Mn(){}function jn(e,t,n){var r=t.map(function(t){var r,o,i=(r=n,o=t.options,ut({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}});return function(){r.forEach(function(e){e()})}}Tn.bind(null,"warn"),Tn.bind(null,"error");function An(e){this.message=e}function On(e,t){if(!e)throw new An("Invariant failed")}An.prototype.toString=function(){return this.message};var Pn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Mn,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof An&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ct(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=jn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof An))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r.Component),Nn=function(e){return e+1},In=function(e,t){var n=e.droppableId===t.droppableId,r=Nn(e.index),o=Nn(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Dn=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Rn=function(e){return"\n  The item has returned to its starting position\n  of "+Nn(e.index)+"\n"},zn=function(e){return"\n  You have lifted an item in position "+Nn(e.source.index)+"\n"},Bn=function(e){var t=e.destination;if(t)return In(e.source,t);var n=e.combine;return n?Dn(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Fn=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Rn(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+In(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Dn(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Rn(e.source)+"\n  "},Wn={x:0,y:0},Hn=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Un=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Gn=function(e,t){return e.x===t.x&&e.y===t.y},$n=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Vn=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},qn=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Yn=function(e,t){return Math.min.apply(Math,t.map(function(t){return qn(e,t)}))},Kn=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Jn=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Zn=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Xn=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=pn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):pn(e)},Qn=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?Jn(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?ut({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Xn(a,o)}},er=function(e,t){e.frame||On(!1);var n=e.frame,r=Un(t,n.scroll.initial),o=$n(r),i=ut({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return ut({},e,{frame:i,subject:Qn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function tr(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function nr(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function rr(e,t){if(e.find)return e.find(t);var n=nr(e,t);return-1!==n?e[n]:void 0}function or(e){return Array.prototype.slice.call(e)}var ir=En(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ar=En(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),sr=En(function(e){return tr(e)}),lr=En(function(e){return tr(e)}),cr=En(function(e,t){var n=lr(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return n});function ur(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function dr(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var fr=En(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),pr=function(e,t){return e.descriptor.droppableId===t.descriptor.id},hr={point:Wn,value:0},mr={invisible:{},visible:{},all:[]},gr={displaced:mr,displacedBy:hr,at:null},yr=function(e,t){return function(n){return e<=n&&n<=t}},br=function(e){var t=yr(e.top,e.bottom),n=yr(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||a&&i||s&&o}},vr=function(e){var t=yr(e.top,e.bottom),n=yr(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},xr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kr={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},wr=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Wn;return Jn(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},Sr=function(e){return wr(ut({},e,{isVisibleThroughFrameFn:vr}))};function _r(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pn(hn(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!wr(ut({},{target:s,destination:n,viewport:o,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:br})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e},{all:[],visible:{},invisible:{}})}function Cr(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:mr,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function Er(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=pr(t,r);if(null==s)return Cr({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=rr(n,function(e){return e.descriptor.index===s});if(!u)return Cr({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=fr(t,n),f=n.indexOf(u);return{displaced:_r({afterDragging:d.slice(f),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Lr(e,t){return Boolean(t.effected[e])}var Tr=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Mr=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},jr=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Vn(t.line,n.marginBox[t.end]+Tr(t,r),Mr(t,n.marginBox,r))},Ar=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Vn(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Mr(t,n.marginBox,r))},Or=function(e,t){var n=e.frame;return n?Hn(t,n.scroll.diff.displacement):t},Pr=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=cr(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Vn(t.line,n.contentBox[t.start]+Tr(t,r),Mr(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var f=r[d];if(Lr(d,i))return Ar({axis:l,moveRelativeTo:f.page,isMoving:s});var p=vn(f.page,u.point);return Ar({axis:l,moveRelativeTo:p,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Lr(h.descriptor.id,i)){var m=vn(h.page,$n(i.displacedBy.point));return jr({axis:l,moveRelativeTo:m,isMoving:s})}return jr({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=dr(n);o||On(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Lr(r,n)?i?Wn:$n(o.point):i?o.point:Wn}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Hn(a,s)}({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Or(n,t):t},Nr=function(e,t){var n=Un(t,e.scroll.initial),r=$n(n);return{frame:pn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ir(e,t){return e.map(function(e){return t[e]})}var Dr=function(e){var t,n,r=e.pageBorderBoxCenter,o=e.draggable,i=(t=e.viewport,n=r,Hn(t.scroll.diff.displacement,n)),a=Un(i,o.page.borderBox.center);return Hn(o.client.borderBox.center,a)},Rr=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=Un(r,t.page.borderBox.center),c={target:Jn(t.page.borderBox,l),destination:n,withDroppableDisplacement:i,viewport:o};return s?function(e){return wr(ut({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=yr(e.top,e.bottom),r=yr(e.left,e.right);return function(e){return t===xr?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Sr(c)},zr=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=cr(r.descriptor.id,o),d=pr(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!ur(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return ut({},i,{at:t})}var s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=fr(n,o);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=nr(c,function(e){return e.descriptor.id===l});-1===u&&On(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||On(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:Er({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,o=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=r.draggableId,a=n[i].descriptor.index;return Lr(i,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==f?null:Er({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})}({isMovingForward:t,isInHomeList:d,draggable:n,draggables:o,destination:r,insideDestination:u,previousImpact:i,viewport:a,afterCritical:c});if(!f)return null;var p=Pr({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:c});if(Rr({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Dr({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null};var h=Un(p,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=Nr(n,Hn(n.scroll.current,i)),s=r.frame?er(r,Hn(r.frame.scroll.current,i)):r,l=t.displaced,c=_r({afterDragging:Ir(l.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=_r({afterDragging:Ir(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},p=[l,c,u];return l.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?f[e]=t:d[e]=!0}),ut({},t,{displaced:{all:l.all,invisible:d,visible:f}})}({impact:f,viewport:a,destination:r,draggables:o,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},Br=function(e){var t=e.subject.active;return t||On(!1),t},Fr=function(e,t){var n=e.page.borderBox.center;return Lr(e.descriptor.id,t)?Un(n,t.displacedBy.point):n},Wr=function(e,t){var n=e.page.borderBox;return Lr(e.descriptor.id,t)?Jn(n,$n(t.displacedBy.point)):n},Hr=En(function(e,t){var n=t[e.line];return{value:n,point:Vn(e.line,n)}}),Ur=function(e,t){return ut({},e,{scroll:ut({},e.scroll,{max:t})})},Gr=function(e,t,n){var r=e.frame;pr(t,e)&&On(!1),e.subject.withPlaceholder&&On(!1);var o=Hr(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Vn(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=cr(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-o;return i<=0?null:Vn(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return ut({},e,{subject:Qn({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=i?Hn(r.scroll.max,i):r.scroll.max,l=Ur(r,s);return ut({},e,{subject:Qn({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},$r=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Vr=function(e){var t=e.state,n=e.type,r=function(e,t){var n=$r(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,h=f.droppables;return l?zr({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=yr(a[s.start],a[s.end]),c=sr(o).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return br(i.frame)(Br(e))}).filter(function(e){var n=Br(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]}).filter(function(e){var t=Br(e),n=yr(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])}).sort(function(e,n){var r=Br(e)[s.crossAxisStart],o=Br(n)[s.crossAxisStart];return t?r-o:o-r}).filter(function(e,t,n){return Br(e)[s.crossAxisStart]===Br(n[0])[s.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter(function(e){return yr(Br(e)[s.start],Br(e)[s.end])(n[s.line])});return 1===u.length?u[0]:u.length>1?u.sort(function(e,t){return Br(e)[s.start]-Br(t)[s.start]})[0]:c.sort(function(e,t){var r=Yn(n,Zn(Br(e))),o=Yn(n,Zn(Br(t)));return r!==o?r-o:Br(e)[s.start]-Br(t)[s.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var u=cr(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.afterCritical,i=e.insideDestination.filter(function(e){return Sr({target:Wr(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var i=qn(t,Or(r,Fr(e,o))),a=qn(t,Or(r,Fr(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index});return i[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),f=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:mr,displacedBy:hr,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Pr({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=pr(o,a)?a:Gr(a,o,i);return Rr({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var f,p=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(f=n.descriptor.index,n.descriptor.id===o.descriptor.id||p?f:f+1);return Er({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:Hr(a.axis,o.displaceBy),last:mr,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!f)return null;var p=Pr({impact:f,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Dr({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:f,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function qr(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Yr(e){var t=yr(e.top,e.bottom),n=yr(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var Kr=function(e,t){return pn(Jn(e,t))};function Jr(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Zr=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Kr(n.page.borderBox,t),c=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=sr(r).filter(function(e){if(!e.isEnabled)return!1;var n=e.subject.active;if(!n)return!1;if(!function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}(t,n))return!1;if(Yr(n)(t.center))return!0;var r=e.axis,o=n.center[r.crossAxisLine],i=t[r.crossAxisStart],a=t[r.crossAxisEnd],s=yr(n[r.crossAxisStart],n[r.crossAxisEnd]),l=s(i),c=s(a);return!l&&!c||(l?i<o:a>o)});return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,o=n.map(function(e){var n=e.axis,o=Vn(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:qn(r,o)}}).sort(function(e,t){return t.distance-e.distance});return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}({pageBorderBox:l,draggable:n,droppables:o});if(!c)return gr;var u=o[c],d=cr(u.descriptor.id,r),f=function(e,t){var n=e.frame;return n?Kr(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Hr(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],f=rr(fr(t,i),function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=Lr(t,a),l=Jr({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o});return f?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Hr(r.axis,n.displaceBy),u=c.value,d=t[l.start],f=t[l.end],p=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:rr(fr(n,o),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Lr(t,s),o=Jr({displaced:i,id:t});return r?o?f<=n:d<n-u:o?f<=n+u:d<n}),inHomeList:pr(n,r)});return Er({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},Xr=function(e,t){var n;return ut({},e,((n={})[t.descriptor.id]=t,n))},Qr=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,s=o||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Un(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Hn(t.initial.client.borderBoxCenter,u)},f={selection:Hn(d.selection,s.scroll.current),borderBoxCenter:Hn(d.borderBoxCenter,s.scroll.current),offset:Hn(d.offset,s.scroll.diff.value)},p={client:d,page:f};if("COLLECTING"===t.phase)return ut({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:p});var h=l.draggables[t.critical.draggable.id],m=i||Zr({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.impact,i=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=$r(t),i=$r(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||On(!1);var n=e.frame;if(!n)return ut({},e,{subject:Qn({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||On(!1);var o=Ur(n,r);return ut({},e,{subject:Qn({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return Xr(r,s)}({previousImpact:e.previousImpact,impact:o,droppables:r}),a=$r(o);if(!a)return i;var s=r[a];if(pr(t,s))return i;if(s.subject.withPlaceholder)return i;var l=Gr(s,t,n);return Xr(i,l)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return ut({},t,{current:p,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},eo=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map(function(e){return t[e]})}(a.all,r);return ut({},t,{displaced:_r({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a})})},to=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Pr({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Dr({pageBorderBoxCenter:s,draggable:n,viewport:i})},no=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&On(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=$r(o);u||On(!1);var d=l[u],f=eo({impact:o,viewport:i,destination:d,draggables:s}),p=to({impact:f,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Qr({impact:f,clientSelection:p,state:t,dimensions:a,viewport:i})},ro=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Hr(n.axis,t.displaceBy),a=cr(n.descriptor.id,r),s=a.indexOf(t);-1===s&&On(!1);var l,c=a.slice(s+1),u=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:_r({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},oo=function(e){return"SNAP"===e.movementMode},io=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Xr(e.droppables,t)}}(e.dimensions,t);return!oo(e)||n?Qr({state:e,dimensions:r}):no({state:e,dimensions:r})};function ao(e){return e.isDragging&&"SNAP"===e.movementMode?ut({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var so={phase:"IDLE",completed:null,shouldFlush:!1},lo=function(e,t){if(void 0===e&&(e=so),"FLUSH"===t.type)return ut({},so,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&On(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:o,borderBoxCenter:l.client.borderBox.center,offset:Wn},d={client:u,page:{selection:Hn(u.selection,i.scroll.initial),borderBoxCenter:Hn(u.selection,i.scroll.initial),offset:Hn(u.selection,i.scroll.diff.value)}},f=sr(a.droppables).every(function(e){return!e.isFixedOnPage}),p=ro({draggable:l,home:c,draggables:a.draggables,viewport:i}),h=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:h,afterCritical:p.afterCritical,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&On(!1),ut({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&On(!1),function(e){var t=e.state,n=e.published,r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return er(n,e.scroll)}),o=ut({},t.dimensions.droppables,{},ir(r)),i=ar(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||On(!1),t}(n[t]),a=i.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=vn(t.client,n),i=xn(o,r);return ut({},t,{placeholder:ut({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Hn(o,a),initialWindowScroll:r.scroll.initial});return s})}({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=ut({},t.dimensions.draggables,{},i);n.removals.forEach(function(e){delete a[e]});var s={droppables:o,draggables:a},l=$r(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],f=ro({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=f.impact,h=f.afterCritical,m=c&&c.isCombineEnabled?t.impact:p,g=Zr({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),y=ut({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:p,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?y:ut({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;qr(e)||On(!1);var m=t.payload.client;return Gn(m,e.current.client.selection)?e:Qr({state:e,clientSelection:m,impact:oo(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ao(e);if("COLLECTING"===e.phase)return ao(e);qr(e)||On(!1);var g=t.payload,y=g.id,b=g.newScroll,v=e.dimensions.droppables[y];if(!v)return e;var x=er(v,b);return io(e,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;qr(e)||On(!1);var k=t.payload,w=k.id,S=k.isEnabled,_=e.dimensions.droppables[w];_||On(!1),_.isEnabled===S&&On(!1);var C=ut({},_,{isEnabled:S});return io(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;qr(e)||On(!1);var E=t.payload,L=E.id,T=E.isCombineEnabled,M=e.dimensions.droppables[L];M||On(!1),M.isCombineEnabled===T&&On(!1);var j=ut({},M,{isCombineEnabled:T});return io(e,j,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;qr(e)||On(!1),e.isWindowScrollAllowed||On(!1);var A=t.payload.newScroll;if(Gn(e.viewport.scroll.current,A))return ao(e);var O=Nr(e.viewport,A);return oo(e)?no({state:e,viewport:O}):Qr({state:e,viewport:O})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!qr(e))return e;var P=t.payload.maxScroll;if(Gn(P,e.viewport.scroll.max))return e;var N=ut({},e.viewport,{scroll:ut({},e.viewport.scroll,{max:P})});return ut({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&On(!1);var I=Vr({state:e,type:t.type});return I?Qr({state:e,impact:I.impact,clientSelection:I.clientSelection,scrollJumpRequest:I.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var D=t.payload.reason;return"COLLECTING"!==e.phase&&On(!1),ut({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:D})}if("DROP_ANIMATE"===t.type){var R=t.payload,z=R.completed,B=R.dropDuration,F=R.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&On(!1),{phase:"DROP_ANIMATING",completed:z,dropDuration:B,newHomeClientOffset:F,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},co=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},uo=function(){return{type:"COLLECTION_STARTING",payload:null}},fo=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},po=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},ho=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},mo=function(e){return{type:"MOVE",payload:e}},go=function(){return{type:"MOVE_UP",payload:null}},yo=function(){return{type:"MOVE_DOWN",payload:null}},bo=function(){return{type:"MOVE_RIGHT",payload:null}},vo=function(){return{type:"MOVE_LEFT",payload:null}},xo=function(e){return{type:"DROP_COMPLETE",payload:e}},ko=function(e){return{type:"DROP",payload:e}},wo="cubic-bezier(.2,1,.1,1)",So=0,_o=.7,Co=.75,Eo="0.2s cubic-bezier(0.2, 0, 0, 1)",Lo={fluid:"opacity "+Eo,snap:"transform "+Eo+", opacity "+Eo,drop:function(e){var t=e+"s "+wo;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Eo,placeholder:"height "+Eo+", width "+Eo+", margin "+Eo},To=function(e){return Gn(e,Wn)?null:"translate("+e.x+"px, "+e.y+"px)"},Mo=To,jo=.33,Ao=.55-jo,Oo=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&On(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&On(!1);var a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:ut({},r,{displaced:mr}),didDropInsideDroppable:!0}:{impact:eo({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,f=d?ur(u):null,p=d?dr(u):null,h={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:i,mode:o.movementMode,destination:f,combine:p},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=$r(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=to({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return Un(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),y={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:u};if(!Gn(o.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.reason,n=qn(e.current,e.destination);if(n<=0)return jo;if(n>=1500)return.55;var r=jo+Ao*(n/1500);return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:o.current.client.offset,destination:g,reason:i});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:g,dropDuration:b,completed:y}})}else n(xo({completed:y}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Po=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var No=function(e){var t=function(e){var t,n=e.onWindowScroll,r=Ln(function(){n(Po())}),o=(t=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||t()}}),i=Mn;function a(){return i!==Mn}return{start:function(){a()&&On(!1),i=jn(window,[o])},stop:function(){a()||On(!1),r.cancel(),i(),i=Mn},isActive:a}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Io=function(e,t){t()},Do=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ro=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},zo=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout(function(){return function(e){var t=nr(n,function(t){return t.timerId===e});-1===t&&On(!1),n.splice(t,1)[0].callback()}(t)}),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}),o=null,i=function(n){o||On(!1),o=null,Io(0,function(){return Ro(e().onDragEnd,n,t,Fn)})};return{beforeCapture:function(t,n){o&&On(!1),Io(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){o&&On(!1),Io(0,function(){var r=e().onBeforeDragStart;r&&r(Do(t,n))})},start:function(n,i){o&&On(!1);var a=Do(n,i);o={mode:i,lastCritical:n,lastLocation:a.source,lastCombine:null},r.add(function(){Io(0,function(){return Ro(e().onDragStart,a,t,zn)})})},update:function(n,i){var a=ur(i),s=dr(i);o||On(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,o.lastCritical);l&&(o.lastCritical=n);var c=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.droppableId===t.droppableId&&e.index===t.index}(o.lastLocation,a);c&&(o.lastLocation=a);var u=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(o.lastCombine,s);if(u&&(o.lastCombine=s),l||c||u){var d=ut({},Do(n,o.mode),{combine:s,destination:a});r.add(function(){Io(0,function(){return Ro(e().onDragUpdate,d,t,Bn)})})}},flush:function(){o||On(!1),r.flush()},drop:i,abort:function(){if(o){var e=ut({},Do(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Bo=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&On(!1),e.dispatch(xo({completed:r.completed}))}else t(n)}}},Fo=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=jn(window,[i])})}}}},Wo=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(ko({reason:r.reason})))}}}},Ho=wt,Uo=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Un({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Go=function(){var e=document.documentElement;return e||On(!1),e},$o=function(){var e=Go();return Uo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Vo(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var qo,Yo=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame(function(){o=null;var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map(function(e){return t.draggable.getById(e).getDimension(Wn)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(s).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},n.publish(u)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||On(!1);var o=n.critical.draggable;"ADDITION"===t.type&&Vo(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Vo(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||On(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||On(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||On(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&On(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,o=function(){var e=Po(),t=$o(),n=e.y,r=e.x,o=Go(),i=o.clientWidth,a=o.clientHeight;return{frame:pn({top:n,left:r,right:r+i,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Wn,displacement:Wn}}}}(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(e){return e.getDimension(i)});return{dimensions:{draggables:ar(l),droppables:ir(s)},critical:t,viewport:o}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}};return i},Ko=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Jo=function(e){window.scrollBy(e.x,e.y)},Zo=En(function(e){return sr(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),Xo=function(e){return Math.pow(e,2)},Qo=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},ei=360,ti=1200,ni=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=Qo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*Xo(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=ti,o=Date.now()-n;if(o>=ti)return e;if(o<ei)return 1;var i=Qo({startOfRange:ei,endOfRange:r,current:o}),a=e*Xo(i);return Math.ceil(a)}(i,r),1):i},ri=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,o);return n[o.end]<n[o.start]?ni({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*ni({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},oi=Kn(function(e){return 0===e?0:e}),ii=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=ri({container:n,distanceToEdges:a,dragStartTime:t,axis:xr,shouldUseTimeDampening:i}),l=ri({container:n,distanceToEdges:a,dragStartTime:t,axis:kr,shouldUseTimeDampening:i}),c=oi({x:l,y:s});if(Gn(c,Wn))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Gn(u,Wn)?null:u:null},ai=Kn(function(e){return 0===e?0:e>0?1:-1}),si=(qo=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=Hn(t,r),i={x:qo(o.x,n.x),y:qo(o.y,n.y)};return Gn(i,Wn)?null:i}),li=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=ai(r),a=si({max:o,current:n,change:i});return!a||0!==i.x&&0===a.x||0!==i.y&&0===a.y},ci=function(e,t){return li({current:e.scroll.current,max:e.scroll.max,change:t})},ui=function(e,t){var n=e.frame;return!!n&&li({current:n.scroll.current,max:n.scroll.max,change:t})},di=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.shouldUseTimeDampening,i=ii({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return i&&ci(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=rr(Zo(t),function(t){return t.frame||On(!1),Yr(t.frame.pageMarginBox)(e)});return n}(t,r);return i}({center:a,destination:$r(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=ii({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&ui(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},fi=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var o=e.scrollJumpRequest;if(o){var i=$r(e.impact);i||On(!1);var a=function(e,t){if(!ui(e,t))return t;var r=function(e,t){var n=e.frame;return n&&ui(e,t)?si({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Un(t,r);return n(e.descriptor.id,o),Un(t,o)}(e.dimensions.droppables[i],o);if(a){var s=e.viewport,l=function(e,t,n){if(!e)return n;if(!ci(t,n))return n;var o=function(e,t){if(!ci(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return si({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Un(n,o);return r(i),Un(n,i)}(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=Hn(e.current.client.selection,n);t({client:r})}(e,l)}}}},pi="data-rbd",hi=function(){var e=pi+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),mi=function(){var e=pi+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),gi=function(){var e=pi+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),yi={contextId:pi+"-scroll-container-context-id"},bi=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},vi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,xi=function(){var e=document.querySelector("head");return e||On(!1),e},ki=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var wi=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Si(e){return e instanceof wi(e).HTMLElement}function _i(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||On(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return tr(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||On(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return tr(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Ci=r.createContext(null),Ei=function(){var e=document.body;return e||On(!1),e},Li={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ti=0,Mi={separator:"::"};function ji(e,t){return void 0===t&&(t=Mi),dn(function(){return""+e+t.separator+Ti++},[t.separator,e])}var Ai=r.createContext(null);function Oi(e){var t=(0,r.useRef)(e);return(0,r.useEffect)(function(){t.current=e}),t}var Pi,Ni,Ii=((Pi={})[13]=!0,Pi[9]=!0,Pi),Di=function(e){Ii[e.keyCode]&&e.preventDefault()},Ri=function(){var e="visibilitychange";return"undefined"==typeof document?e:rr([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}(),zi={type:"IDLE"};function Bi(){}var Fi=((Ni={})[34]=!0,Ni[33]=!0,Ni[36]=!0,Ni[35]=!0,Ni);var Wi={type:"IDLE"},Hi={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Ui(e,t){if(null==t)return!1;if(Boolean(Hi[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Ui(e,t.parentElement)}function Gi(e,t){var n=t.target;return!!Si(n)&&Ui(e,n)}var $i=function(e){return pn(e.getBoundingClientRect()).center},Vi=function(){var e="matches";return"undefined"==typeof document?e:rr([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function qi(e,t){return null==e?null:e[Vi](t)?e:qi(e.parentElement,t)}function Yi(e,t){return e.closest?e.closest(t):qi(e,t)}function Ki(e){e.preventDefault()}function Ji(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function Zi(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&!!i.options.isEnabled&&!!Ko(n.getState(),o)}var Xi=[function(e){var t=(0,r.useRef)(zi),n=(0,r.useRef)(Mn),o=dn(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}}}}},[e]),i=dn(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),a=fn(function(){n.current=jn(window,[i,o],{passive:!1,capture:!0})},[i,o]),s=fn(function(){"IDLE"!==t.current.type&&(t.current=zi,n.current(),a())},[a]),l=fn(function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=fn(function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t,n,i=e.button,a=e.clientX,s=e.clientY;if(0===i){var l={x:a,y:s},c=r();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(l);if("PENDING"!==c.type&&On(!1),t=c.point,n=l,Math.abs(n.x-t.x)>=5||Math.abs(n.y-t.y)>=5){e.preventDefault();var u=c.actions.fluidLift(l);o({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Di(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&On(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Ri,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=jn(window,e,{capture:!0,passive:!1})},[l,s]),u=fn(function(e,n){"IDLE"!==t.current.type&&On(!1),t.current={type:"PENDING",point:n,actions:e},c()},[c]);vi(function(){return a(),function(){n.current()}},[a])},function(e){var t=(0,r.useRef)(Bi),n=dn(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=jn(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Fi[r.keyCode]?r.preventDefault():Di(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ri,fn:n}]}(s,l),{capture:!0,passive:!1})}}}function l(){a||On(!1),a=!1,t.current(),o()}}}},[e]),o=fn(function(){t.current=jn(window,[n],{passive:!1,capture:!0})},[n]);vi(function(){return o(),function(){t.current()}},[o])},function(e){var t=(0,r.useRef)(Wi),n=(0,r.useRef)(Mn),o=fn(function(){return t.current},[]),i=fn(function(e){t.current=e},[]),a=dn(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),f(o,a)}}}}}},[e]),s=fn(function(){n.current=jn(window,[a],{capture:!0,passive:!1})},[a]),l=fn(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(Wi),n.current(),s())},[s,i]),c=fn(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),u=fn(function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=jn(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&On(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Ri,fn:t}]}(t),e),i=jn(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Ri,fn:t}]}(t),e);n.current=function(){r(),i()}},[c,o,l]),d=fn(function(){var e=o();"PENDING"!==e.type&&On(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})},[o,i]),f=fn(function(e,t){"IDLE"!==o().type&&On(!1);var n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()},[u,o,i,d]);vi(function(){return s(),function(){n.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(Wi))}},[o,s,i]),vi(function(){return jn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function Qi(e){var t=e.contextId,n=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Xi:[],i||[]),l=(0,r.useState)(function(){return function(){var e=null;function t(){e||On(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&On(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],c=fn(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);vi(function(){var e=n.getState();return n.subscribe(function(){var t=n.getState();c(e,t),e=t})},[l,n,c]),vi(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=fn(function(e){return Zi({lockAPI:l,registry:o,store:n,draggableId:e})},[l,o,n]),d=fn(function(e,r,i){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!Zi({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var l=o.draggable.getById(i),c=function(e,t){var n="["+mi.contextId+'="'+e+'"]',r=rr(or(document.querySelectorAll(n)),function(e){return e.getAttribute(mi.id)===t});return r&&Si(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&Gi(c,s))return null;var u=t.claim(a||Mn),d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}var h=function(e,t){Ji({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=jn(window,[{eventName:"click",fn:Ki,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(ko({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&On(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",ut({isActive:function(){return Ji({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}var g={isActive:function(){return Ji({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=Ln(function(e){h(function(){return mo({client:e})})});return ut({},m({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(go)},moveRight:function(){return h(bo)},moveDown:function(){return h(yo)},moveLeft:function(){return h(vo)}};return m({liftActionArgs:{id:i,clientSelection:$i(c),movementMode:"SNAP"},cleanup:Mn,actions:e})},abort:function(){Ji({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}};return g}({lockAPI:l,registry:o,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})},[t,l,o,n]),f=fn(function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof wi(n).Element))return null;var o=function(e){return"["+hi.contextId+'="'+e+'"]'}(e),i=Yi(r,o);return i&&Si(i)?i:null}(e,t);return n?n.getAttribute(hi.draggableId):null}(t,e)},[t]),p=fn(function(e){var t=o.draggable.findById(e);return t?t.options:null},[o.draggable]),h=fn(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),m=fn(l.isClaimed,[l]),g=dn(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:m}},[u,d,f,p,h,m]),y=0;y<s.length;y++)s[y](g)}function ea(e){return e.current||On(!1),e.current}function ta(e){var t=e.contextId,n=e.setCallbacks,o=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,s=(0,r.useRef)(null),l=Oi(e),c=fn(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),u=function(e){var t=dn(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),n=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),ut(e.style,Li),Ei().appendChild(e),function(){setTimeout(function(){var t=Ei();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),fn(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),d=function(e){var t=e.contextId,n=e.text,o=ji("hidden-text",{separator:"-"}),i=dn(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e},[o,t]);return(0,r.useEffect)(function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Ei().appendChild(e),function(){var t=Ei();t.contains(e)&&t.removeChild(e)}},[i,n]),i}({contextId:t,text:a}),f=function(e,t){var n=dn(function(){return function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(hi.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Lo.outOfTheWay+";\n    ",{selector:o(mi.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(gi.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:bi(a,"always"),resting:bi(a,"resting"),dragging:bi(a,"dragging"),dropAnimating:bi(a,"dropAnimating"),userCancel:bi(a,"userCancel")}}(e)},[e]),o=(0,r.useRef)(null),i=(0,r.useRef)(null),a=fn(En(function(e){var t=i.current;t||On(!1),t.textContent=e}),[]),s=fn(function(e){var t=o.current;t||On(!1),t.textContent=e},[]);vi(function(){(o.current||i.current)&&On(!1);var r=ki(t),l=ki(t);return o.current=r,i.current=l,r.setAttribute(pi+"-always",e),l.setAttribute(pi+"-dynamic",e),xi().appendChild(r),xi().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||On(!1),xi().removeChild(t),e.current=null};e(o),e(i)}},[t,s,a,n.always,n.resting,e]);var l=fn(function(){return a(n.dragging)},[a,n.dragging]),c=fn(function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)},[a,n.dropAnimating,n.userCancel]),u=fn(function(){i.current&&a(n.resting)},[a,n.resting]);return dn(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u])}(t,i),p=fn(function(e){ea(s).dispatch(e)},[]),h=dn(function(){return kt({publishWhileDragging:co,updateDroppableScroll:fo,updateDroppableIsEnabled:po,updateDroppableIsCombineEnabled:ho,collectionStarting:uo},p)},[p]),m=function(){var e=dn(_i,[]);return(0,r.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),g=dn(function(){return Yo(m,h)},[m,h]),y=dn(function(){return function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollDroppable,n=Ln(e.scrollWindow),r=Ln(t),o=null,i=function(e){o||On(!1);var t=o,i=t.shouldUseTimeDampening,a=t.dragStartTime;di({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:i})};return{start:function(e){o&&On(!1);var t=Date.now(),n=!1,r=function(){n=!0};di({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){o&&(n.cancel(),r.cancel(),o=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),i=fi({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}}(ut({scrollWindow:Jo,scrollDroppable:g.scrollDroppable},kt({move:mo},p)))},[g.scrollDroppable,p]),b=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=fn(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),s=fn(function(t){var n=function(e,t){var n="["+hi.contextId+'="'+e+'"]',r=or(document.querySelectorAll(n));if(!r.length)return null;var o=rr(r,function(e){return e.getAttribute(hi.draggableId)===t});return o&&Si(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=fn(function(e,t){n.current===e&&(n.current=t)},[]),c=fn(function(){o.current||i.current&&(o.current=requestAnimationFrame(function(){o.current=null;var e=n.current;e&&s(e)}))},[s]),u=fn(function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(hi.draggableId)===e&&(n.current=e)},[]);return vi(function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}},[]),dn(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l])}(t),v=dn(function(){return function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return vt(lo,Ho(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(mt(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(o)});return r=wt.apply(void 0,i)(n.dispatch),ht(ht({},n),{},{dispatch:r})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(xo({completed:c.completed})),"IDLE"!==n().phase&&On(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),f=d.critical,p=d.dimensions,h=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:f,dimensions:p,clientSelection:s,movementMode:l,viewport:h}})}else t(o)}}}}(n),Oo,Bo,Fo,Wo,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&On(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),No,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),zo(i,a))))}({announce:u,autoScroller:y,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:f})},[u,y,g,b,c,f]);s.current=v;var x=fn(function(){var e=ea(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),k=fn(function(){var e=ea(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);n(dn(function(){return{isDragging:k,tryAbort:x}},[k,x]));var w=fn(function(e){return Ko(ea(s).getState(),e)},[]),S=fn(function(){return qr(ea(s).getState())},[]),_=dn(function(){return{marshal:g,focus:b,contextId:t,canLift:w,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:m}},[t,g,d,b,w,S,m]);return Qi({contextId:t,store:v,registry:m,customSensors:o,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)(function(){return x},[x]),r.createElement(Ai.Provider,{value:_},r.createElement(Mt,{context:Ci,store:v},e.children))}var na=0;function ra(e){var t=dn(function(){return""+na++},[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return r.createElement(Pn,null,function(o){return r.createElement(ta,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var oa=function(e){return function(t){return e===t}},ia=oa("scroll"),aa=oa("auto"),sa=(oa("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),la=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return sa(n,ia)||sa(n,aa)}(t)?t:e(t.parentElement)},ca=function(e){return{x:e.scrollLeft,y:e.scrollTop}},ua=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},da={passive:!1},fa={passive:!0},pa=function(e){return e.shouldPublishImmediately?da:fa};function ha(e){var t=(0,r.useContext)(e);return t||On(!1),t}var ma=function(e){return e&&e.env.closestScrollable||null};function ga(){}var ya={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},ba=r.memo(function(e){var t=(0,r.useRef)(null),n=fn(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),o=e.animate,i=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,r.useState)("open"===e.animate),c=l[0],u=l[1];(0,r.useEffect)(function(){return c?"open"!==o?(n(),u(!1),ga):t.current?ga:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):ga},[o,c,n]);var d=fn(function(e){"height"===e.propertyName&&(i(),"close"===o&&a())},[o,a,i]),f=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?ya:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Lo.placeholder:null}}({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}),va=r.createContext(null),xa=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ct(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r.PureComponent),ka=function(e,t){return t?Lo.drop(t.duration):e?Lo.snap:Lo.fluid},wa=function(e,t){return e?t?So:_o:null};function Sa(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,o=e.dropping,i=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(o),l=s?function(e,t){var n=To(e);return n?t?n+" scale("+Co+")":n:null}(n,i):Mo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ka(a,o),transform:l,opacity:wa(i,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:Mo((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function _a(e){e.preventDefault()}var Ca=function(e,t){return e===t},Ea=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function La(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Ta={mapped:{type:"SECONDARY",offset:Wn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:La(null)}},Ma=ln(function(){var e,t,n,r=(e=En(function(e,t){return{x:e,y:t}}),t=En(function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=En(function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}}),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=$r(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var f=o.isClone,p=r.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=Ea(h),y=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:r.dropDuration,curve:wo,moveTo:r.newHomeClientOffset,opacity:y?So:null,scale:y?Co:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:b,draggingOver:g,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:t(m,f,g,y,b)}}}return null}),o=function(){var e=En(function(e,t){return{x:e,y:t}}),t=En(La),n=En(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(Wn,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=dr(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=$n(a.displacedBy.point),f=e(d.x,d.y);return n(f,u,!0)}if(l)return r(u);var p=i.displacedBy.point,h=e(p.x,p.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||Ta}},{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:Ci,pure:!0,areStatePropsEqual:Ca})(function(e){var t=(0,r.useRef)(null),n=fn(function(e){t.current=e},[]),o=fn(function(){return t.current},[]),i=ha(Ai),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=ha(va),u=c.type,d=c.droppableId,f=dn(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),p=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,y=e.canDragInteractiveElements,b=e.isClone,v=e.mapped,x=e.dropAnimationFinished;b||function(e){var t=ji("draggable"),n=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=dn(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}},[a,l,s]),u=fn(function(e){var t=i();return t||On(!1),function(e,t,n){void 0===n&&(n=Wn);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=kn(o,r),a=xn(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)},[n,i]),d=dn(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}},[n,u,c,t]),f=(0,r.useRef)(d),p=(0,r.useRef)(!0);vi(function(){return o.draggable.register(f.current),function(){return o.draggable.unregister(f.current)}},[o.draggable]),vi(function(){if(p.current)p.current=!1;else{var e=f.current;f.current=d,o.draggable.update(d,e)}},[d,o.draggable])}(dn(function(){return{descriptor:f,registry:l,getDraggableRef:o,canDragInteractiveElements:y,shouldRespectForcePress:g,isEnabled:m}},[f,l,o,y,g,m]));var k=dn(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:_a}:null},[a,s,h,m]),w=fn(function(e){"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&x()},[x,v]),S=dn(function(){var e=Sa(v),t="DRAGGING"===v.type&&v.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:k}},[a,k,h,v,w,n]),_=dn(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return p(S,v.snapshot,_)});function ja(e){return ha(va).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(Ma,e):null}function Aa(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return r.createElement(ja,ut({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}var Oa=function(e,t){return e===t.droppable.type},Pa=function(e,t){return t.draggables[e.draggable.id]},Na={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||On(!1),document.body}},Ia=ln(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=ut({},e,{shouldAnimatePlaceholder:!1}),n=En(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=En(function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var f={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!Oa(a,c))return t;var u=Pa(c,n.dimensions),d=$r(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!Oa(a,f.critical))return t;var p=Pa(f.critical,n.dimensions);return r(i,s,Ea(f.result)===i,$r(f.impact)===i,p,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!Oa(a,h.critical))return t;var m=$r(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),y=h.critical.droppable.id===i;return m?g?e:t:y?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Ci,pure:!0,areStatePropsEqual:Ca})(function(e){var t=(0,r.useContext)(Ai);t||On(!1);var n=t.contextId,o=t.isMovementAllowed,i=(0,r.useRef)(null),a=(0,r.useRef)(null),s=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,m=e.snapshot,g=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,v=fn(function(){return i.current},[]),x=fn(function(e){i.current=e},[]),k=(fn(function(){return a.current},[]),fn(function(e){a.current=e},[])),w=fn(function(){o()&&y({maxScroll:$o()})},[o,y]);!function(e){var t=(0,r.useRef)(null),n=ha(Ai),o=ji("droppable"),i=n.registry,a=n.marshal,s=Oi(e),l=dn(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=dn(function(){return En(function(e,n){t.current||On(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)})},[l.id,a]),d=fn(function(){var e=t.current;return e&&e.env.closestScrollable?ca(e.env.closestScrollable):Wn},[]),f=fn(function(){var e=d();u(e.x,e.y)},[d,u]),p=dn(function(){return Ln(f)},[f]),h=fn(function(){var e=t.current,n=ma(e);e&&n||On(!1),e.scrollOptions.shouldPublishImmediately?f():p()},[p,f]),m=fn(function(e,r){t.current&&On(!1);var o=s.current,i=o.getDroppableRef();i||On(!1);var a=function(e){return{closestScrollable:la(e),isFixedOnPage:ua(e)}}(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=wn(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=hn({top:r,right:a,bottom:i,left:o},n.border);return yn({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=xn(u,o),f=function(){if(!c)return null;var e=wn(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:xn(e,o),scroll:ca(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Uo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Wn,displacement:Wn}}}}(),u="vertical"===i?xr:kr;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Qn({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:f});return p}({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(yi.contextId,n.contextId),d.addEventListener("scroll",h,pa(c.scrollOptions))),u},[n.contextId,l,h,s]),g=fn(function(){var e=t.current,n=ma(e);return e&&n||On(!1),ca(n)},[]),y=fn(function(){var e=t.current;e||On(!1);var n=ma(e);t.current=null,n&&(p.cancel(),n.removeAttribute(yi.contextId),n.removeEventListener("scroll",h,pa(e.scrollOptions)))},[h,p]),b=fn(function(e){var n=t.current;n||On(!1);var r=ma(n);r||On(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),v=dn(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:y,scroll:b}},[y,m,g,b]),x=dn(function(){return{uniqueId:o,descriptor:l,callbacks:v}},[v,l,o]);vi(function(){return c.current=x.descriptor,i.droppable.register(x),function(){t.current&&y(),i.droppable.unregister(x)}},[v,l,y,x,a,i.droppable]),vi(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),vi(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:v});var S=r.createElement(xa,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,o=e.data,i=e.animate;return r.createElement(ba,{placeholder:o,onClose:t,innerRef:k,animate:i,contextId:n,onTransitionEnd:w})}),_=dn(function(){return{innerRef:x,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,S,x]),C=g?g.dragging.draggableId:null,E=dn(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);return r.createElement(va.Provider,{value:E},s(_,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=r.createElement(ja,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return de.createPortal(n,b())}())});Ia.defaultProps=Na;const Da=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,o,i);return i},Ra=e=>e,za=e=>{const t=(e=>e?Da(e):Da)(e),n=e=>function(e,t=Ra){const n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Ba=new Map,Fa=e=>{const t=Ba.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},Wa=e=>{var t,n;if(!e)return;const r=e.split("\n"),o=r.findIndex(e=>e.includes("api.setState"));if(o<0)return;const i=(null==(t=r[o+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(i))?void 0:n[1]},Ha=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)};function Ua(e,t){let n;try{n=e()}catch(e){return}const r={getItem:e=>{var r;const o=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(o):o(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)};return r}const Ga=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Ga(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>Ga(t)(e)}}};var $a=Symbol.for("immer-nothing"),Va=Symbol.for("immer-draftable"),qa=Symbol.for("immer-state");function Ya(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object.getPrototypeOf;function Ja(e){return!!e&&!!e[qa]}function Za(e){return!!e&&(es(e)||Array.isArray(e)||!!e[Va]||!!e.constructor?.[Va]||as(e)||ss(e))}var Xa=Object.prototype.constructor.toString(),Qa=new WeakMap;function es(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;let r=Qa.get(n);return void 0===r&&(r=Function.toString.call(n),Qa.set(n,r)),r===Xa}function ts(e,t,n=!0){0===ns(e)?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ns(e){const t=e[qa];return t?t.type_:Array.isArray(e)?1:as(e)?2:ss(e)?3:0}function rs(e,t){return 2===ns(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function is(e,t,n){const r=ns(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function as(e){return e instanceof Map}function ss(e){return e instanceof Set}function ls(e){return e.copy_||e.base_}function cs(e,t){if(as(e))return new Map(e);if(ss(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=es(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[qa];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Ka(e),t)}{const t=Ka(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function us(e,t=!1){return fs(e)||Ja(e)||!Za(e)||(ns(e)>1&&Object.defineProperties(e,{set:ds,add:ds,clear:ds,delete:ds}),Object.freeze(e),t&&Object.values(e).forEach(e=>us(e,!0))),e}var ds={value:function(){Ya(2)}};function fs(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var ps,hs={};function ms(e){const t=hs[e];return t||Ya(0),t}function gs(){return ps}function ys(e,t){t&&(ms("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bs(e){vs(e),e.drafts_.forEach(ks),e.drafts_=null}function vs(e){e===ps&&(ps=e.parent_)}function xs(e){return ps={drafts_:[],parent_:ps,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ks(e){const t=e[qa];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ws(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[qa].modified_&&(bs(t),Ya(4)),Za(e)&&(e=Ss(t,e),t.parent_||Cs(t,e)),t.patches_&&ms("Patches").generateReplacementPatches_(n[qa].base_,e,t.patches_,t.inversePatches_)):e=Ss(t,n,[]),bs(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$a?e:void 0}function Ss(e,t,n){if(fs(t))return t;const r=e.immer_.shouldUseStrictIteration(),o=t[qa];if(!o)return ts(t,(r,i)=>_s(e,o,t,r,i,n),r),t;if(o.scope_!==e)return t;if(!o.modified_)return Cs(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const t=o.copy_;let i=t,a=!1;3===o.type_&&(i=new Set(t),t.clear(),a=!0),ts(i,(r,i)=>_s(e,o,t,r,i,n,a),r),Cs(e,t,!1),n&&e.patches_&&ms("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function _s(e,t,n,r,o,i,a){if(null==o)return;if("object"!=typeof o&&!a)return;const s=fs(o);if(!s||a){if(Ja(o)){const a=Ss(e,o,i&&t&&3!==t.type_&&!rs(t.assigned_,r)?i.concat(r):void 0);if(is(n,r,a),!Ja(a))return;e.canAutoFreeze_=!1}else a&&n.add(o);if(Za(o)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===o&&s)return;Ss(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!(as(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Cs(e,o)}}}function Cs(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&us(t,n)}var Es={get(e,t){if(t===qa)return e;const n=ls(e);if(!rs(n,t))return function(e,t,n){const r=Ms(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Za(r)?r:r===Ts(e.base_,t)?(As(e),e.copy_[t]=Os(r,e)):r},has:(e,t)=>t in ls(e),ownKeys:e=>Reflect.ownKeys(ls(e)),set(e,t,n){const r=Ms(ls(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ts(ls(e),t),a=r?.[qa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((o=n)===(i=r)?0!==o||1/o==1/i:o!=o&&i!=i)&&(void 0!==n||rs(e.base_,t)))return!0;As(e),js(e)}var o,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Ts(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,As(e),js(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ls(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ya(11)},getPrototypeOf:e=>Ka(e.base_),setPrototypeOf(){Ya(12)}},Ls={};function Ts(e,t){const n=e[qa];return(n?ls(n):e)[t]}function Ms(e,t){if(!(t in e))return;let n=Ka(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ka(n)}}function js(e){e.modified_||(e.modified_=!0,e.parent_&&js(e.parent_))}function As(e){e.copy_||(e.copy_=cs(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Os(e,t){const n=as(e)?ms("MapSet").proxyMap_(e,t):ss(e)?ms("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:gs(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Es;n&&(o=[r],i=Ls);const{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:gs()).drafts_.push(n),n}function Ps(e){if(!Za(e)||fs(e))return e;const t=e[qa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cs(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cs(e,!0);return ts(n,(e,t)=>{is(n,e,Ps(t))},r),t&&(t.finalized_=!1),n}ts(Es,(e,t)=>{Ls[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ls.deleteProperty=function(e,t){return Ls.set.call(this,e,t,void 0)},Ls.set=function(e,t,n){return Es.set.call(this,e[0],t,n,e[0])};var Ns=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,e=>t.call(this,e,...o))}}let r;if("function"!=typeof t&&Ya(6),void 0!==n&&"function"!=typeof n&&Ya(7),Za(e)){const o=xs(this),i=Os(e,void 0);let a=!0;try{r=t(i),a=!1}finally{a?bs(o):vs(o)}return ys(o,n),ws(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===$a&&(r=void 0),this.autoFreeze_&&us(r,!0),n){const t=[],o=[];ms("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}Ya(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;Za(e)||Ya(8),Ja(e)&&(Ja(t=e)||Ya(10),e=Ps(t));const n=xs(this),r=Os(e,void 0);return r[qa].isManual_=!0,vs(n),r}finishDraft(e,t){const n=e&&e[qa];n&&n.isManual_||Ya(9);const{scope_:r}=n;return ys(r,t),ws(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=ms("Patches").applyPatches_;return Ja(e)?r(e,t):this.produce(e,e=>r(e,t))}},Is=Ns.produce;function Ds(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rs}=Object.prototype,{getPrototypeOf:zs}=Object,{iterator:Bs,toStringTag:Fs}=Symbol,Ws=(Hs=Object.create(null),e=>{const t=Rs.call(e);return Hs[t]||(Hs[t]=t.slice(8,-1).toLowerCase())});var Hs;const Us=e=>(e=e.toLowerCase(),t=>Ws(t)===e),Gs=e=>t=>typeof t===e,{isArray:$s}=Array,Vs=Gs("undefined");function qs(e){return null!==e&&!Vs(e)&&null!==e.constructor&&!Vs(e.constructor)&&Js(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ys=Us("ArrayBuffer"),Ks=Gs("string"),Js=Gs("function"),Zs=Gs("number"),Xs=e=>null!==e&&"object"==typeof e,Qs=e=>{if("object"!==Ws(e))return!1;const t=zs(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Fs in e||Bs in e)},el=Us("Date"),tl=Us("File"),nl=Us("Blob"),rl=Us("FileList"),ol=Us("URLSearchParams"),[il,al,sl,ll]=["ReadableStream","Request","Response","Headers"].map(Us);function cl(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),$s(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(qs(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function ul(e,t){if(qs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const dl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,fl=e=>!Vs(e)&&e!==dl,pl=(hl="undefined"!=typeof Uint8Array&&zs(Uint8Array),e=>hl&&e instanceof hl);var hl;const ml=Us("HTMLFormElement"),gl=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yl=Us("RegExp"),bl=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};cl(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)},vl=Us("AsyncFunction"),xl=(kl="function"==typeof setImmediate,wl=Js(dl.postMessage),kl?setImmediate:wl?(Sl=`axios@${Math.random()}`,_l=[],dl.addEventListener("message",({source:e,data:t})=>{e===dl&&t===Sl&&_l.length&&_l.shift()()},!1),e=>{_l.push(e),dl.postMessage(Sl,"*")}):e=>setTimeout(e));var kl,wl,Sl,_l;const Cl="undefined"!=typeof queueMicrotask?queueMicrotask.bind(dl):"undefined"!=typeof process&&process.nextTick||xl,El={isArray:$s,isArrayBuffer:Ys,isBuffer:qs,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Js(e.append)&&("formdata"===(t=Ws(e))||"object"===t&&Js(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ys(e.buffer),t},isString:Ks,isNumber:Zs,isBoolean:e=>!0===e||!1===e,isObject:Xs,isPlainObject:Qs,isEmptyObject:e=>{if(!Xs(e)||qs(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:il,isRequest:al,isResponse:sl,isHeaders:ll,isUndefined:Vs,isDate:el,isFile:tl,isBlob:nl,isRegExp:yl,isFunction:Js,isStream:e=>Xs(e)&&Js(e.pipe),isURLSearchParams:ol,isTypedArray:pl,isFileList:rl,forEach:cl,merge:function e(){const{caseless:t,skipUndefined:n}=fl(this)&&this||{},r={},o=(o,i)=>{const a=t&&ul(r,i)||i;Qs(r[a])&&Qs(o)?r[a]=e(r[a],o):Qs(o)?r[a]=e({},o):$s(o)?r[a]=o.slice():n&&Vs(o)||(r[a]=o)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&cl(arguments[e],o);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(cl(t,(t,r)=>{n&&Js(t)?e[r]=Ds(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&zs(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ws,kindOfTest:Us,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if($s(e))return e;let t=e.length;if(!Zs(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Bs]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ml,hasOwnProperty:gl,hasOwnProp:gl,reduceDescriptors:bl,freezeMethods:e=>{bl(e,(t,n)=>{if(Js(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Js(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return $s(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ul,global:dl,isContextDefined:fl,isSpecCompliantForm:function(e){return!!(e&&Js(e.append)&&"FormData"===e[Fs]&&e[Bs])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Xs(e)){if(t.indexOf(e)>=0)return;if(qs(e))return e;if(!("toJSON"in e)){t[r]=e;const o=$s(e)?[]:{};return cl(e,(e,t)=>{const i=n(e,r+1);!Vs(i)&&(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:vl,isThenable:e=>e&&(Xs(e)||Js(e))&&Js(e.then)&&Js(e.catch),setImmediate:xl,asap:Cl,isIterable:e=>null!=e&&Js(e[Bs])};function Ll(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}El.inherits(Ll,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:El.toJSONObject(this.config),code:this.code,status:this.status}}});const Tl=Ll.prototype,Ml={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ml[e]={value:e}}),Object.defineProperties(Ll,Ml),Object.defineProperty(Tl,"isAxiosError",{value:!0}),Ll.from=(e,t,n,r,o,i)=>{const a=Object.create(Tl);El.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Ll.call(a,s,l,n,r,o),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const jl=Ll;function Al(e){return El.isPlainObject(e)||El.isArray(e)}function Ol(e){return El.endsWith(e,"[]")?e.slice(0,-2):e}function Pl(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ol(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Nl=El.toFlatObject(El,{},null,function(e){return/^is[A-Z]/.test(e)}),Il=function(e,t,n){if(!El.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=El.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!El.isUndefined(t[e])})).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&El.isSpecCompliantForm(t);if(!El.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(El.isDate(e))return e.toISOString();if(El.isBoolean(e))return e.toString();if(!s&&El.isBlob(e))throw new jl("Blob is not supported. Use a Buffer instead.");return El.isArrayBuffer(e)||El.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(El.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(El.isArray(e)&&function(e){return El.isArray(e)&&!e.some(Al)}(e)||(El.isFileList(e)||El.endsWith(n,"[]"))&&(s=El.toArray(e)))return n=Ol(n),s.forEach(function(e,r){!El.isUndefined(e)&&null!==e&&t.append(!0===a?Pl([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!Al(e)||(t.append(Pl(o,n,i),l(e)),!1)}const u=[],d=Object.assign(Nl,{defaultVisitor:c,convertValue:l,isVisitable:Al});if(!El.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!El.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),El.forEach(n,function(n,i){!0===(!(El.isUndefined(n)||null===n)&&o.call(t,n,El.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Dl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Rl(e,t){this._pairs=[],e&&Il(e,this,t)}const zl=Rl.prototype;zl.append=function(e,t){this._pairs.push([e,t])},zl.toString=function(e){const t=e?function(t){return e.call(this,t,Dl)}:Dl;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Bl=Rl;function Fl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Wl(e,t,n){if(!t)return e;const r=n&&n.encode||Fl;El.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):El.isURLSearchParams(t)?t.toString():new Bl(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Hl=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){El.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ul={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gl={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Bl,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},$l="undefined"!=typeof window&&"undefined"!=typeof document,Vl="object"==typeof navigator&&navigator||void 0,ql=$l&&(!Vl||["ReactNative","NativeScript","NS"].indexOf(Vl.product)<0),Yl="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Kl=$l&&window.location.href||"http://localhost",Jl={...e,...Gl},Zl=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&El.isArray(r)?r.length:i,s?(El.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&El.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&El.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(El.isFormData(e)&&El.isFunction(e.entries)){const n={};return El.forEachEntry(e,(e,r)=>{t(function(e){return El.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null},Xl={transitional:Ul,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=El.isObject(e);if(o&&El.isHTMLForm(e)&&(e=new FormData(e)),El.isFormData(e))return r?JSON.stringify(Zl(e)):e;if(El.isArrayBuffer(e)||El.isBuffer(e)||El.isStream(e)||El.isFile(e)||El.isBlob(e)||El.isReadableStream(e))return e;if(El.isArrayBufferView(e))return e.buffer;if(El.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Il(e,new Jl.classes.URLSearchParams,{visitor:function(e,t,n,r){return Jl.isNode&&El.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=El.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Il(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(El.isString(e))try{return(0,JSON.parse)(e),El.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Xl.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(El.isResponse(e)||El.isReadableStream(e))return e;if(e&&El.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(e){if(n){if("SyntaxError"===e.name)throw jl.from(e,jl.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jl.classes.FormData,Blob:Jl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};El.forEach(["delete","get","head","post","put","patch"],e=>{Xl.headers[e]={}});const Ql=Xl,ec=El.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tc=Symbol("internals");function nc(e){return e&&String(e).trim().toLowerCase()}function rc(e){return!1===e||null==e?e:El.isArray(e)?e.map(rc):String(e)}function oc(e,t,n,r,o){return El.isFunction(r)?r.call(this,t,n):(o&&(t=n),El.isString(t)?El.isString(r)?-1!==t.indexOf(r):El.isRegExp(r)?r.test(t):void 0:void 0)}class ic{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=nc(t);if(!o)throw new Error("header name must be a non-empty string");const i=El.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=rc(e))}const i=(e,t)=>El.forEach(e,(e,n)=>o(e,n,t));if(El.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(El.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&ec[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(El.isObject(e)&&El.isIterable(e)){let n,r,o={};for(const t of e){if(!El.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?El.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=nc(e)){const n=El.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(El.isFunction(t))return t.call(this,e,n);if(El.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nc(e)){const n=El.findKey(this,e);return!(!n||void 0===this[n]||t&&!oc(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=nc(e)){const o=El.findKey(n,e);!o||t&&!oc(0,n[o],o,t)||(delete n[o],r=!0)}}return El.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!oc(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return El.forEach(this,(r,o)=>{const i=El.findKey(n,o);if(i)return t[i]=rc(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=rc(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return El.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&El.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[tc]=this[tc]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=nc(e);t[r]||(function(e,t){const n=El.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return El.isArray(e)?e.forEach(r):r(e),this}}ic.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),El.reduceDescriptors(ic.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),El.freezeMethods(ic);const ac=ic;function sc(e,t){const n=this||Ql,r=t||n,o=ac.from(r.headers);let i=r.data;return El.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function lc(e){return!(!e||!e.__CANCEL__)}function cc(e,t,n){jl.call(this,null==e?"canceled":e,jl.ERR_CANCELED,t,n),this.name="CanceledError"}El.inherits(cc,jl,{__CANCEL__:!0});const uc=cc;function dc(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new jl("Request failed with status code "+n.status,[jl.ERR_BAD_REQUEST,jl.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const fc=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},i-s)))},()=>n&&a(n)]}(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},pc=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},hc=e=>(...t)=>El.asap(()=>e(...t)),mc=Jl.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Jl.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Jl.origin),Jl.navigator&&/(msie|trident)/i.test(Jl.navigator.userAgent)):()=>!0,gc=Jl.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];El.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),El.isString(r)&&a.push("path="+r),El.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function yc(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const bc=e=>e instanceof ac?{...e}:e;function vc(e,t){t=t||{};const n={};function r(e,t,n,r){return El.isPlainObject(e)&&El.isPlainObject(t)?El.merge.call({caseless:r},e,t):El.isPlainObject(t)?El.merge({},t):El.isArray(t)?t.slice():t}function o(e,t,n,o){return El.isUndefined(t)?El.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!El.isUndefined(t))return r(void 0,t)}function a(e,t){return El.isUndefined(t)?El.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(bc(e),bc(t),0,!0)};return El.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||o,a=i(e[r],t[r],r);El.isUndefined(a)&&i!==s||(n[r]=a)}),n}const xc=e=>{const t=vc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:s}=t;if(t.headers=a=ac.from(a),t.url=Wl(yc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),El.isFormData(n))if(Jl.hasStandardBrowserEnv||Jl.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(El.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&a.set(e,n)})}if(Jl.hasStandardBrowserEnv&&(r&&El.isFunction(r)&&(r=r(t)),r||!1!==r&&mc(t.url))){const e=o&&i&&gc.read(i);e&&a.set(o,e)}return t},kc="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=xc(e);let o=r.data;const i=ac.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=ac.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());dc(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new jl("Request aborted",jl.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",o=new jl(r,jl.ERR_NETWORK,e,m);o.event=t||null,n(o),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Ul;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new jl(t,o.clarifyTimeoutError?jl.ETIMEDOUT:jl.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&El.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),El.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=fc(p,!0),m.addEventListener("progress",l)),f&&m.upload&&([s,c]=fc(f),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new uc(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Jl.protocols.indexOf(y)?n(new jl("Unsupported protocol "+y+":",jl.ERR_BAD_REQUEST,e)):m.send(o||null)})},wc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof jl?t:new uc(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,o(new jl(`timeout ${t} of ms exceeded`,jl.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:s}=r;return s.unsubscribe=()=>El.asap(a),s}},Sc=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},_c=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*Sc(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},{isFunction:Cc}=El,Ec=(({Request:e,Response:t})=>({Request:e,Response:t}))(El.global),{ReadableStream:Lc,TextEncoder:Tc}=El.global,Mc=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},jc=e=>{e=El.merge.call({skipUndefined:!0},Ec,e);const{fetch:t,Request:n,Response:r}=e,o=t?Cc(t):"function"==typeof fetch,i=Cc(n),a=Cc(r);if(!o)return!1;const s=o&&Cc(Lc),l=o&&("function"==typeof Tc?(c=new Tc,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=i&&s&&Mc(()=>{let e=!1;const t=new n(Jl.origin,{body:new Lc,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&s&&Mc(()=>El.isReadableStream(new r("").body)),f={stream:d&&(e=>e.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f[e]&&(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new jl(`Response type '${e}' is not supported`,jl.ERR_NOT_SUPPORT,n)})});return async e=>{let{url:o,method:a,data:s,signal:c,cancelToken:p,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:b,withCredentials:v="same-origin",fetchOptions:x}=xc(e),k=t||fetch;y=y?(y+"").toLowerCase():"text";let w=wc([c,p&&p.toAbortSignal()],h),S=null;const _=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(g&&u&&"get"!==a&&"head"!==a&&0!==(C=await(async(e,t)=>{const r=El.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(El.isBlob(e))return e.size;if(El.isSpecCompliantForm(e)){const t=new n(Jl.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return El.isArrayBufferView(e)||El.isArrayBuffer(e)?e.byteLength:(El.isURLSearchParams(e)&&(e+=""),El.isString(e)?(await l(e)).byteLength:void 0)})(t):r})(b,s))){let e,t=new n(o,{method:"POST",body:s,duplex:"half"});if(El.isFormData(s)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=pc(C,fc(hc(g)));s=_c(t.body,65536,e,n)}}El.isString(v)||(v=v?"include":"omit");const t=i&&"credentials"in n.prototype,c={...x,signal:w,method:a.toUpperCase(),headers:b.normalize().toJSON(),body:s,duplex:"half",credentials:t?v:void 0};S=i&&new n(o,c);let p=await(i?k(S,x):k(o,c));const h=d&&("stream"===y||"response"===y);if(d&&(m||h&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=El.toFiniteNumber(p.headers.get("content-length")),[n,o]=m&&pc(t,fc(hc(m),!0))||[];p=new r(_c(p.body,65536,n,()=>{o&&o(),_&&_()}),e)}y=y||"text";let E=await f[El.findKey(f,y)||"text"](p,e);return!h&&_&&_(),await new Promise((t,n)=>{dc(t,n,{data:E,headers:ac.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:S})})}catch(t){if(_&&_(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new jl("Network Error",jl.ERR_NETWORK,e,S),{cause:t.cause||t});throw jl.from(t,t&&t.code,e,S)}}},Ac=new Map,Oc=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let a,s,l=i.length,c=Ac;for(;l--;)a=i[l],s=c.get(a),void 0===s&&c.set(a,s=l?new Map:jc(t)),c=s;return s},Pc=(Oc(),{http:null,xhr:kc,fetch:{get:Oc}});El.forEach(Pc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const Nc=e=>`- ${e}`,Ic=e=>El.isFunction(e)||null===e||!1===e,Dc=(e,t)=>{e=El.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let a=0;a<n;a++){let n;if(r=e[a],o=r,!Ic(r)&&(o=Pc[(n=String(r)).toLowerCase()],void 0===o))throw new jl(`Unknown adapter '${n}'`);if(o&&(El.isFunction(o)||(o=o.get(t))))break;i[n||"#"+a]=o}if(!o){const e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(Nc).join("\n"):" "+Nc(e[0]):"as no adapter specified";throw new jl("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return o};function Rc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uc(null,e)}function zc(e){return Rc(e),e.headers=ac.from(e.headers),e.data=sc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Dc(e.adapter||Ql.adapter,e)(e).then(function(t){return Rc(e),t.data=sc.call(e,e.transformResponse,t),t.headers=ac.from(t.headers),t},function(t){return lc(t)||(Rc(e),t&&t.response&&(t.response.data=sc.call(e,e.transformResponse,t.response),t.response.headers=ac.from(t.response.headers))),Promise.reject(t)})}const Bc="1.12.2",Fc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Wc={};Fc.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Bc+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new jl(r(o," has been removed"+(t?" in "+t:"")),jl.ERR_DEPRECATED);return t&&!Wc[o]&&(Wc[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},Fc.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Hc={assertOptions:function(e,t,n){if("object"!=typeof e)throw new jl("options must be an object",jl.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new jl("option "+i+" must be "+n,jl.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new jl("Unknown option "+i,jl.ERR_BAD_OPTION)}},validators:Fc},Uc=Hc.validators;class Gc{constructor(e){this.defaults=e||{},this.interceptors={request:new Hl,response:new Hl}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=vc(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Hc.assertOptions(n,{silentJSONParsing:Uc.transitional(Uc.boolean),forcedJSONParsing:Uc.transitional(Uc.boolean),clarifyTimeoutError:Uc.transitional(Uc.boolean)},!1),null!=r&&(El.isFunction(r)?t.paramsSerializer={serialize:r}:Hc.assertOptions(r,{encode:Uc.function,serialize:Uc.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hc.assertOptions(t,{baseUrl:Uc.spelling("baseURL"),withXsrfToken:Uc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&El.merge(o.common,o[t.method]);o&&El.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=ac.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[zc.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let f=t;for(;d<u;){const e=a[d++],t=a[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=zc.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Wl(yc((e=vc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}El.forEach(["delete","get","head","options"],function(e){Gc.prototype[e]=function(t,n){return this.request(vc(n||{},{method:e,url:t,data:(n||{}).data}))}}),El.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(vc(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Gc.prototype[e]=t(),Gc.prototype[e+"Form"]=t(!0)});const $c=Gc;class Vc{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new uc(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Vc(function(t){e=t});return{token:t,cancel:e}}}const qc=Vc,Yc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yc).forEach(([e,t])=>{Yc[t]=e});const Kc=Yc,Jc=function e(t){const n=new $c(t),r=Ds($c.prototype.request,n);return El.extend(r,$c.prototype,n,{allOwnKeys:!0}),El.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(vc(t,n))},r}(Ql);Jc.Axios=$c,Jc.CanceledError=uc,Jc.CancelToken=qc,Jc.isCancel=lc,Jc.VERSION=Bc,Jc.toFormData=Il,Jc.AxiosError=jl,Jc.Cancel=Jc.CanceledError,Jc.all=function(e){return Promise.all(e)},Jc.spread=function(e){return function(t){return e.apply(null,t)}},Jc.isAxiosError=function(e){return El.isObject(e)&&!0===e.isAxiosError},Jc.mergeConfig=vc,Jc.AxiosHeaders=ac,Jc.formToJSON=e=>Zl(El.isHTMLForm(e)?new FormData(e):e),Jc.getAdapter=Dc,Jc.HttpStatusCode=Kc,Jc.default=Jc;const Zc=Jc;var Xc=["_id"];function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function eu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return nu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(nu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,nu(d,"constructor",c),nu(c,"constructor",l),l.displayName="GeneratorFunction",nu(c,o,"GeneratorFunction"),nu(d),nu(d,o,"Generator"),nu(d,r,function(){return this}),nu(d,"toString",function(){return"[object Generator]"}),(tu=function(){return{w:i,m:f}})()}function nu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nu=function(e,t,n,r){function i(t,n){nu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},nu(e,t,n,r)}function ru(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ou(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ru(i,r,o,a,s,"next",e)}function s(e){ru(i,r,o,a,s,"throw",e)}a(void 0)})}}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,au(r.key),r)}}function au(e){var t=function(e){if("object"!=Qc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qc(t)?t:t+""}var su=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){return n&&iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,0,[{key:"getBaseUrl",value:function(){return"MISSING_ENV_VAR".REACT_APP_API_BASE_URL||"/api"}},{key:"client",get:function(){if(!e.instance){var t="MISSING_ENV_VAR".REACT_APP_API_BASE_URL||"/api";e.instance=Zc.create({baseURL:t}),e.instance.interceptors.request.use(function(e){var t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e}),e.instance.interceptors.response.use(function(e){return e},function(e){if(e.response&&401===e.response.status){var t,n=(null===(t=e.config)||void 0===t?void 0:t.url)||"";["/auth/user","/login","/auth/refresh-google-token"].some(function(e){return n.includes(e)})&&window.dispatchEvent(new Event("app:unauthorized"))}return Promise.reject(e)})}return e.instance}},{key:"login",value:(N=ou(tu().m(function t(n,r){var o,i,a,s;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/login",{username:n,password:r});case 1:return o=t.v,i=o.data,a=i.token,s=i.user,localStorage.setItem("token",a),t.a(2,{token:a,user:s})}},t)})),function(e,t){return N.apply(this,arguments)})},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.clear()}},{key:"getCurrentUser",value:(P=ou(tu().m(function t(){var n;return tu().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.get("/auth/user");case 1:return n=t.v,t.a(2,n.data);case 2:return t.p=2,t.v,t.a(2,null)}},t,null,[[0,2]])})),function(){return P.apply(this,arguments)})},{key:"checkGoogleTokenStatus",value:(O=ou(tu().m(function t(){var n,r;return tu().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.get("/auth/google-token-status");case 1:return n=t.v,t.a(2,n.data);case 2:return t.p=2,r=t.v,console.error("Failed to check Google token status:",r),t.a(2,{connected:!1,expired:!0,needsReauth:!0})}},t,null,[[0,2]])})),function(){return O.apply(this,arguments)})},{key:"refreshGoogleToken",value:(A=ou(tu().m(function t(){var n,r,o,i,a,s,l,c,u;return tu().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.post("/auth/refresh-google-token");case 1:return n=t.v,r=n.data,o=r.token,i=r.googleAccessToken,a=r.tokenExpiry,o&&localStorage.setItem("token",o),t.a(2,{success:!0,token:o,googleAccessToken:i,tokenExpiry:a});case 2:return t.p=2,u=t.v,c=(null===(s=u.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.needsReauth)||!1,t.a(2,{success:!1,needsReauth:c,error:null===(l=u.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.error})}},t,null,[[0,2]])})),function(){return A.apply(this,arguments)})},{key:"getGroups",value:(j=ou(tu().m(function t(){var n;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/groups");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return j.apply(this,arguments)})},{key:"createGroup",value:(M=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/groups",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return M.apply(this,arguments)})},{key:"updateGroup",value:(T=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/groups/".concat(n._id),n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return T.apply(this,arguments)})},{key:"reorderGroups",value:(L=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/groups",{newOrder:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return L.apply(this,arguments)})},{key:"deleteGroup",value:(E=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/groups/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return E.apply(this,arguments)})},{key:"getEvents",value:(C=ou(tu().m(function t(){var n;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/events");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return C.apply(this,arguments)})},{key:"createEvent",value:(_=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/events",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return _.apply(this,arguments)})},{key:"updateEvent",value:(S=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/events/".concat(n._id),n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return S.apply(this,arguments)})},{key:"reorderEvents",value:(w=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/events/order",{newOrder:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return w.apply(this,arguments)})},{key:"deleteEvent",value:(k=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/events/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return k.apply(this,arguments)})},{key:"getPages",value:(x=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/pages",{params:n?{type:n}:{}});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return x.apply(this,arguments)})},{key:"searchPages",value:(v=ou(tu().m(function t(n,r){var o,i,a=arguments;return tu().w(function(t){for(;;)switch(t.n){case 0:return o={q:n,limit:a.length>2&&void 0!==a[2]?a[2]:50},r&&(o.type=r),t.n=1,e.client.get("/pages",{params:o});case 1:return i=t.v,t.a(2,i.data)}},t)})),function(e,t){return v.apply(this,arguments)})},{key:"getPage",value:(b=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/pages/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return b.apply(this,arguments)})},{key:"createPage",value:(y=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/pages",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return y.apply(this,arguments)})},{key:"updatePage",value:(g=ou(tu().m(function t(n){var r,o,i;return tu().w(function(t){for(;;)switch(t.n){case 0:return r=n._id,o=eu(n,Xc),console.log("Updating page:",n),t.n=1,e.client.put("/pages/".concat(r),o);case 1:return i=t.v,t.a(2,i.data)}},t)})),function(e){return g.apply(this,arguments)})},{key:"deletePage",value:(m=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/pages/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return m.apply(this,arguments)})},{key:"getTimeSystem",value:(h=ou(tu().m(function t(){var n;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/time-system");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return h.apply(this,arguments)})},{key:"updateTimeSystem",value:(p=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/time-system",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return p.apply(this,arguments)})},{key:"uploadFile",value:(f=ou(tu().m(function t(n){var r,o;return tu().w(function(t){for(;;)switch(t.n){case 0:return(r=new FormData).append("file",n),t.n=1,e.client.post("/upload",r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return o=t.v,t.a(2,o.data)}},t)})),function(e){return f.apply(this,arguments)})},{key:"getAssets",value:(d=ou(tu().m(function t(){var n;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/assets");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return d.apply(this,arguments)})},{key:"createAssetFromFile",value:(u=ou(tu().m(function t(n){var r,o;return tu().w(function(t){for(;;)switch(t.n){case 0:return(r=new FormData).append("file",n),t.n=1,e.client.post("/assets",r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return o=t.v,t.a(2,o.data)}},t)})),function(e){return u.apply(this,arguments)})},{key:"createAssetFromUrl",value:(c=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/assets",{url:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return c.apply(this,arguments)})},{key:"deleteAsset",value:(l=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/assets/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return l.apply(this,arguments)})},{key:"moveAssetToFolder",value:(s=ou(tu().m(function t(n,r){var o;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.patch("/assets/".concat(n,"/move"),{folderId:r});case 1:return o=t.v,t.a(2,o.data)}},t)})),function(e,t){return s.apply(this,arguments)})},{key:"getAssetFolders",value:(a=ou(tu().m(function t(){var n;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/asset-folders");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return a.apply(this,arguments)})},{key:"createAssetFolder",value:(i=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/asset-folders",{name:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return i.apply(this,arguments)})},{key:"deleteAssetFolder",value:(o=ou(tu().m(function t(n){var r;return tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/asset-folders/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return o.apply(this,arguments)})},{key:"resolveAssetUrl",value:function(e){return e?/^https?:\/\//i.test(e)?e:("MISSING_ENV_VAR".REACT_APP_API_BASE_URL||"")+e:""}},{key:"resolveThumbnailUrl",value:function(t,n){var r=n||t;return console.log("Resolved thumbnail URL:",r,n),e.resolveAssetUrl(r)}},{key:"getGoogleCalendars",value:(r=ou(tu().m(function t(){var n,r;return tu().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.get("/integrations/google/calendars");case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,r=t.v,console.warn("Google calendars API not available:",r),r;case 3:return t.a(2)}},t,null,[[0,2]])})),function(){return r.apply(this,arguments)})},{key:"getDiscordChannels",value:(n=ou(tu().m(function t(){var n,r;return tu().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.get("/integrations/discord/channels");case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,r=t.v,console.warn("Discord channels API not available:",r),r;case 3:return t.a(2)}},t,null,[[0,2]])})),function(){return n.apply(this,arguments)})},{key:"createDiscordEvent",value:(t=ou(tu().m(function t(n){var r,o;return tu().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.post("/integrations/discord/events",n);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,o=t.v,console.warn("Discord event creation API not available:",o),o;case 3:return t.a(2)}},t,null,[[0,2]])})),function(e){return t.apply(this,arguments)})}]);var t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,y,b,v,x,k,w,S,_,C,E,L,T,M,j,A,O,P,N}();!function(e,t){(t=au(t))in e?Object.defineProperty(e,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[t]=null}(su,"instance");const lu=su;function cu(e){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(e)}function uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uu(Object(n),!0).forEach(function(t){fu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fu(e,t,n){return(t=function(e){var t=function(e){if("object"!=cu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return hu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(hu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,hu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,hu(d,"constructor",c),hu(c,"constructor",l),l.displayName="GeneratorFunction",hu(c,o,"GeneratorFunction"),hu(d),hu(d,o,"Generator"),hu(d,r,function(){return this}),hu(d,"toString",function(){return"[object Generator]"}),(pu=function(){return{w:i,m:f}})()}function hu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}hu=function(e,t,n,r){function i(t,n){hu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},hu(e,t,n,r)}function mu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function gu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){mu(i,r,o,a,s,"next",e)}function s(e){mu(i,r,o,a,s,"throw",e)}a(void 0)})}}function yu(e){return function(e){if(Array.isArray(e))return bu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vu,xu,ku,wu=function(e){return{data:e,loading:!1,error:null}},Su=za(((e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:a,store:s,...l}=t;let c;try{c=(null==i||i)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!c)return e(n,r,o);const{connection:u,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=Ba.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return Ba.set(n.name,o),{type:"tracked",store:e,...o}})(s,c,l);let f=!0;o.setState=(e,t,i)=>{const c=n(e,t);if(!f)return c;const d=void 0===i?{type:a||Wa((new Error).stack)||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===s?(null==u||u.send(d,r()),c):(null==u||u.send({...d,type:`${s}/${d.type}`},{...Fa(l.name),[s]:o.getState()}),c)},o.devtools={cleanup:()=>{u&&"function"==typeof u.unsubscribe&&u.unsubscribe(),((e,t)=>{if(void 0===t)return;const n=Ba.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&Ba.delete(e))})(l.name,s)}};const p=(...e)=>{const t=f;f=!1,n(...e),f=t},h=e(o.setState,r,o);if("untracked"===d.type?null==u||u.init(h):(d.stores[d.store]=o,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map(([e,t])=>[e,e===d.store?h:t.getState()])))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){let e=!1;const t=o.dispatch;o.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return u.subscribe(e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):Ha(e.payload,e=>{if("__setState"===e.type){if(void 0===s)return void p(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[s];if(null==t)return;return void(JSON.stringify(o.getState())!==JSON.stringify(t)&&p(t))}o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return p(h),void 0===s?null==u?void 0:u.init(o.getState()):null==u?void 0:u.init(Fa(l.name));case"COMMIT":return void 0===s?void(null==u||u.init(o.getState())):null==u?void 0:u.init(Fa(l.name));case"ROLLBACK":return Ha(e.state,e=>{if(void 0===s)return p(e),void(null==u||u.init(o.getState()));p(e[s]),null==u||u.init(Fa(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ha(e.state,e=>{void 0!==s?JSON.stringify(o.getState())!==JSON.stringify(e[s])&&p(e[s]):p(e)});case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return p(void 0===s?r:r[s]),void(null==u||u.send(null,n))}case"PAUSE_RECORDING":return f=!f}return}}),h})((ku=function(e,t){return{user:null,ui:{showHidden:!1,activeGroupIds:[]},data:{groups:wu([]),events:wu([]),pages:wu([]),timeSystem:wu(null),assets:wu([]),assetFolders:wu([])},isDM:function(){var e;return"DM"===(null===(e=t().user)||void 0===e?void 0:e.role)},isLoggedIn:function(){var e;return null!==t().user&&null!==(null===(e=t().user)||void 0===e?void 0:e.token)},setUser:function(t){return e({user:t})},logout:function(){return e(function(e){return e.user=null,e.ui.showHidden=!1,localStorage.clear(),e})},setShowHidden:function(t){return e(function(e){e.ui.showHidden=t})},toggleGroup:function(t){return e(function(e){if(t&&"string"==typeof t){var n=e.ui.activeGroupIds.includes(t)?e.ui.activeGroupIds.filter(function(e){return e!==t}):[].concat(yu(e.ui.activeGroupIds),[t]);e.ui.activeGroupIds=Array.from(new Set(n.filter(function(e){return"string"==typeof e&&!!e})))}})},setGroupsFilter:function(t){return e(function(e){var n=t.filter(function(e){return"string"==typeof e&&!!e});e.ui.activeGroupIds=Array.from(new Set(n))})},loadGroups:(C=gu(pu().m(function t(){var n,r;return pu().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.groups.loading=!0,e.data.groups.error=null}),t.p=1,t.n=2,lu.getGroups();case 2:n=t.v,e(function(e){e.data.groups.data=n;var t=new Set(n.map(function(e){return e._id}));e.ui.activeGroupIds=e.ui.activeGroupIds.filter(function(e){return t.has(e)})}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.groups.error=(null==r?void 0:r.message)||"Failed to load groups"});case 4:return t.p=4,e(function(e){e.data.groups.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return C.apply(this,arguments)}),loadEvents:(_=gu(pu().m(function n(){var r,o,i;return pu().w(function(n){for(;;)switch(n.p=n.n){case 0:return e(function(e){e.data.events.loading=!0,e.data.events.error=null}),n.p=1,n.n=2,lu.getEvents();case 2:r=n.v,o=r.filter(function(e){var n;return!e.hidden||"DM"===(null===(n=t().user)||void 0===n?void 0:n.role)}),e(function(e){e.data.events.data=o}),n.n=4;break;case 3:n.p=3,i=n.v,e(function(e){e.data.events.error=(null==i?void 0:i.message)||"Failed to load events"});case 4:return n.p=4,e(function(e){e.data.events.loading=!1}),n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])})),function(){return _.apply(this,arguments)}),loadPages:(S=gu(pu().m(function t(n){var r,o,i;return pu().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e(function(e){e.data.pages.loading=!0,e.data.pages.error=null}),t.p=1,!n){t.n=3;break}return t.n=2,lu.getPages(n);case 2:o=t.v,t.n=5;break;case 3:return t.n=4,lu.getPages();case 4:o=t.v;case 5:r=o,e(function(e){e.data.pages.data=r}),t.n=7;break;case 6:t.p=6,i=t.v,e(function(e){e.data.pages.error=(null==i?void 0:i.message)||"Failed to load pages"});case 7:return t.p=7,e(function(e){e.data.pages.loading=!1}),t.f(7);case 8:return t.a(2)}},t,null,[[1,6,7,8]])})),function(e){return S.apply(this,arguments)}),loadTimeSystem:(w=gu(pu().m(function t(){var n,r;return pu().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.timeSystem.loading=!0,e.data.timeSystem.error=null}),t.p=1,t.n=2,lu.getTimeSystem();case 2:n=t.v,e(function(e){e.data.timeSystem.data=n}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.timeSystem.error=(null==r?void 0:r.message)||"Failed to load time system"});case 4:return t.p=4,e(function(e){e.data.timeSystem.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return w.apply(this,arguments)}),loadAssets:(k=gu(pu().m(function t(){var n,r;return pu().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.assets||(e.data.assets=wu([])),e.data.assets.loading=!0,e.data.assets.error=null}),t.p=1,t.n=2,lu.getAssets();case 2:n=t.v,e(function(e){e.data.assets.data=Array.isArray(n)?n:[]}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.assets.error=(null==r?void 0:r.message)||"Failed to load assets"});case 4:return t.p=4,e(function(e){e.data.assets.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return k.apply(this,arguments)}),saveTimeSystem:(x=gu(pu().m(function t(n){var r,o,i;return pu().w(function(t){for(;;)switch(t.n){case 0:if("function"==typeof(o=(r=lu).saveTimeSystem||r.updateTimeSystem)){t.n=1;break}throw new Error("TimeSystem API not implemented");case 1:return t.n=2,o(n);case 2:i=t.v,e(function(e){e.data.timeSystem.data=i});case 3:return t.a(2)}},t)})),function(e){return x.apply(this,arguments)}),createAssetFromFile:(v=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.createAssetFromFile(n);case 1:if((r=t.v)&&r._id){t.n=2;break}throw new Error("Failed to create asset");case 2:return e(function(e){e.data.assets||(e.data.assets=wu([])),e.data.assets.data=[r].concat(yu(e.data.assets.data))}),t.a(2,r)}},t)})),function(e){return v.apply(this,arguments)}),createAssetFromUrl:(b=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.createAssetFromUrl(n);case 1:if((r=t.v)&&r._id){t.n=2;break}throw new Error("Failed to create asset");case 2:return e(function(e){e.data.assets||(e.data.assets=wu([])),e.data.assets.data=[r].concat(yu(e.data.assets.data))}),t.a(2,r)}},t)})),function(e){return b.apply(this,arguments)}),deleteAsset:(y=gu(pu().m(function t(n){return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.deleteAsset(n);case 1:e(function(e){e.data.assets||(e.data.assets=wu([])),e.data.assets.data=e.data.assets.data.filter(function(e){return e._id!==n})});case 2:return t.a(2)}},t)})),function(e){return y.apply(this,arguments)}),moveAssetToFolder:(g=gu(pu().m(function t(n,r){var o;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.moveAssetToFolder(n,r);case 1:o=t.v,e(function(e){e.data.assets||(e.data.assets=wu([]));var t=e.data.assets.data.findIndex(function(e){return e._id===n});t>=0&&(e.data.assets.data[t]=o)});case 2:return t.a(2)}},t)})),function(e,t){return g.apply(this,arguments)}),loadAssetFolders:(m=gu(pu().m(function t(){var n,r;return pu().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.assetFolders||(e.data.assetFolders=wu([])),e.data.assetFolders.loading=!0,e.data.assetFolders.error=null}),t.p=1,t.n=2,lu.getAssetFolders();case 2:n=t.v,e(function(e){e.data.assetFolders.data=Array.isArray(n)?n:[]}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.assetFolders.error=(null==r?void 0:r.message)||"Failed to load folders"});case 4:return t.p=4,e(function(e){e.data.assetFolders.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return m.apply(this,arguments)}),createAssetFolder:(h=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.createAssetFolder(n);case 1:if((r=t.v)&&r._id){t.n=2;break}throw new Error("Failed to create folder");case 2:return e(function(e){e.data.assetFolders||(e.data.assetFolders=wu([])),e.data.assetFolders.data=[r].concat(yu(e.data.assetFolders.data))}),t.a(2,r)}},t)})),function(e){return h.apply(this,arguments)}),deleteAssetFolder:(p=gu(pu().m(function t(n){return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.deleteAssetFolder(n);case 1:e(function(e){e.data.assetFolders||(e.data.assetFolders=wu([])),e.data.assetFolders.data=e.data.assetFolders.data.filter(function(e){return e._id!==n})});case 2:return t.a(2)}},t)})),function(e){return p.apply(this,arguments)}),createGroup:(f=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.createGroup({name:n});case 1:return r=t.v,e(function(e){e.data.groups.data.push(r)}),t.a(2,r)}},t)})),function(e){return f.apply(this,arguments)}),updateGroup:(d=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return console.log("Updating group in store:",n),t.n=1,lu.updateGroup(n);case 1:return r=t.v,e(function(e){e.data.groups.data=e.data.groups.data.map(function(e){return e._id===r._id?r:e})}),t.a(2,r)}},t)})),function(e){return d.apply(this,arguments)}),deleteGroup:(u=gu(pu().m(function t(n){return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.deleteGroup(n);case 1:e(function(e){e.data.groups.data=e.data.groups.data.filter(function(e){return e._id!==n}),e.data.events.data=e.data.events.data.filter(function(e){return e.groupId!==n})});case 2:return t.a(2)}},t)})),function(e){return u.apply(this,arguments)}),reorderGroups:(c=gu(pu().m(function n(r){var o,i,a;return pu().w(function(n){for(;;)switch(n.p=n.n){case 0:if(o=t().data.groups.data,e(function(e){var t=new Map(r.map(function(e,t){return[e,t]}));e.data.groups.data=e.data.groups.data.map(function(e){var n;return du(du({},e),{},{order:null!==(n=t.get(e._id))&&void 0!==n?n:e.order})}).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)})}),n.p=1,"function"!=typeof(i=lu).reorderGroups){n.n=3;break}return n.n=2,i.reorderGroups(r);case 2:n.n=4;break;case 3:return n.n=4,Promise.all(r.map(function(e,t){return lu.updateGroup({_id:e,order:t})}));case 4:n.n=6;break;case 5:throw n.p=5,a=n.v,e(function(e){e.data.groups.data=o}),a;case 6:return n.a(2)}},n,null,[[1,5]])})),function(e){return c.apply(this,arguments)}),createEvent:(l=gu(pu().m(function t(n){var r,o,i;return pu().w(function(t){for(;;)switch(t.p=t.n){case 0:return r="tmp_".concat(Date.now()),e(function(e){e.data.events.data.push(du(du({},n),{},{_id:r}))}),t.p=1,t.n=2,lu.createEvent(n);case 2:return o=t.v,e(function(e){e.data.events.data=e.data.events.data.map(function(e){return e._id===r?o:e})}),t.a(2,o);case 3:throw t.p=3,i=t.v,e(function(e){e.data.events.data=e.data.events.data.filter(function(e){return e._id!==r})}),i;case 4:return t.a(2)}},t,null,[[1,3]])})),function(e){return l.apply(this,arguments)}),updateEvent:(s=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return console.log("Updating event in store:",n),t.n=1,lu.updateEvent(n);case 1:return r=t.v,e(function(e){e.data.events.data=e.data.events.data.map(function(e){return e._id===r._id?r:e})}),t.a(2,r)}},t)})),function(e){return s.apply(this,arguments)}),deleteEvent:(a=gu(pu().m(function n(r){var o,i;return pu().w(function(n){for(;;)switch(n.p=n.n){case 0:return o=t().data.events.data,e(function(e){e.data.events.data=e.data.events.data.filter(function(e){return e._id!==r})}),n.p=1,n.n=2,lu.deleteEvent(r);case 2:n.n=4;break;case 3:throw n.p=3,i=n.v,e(function(e){e.data.events.data=o}),i;case 4:return n.a(2)}},n,null,[[1,3]])})),function(e){return a.apply(this,arguments)}),createPage:(i=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.createPage(n);case 1:return r=t.v,e(function(e){e.data.pages.data.push(r)}),t.a(2,r)}},t)})),function(e){return i.apply(this,arguments)}),updatePage:(o=gu(pu().m(function n(r){var o;return pu().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.n=1,lu.updatePage(r);case 1:return o=n.v,e(function(e){e.data.pages.data=e.data.pages.data.map(function(e){var t;return e._id===(null!==(t=o._id)&&void 0!==t?t:o.id)?o:e})}),n.p=2,n.n=3,t().loadEvents();case 3:n.n=5;break;case 4:n.p=4,n.v;case 5:return n.a(2,o)}},n,null,[[2,4]])})),function(e){return o.apply(this,arguments)}),deletePage:(r=gu(pu().m(function t(n){return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.deletePage(n);case 1:e(function(e){e.data.pages.data=e.data.pages.data.filter(function(e){return e._id!==n})});case 2:return t.a(2)}},t)})),function(e){return r.apply(this,arguments)}),getPage:(n=gu(pu().m(function t(n){var r;return pu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lu.getPage(n);case 1:return r=t.v,e(function(e){e.data.pages.data=e.data.pages.data.filter(function(e){return e._id!==n})}),t.a(2,r)}},t)})),function(e){return n.apply(this,arguments)}),replacePageInCache:function(t){e(function(e){var n=e.data.pages.data.findIndex(function(e){return e._id===t._id});n>=0?e.data.pages.data[n]=t:e.data.pages.data.push(t)})}};var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,y,b,v,x,k,w,S,_,C},vu=(e,t,n)=>(n.setState=(t,n,...r)=>{const o="function"==typeof t?Is(t):t;return e(o,n,...r)},ku(n.setState,t,n)),xu={name:"dndlore-state",version:3,migrate:function(e,t){return e?(e.ui||(e.ui={showHidden:!1,activeGroupIds:[]}),e.data?(e.ui&&Array.isArray(e.ui.activeGroupIds)&&(e.ui.activeGroupIds=e.ui.activeGroupIds.filter(function(e){return"string"==typeof e&&!!e})),e.data.assets||(e.data.assets=wu([])),e.data.assetFolders||(e.data.assetFolders=wu([])),e):(e.data={groups:wu([]),events:wu([]),pages:wu([]),timeSystem:wu(null),assets:wu([]),assetFolders:wu([])},e)):e}},(e,t,n)=>{let r={storage:Ua(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...xu},o=!1;const i=new Set,a=new Set;let s=r.storage;if(!s)return vu((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...t)},t,n);const l=()=>{const e=r.partialize({...t()});return s.setItem(r.name,{state:e,version:r.version})},c=n.setState;n.setState=(e,t)=>(c(e,t),l());const u=vu((...t)=>(e(...t),l()),t,n);let d;n.getInitialState=()=>u;const f=()=>{var n,c;if(!s)return;o=!1,i.forEach(e=>{var n;return e(null!=(n=t())?n:u)});const f=(null==(c=r.onRehydrateStorage)?void 0:c.call(r,null!=(n=t())?n:u))||void 0;return Ga(s.getItem.bind(s))(r.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===r.version)return[!1,e.state];if(r.migrate){const t=r.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(n=>{var o;const[i,a]=n;if(d=r.merge(a,null!=(o=t())?o:u),e(d,!0),i)return l()}).then(()=>{null==f||f(d,void 0),d=t(),o=!0,a.forEach(e=>e(d))}).catch(e=>{null==f||f(void 0,e)})};return n.persist={setOptions:e=>{r={...r,...e},e.storage&&(s=e.storage)},clearStorage:()=>{null==s||s.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(a.add(e),()=>{a.delete(e)})},r.skipHydration||f(),d||u}))),_u=o(1954),Cu={};function Eu(e){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}function Lu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Tu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Tu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Tu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Tu(d,"constructor",c),Tu(c,"constructor",l),l.displayName="GeneratorFunction",Tu(c,o,"GeneratorFunction"),Tu(d),Tu(d,o,"Generator"),Tu(d,r,function(){return this}),Tu(d,"toString",function(){return"[object Generator]"}),(Lu=function(){return{w:i,m:f}})()}function Tu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Tu=function(e,t,n,r){function i(t,n){Tu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Tu(e,t,n,r)}function Mu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ju(e){return function(e){if(Array.isArray(e))return Pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ou(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Au(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ou(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(e,t){if(e){if("string"==typeof e)return Pu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pu(e,t):void 0}}function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach(function(t){Du(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Du(e,t,n){return(t=function(e){var t=function(e){if("object"!=Eu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Eu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Eu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cu.styleTagTransform=Be(),Cu.setAttributes=Ie(),Cu.insert=Pe().bind(null,"head"),Cu.domAPI=Ae(),Cu.insertStyleElement=Re(),Me()(_u.A,Cu),_u.A&&_u.A.locals&&_u.A.locals,st().setAppElement("#root");var Ru=function(){return Math.random().toString(36).slice(2,9)};const zu=function(e){var t,n=e.timeSystem,o=e.onSave,i=e.onClose,a=Su(function(e){return e.data.timeSystem.data}),s=Su(function(e){return e.saveTimeSystem}),l=function(e){var t,n,r,o=(e.months||[]).map(function(e){return{id:e.id||e.id||Ru(),name:e.name,days:"number"==typeof e.days?e.days:30}}),i=(e.weekdays||[]).map(function(e){return{id:e.id||e.id||Ru(),name:e.name}}),a=(e.eras||[]).map(function(e){return{id:e.id||e.id||Ru(),abbreviation:e.abbreviation,name:e.name,startYear:"number"==typeof e.startYear?e.startYear:0}});return{name:e.name||"",months:o,weekdays:i,eras:a,hoursPerDay:null!==(t=e.hoursPerDay)&&void 0!==t?t:24,minutesPerHour:null!==(n=e.minutesPerHour)&&void 0!==n?n:60,epochWeekday:Math.min(Math.max(null!==(r=e.epochWeekday)&&void 0!==r?r:0,0),Math.max(0,i.length-1)),weekdaysResetEachMonth:!!e.weekdaysResetEachMonth,erasStartOnZeroYear:!!e.erasStartOnZeroYear,dateFormats:Iu({},e.dateFormats)}}(n||a||{name:"",months:[],weekdays:[],eras:[],hoursPerDay:24,minutesPerHour:60,epochWeekday:0,weekdaysResetEachMonth:!1,erasStartOnZeroYear:!1,dateFormats:{year:"YYYY [E]",yearMonth:"YYYY MMMM",yearMonthDay:"YYYY MMMM D",yearMonthDayTime:"YYYY MMMM D HH:mm"}}),c=Au((0,r.useState)(Iu({},l)),2),u=c[0],d=c[1],f=Au((0,r.useState)("overview"),2),p=f[0],h=f[1],m=function(e,t,n){d(function(r){return Iu(Iu({},r),{},{months:r.months.map(function(r){return r.id===e?Iu(Iu({},r),{},Du({},t,n)):r})})})},g=function(e,t,n){d(function(r){return Iu(Iu({},r),{},{eras:r.eras.map(function(r){return r.id===e?Iu(Iu({},r),{},Du({},t,n)):r})})})},y=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Mu(i,r,o,a,s,"next",e)}function s(e){Mu(i,r,o,a,s,"throw",e)}a(void 0)})}}(Lu().m(function e(){var t,n,r;return Lu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=Math.min(Math.max(u.epochWeekday,0),u.weekdays.length-1),n=Iu(Iu({},u),{},{epochWeekday:t}),e.p=1,!o){e.n=2;break}o(n),e.n=3;break;case 2:return e.n=3,s(n);case 3:i(),e.n=5;break;case 4:e.p=4,r=e.v,console.error("Failed to save time system",r);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}();return(0,Xe.jsxs)(st(),{isOpen:!0,onRequestClose:i,contentLabel:"Time System Editor",className:"modal__content",overlayClassName:"modal__overlay",children:[(0,Xe.jsxs)("div",{className:"tsm__nav",children:[(0,Xe.jsx)("h3",{className:"tsm__title",children:"Time System Editor"}),(0,Xe.jsxs)("nav",{className:"tsm__navlist",children:[(0,Xe.jsx)("button",{className:"tsm__navbtn ".concat("overview"===p?"is-active":""),onClick:function(){return h("overview")},children:"Overview"}),(0,Xe.jsx)("button",{className:"tsm__navbtn ".concat("months"===p?"is-active":""),onClick:function(){return h("months")},children:"Months"}),(0,Xe.jsx)("button",{className:"tsm__navbtn ".concat("weekdays"===p?"is-active":""),onClick:function(){return h("weekdays")},children:"Weekdays"}),(0,Xe.jsx)("button",{className:"tsm__navbtn ".concat("eras"===p?"is-active":""),onClick:function(){return h("eras")},children:"Years / Eras"}),(0,Xe.jsx)("button",{className:"tsm__navbtn ".concat("formats"===p?"is-active":""),onClick:function(){return h("formats")},children:"Settings"})]})]}),(0,Xe.jsxs)("div",{className:"modal__body",children:["overview"===p&&(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h3",{className:"tsm__sectionTitle",children:"Overview"}),(0,Xe.jsxs)("div",{className:"tsm__grid",children:[(0,Xe.jsx)("div",{className:"modal__field",children:(0,Xe.jsxs)("label",{className:"tsm__label",children:["Name",(0,Xe.jsx)("input",{className:"modal__input",type:"text",value:u.name,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{name:e.target.value})})}})]})}),(0,Xe.jsx)("div",{className:"modal__field",children:(0,Xe.jsxs)("label",{className:"tsm__label",children:["Hours per day",(0,Xe.jsx)("input",{className:"modal__input",type:"number",min:1,value:u.hoursPerDay,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{hoursPerDay:parseInt(e.target.value,10)||t.hoursPerDay})})}})]})}),(0,Xe.jsx)("div",{className:"modal__field",children:(0,Xe.jsxs)("label",{className:"tsm__label",children:["Minutes per hour",(0,Xe.jsx)("input",{className:"modal__input",type:"number",min:1,value:u.minutesPerHour,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{minutesPerHour:parseInt(e.target.value,10)||t.minutesPerHour})})}})]})}),(0,Xe.jsx)("div",{className:"modal__field",children:(0,Xe.jsxs)("label",{className:"tsm__label",children:["Epoch weekday",(0,Xe.jsx)("select",{className:"modal__select",value:u.epochWeekday,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{epochWeekday:parseInt(e.target.value,10)})})},children:u.weekdays.map(function(e,t){return(0,Xe.jsx)("option",{value:t,children:e.name},e.id)})})]})}),(0,Xe.jsx)("div",{className:"modal__field",children:(0,Xe.jsxs)("label",{className:"modal__checkrow",children:[(0,Xe.jsx)("input",{type:"checkbox",checked:u.weekdaysResetEachMonth,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{weekdaysResetEachMonth:e.target.checked})})}}),"Weekday numbering resets each month"]})}),(0,Xe.jsx)("div",{className:"modal__field",children:(0,Xe.jsxs)("label",{className:"modal__checkrow",children:[(0,Xe.jsx)("input",{type:"checkbox",checked:u.erasStartOnZeroYear,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{erasStartOnZeroYear:e.target.checked})})}}),"Eras start on year 0 (otherwise year 1)"]})})]})]}),"months"===p&&(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h3",{className:"tsm__sectionTitle",children:"Months"}),(0,Xe.jsx)("p",{className:"tsm__help",children:"Reorder months by dragging the handle. You can rename each month and set the number of days it contains."}),(0,Xe.jsx)(ra,{onDragEnd:function(e){if(e.destination){var t=Array.from(u.months),n=Au(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n),d(function(e){return Iu(Iu({},e),{},{months:t})})}},children:(0,Xe.jsx)(Ia,{droppableId:"months-droppable",children:function(e){return(0,Xe.jsxs)("div",Iu(Iu({ref:e.innerRef},e.droppableProps),{},{className:"draggable__list",children:[u.months.map(function(e,t){return(0,Xe.jsx)(Aa,{draggableId:e.id,index:t,children:function(n){return(0,Xe.jsxs)("div",Iu(Iu({ref:n.innerRef},n.draggableProps),{},{className:"draggable__listItem",style:n.draggableProps.style,children:[(0,Xe.jsx)("span",Iu(Iu({},n.dragHandleProps),{},{className:"draggable__handle"})),(0,Xe.jsx)("span",{className:"draggable__index",children:t+1}),(0,Xe.jsx)("input",{className:"draggable__input draggable__input--flex",type:"text",value:e.name,onChange:function(t){return m(e.id,"name",t.target.value)}}),(0,Xe.jsx)("input",{className:"draggable__input draggable__input--num",type:"number",min:1,value:e.days,onChange:function(t){return m(e.id,"days",parseInt(t.target.value,10)||1)}}),(0,Xe.jsx)("button",{className:"draggable__iconbtn draggable__iconbtn--danger",type:"button",onClick:function(){return t=e.id,void d(function(e){return Iu(Iu({},e),{},{months:e.months.filter(function(e){return e.id!==t})})});var t},title:"Delete month",children:"âœ–"})]}))}},e.id)}),e.placeholder]}))}})}),(0,Xe.jsx)("button",{type:"button",onClick:function(){d(function(e){return Iu(Iu({},e),{},{months:[].concat(ju(e.months),[{id:Ru(),name:"Month ".concat(e.months.length+1),days:30}])})})},className:"draggable__btn draggable__btn--primary",children:"+ Add month"})]}),"weekdays"===p&&(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h3",{className:"tsm__sectionTitle",children:"Weekdays"}),(0,Xe.jsx)("p",{className:"tsm__help",children:"Reorder weekdays by dragging. Rename them or remove/add new ones. Select which weekday marks the start of year zero."}),(0,Xe.jsx)(ra,{onDragEnd:function(e){var t;if(e.destination){var n=Array.from(u.weekdays),r=Au(n.splice(e.source.index,1),1)[0];n.splice(e.destination.index,0,r);var o=null===(t=u.weekdays[u.epochWeekday])||void 0===t?void 0:t.id,i=n.findIndex(function(e){return e.id===o});d(function(e){return Iu(Iu({},e),{},{weekdays:n,epochWeekday:i>=0?i:0})})}},children:(0,Xe.jsx)(Ia,{droppableId:"weekdays-droppable",children:function(e){return(0,Xe.jsxs)("div",Iu(Iu({ref:e.innerRef},e.droppableProps),{},{className:"draggable__list",children:[u.weekdays.map(function(e,t){return(0,Xe.jsx)(Aa,{draggableId:e.id,index:t,children:function(n){return(0,Xe.jsxs)("div",Iu(Iu({ref:n.innerRef},n.draggableProps),{},{className:"draggable__listItem",style:n.draggableProps.style,children:[(0,Xe.jsx)("span",Iu(Iu({},n.dragHandleProps),{},{className:"draggable__handle",children:"â˜°"})),(0,Xe.jsx)("span",{className:"draggable__index",children:t+1}),(0,Xe.jsx)("input",{className:"draggable__input draggable__input--flex",type:"text",value:e.name,onChange:function(t){return n=e.id,r=t.target.value,void d(function(e){return Iu(Iu({},e),{},{weekdays:e.weekdays.map(function(e){return e.id===n?Iu(Iu({},e),{},{name:r}):e})})});var n,r}}),(0,Xe.jsx)("button",{className:"draggable__iconbtn draggable__iconbtn--danger",type:"button",onClick:function(){return t=e.id,void d(function(e){return Iu(Iu({},e),{},{weekdays:e.weekdays.filter(function(e){return e.id!==t})})});var t},title:"Delete day",children:"âœ–"})]}))}},e.id)}),e.placeholder]}))}})}),(0,Xe.jsx)("button",{type:"button",onClick:function(){d(function(e){return Iu(Iu({},e),{},{weekdays:[].concat(ju(e.weekdays),[{id:Ru(),name:"Day ".concat(e.weekdays.length+1)}])})})},className:"draggable__btn draggable__btn--primary",children:"+ Add weekday"})]}),"eras"===p&&(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h3",{className:"tsm__sectionTitle",children:"Years / Eras"}),(0,Xe.jsx)("p",{className:"tsm__help",children:"Define time eras. Each era requires a unique abbreviation, a name and an absolute start year. Drag to reorder eras. The first era is considered the reference era."}),(0,Xe.jsx)(ra,{onDragEnd:function(e){if(e.destination){var t=Array.from(u.eras),n=Au(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n),d(function(e){return Iu(Iu({},e),{},{eras:t})})}},children:(0,Xe.jsx)(Ia,{droppableId:"eras-droppable",children:function(e){return(0,Xe.jsxs)("div",Iu(Iu({ref:e.innerRef},e.droppableProps),{},{className:"draggable__list",children:[u.eras.map(function(e,t){return(0,Xe.jsx)(Aa,{draggableId:e.id,index:t,children:function(n){return(0,Xe.jsxs)("div",Iu(Iu({ref:n.innerRef},n.draggableProps),{},{className:"draggable__listItem",style:n.draggableProps.style,children:[(0,Xe.jsx)("span",Iu(Iu({},n.dragHandleProps),{},{className:"draggable__handle",children:"â˜°"})),(0,Xe.jsx)("span",{className:"draggable__index",children:t+1}),(0,Xe.jsx)("input",{className:"draggable__input draggable__input--abbr",type:"text",value:e.abbreviation,onChange:function(t){return g(e.id,"abbreviation",t.target.value)},placeholder:"Abbr"}),(0,Xe.jsx)("input",{className:"draggable__input draggable__input--flex",type:"text",value:e.name,onChange:function(t){return g(e.id,"name",t.target.value)},placeholder:"Era name"}),(0,Xe.jsx)("input",{className:"draggable__input draggable__input--year",type:"number",value:e.startYear,onChange:function(t){return g(e.id,"startYear",parseInt(t.target.value,10)||0)}}),(0,Xe.jsx)("button",{className:"draggable__iconbtn draggable__iconbtn--danger",type:"button",onClick:function(){return t=e.id,void d(function(e){return Iu(Iu({},e),{},{eras:e.eras.filter(function(e){return e.id!==t})})});var t},title:"Delete era",children:"âœ–"})]}))}},e.id)}),e.placeholder]}))}})}),(0,Xe.jsx)("button",{type:"button",onClick:function(){d(function(e){return Iu(Iu({},e),{},{eras:[].concat(ju(e.eras),[{id:Ru(),abbreviation:"E".concat(e.eras.length+1),name:"Era ".concat(e.eras.length+1),startYear:0}])})})},className:"draggable__btn draggable__btn--primary",children:"+ Add era"})]}),"formats"===p&&(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h3",{className:"tsm__sectionTitle",children:"Customize date display"}),(0,Xe.jsx)("p",{className:"tsm__help",children:"Define how your dates are formatted. Use the codes listed to include era names, years, months and days."}),(0,Xe.jsxs)("div",{className:"tsm__formats",children:[(0,Xe.jsxs)("div",{className:"tsm__formatsCol",children:[(0,Xe.jsxs)("label",{className:"tsm__label",children:["Year",(0,Xe.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.year,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{dateFormats:Iu(Iu({},t.dateFormats),{},{year:e.target.value})})})}})]}),(0,Xe.jsxs)("div",{className:"tsm__example",children:["Example:"," ",u.dateFormats.year.replace(/YYYY/g,"4629").replace(/E/g,(null===(t=u.eras[0])||void 0===t?void 0:t.abbreviation)||"")]}),(0,Xe.jsxs)("label",{className:"tsm__label tsm__label--spaced",children:["Year Month",(0,Xe.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.yearMonth,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{dateFormats:Iu(Iu({},t.dateFormats),{},{yearMonth:e.target.value})})})}})]}),(0,Xe.jsxs)("label",{className:"tsm__label tsm__label--spaced",children:["Year Month Day",(0,Xe.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.yearMonthDay,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{dateFormats:Iu(Iu({},t.dateFormats),{},{yearMonthDay:e.target.value})})})}})]}),(0,Xe.jsxs)("label",{className:"tsm__label tsm__label--spaced",children:["Year Month Day Time",(0,Xe.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.yearMonthDayTime,onChange:function(e){return d(function(t){return Iu(Iu({},t),{},{dateFormats:Iu(Iu({},t.dateFormats),{},{yearMonthDayTime:e.target.value})})})}})]})]}),(0,Xe.jsxs)("div",{className:"tsm__formatsCol tsm__formatsCol--codes",children:[(0,Xe.jsx)("h4",{className:"tsm__subtitle",children:"Display codes"}),(0,Xe.jsxs)("ul",{className:"tsm__codes",children:[(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"E"})," â€“ Era abbreviation"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"EE"})," â€“ Era name"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"YYYY"})," â€“ Year (4 digits)"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"YY"})," â€“ Year (2 digits)"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"MMMM"})," â€“ Month name"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"MM"})," â€“ Month number (2 digits)"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"M"})," â€“ Month number"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"D^"})," â€“ Day with ordinal (e.g., 1st, 2nd)"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"DD"})," â€“ Day (2 digits)"]}),(0,Xe.jsxs)("li",{children:[(0,Xe.jsx)("code",{children:"D"})," â€“ Day"]}),(0,Xe.jsx)("li",{children:"Text in square brackets like [Text] is ignored"})]})]})]})]}),(0,Xe.jsxs)("div",{className:"modal__actions",children:[(0,Xe.jsx)("button",{type:"button",onClick:i,className:"draggable__btn draggable__btn--muted",children:"Cancel"}),(0,Xe.jsx)("button",{type:"button",onClick:y,className:"draggable__btn draggable__btn--primary",children:"Save"})]})]})]})};var Bu=o(5187),Fu={};Fu.styleTagTransform=Be(),Fu.setAttributes=Ie(),Fu.insert=Pe().bind(null,"head"),Fu.domAPI=Ae(),Fu.insertStyleElement=Re(),Me()(Bu.A,Fu),Bu.A&&Bu.A.locals&&Bu.A.locals;const Wu=function(e){var t=e.isOpen,n=e.title,r=void 0===n?"Confirm Action":n,o=e.message,i=e.confirmText,a=void 0===i?"Confirm":i,s=e.cancelText,l=void 0===s?"Cancel":s,c=e.onConfirm,u=e.onCancel,d=e.variant,f=void 0===d?"warning":d;if(!t)return null;var p=document.getElementById("modal-root");return p?de.createPortal((0,Xe.jsx)("div",{className:"confirm-modal-overlay",onClick:function(){u&&u()},children:(0,Xe.jsxs)("div",{className:"confirm-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Xe.jsx)("div",{className:"confirm-modal-header",children:(0,Xe.jsx)("h3",{children:r})}),(0,Xe.jsx)("div",{className:"confirm-modal-body",children:(0,Xe.jsx)("p",{children:o})}),(0,Xe.jsxs)("div",{className:"confirm-modal-actions",children:[u&&(0,Xe.jsx)("button",{className:"btn-cancel",onClick:u,autoFocus:!!u,children:l}),(0,Xe.jsx)("button",{className:"btn-confirm btn-confirm--".concat(f),onClick:c,autoFocus:!u,children:a})]})]})}),p):null};function Hu(e){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(e)}function Uu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Gu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Gu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Gu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Gu(d,"constructor",c),Gu(c,"constructor",l),l.displayName="GeneratorFunction",Gu(c,o,"GeneratorFunction"),Gu(d),Gu(d,o,"Generator"),Gu(d,r,function(){return this}),Gu(d,"toString",function(){return"[object Generator]"}),(Uu=function(){return{w:i,m:f}})()}function Gu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Gu=function(e,t,n,r){function i(t,n){Gu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Gu(e,t,n,r)}function $u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qu(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Vu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function qu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Vu(i,r,o,a,s,"next",e)}function s(e){Vu(i,r,o,a,s,"throw",e)}a(void 0)})}}function Yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(n),!0).forEach(function(t){Ju(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ju(e,t,n){return(t=function(e){var t=function(e){if("object"!=Hu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zu(e){return function(e){if(Array.isArray(e))return ed(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Qu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(e,t){if(e){if("string"==typeof e)return ed(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}st().setAppElement("#root");const td=function(e){var t=e.groups,n=e.onSave,o=e.onReorder,i=e.onDelete,a=e.onClose,s=Su(function(e){return e.data.groups.data}),l=Su(function(e){return e.createGroup}),c=Su(function(e){return e.updateGroup}),u=Su(function(e){return e.deleteGroup}),d=Su(function(e){return e.reorderGroups}),f=Su(function(e){return e.setGroupsFilter}),p=Su(function(e){return e.ui.activeGroupIds}),h=(0,r.useMemo)(function(){return null!=t?t:s},[t,s]),m=(0,r.useState)(Zu(h).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)})),g=Xu(m,2),y=g[0],b=g[1],v=Xu((0,r.useState)(""),2),x=v[0],k=v[1],w=Xu((0,r.useState)("#475569"),2),S=w[0],_=w[1];(0,r.useEffect)(function(){b(Zu(h).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}))},[h]);var C=function(e,t,n){b(function(r){return r.map(function(r){return r._id===e?Ku(Ku({},r),{},Ju({},t,n)):r})})},E=function(){var e=qu(Uu().m(function e(){var t,r,i,s,u,h;return Uu().w(function(e){for(;;)switch(e.p=e.n){case 0:e.p=0,t=$u(y),e.p=1,t.s();case 2:if((r=t.n()).done){e.n=5;break}return i=r.value,e.n=3,c({_id:i._id,name:i.name,order:i.order,color:i.color});case 3:null==n||n({_id:i._id,name:i.name,color:i.color});case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,u=e.v,t.e(u);case 7:return e.p=7,t.f(),e.f(7);case 8:if(!o){e.n=9;break}o(y),e.n=11;break;case 9:return e.n=10,d(y.map(function(e){return e._id}));case 10:s=y.map(function(e){return e._id}),p.length&&f(s);case 11:if(!x.trim()){e.n=14;break}if(!n){e.n=12;break}n({name:x.trim(),color:S}),e.n=13;break;case 12:return e.n=13,l(x.trim());case 13:k(""),_("#475569");case 14:a(),e.n=16;break;case 15:e.p=15,h=e.v,console.error("Failed to apply group changes",h);case 16:return e.a(2)}},e,null,[[1,6,7,8],[0,15]])}));return function(){return e.apply(this,arguments)}}(),L=Xu((0,r.useState)(!1),2),T=L[0],M=L[1],j=Xu((0,r.useState)(null),2),A=j[0],O=j[1],P=Xu((0,r.useState)(""),2),N=P[0],I=P[1],D=function(){var e=qu(Uu().m(function e(){var t;return Uu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(A){e.n=1;break}return e.a(2);case 1:if(e.p=1,!i){e.n=2;break}i(A),e.n=3;break;case 2:return e.n=3,u(A);case 3:b(function(e){return e.filter(function(e){return e._id!==A})}),e.n=5;break;case 4:e.p=4,t=e.v,console.error("Failed to delete group",t);case 5:return e.p=5,M(!1),O(null),I(""),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}();return(0,Xe.jsx)(st(),{isOpen:!0,onRequestClose:a,contentLabel:"Group Manager",className:"modal__content",overlayClassName:"modal__overlay",children:(0,Xe.jsxs)("div",{className:"modal__body",children:[(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h2",{style:{marginTop:0,fontSize:"1.25rem"},children:"Manage Groups"}),(0,Xe.jsx)("p",{style:{fontSize:"0.8rem",marginBottom:"1rem",color:"#94a3b8"},children:"You can reorder groups by dragging, edit names and colours, or delete them. New groups can be added at the bottom."}),(0,Xe.jsx)(ra,{onDragEnd:function(e){if(e.destination){var t=Array.from(y),n=Xu(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n);var r=t.map(function(e,t){return Ku(Ku({},e),{},{order:t})});b(r)}},children:(0,Xe.jsx)(Ia,{droppableId:"groups-droppable",children:function(e){return(0,Xe.jsxs)("div",Ku(Ku({className:"draggable__list",ref:e.innerRef},e.droppableProps),{},{children:[y.map(function(e,t){return(0,Xe.jsx)(Aa,{draggableId:e._id,index:t,children:function(t){return(0,Xe.jsxs)("div",Ku(Ku({ref:t.innerRef},t.draggableProps),{},{className:"draggable__listItem",children:[(0,Xe.jsx)("span",Ku(Ku({},t.dragHandleProps),{},{className:"draggable__handle"})),(0,Xe.jsx)("input",{type:"text",value:e.name,onChange:function(t){return C(e._id,"name",t.target.value)},className:"draggable__input"}),(0,Xe.jsx)("input",{type:"color",value:e.color,onChange:function(t){return C(e._id,"color",t.target.value)},style:{width:"36px",height:"36px",border:"none"}}),(0,Xe.jsx)("button",{type:"button",onClick:function(){return t=e._id,n=e.name,O(t),I(n),void M(!0);var t,n},className:"draggable__iconbtn draggable__iconbtn--danger",title:"Delete group",children:"âœ–"}),(0,Xe.jsx)(Wu,{isOpen:T,title:"Delete Group",message:'Are you sure you want to delete "'.concat(N,'"?'),confirmText:"Delete",variant:"danger",onConfirm:D,onCancel:function(){return M(!1)}})]}))}},e._id)}),e.placeholder]}))}})}),(0,Xe.jsxs)("div",{style:{marginTop:"1rem",borderTop:"1px solid #334155",padding:".2rem"},children:[(0,Xe.jsx)("h3",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Add New Group"}),(0,Xe.jsxs)("div",{style:{display:"flex",gap:"1.5rem"},children:[(0,Xe.jsx)("input",{type:"text",placeholder:"Group name",value:x,onChange:function(e){return k(e.target.value)},className:"modal__input"}),(0,Xe.jsx)("input",{type:"color",value:S,onChange:function(e){return _(e.target.value)},style:{width:"40px",height:"40px",border:"none"}})]})]})]}),(0,Xe.jsxs)("div",{className:"modal__actions",children:[(0,Xe.jsx)("button",{type:"button",onClick:a,className:"draggable__btn draggable__btn--muted",children:"Cancel"}),(0,Xe.jsx)("button",{type:"button",onClick:E,className:"draggable__btn draggable__btn--primary",children:"Save"})]})]})})};var nd=new Map;nd.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),nd.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),nd.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M139.3,128l66.4-66.3a8.1,8.1,0,0,0-11.4-11.4L128,116.7,61.7,50.3A8.1,8.1,0,0,0,50.3,61.7L116.7,128,50.3,194.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L128,139.3l66.3,66.4a8.2,8.2,0,0,0,11.4,0,8.1,8.1,0,0,0,0-11.4Z"}))}),nd.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),nd.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),nd.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var rd=function(e,t){return Ge(e,t,nd)},od=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:rd}))});od.displayName="X";const id=od;var ad=new Map;ad.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ad.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ad.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-4.9,7.4,8.5,8.5,0,0,1-3.1.6,8.3,8.3,0,0,1-5.7-2.3l-72-72a8.1,8.1,0,0,1,0-11.4l72-72a8.4,8.4,0,0,1,8.8-1.7A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))}),ad.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ad.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ad.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var sd=function(e,t){return Ge(e,t,ad)},ld=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:sd}))});ld.displayName="ArrowLeft";const cd=ld;var ud=new Map;ud.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216.9,208H39.4a7.4,7.4,0,0,1-7.4-7.4V80H216a8,8,0,0,1,8,8V200.9A7.1,7.1,0,0,1,216.9,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M98.4,46.7,128,80H32V52a8,8,0,0,1,8-8H92.4A8,8,0,0,1,98.4,46.7Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ud.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M98.3,50.3,128,80H32V56a8,8,0,0,1,8-8H92.7A7.9,7.9,0,0,1,98.3,50.3Z",opacity:"0.2"}),r.createElement("path",{d:"M216.9,208H39.4a7.4,7.4,0,0,1-7.4-7.4V80H216a8,8,0,0,1,8,8V200.9A7.1,7.1,0,0,1,216.9,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M32,80V56a8,8,0,0,1,8-8H92.7a7.9,7.9,0,0,1,5.6,2.3L128,80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ud.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,72H131.3L104,44.7A16.1,16.1,0,0,0,92.7,40H40A16,16,0,0,0,24,56V200.6A15.4,15.4,0,0,0,39.4,216H216.9A15.2,15.2,0,0,0,232,200.9V88A16,16,0,0,0,216,72ZM40,56H92.7l16,16H40Z"}))}),ud.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216.9,208H39.4a7.4,7.4,0,0,1-7.4-7.4V80H216a8,8,0,0,1,8,8V200.9A7.1,7.1,0,0,1,216.9,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M32,80V56a8,8,0,0,1,8-8H92.7a7.9,7.9,0,0,1,5.6,2.3L128,80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ud.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216.9,208H39.4a7.4,7.4,0,0,1-7.4-7.4V80H216a8,8,0,0,1,8,8V200.9A7.1,7.1,0,0,1,216.9,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M32,80V56a8,8,0,0,1,8-8H92.7a7.9,7.9,0,0,1,5.6,2.3L128,80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ud.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216.9,208H39.4a7.4,7.4,0,0,1-7.4-7.4V80H216a8,8,0,0,1,8,8V200.9A7.1,7.1,0,0,1,216.9,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M32,80V56a8,8,0,0,1,8-8H92.7a7.9,7.9,0,0,1,5.6,2.3L128,80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var dd=function(e,t){return Ge(e,t,ud)},fd=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:dd}))});fd.displayName="Folder";const pd=fd;var hd=o(2610),md={};md.styleTagTransform=Be(),md.setAttributes=Ie(),md.insert=Pe().bind(null,"head"),md.domAPI=Ae(),md.insertStyleElement=Re(),Me()(hd.A,md),hd.A&&hd.A.locals&&hd.A.locals;let gd={data:""},yd=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||gd},bd=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vd=/\/\*[^]*?\*\/|  +/g,xd=/\n+/g,kd=(e,t)=>{let n="",r="",o="";for(let i in e){let a=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+a+";":r+="f"==i[1]?kd(a,i):i+"{"+kd(a,"k"==i[1]?"":t)+"}":"object"==typeof a?r+=kd(a,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=a&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=kd.p?kd.p(i,a):i+":"+a+";")}return n+(t&&o?t+"{"+o+"}":o)+r},wd={},Sd=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Sd(e[n]);return t}return e},_d=(e,t,n,r,o)=>{let i=Sd(e),a=wd[i]||(wd[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!wd[a]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=bd.exec(e.replace(vd,""));)t[4]?r.shift():t[3]?(n=t[3].replace(xd," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(xd," ").trim();return r[0]})(e);wd[a]=kd(o?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&wd.g?wd.g:null;return n&&(wd.g=wd[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(wd[a],t,r,s),a};function Cd(e){let t=this||{},n=e.call?e(t.p):e;return _d(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,o)=>{let i=t[o];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":kd(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,yd(t.target),t.g,t.o,t.k)}Cd.bind({g:1});let Ed,Ld,Td,Md=Cd.bind({k:1});function jd(e,t){let n=this||{};return function(){let r=arguments;function o(i,a){let s=Object.assign({},i),l=s.className||o.className;n.p=Object.assign({theme:Ld&&Ld()},s),n.o=/ *go\d+/.test(l),s.className=Cd.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),Td&&c[0]&&Td(s),Ed(c,s)}return t?t(o):o}}var Ad=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Od=(()=>{let e=0;return()=>(++e).toString()})(),Pd=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Nd="default",Id=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return Id(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},Dd=[],Rd={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},zd={},Bd=(e,t=Nd)=>{zd[t]=Id(zd[t]||Rd,e),Dd.forEach(([e,n])=>{e===t&&n(zd[t])})},Fd=e=>Object.keys(zd).forEach(t=>Bd(e,t)),Wd=(e=Nd)=>t=>{Bd(t,e)},Hd={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ud=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Od()}))(t,e,n);return Wd(r.toasterId||(e=>Object.keys(zd).find(t=>zd[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Gd=(e,t)=>Ud("blank")(e,t);Gd.error=Ud("error"),Gd.success=Ud("success"),Gd.loading=Ud("loading"),Gd.custom=Ud("custom"),Gd.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Wd(t)(n):Fd(n)},Gd.dismissAll=e=>Gd.dismiss(void 0,e),Gd.remove=(e,t)=>{let n={type:4,toastId:e};t?Wd(t)(n):Fd(n)},Gd.removeAll=e=>Gd.remove(void 0,e),Gd.promise=(e,t,n)=>{let r=Gd.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let o=t.success?Ad(t.success,e):void 0;return o?Gd.success(o,{id:r,...n,...null==n?void 0:n.success}):Gd.dismiss(r),e}).catch(e=>{let o=t.error?Ad(t.error,e):void 0;o?Gd.error(o,{id:r,...n,...null==n?void 0:n.error}):Gd.dismiss(r)}),e};var $d=Md`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vd=Md`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qd=Md`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yd=jd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$d} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vd} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qd} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kd=Md`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jd=jd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Kd} 1s linear infinite;
`,Zd=Md`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xd=Md`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qd=jd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zd} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xd} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ef=jd("div")`
  position: absolute;
`,tf=jd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nf=Md`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rf=jd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nf} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,of=({toast:e})=>{let{icon:t,type:n,iconTheme:o}=e;return void 0!==t?"string"==typeof t?r.createElement(rf,null,t):t:"blank"===n?null:r.createElement(tf,null,r.createElement(Jd,{...o}),"loading"!==n&&r.createElement(ef,null,"error"===n?r.createElement(Yd,{...o}):r.createElement(Qd,{...o})))},af=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,sf=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,lf=jd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cf=jd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uf=r.memo(({toast:e,position:t,style:n,children:o})=>{let i=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Pd()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[af(n),sf(n)];return{animation:t?`${Md(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Md(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},a=r.createElement(of,{toast:e}),s=r.createElement(cf,{...e.ariaProps},Ad(e.message,e));return r.createElement(lf,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof o?o({icon:a,message:s}):r.createElement(r.Fragment,null,a,s))});!function(e){kd.p=void 0,Ed=e,Ld=void 0,Td=void 0}(r.createElement);var df=({id:e,className:t,style:n,onHeightUpdate:o,children:i})=>{let a=r.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;o(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,o]);return r.createElement("div",{ref:a,className:t,style:n},i)},ff=Cd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pf=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:o,children:i,toasterId:a,containerStyle:s,containerClassName:l})=>{let{toasts:c,handlers:u}=((e,t="default")=>{let{toasts:n,pausedAt:o}=((e={},t=Nd)=>{let[n,o]=(0,r.useState)(zd[t]||Rd),i=(0,r.useRef)(zd[t]);(0,r.useEffect)(()=>(i.current!==zd[t]&&o(zd[t]),Dd.push([t,o]),()=>{let e=Dd.findIndex(([e])=>e===t);e>-1&&Dd.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,o;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Hd[t.type],style:{...e.style,...null==(o=e[t.type])?void 0:o.style,...t.style}}});return{...n,toasts:a}})(e,t),i=(0,r.useRef)(new Map).current,a=(0,r.useCallback)((e,t=1e3)=>{if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),s({type:4,toastId:e})},t);i.set(e,n)},[]);(0,r.useEffect)(()=>{if(o)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Gd.dismiss(n.id,t),r);n.visible&&Gd.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,o,t]);let s=(0,r.useCallback)(Wd(t),[t]),l=(0,r.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),c=(0,r.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),u=(0,r.useCallback)(()=>{o&&s({type:6,time:Date.now()})},[o,s]),d=(0,r.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:o=8,defaultPosition:i}=t||{},a=n.filter(t=>(t.position||i)===(e.position||i)&&t.height),s=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+o,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}})(n,a);return r.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(n=>{let a=n.position||t,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}})(a,u.calculateOffset(n,{reverseOrder:e,gutter:o,defaultPosition:t}));return r.createElement(df,{id:n.id,key:n.id,onHeightUpdate:u.updateHeight,className:n.visible?ff:"",style:s},"custom"===n.type?Ad(n.message,n):i?i(n):r.createElement(uf,{toast:n,position:a}))}))};function hf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return mf(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(mf(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,mf(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,mf(d,"constructor",c),mf(c,"constructor",l),l.displayName="GeneratorFunction",mf(c,o,"GeneratorFunction"),mf(d),mf(d,o,"Generator"),mf(d,r,function(){return this}),mf(d,"toString",function(){return"[object Generator]"}),(hf=function(){return{w:i,m:f}})()}function mf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}mf=function(e,t,n,r){function i(t,n){mf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},mf(e,t,n,r)}function gf(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function yf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){gf(i,r,o,a,s,"next",e)}function s(e){gf(i,r,o,a,s,"throw",e)}a(void 0)})}}function bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}st().setAppElement("#root");const xf=function(e){var t,n=e.isOpen,o=e.onClose,i=e.onSelect,a=Su(function(e){return e.data.assets}),s=Su(function(e){return e.data.assetFolders}),l=Su(function(e){return e.loadAssets}),c=Su(function(e){return e.loadAssetFolders}),u=Su(function(e){return e.createAssetFromFile}),d=(Su(function(e){return e.createAssetFromUrl}),Su(function(e){return e.deleteAsset})),f=Su(function(e){return e.createAssetFolder}),p=Su(function(e){return e.deleteAssetFolder}),h=Su(function(e){return e.moveAssetToFolder}),m=(0,r.useRef)(l),g=(0,r.useRef)(c);(0,r.useEffect)(function(){m.current=l,g.current=c},[l,c]);var y=(0,r.useRef)(null),b=bf((0,r.useState)(null),2),v=b[0],x=b[1],k=bf((0,r.useState)(""),2),w=(k[0],k[1]),S=bf((0,r.useState)(null),2),_=S[0],C=S[1],E=bf((0,r.useState)(""),2),L=E[0],T=E[1],M=bf((0,r.useState)(!1),2),j=M[0],A=M[1],O=bf((0,r.useState)(null),2),P=(O[0],O[1]);(0,r.useEffect)(function(){var e,t;n&&(x(null),w(""),C(null),A(!1),T(""),null===(e=m.current)||void 0===e||e.call(m),null===(t=g.current)||void 0===t||t.call(g))},[n]);var N=(null==a?void 0:a.data)||[],I=(null==s?void 0:s.data)||[],D=!(null==a||!a.loading)||!(null==s||!s.loading),R=N.filter(function(e){return _?e.folderId===_:!e.folderId}),z=v&&null!==(t=N.find(function(e){return e._id===v}))&&void 0!==t?t:null,B=_?I.find(function(e){return e._id===_}):null,F=function(){var e;return null===(e=y.current)||void 0===e?void 0:e.click()},W=lu.resolveAssetUrl,H=function(){var e=yf(hf().m(function e(t){var n,r,o;return hf().w(function(e){for(;;)switch(e.n){case 0:if(r=null===(n=t.target.files)||void 0===n?void 0:n[0]){e.n=1;break}return e.a(2);case 1:return e.n=2,u(r);case 2:(o=e.v)&&x(o._id),y.current&&(y.current.value="");case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),U=bf((0,r.useState)(!1),2),G=U[0],$=U[1],V=bf((0,r.useState)({title:"",message:"",onConfirm:function(){}}),2),q=V[0],Y=V[1],K=function(e,t,n){Y({title:e,message:t,onConfirm:n}),$(!0)},J=function(){var e=yf(hf().m(function e(t,n){var r;return hf().w(function(e){for(;;)switch(e.n){case 0:n&&n.stopPropagation(),r=N.find(function(e){return e._id===t}),K("Delete Asset","Are you sure you want to delete this asset".concat(r?' "'.concat(r.url,'"'):"","?"),yf(hf().m(function e(){return hf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,d(t);case 1:v===t&&x(null);case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=yf(hf().m(function e(){var t,n;return hf().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=L.trim()){e.n=1;break}return Gd.error("Folder name is required"),e.a(2);case 1:return e.p=1,e.n=2,f(t);case 2:T(""),A(!1),Gd.success("Folder created"),e.n=4;break;case 3:e.p=3,n=e.v,Gd.error((null==n?void 0:n.message)||"Failed to create folder");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=yf(hf().m(function e(t,n){var r;return hf().w(function(e){for(;;)switch(e.n){case 0:n.stopPropagation(),r=I.find(function(e){return e._id===t}),K("Delete Folder","Are you sure you want to delete the folder".concat(r?' "'.concat(r.name,'"'):"","?"),yf(hf().m(function e(){var n,r;return hf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,p(t);case 1:Gd.success("Folder deleted"),e.n=3;break;case 2:e.p=2,r=e.v,Gd.error((null==r||null===(n=r.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Failed to delete folder");case 3:return e.a(2)}},e,null,[[0,2]])})));case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=yf(hf().m(function e(t,n){var r;return hf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,h(t,n);case 1:P(null),Gd.success("Asset moved"),e.n=3;break;case 2:e.p=2,r=e.v,Gd.error((null==r?void 0:r.message)||"Failed to move asset");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}();return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(st(),{isOpen:n,onRequestClose:o,contentLabel:"Asset Manager",overlayClassName:"modal__overlay",className:"modal__content modal__content--asset_mngr",children:(0,Xe.jsx)("div",{className:"modal__body",children:(0,Xe.jsx)("div",{className:"modal__body_content",children:(0,Xe.jsxs)("div",{className:"assetmgr",children:[(0,Xe.jsxs)("header",{className:"assetmgr__bar",children:[(0,Xe.jsxs)("div",{className:"assetmgr__left",children:[(0,Xe.jsx)("span",{className:"assetmgr__title",children:"Assets"}),D&&(0,Xe.jsxs)("span",{className:"assetmgr__muted",children:[" ","Loadingâ€¦"]})]}),(0,Xe.jsx)("div",{className:"assetmgr__right",children:(0,Xe.jsx)("div",{className:"modal__actions",children:(0,Xe.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--muted",style:{display:"flex"},onClick:o,children:(0,Xe.jsx)(id,{size:16,weight:"bold"})})})})]}),(0,Xe.jsxs)("div",{className:"asset-manager-columns-container",children:[(0,Xe.jsxs)("div",{className:"assetmgr__sidebar assetmgr__sidebar--left",children:[(0,Xe.jsx)("div",{className:"assetmgr__breadcrumb",children:_?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("button",{type:"button",className:"assetmgr__breadcrumb-btn",onClick:function(){return C(null)},children:[(0,Xe.jsx)(cd,{size:16,weight:"bold"}),"Root"]}),(0,Xe.jsx)("span",{className:"assetmgr__breadcrumb-sep",children:"/"}),(0,Xe.jsx)("span",{className:"assetmgr__breadcrumb-current",children:(null==B?void 0:B.name)||"Unknown"})]}):(0,Xe.jsx)("span",{className:"assetmgr__breadcrumb-current",children:"Root"})}),(0,Xe.jsxs)("div",{className:"assetmgr__grid assetmgr__grid--scroll",children:[!_&&I.map(function(e){return(0,Xe.jsxs)("button",{type:"button",className:"assetmgr__folder",onClick:function(){return C(e._id)},children:[(0,Xe.jsx)("div",{className:"assetmgr__folder-icon",children:(0,Xe.jsx)(pd,{size:48,weight:"duotone"})}),(0,Xe.jsx)("div",{className:"assetmgr__folder-name",children:e.name}),(0,Xe.jsx)("button",{type:"button",className:"assetmgr__deleteBtn",onClick:function(t){return X(e._id,t)},title:"Delete folder",children:(0,Xe.jsx)(id,{size:20,weight:"bold"})})]},e._id)}),R.map(function(e){return(0,Xe.jsxs)("button",{type:"button",className:"assetmgr__card ".concat(v===e._id?"is-selected":""),onClick:function(){return x(e._id)},onDoubleClick:function(){x(e._id),i(e),o()},"aria-pressed":v===e._id,children:[(0,Xe.jsxs)("div",{className:"assetmgr__thumbWrap",children:[(0,Xe.jsx)("img",{src:W(e.url),className:"assetmgr__thumb",alt:""}),(0,Xe.jsx)("button",{type:"button",className:"assetmgr__deleteBtn",onClick:function(t){return J(e._id,t)},title:"Delete asset",children:(0,Xe.jsx)(id,{size:20,weight:"bold"})})]}),(0,Xe.jsx)("div",{className:"assetmgr__meta",children:(0,Xe.jsx)("span",{className:"assetmgr__name",children:e.url.split("/").pop()})})]},e._id)})]})]}),(0,Xe.jsx)("div",{className:"assetmgr__sidebar",children:z?(0,Xe.jsxs)("div",{className:"assetmgr__details",children:[(0,Xe.jsx)("div",{className:"assetmgr__preview",children:(0,Xe.jsx)("div",{className:"assetmgr__previewInner",children:(0,Xe.jsx)("img",{src:W(z.url),className:"assetmgr__previewImg",alt:"Preview"})})}),(0,Xe.jsxs)("div",{className:"assetmgr__actions",children:[(0,Xe.jsx)("button",{type:"button",className:"draggable__btn",onClick:function(){z&&(i(z),o())},children:"Use asset"}),(0,Xe.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--secondary  draggable__btn--muted",onClick:F,children:"Upload new"}),(0,Xe.jsx)("input",{ref:y,type:"file",accept:"image/*",className:"assetmgr__file",onChange:H})]}),(0,Xe.jsxs)("div",{className:"assetmgr__move",children:[(0,Xe.jsx)("label",{className:"assetmgr__move-label",children:"Move to folder:"}),(0,Xe.jsxs)("select",{value:z.folderId||"",onChange:function(e){var t=e.target.value||null;Q(z._id,t)},className:"tsm__input",children:[(0,Xe.jsx)("option",{value:"",children:"Root"}),I.map(function(e){return(0,Xe.jsx)("option",{value:e._id,children:e.name},e._id)})]})]}),!j&&(0,Xe.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--small  draggable__btn--muted",onClick:function(){return A(!0)},style:{display:"flex",margin:"0 auto"},children:"New Folder"}),j&&(0,Xe.jsxs)("div",{className:"assetmgr__newfolder-inline",children:[(0,Xe.jsx)("input",{style:{margin:0},type:"text",placeholder:"Folder nameâ€¦",value:L,onChange:function(e){return T(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Z(),"Escape"===e.key&&(A(!1),T(""))},className:"tsm__input",autoFocus:!0}),(0,Xe.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--small",onClick:Z,style:{margin:0},children:"Create"}),(0,Xe.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--small draggable__btn--muted",style:{margin:0},onClick:function(){A(!1),T("")},children:"Cancel"})]})]}):(0,Xe.jsxs)("div",{className:"assetmgr__empty",children:[(0,Xe.jsx)("div",{className:"assetmgr__icon","aria-hidden":!0,children:"â–¦"}),(0,Xe.jsx)("div",{className:"assetmgr__muted",children:"No asset selected"}),(0,Xe.jsxs)("div",{className:"assetmgr__upload",children:[(0,Xe.jsx)("button",{type:"button",className:"draggable__btn",onClick:F,children:"New asset"}),(0,Xe.jsx)("input",{ref:y,type:"file",accept:"image/*",className:"assetmgr__file",onChange:H})]}),!j&&(0,Xe.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--small draggable__btn--muted",onClick:function(){return A(!0)},children:"New Folder"}),j&&(0,Xe.jsxs)("div",{className:"assetmgr__newfolder-inline",children:[(0,Xe.jsx)("input",{style:{margin:0},type:"text",placeholder:"Folder nameâ€¦",value:L,onChange:function(e){return T(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Z(),"Escape"===e.key&&(A(!1),T(""))},className:"tsm__input",autoFocus:!0}),(0,Xe.jsx)("button",{type:"button",style:{margin:0},className:"draggable__btn draggable__btn--small",onClick:Z,children:"Create"}),(0,Xe.jsx)("button",{type:"button",style:{margin:0},className:"draggable__btn draggable__btn--small draggable__btn--muted",onClick:function(){A(!1),T("")},children:"Cancel"})]})]})})]})]})})})}),(0,Xe.jsx)(Wu,{isOpen:G,title:q.title,message:q.message,confirmText:"Delete",variant:"danger",onConfirm:yf(hf().m(function e(){return hf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,q.onConfirm();case 1:$(!1);case 2:return e.a(2)}},e)})),onCancel:function(){return $(!1)}})]})};var kf=o(5475),wf={};function Sf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return _f(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(_f(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_f(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,_f(d,"constructor",c),_f(c,"constructor",l),l.displayName="GeneratorFunction",_f(c,o,"GeneratorFunction"),_f(d),_f(d,o,"Generator"),_f(d,r,function(){return this}),_f(d,"toString",function(){return"[object Generator]"}),(Sf=function(){return{w:i,m:f}})()}function _f(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_f=function(e,t,n,r){function i(t,n){_f(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},_f(e,t,n,r)}function Cf(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}wf.styleTagTransform=Be(),wf.setAttributes=Ie(),wf.insert=Pe().bind(null,"head"),wf.domAPI=Ae(),wf.insertStyleElement=Re(),Me()(kf.A,wf),kf.A&&kf.A.locals&&kf.A.locals,st().setAppElement("#root");var Tf=function(e){switch(e){case"campaign":return(0,Xe.jsx)("i",{className:"icon icli iconly-Calendar"});case"place":return(0,Xe.jsx)("i",{className:"icon icli iconly-Location"});case"people":return(0,Xe.jsx)("i",{className:"icon icli iconly-User"});case"myth":return(0,Xe.jsx)("i",{className:"icon icli iconly-Discovery"});default:return(0,Xe.jsx)("i",{className:"icon icli iconly-Paper"})}};const Mf=function(e){var t=e.isOpen,n=e.onClose,o=e.onSelect,i=e.placeholder,a=void 0===i?"Search pagesâ€¦":i,s=e.filterType,l=void 0===s?"any":s,c=e.filterTypes,u=Ef((0,r.useState)(""),2),d=u[0],f=u[1],p=Ef((0,r.useState)([]),2),h=p[0],m=p[1],g=Ef((0,r.useState)(!1),2),y=g[0],b=g[1],v=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Cf(i,r,o,a,s,"next",e)}function s(e){Cf(i,r,o,a,s,"throw",e)}a(void 0)})}}(Sf().m(function e(t){var n,r;return Sf().w(function(e){for(;;)switch(e.p=e.n){case 0:if(b(!0),e.p=1,!(c&&c.length>0)){e.n=3;break}return e.n=2,lu.searchPages(t,void 0,50);case 2:n=e.v,m(n.filter(function(e){return c.includes(e.type)})),e.n=5;break;case 3:return e.n=4,lu.searchPages(t,"any"===l?void 0:l,50);case 4:r=e.v,m(r);case 5:return e.p=5,b(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,,5,6]])}));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)(function(){t&&v("")},[t]),(0,r.useEffect)(function(){var e=setTimeout(function(){v(d.trim())},200);return function(){return clearTimeout(e)}},[d]),(0,Xe.jsx)(st(),{isOpen:t,onRequestClose:n,contentLabel:"Link a Page",overlayClassName:"modal__overlay",className:"modal__content modal__content--page-picker",children:(0,Xe.jsxs)("div",{className:"page-picker",children:[(0,Xe.jsxs)("div",{className:"page-picker__header",children:[(0,Xe.jsx)("h3",{children:"Pages"}),y&&(0,Xe.jsx)("span",{className:"page-picker__loading",children:"Loadingâ€¦"})]}),(0,Xe.jsx)("input",{className:"page-picker__search",placeholder:a,value:d,onChange:function(e){return f(e.target.value)},autoFocus:!0}),(0,Xe.jsxs)("div",{className:"page-picker__list",children:[0===h.length&&!y&&(0,Xe.jsx)("div",{className:"page-picker__empty",children:"No pages found"}),h.map(function(e){return(0,Xe.jsxs)("button",{type:"button",className:"page-picker__item",onClick:function(){o(e),n()},children:[(0,Xe.jsx)("span",{className:"page-picker__icon",children:Tf(e.type)}),(0,Xe.jsx)("span",{className:"page-picker__title",children:e.title})]},e._id)})]}),(0,Xe.jsx)("div",{className:"page-picker__footer",children:(0,Xe.jsx)("button",{type:"button",className:"btn-muted",onClick:n,children:"Close"})})]})})};var jf=new Map;jf.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"176",y1:"20",x2:"176",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"80",y1:"20",x2:"80",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),jf.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M40,88H216V48a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8Z",opacity:"0.2"}),r.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),jf.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,48H48V48H72v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24Z"}))}),jf.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),jf.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),jf.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Af=function(e,t){return Ge(e,t,jf)},Of=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:Af}))});Of.displayName="CalendarBlank";const Pf=Of;var Nf=new Map;Nf.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Nf.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Nf.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))}),Nf.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Nf.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Nf.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var If=function(e,t){return Ge(e,t,Nf)},Df=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:If}))});Df.displayName="Trash";const Rf=Df;var zf=new Map;zf.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"96",y1:"68",x2:"96",y2:"48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"160",y1:"208",x2:"160",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"68",y1:"96",x2:"48",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"208",y1:"160",x2:"188",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M67,132.4l-7.3,7.3a40,40,0,0,0,56.6,56.6l7.3-7.3",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M189,123.6l7.3-7.3a40,40,0,0,0-56.6-56.6L132.4,67",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),zf.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"96",y1:"72",x2:"96",y2:"48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"160",y1:"208",x2:"160",y2:"184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"72",y1:"96",x2:"48",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"208",y1:"160",x2:"184",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M71,128.4,59.7,139.7a40,40,0,0,0,56.6,56.6L127.6,185",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M185,127.6l11.3-11.3a40,40,0,0,0-56.6-56.6L128.4,71",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),zf.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M88,72V48a8,8,0,0,1,16,0V72a8,8,0,0,1-16,0Zm72,104a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V184A8,8,0,0,0,160,176ZM48,104H72a8,8,0,0,0,0-16H48a8,8,0,0,0,0,16Zm160,48H184a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Zm-86.1,27.3-11.3,11.3a32,32,0,0,1-45.2-45.2l11.3-11.3a8.1,8.1,0,0,0,0-11.4,8,8,0,0,0-11.3,0L54.1,134.1a47.9,47.9,0,1,0,67.8,67.8l11.4-11.3a8,8,0,0,0,0-11.3A8.1,8.1,0,0,0,121.9,179.3ZM190.6,65.4a31.9,31.9,0,0,1,0,45.2l-11.3,11.3a8.1,8.1,0,0,0,0,11.4,8.3,8.3,0,0,0,5.7,2.3,8,8,0,0,0,5.6-2.3l11.3-11.4a47.9,47.9,0,0,0-67.8-67.8L122.7,65.4a8,8,0,0,0,0,11.3,8.1,8.1,0,0,0,11.4,0l11.3-11.3A31.9,31.9,0,0,1,190.6,65.4Z"}))}),zf.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"96",y1:"72",x2:"96",y2:"48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"160",y1:"208",x2:"160",y2:"184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"72",y1:"96",x2:"48",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"208",y1:"160",x2:"184",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M71,128.4,59.7,139.7a40,40,0,0,0,56.6,56.6L127.6,185",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M185,127.6l11.3-11.3a40,40,0,0,0-56.6-56.6L128.4,71",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),zf.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"96",y1:"72",x2:"96",y2:"48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"160",y1:"208",x2:"160",y2:"184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"72",y1:"96",x2:"48",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"208",y1:"160",x2:"184",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M71,128.4,59.7,139.7a40,40,0,0,0,56.6,56.6L127.6,185",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M185,127.6l11.3-11.3a40,40,0,0,0-56.6-56.6L128.4,71",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),zf.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"96",y1:"72",x2:"96",y2:"48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"160",y1:"208",x2:"160",y2:"184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"72",y1:"96",x2:"48",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"208",y1:"160",x2:"184",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M71,128.4,59.7,139.7a40,40,0,0,0,56.6,56.6L127.6,185",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M185,127.6l11.3-11.3a40,40,0,0,0-56.6-56.6L128.4,71",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Bf=function(e,t){return Ge(e,t,zf)},Ff=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:Bf}))});Ff.displayName="LinkBreak";const Wf=Ff;var Hf=new Map;Hf.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"94.1",y1:"161.9",x2:"161.9",y2:"94",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M145,178.9l-28.3,28.3a48,48,0,0,1-67.9-67.9L77.1,111",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M178.9,145l28.3-28.3a48,48,0,0,0-67.9-67.9L111,77.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Hf.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"94.1",y1:"161.9",x2:"161.9",y2:"94",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M145,178.9l-28.3,28.3a48,48,0,0,1-67.9-67.9L77.1,111",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M178.9,145l28.3-28.3a48,48,0,0,0-67.9-67.9L111,77.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Hf.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M156.3,88.4,88.4,156.3a8,8,0,0,0,0,11.3,8.1,8.1,0,0,0,11.3,0l67.9-67.9a8,8,0,0,0-11.3-11.3Z"}),r.createElement("path",{d:"M139.3,173.3,111,201.5a39.7,39.7,0,0,1-56.5,0,40,40,0,0,1,0-56.5l28.2-28.3a8,8,0,0,0-11.3-11.3L43.1,133.7a56,56,0,0,0,79.2,79.2l28.3-28.3a8,8,0,0,0,0-11.3A7.9,7.9,0,0,0,139.3,173.3Z"}),r.createElement("path",{d:"M212.9,43.1a56,56,0,0,0-79.2,0L105.4,71.4a8,8,0,0,0,11.3,11.3L145,54.5a39.7,39.7,0,0,1,56.5,0,40,40,0,0,1,0,56.5l-28.2,28.3a7.9,7.9,0,0,0,0,11.3,7.7,7.7,0,0,0,5.6,2.4,8,8,0,0,0,5.7-2.4l28.3-28.3A56.1,56.1,0,0,0,212.9,43.1Z"}))}),Hf.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"94.1",y1:"161.9",x2:"161.9",y2:"94",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M145,178.9l-28.3,28.3a48,48,0,0,1-67.9-67.9L77.1,111",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M178.9,145l28.3-28.3a48,48,0,0,0-67.9-67.9L111,77.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Hf.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"94.1",y1:"161.9",x2:"161.9",y2:"94",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M145,178.9l-28.3,28.3a48,48,0,0,1-67.9-67.9L77.1,111",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M178.9,145l28.3-28.3a48,48,0,0,0-67.9-67.9L111,77.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Hf.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"94.1",y1:"161.9",x2:"161.9",y2:"94",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M145,178.9l-28.3,28.3a48,48,0,0,1-67.9-67.9L77.1,111",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M178.9,145l28.3-28.3a48,48,0,0,0-67.9-67.9L111,77.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Uf=function(e,t){return Ge(e,t,Hf)},Gf=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:Uf}))});Gf.displayName="LinkSimple";const $f=Gf;var Vf=new Map;Vf.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Vf.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),r.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Vf.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm37.7,130.3a8.1,8.1,0,0,1,0,11.4,8.2,8.2,0,0,1-11.4,0L128,139.3l-26.3,26.4a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4L116.7,128,90.3,101.7a8.1,8.1,0,0,1,11.4-11.4L128,116.7l26.3-26.4a8.1,8.1,0,0,1,11.4,11.4L139.3,128Z"}))}),Vf.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Vf.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Vf.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),r.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var qf=function(e,t){return Ge(e,t,Vf)},Yf=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:qf}))});Yf.displayName="XCircle";const Kf=Yf;var Jf=new Map;Jf.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M18.5,121.3l89.2-57.4A8,8,0,0,1,120,70.7V185.3a8,8,0,0,1-12.3,6.8L18.5,134.7A7.9,7.9,0,0,1,18.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Jf.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",opacity:"0.2"}),r.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",opacity:"0.2"}),r.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Jf.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M10.1,114.5,99.3,57.2A16,16,0,0,1,124,70.7v42.6l87.3-56.1A16,16,0,0,1,236,70.7V185.3a16.1,16.1,0,0,1-8.3,14.1,16.5,16.5,0,0,1-16.4-.6L124,142.7v42.6a16.1,16.1,0,0,1-8.3,14.1,16.5,16.5,0,0,1-16.4-.6L10.1,141.5a16.1,16.1,0,0,1,0-27Z"}))}),Jf.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Jf.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Jf.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Zf=function(e,t){return Ge(e,t,Jf)},Xf=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:Zf}))});Xf.displayName="Rewind";const Qf=Xf;var ep=new Map;ep.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ep.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"96 48 176 128 96 208 96 48",opacity:"0.2"}),r.createElement("polygon",{points:"96 48 176 128 96 208 96 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ep.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M181.7,122.3l-80-80a8.4,8.4,0,0,0-8.8-1.7A8,8,0,0,0,88,48V208a8,8,0,0,0,4.9,7.4,8.5,8.5,0,0,0,3.1.6,8.3,8.3,0,0,0,5.7-2.3l80-80A8.1,8.1,0,0,0,181.7,122.3Z"}))}),ep.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ep.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ep.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var tp=function(e,t){return Ge(e,t,ep)},np=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:tp}))});np.displayName="CaretRight";const rp=np;var op=new Map;op.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M237.5,121.3,148.3,63.9A8,8,0,0,0,136,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,237.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),op.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",opacity:"0.2"}),r.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",opacity:"0.2"}),r.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),op.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M253.2,128a16,16,0,0,1-7.3,13.5l-89.2,57.3A16,16,0,0,1,132,185.3V142.7L44.7,198.8A16,16,0,0,1,20,185.3V70.7A16,16,0,0,1,44.7,57.2L132,113.3V70.7a16,16,0,0,1,24.7-13.5l89.2,57.3A16,16,0,0,1,253.2,128Z"}))}),op.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),op.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),op.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ip=function(e,t){return Ge(e,t,op)},ap=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:ip}))});ap.displayName="FastForward";const sp=ap;var lp=o(1948),cp={};function up(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}cp.styleTagTransform=Be(),cp.setAttributes=Ie(),cp.insert=Pe().bind(null,"head"),cp.domAPI=Ae(),cp.insertStyleElement=Re(),Me()(lp.A,cp),lp.A&&lp.A.locals&&lp.A.locals;var fp=function(e,t){var n,r,o=null==t?void 0:t.months;return o&&0!==o.length&&e>=0&&e<o.length&&null!==(n=null===(r=o[e])||void 0===r?void 0:r.days)&&void 0!==n?n:30},pp=function(e,t,n,r,o,i){var a,s,l;if(!e||!i)return n||"";var c=e.eras.find(function(e){return e.id===t})||e.eras[0],u=null!==(a=null==c?void 0:c.abbreviation)&&void 0!==a?a:"",d=null!==(s=null==c?void 0:c.name)&&void 0!==s?s:"",f=""===r?-1:parseInt(r,10),p=f>=0?e.months[f]:void 0,h=f>=0?f+1:void 0,m=null!==(l=null==p?void 0:p.name)&&void 0!==l?l:"",g=o?parseInt(o,10):void 0,y=i.replace(/(D\^|DD|D|YYYY|YY|MMMM|MM|M|EE|E)/g,function(e){switch(e){case"EE":return d;case"E":return u;case"YYYY":return n;case"YY":return n.slice(-2);case"MMMM":return p?m:"";case"MM":return p&&void 0!==h?String(h).padStart(2,"0"):"";case"M":return p&&void 0!==h?String(h):"";case"D^":return void 0!==g?function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(g):"";case"DD":return void 0!==g?String(g).padStart(2,"0"):"";case"D":return void 0!==g?String(g):"";default:return e}});return y.replace(/\s+,/g,",").replace(/,\s*,/g,",").replace(/\s{2,}/g," ").replace(/,\s*$/g,"").trim()};const hp=function(e){var t,n,o,i=e.ts,a=e.value,s=e.placeholder,l=void 0===s?"Pick a date":s,c=e.clearable,u=void 0!==c&&c,d=e.label,f=e.onChange,p=e.format,h=void 0===p?"yearMonthDay":p,m=e.positionAbove,g=void 0!==m&&m,y=!!(i&&Array.isArray(i.months)&&i.months.length&&Array.isArray(i.eras)&&i.eras.length),b=up((0,r.useState)((null==a?void 0:a.eraId)||y&&(null===(t=i.eras[0])||void 0===t?void 0:t.id)||""),2),v=b[0],x=b[1],k=up((0,r.useState)((null==a?void 0:a.year)||""),2),w=k[0],S=k[1],_=up((0,r.useState)((null==a?void 0:a.monthIndex)||"0"),2),C=_[0],E=_[1],L=up((0,r.useState)((null==a?void 0:a.day)||"1"),2),T=L[0],M=L[1],j=up((0,r.useState)(!1),2),A=j[0],O=j[1],P=function(e,t){var n=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(e){var r=function(e){n.current&&(n.current.contains(e.target)||t())};return document.addEventListener("mousedown",r),function(){return document.removeEventListener("mousedown",r)}}},[e,t]),n}(A,function(){return O(!1)});(0,r.useEffect)(function(){var e;null!=a&&(x(a.eraId||y&&(null===(e=i.eras[0])||void 0===e?void 0:e.id)||""),S(a.year&&/^\d+$/.test(a.year)?a.year:""),E(a.monthIndex||"0"),M(a.day||"1"))},[null==a?void 0:a.eraId,null==a?void 0:a.year,null==a?void 0:a.monthIndex,null==a?void 0:a.day]),(0,r.useEffect)(function(){var e;y&&(v||x((null===(e=i.eras[0])||void 0===e?void 0:e.id)||""),""===C&&E("0"),""===T&&M("1"))},[y]);for(var N=(0,r.useMemo)(function(){var e;return w&&/^\d+$/.test(w)?pp(null!=i?i:null,v,w,C,T,h?(null==i?void 0:i.dateFormats)[h]:null==i||null===(e=i.dateFormats)||void 0===e?void 0:e.yearMonth):""},[i,v,w,C,T]),I=null!==(n=null==i||null===(o=i.months)||void 0===o?void 0:o.length)&&void 0!==n?n:12,D=parseInt(w||"0",10)||0,R=Math.max(0,Math.min(I-1,parseInt(C||"0",10)||0)),z=function(e,t){var n=(t%I+I)%I,r=e+Math.floor(t/I);S(String(r)),E(String(n))},B=y?function(e,t,n){var r,o;if(!n)return 0;var i=null!==(r=n.weekStartIndex)&&void 0!==r?r:0,a=(null!==(o=n.months)&&void 0!==o?o:[]).reduce(function(e,t){var n;return e+(null!==(n=t.days)&&void 0!==n?n:30)},0)||360,s=(e||0)*a,l=function(e,t){var n;return(null!==(n=e.months)&&void 0!==n?n:[]).slice(0,Math.max(0,t)).reduce(function(e,t){var n;return e+(null!==(n=t.days)&&void 0!==n?n:30)},0)}(n,t);return(i+(s+l)%7)%7}(D,R,i):0,F=fp(R,i),W=(R-1+I)%I,H=(R+1)%I,U=0===R?D-1:D,G=R===I-1?D+1:D,$=fp(W,i),V=B,q=[],Y=0;Y<V;Y++){var K=$-V+1+Y;q.push({day:K,inMonth:-1,y:U,m:W})}for(var J=1;J<=F;J++)q.push({day:J,inMonth:0,y:D,m:R});for(var Z=(7-q.length%7)%7,X=1;X<=Z;X++)q.push({day:X,inMonth:1,y:G,m:H});var Q=null==i?void 0:i.weekdaysShort,ee=Q&&7===Q.length?Q:["L","Ma","Me","G","V","S","D"],te=!y,ne=te?"Time system not ready":l;return(0,Xe.jsxs)("div",{className:"datepick",children:[d&&(0,Xe.jsx)("div",{className:"datepick__label",children:d}),(0,Xe.jsxs)("div",{className:"datepick__inputWrap".concat(te?" is-disabled":""),children:[(0,Xe.jsx)("input",{className:"modal__input datepill",onFocus:function(){return!te&&O(!0)},onClick:function(){return!te&&O(!0)},readOnly:!0,value:N,placeholder:ne,"aria-haspopup":"dialog","aria-expanded":A,"aria-disabled":te}),(0,Xe.jsx)("span",{className:"datepill__icon calendar","aria-hidden":!0,children:(0,Xe.jsx)(Pf,{weight:"bold",size:20,className:"icon__hover gold_on_hover"})}),u&&N&&!te&&(0,Xe.jsx)("button",{type:"button",className:"datepill__icon-end",onClick:function(){S(""),M("1"),f(null)},"aria-label":"Clear date",children:(0,Xe.jsx)(Kf,{size:30,weight:"bold",className:"icon__hover dim_on_hover"})})]}),A&&y&&(0,Xe.jsx)("div",{ref:P,className:"dp-pop ".concat(g?"dp-pop--above":""),children:(0,Xe.jsxs)("div",{className:"dp-pop__panel",children:[(0,Xe.jsxs)("div",{className:"dp-pop__head",children:[(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return S(String(D-1))},"aria-label":"Previous year",children:(0,Xe.jsx)(Qf,{size:16})}),(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return z(D+(R-1<0?-1:0),(R-1+I)%I)},"aria-label":"Previous month",children:(0,Xe.jsx)(Ze,{size:16})}),(0,Xe.jsxs)("div",{className:"dp-pop__headmain",children:[(0,Xe.jsx)("select",{className:"modal__select",value:String(R),style:{backgroundImage:"none"},onChange:function(e){return E(e.target.value)},children:i.months.map(function(e,t){return(0,Xe.jsx)("option",{value:String(t),children:e.name},e.id)})}),(0,Xe.jsx)("input",{className:"modal__input dp-pop__year",type:"number",value:String(D),onChange:function(e){return S(e.target.value)},placeholder:"Year"}),(0,Xe.jsx)("select",{className:"modal__select",value:v,style:{backgroundImage:"none"},onChange:function(e){return x(e.target.value)},children:i.eras.map(function(e){return(0,Xe.jsx)("option",{value:e.id,children:e.abbreviation},e.id)})})]}),(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return z(D+(R+1>=I?1:0),(R+1)%I)},"aria-label":"Next month",children:(0,Xe.jsx)(rp,{size:16})}),(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return S(String(D+1))},"aria-label":"Next year",children:(0,Xe.jsx)(sp,{size:16})})]}),(0,Xe.jsx)("div",{className:"dp-pop__grid dp-pop__week",children:ee.map(function(e){return(0,Xe.jsx)("div",{className:"dp-pop__weekcell",children:e},e)})}),(0,Xe.jsx)("div",{className:"dp-pop__grid dp-pop__days",children:q.map(function(e,t){var n=0!==e.inMonth,r=0===e.inMonth&&String(e.day)===T&&e.m===R&&String(D)===w;return(0,Xe.jsx)("button",{type:"button",className:"dp-pop__daybtn".concat(n?" is-outside":"").concat(r?" is-selected":""),onClick:function(){var t,n,r,o;S(String(e.y)),E(String(e.m)),M(String(e.day)),(t={eraId:v,year:String(e.y),monthIndex:String(e.m),day:String(e.day)})?f(t,y?{year:pp(i,t.eraId,t.year,"","",null===(n=i.dateFormats)||void 0===n?void 0:n.year),yearMonth:pp(i,t.eraId,t.year,t.monthIndex,"",null===(r=i.dateFormats)||void 0===r?void 0:r.yearMonth),yearMonthDay:pp(i,t.eraId,t.year,t.monthIndex,t.day,null===(o=i.dateFormats)||void 0===o?void 0:o.yearMonthDay)}:{year:t.year,yearMonth:t.year,yearMonthDay:t.year}):f(null),O(!1)},children:e.day},"".concat(e.y,"-").concat(e.m,"-").concat(e.day,"-").concat(t))})})]})})]})};var mp=new Map;mp.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"72.2 128.2 152.2 40.2 216 40 215.8 103.8 127.8 183.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M82.1,205.5,60.2,227.4a8,8,0,0,1-11.3,0L28.6,207.1a8,8,0,0,1,0-11.3l21.9-21.9a8,8,0,0,0,0-11.4L33.7,145.7a8,8,0,0,1,0-11.4l16.6-16.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-16.6,16.6a8,8,0,0,1-11.4,0L93.5,205.5A8,8,0,0,0,82.1,205.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),mp.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",opacity:"0.2"}),r.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),mp.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M221.7,34.3A8.1,8.1,0,0,0,216,32h0l-63.8.2a8.1,8.1,0,0,0-6.2,2.9L75.6,120.3,67.3,112a16.1,16.1,0,0,0-22.6,0L32,124.7a15.9,15.9,0,0,0,0,22.6l20.9,20.9-30,29.9a16.2,16.2,0,0,0,0,22.7l12.3,12.3a16.3,16.3,0,0,0,22.7,0l29.9-30L108.7,224a16.1,16.1,0,0,0,22.6,0L144,211.3a15.9,15.9,0,0,0,0-22.6l-8.3-8.3L220.9,110a8.1,8.1,0,0,0,2.9-6.2L224,40A8.1,8.1,0,0,0,221.7,34.3ZM207.8,100l-83.5,69-13-13,54.4-54.3a8.1,8.1,0,0,0-11.4-11.4L100,144.7l-13-13,69-83.5,52-.2Z"}))}),mp.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),mp.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),mp.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var gp=function(e,t){return Ge(e,t,mp)},yp=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:gp}))});yp.displayName="Sword";const bp=yp;var vp=new Map;vp.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),vp.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M130.2,224a96.3,96.3,0,0,0,84-53.6h0L159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224Z",opacity:"0.2"}),r.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1l5.4,1.1,8.3-19.7a8.1,8.1,0,0,1,7.4-4.9h21.4a8.6,8.6,0,0,0,3.8-1l12.3-6.8a7.2,7.2,0,0,0,1.5-1.1l26.9-24.3a8.1,8.1,0,0,0,1.6-9.8l-9.3-16.8h0A98.5,98.5,0,0,0,128,32,95.4,95.4,0,0,0,65,55.6Z",opacity:"0.2"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),vp.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M221.6,173.3A102.9,102.9,0,0,0,232,128,104.2,104.2,0,0,0,154.8,27.5h-.5A103.8,103.8,0,0,0,60.4,49l-1.3,1.2A103.9,103.9,0,0,0,128,232h2.4A104.3,104.3,0,0,0,221,174.6h0ZM216,128a89.3,89.3,0,0,1-5.5,30.7l-46.4-28.5a16,16,0,0,0-6.3-2.3l-22.8-3a16.1,16.1,0,0,0-15.3,6.8h-8.6l-3.8-7.9a16.2,16.2,0,0,0-11-8.7l-6.6-1.4,2.5-5.9a8.1,8.1,0,0,1,7.4-4.9h16.1a16.1,16.1,0,0,0,7.7-2l12.2-6.8a16.1,16.1,0,0,0,3-2.1l26.9-24.4A15.7,15.7,0,0,0,170,50.7,88,88,0,0,1,216,128ZM40,128a87.1,87.1,0,0,1,9.5-39.7l10.4,27.9a16.1,16.1,0,0,0,11.6,10l5.5,1.2h.1l12,2.6a7.8,7.8,0,0,1,5.5,4.3l2.1,4.4a16.1,16.1,0,0,0,14.4,9h1.2l-7.7,17.2a15.9,15.9,0,0,0,2.8,17.4l16.1,17.4a8.3,8.3,0,0,1,2,6.9l-1.8,9.3A88.1,88.1,0,0,1,40,128Z"}))}),vp.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),vp.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),vp.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var xp=function(e,t){return Ge(e,t,vp)},kp=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:xp}))});kp.displayName="GlobeHemisphereWest";const wp=kp;var Sp={calendar:(0,Xe.jsx)(Pf,{}),sword:(0,Xe.jsx)(bp,{}),globe:(0,Xe.jsx)(wp,{})};function _p(e){return _p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(e)}var Cp=["_id"],Ep=["_id"];function Lp(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Tp(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Tp(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Tp(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Tp(d,"constructor",c),Tp(c,"constructor",l),l.displayName="GeneratorFunction",Tp(c,o,"GeneratorFunction"),Tp(d),Tp(d,o,"Generator"),Tp(d,r,function(){return this}),Tp(d,"toString",function(){return"[object Generator]"}),(Lp=function(){return{w:i,m:f}})()}function Tp(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Tp=function(e,t,n,r){function i(t,n){Tp(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Tp(e,t,n,r)}function Mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mp(Object(n),!0).forEach(function(t){Ap(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ap(e,t,n){return(t=function(e){var t=function(e){if("object"!=_p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Op(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Pp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Np(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Pp(i,r,o,a,s,"next",e)}function s(e){Pp(i,r,o,a,s,"throw",e)}a(void 0)})}}function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Dp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){if(e){if("string"==typeof e)return Rp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rp(e,t):void 0}}function Rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}st().setAppElement("#root");const zp=function(e){var t,n,o,i,a,s=e.event,l=e.groups,c=e.timeSystem,u=e.onSave,d=e.onClose,f=Su(function(e){return e.data.groups.data}),p=Su(function(e){return e.data.timeSystem.data}),h=Su(function(e){return e.createEvent}),m=Su(function(e){return e.updateEvent}),g=(0,r.useMemo)(function(){return l&&l.length?l:f},[l,f]),y=(0,r.useMemo)(function(){return c||p||{name:"",months:[],weekdays:[],eras:[],hoursPerDay:24,minutesPerHour:60,epochWeekday:0,weekdaysResetEachMonth:!1,erasStartOnZeroYear:!1,dateFormats:{year:"YYYY [E]",yearMonth:"YYYY MMMM",yearMonthDay:"YYYY MMMM D",yearMonthDayTime:"YYYY MMMM D HH:mm"}}},[c,p]),b=Ip((0,r.useState)((null==s?void 0:s.title)||""),2),v=b[0],x=b[1],k=Ip((0,r.useState)((null==s?void 0:s.groupId)||(null!==(t=null===(n=g[0])||void 0===n?void 0:n._id)&&void 0!==t?t:"")),2),w=k[0],S=k[1],_=Ip((0,r.useState)((null==s?void 0:s.description)||""),2),C=_[0],E=_[1],L=(0,r.useState)((null==s?void 0:s.color)||(null===(o=g.find(function(e){var t;return e._id===((null==s?void 0:s.groupId)||(null===(t=g[0])||void 0===t?void 0:t._id))}))||void 0===o?void 0:o.color)||"#475569"),T=Ip(L,2),M=T[0],j=T[1],A=Ip((0,r.useState)((null==s?void 0:s.bannerUrl)||""),2),O=A[0],P=A[1],N=Ip((0,r.useState)((null==s?void 0:s.bannerThumbUrl)||""),2),I=N[0],D=N[1],R=Ip((0,r.useState)(null!==(i=null==s?void 0:s.hidden)&&void 0!==i&&i),2),z=R[0],B=R[1],F=Ip((0,r.useState)(!1),2),W=F[0],H=F[1],U=Ip((0,r.useState)(!1),2),G=U[0],$=U[1],V=Ip((0,r.useState)(null==s?void 0:s.pageId),2),q=V[0],Y=V[1],K=Ip((0,r.useState)(null!==(a=null==s?void 0:s.linkSync)&&void 0!==a&&a),2),J=K[0],Z=K[1],X=lu.resolveAssetUrl;(0,r.useEffect)(function(){var e,t,n,r;if(x((null==s?void 0:s.title)||""),S((null==s?void 0:s.groupId)||(null!==(e=null===(t=g[0])||void 0===t?void 0:t._id)&&void 0!==e?e:"")),E((null==s?void 0:s.description)||""),P((null==s?void 0:s.bannerUrl)||""),D((null==s?void 0:s.bannerThumbUrl)||""),B(null!==(n=null==s?void 0:s.hidden)&&void 0!==n&&n),Y(null==s?void 0:s.pageId),Z(null!==(r=null==s?void 0:s.linkSync)&&void 0!==r&&r),s&&s.color)j(s.color);else{var o=g.find(function(e){var t;return e._id===((null==s?void 0:s.groupId)||(null===(t=g[0])||void 0===t?void 0:t._id))});null!=o&&o.color&&j(o.color)}},[s,g]);var Q=function(e,t){var n,r,o,i;if(!e)return{eraId:null!==(o=null===(i=t.eras[0])||void 0===i?void 0:i.id)&&void 0!==o?o:"",year:"",monthIndex:"",day:""};var a,s=null!==(n=null===(r=t.eras[0])||void 0===r?void 0:r.id)&&void 0!==n?n:"",l=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Dp(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.eras);try{for(l.s();!(a=l.n()).done;){var c,u=a.value,d=null===(c=u.abbreviation)||void 0===c?void 0:c.trim();if(d&&new RegExp("(?:^|[ ,])".concat(d,"(?:$|[ ,])")).test(e)){s=u.id;break}}}catch(e){l.e(e)}finally{l.f()}for(var f="",p=-1,h=0;h<t.months.length;h++){var m,g=null===(m=t.months[h])||void 0===m?void 0:m.name;if(g&&new RegExp("\\b".concat(g,"\\b")).test(e)){f=String(h),p=h;break}}var y="";if(p>=0){var b=t.months[p].name,v=new RegExp("".concat(b,"\\s+(\\d{1,2})")),x=e.match(v);x&&(y=x[1])}var k="",w=e.match(/-?\d+/g)||[];return w.length>0&&(k=y?w[w.length-1]:w[0]?w[0]:"0"),{eraId:s,year:k,monthIndex:f,day:y}},ee=(0,r.useMemo)(function(){if(s){var e,t,n,r,o=Q(s.startDate,y);return{eraId:null!==(e=null!==(t=null!==(n=s.startEraId)&&void 0!==n?n:o.eraId)&&void 0!==t?t:null===(r=y.eras[0])||void 0===r?void 0:r.id)&&void 0!==e?e:"",year:void 0!==s.startYear?String(s.startYear):o.year,monthIndex:void 0!==s.startMonthIndex&&null!==s.startMonthIndex?String(s.startMonthIndex):o.monthIndex,day:void 0!==s.startDay&&null!==s.startDay?String(s.startDay):o.day}}return Q(void 0,y)},[s,y]),te=(0,r.useMemo)(function(){if(s){var e,t,n,r,o=Q(s.endDate,y);return{eraId:null!==(e=null!==(t=null!==(n=s.endEraId)&&void 0!==n?n:o.eraId)&&void 0!==t?t:null===(r=y.eras[0])||void 0===r?void 0:r.id)&&void 0!==e?e:"",year:void 0!==s.endYear?String(s.endYear):o.year,monthIndex:void 0!==s.endMonthIndex&&null!==s.endMonthIndex?String(s.endMonthIndex):o.monthIndex,day:void 0!==s.endDay&&null!==s.endDay?String(s.endDay):o.day}}return Q(void 0,y)},[s,y]),ne=Ip((0,r.useState)(ee.eraId),2),re=ne[0],oe=ne[1],ie=Ip((0,r.useState)(ee.year),2),ae=ie[0],se=ie[1],le=Ip((0,r.useState)(ee.monthIndex),2),ce=le[0],ue=le[1],de=Ip((0,r.useState)(ee.day),2),fe=de[0],pe=de[1],he=Ip((0,r.useState)(!(null==s||!s.endDate)),2),me=he[0],ge=he[1],ye=Ip((0,r.useState)(te.eraId),2),be=ye[0],ve=ye[1],xe=Ip((0,r.useState)(te.year),2),ke=xe[0],we=xe[1],Se=Ip((0,r.useState)(te.monthIndex),2),_e=Se[0],Ce=Se[1],Ee=Ip((0,r.useState)(te.day),2),Le=Ee[0],Te=Ee[1],Me=Ip((0,r.useState)((null==s?void 0:s.icon)||"calendar"),2),je=Me[0],Ae=Me[1];(0,r.useEffect)(function(){oe(ee.eraId),se(ee.year),ue(ee.monthIndex),pe(ee.day),ge(!(null==s||!s.endDate)),ve(te.eraId),we(te.year),Ce(te.monthIndex),Te(te.day),console.log("ENDERAID",te.eraId),console.log("STARTERAID",ee.eraId)},[ee,te,null==s?void 0:s.endDate]),(0,r.useEffect)(function(){y.eras.length>0&&(re||oe(y.eras[0].id),me&&!be&&ve(y.eras[0].id))},[y.eras.length,re,be,me]);var Oe=function(e,t,n,r,o){var i,a,s,l=y.eras.find(function(t){return t.id===e})||y.eras[0],c=null!==(i=null==l?void 0:l.abbreviation)&&void 0!==i?i:"",u=null!==(a=null==l?void 0:l.name)&&void 0!==a?a:"",d=""===n?-1:parseInt(n,10),f=d>=0?y.months[d]:void 0,p=d>=0?d+1:void 0,h=null!==(s=null==f?void 0:f.name)&&void 0!==s?s:"",m=r?parseInt(r,10):void 0,g=o.replace(/(D\^|DD|D|YYYY|YY|MMMM|MM|M|EE|E)/g,function(e){switch(e){case"EE":return u;case"E":return c;case"YYYY":return t;case"YY":return t.slice(-2);case"MMMM":return f?h:"";case"MM":return f&&void 0!==p?p.toString().padStart(2,"0"):"";case"M":return f&&void 0!==p?String(p):"";case"D^":return void 0!==m?function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(m):"";case"DD":return void 0!==m?m.toString().padStart(2,"0"):"";case"D":return void 0!==m?String(m):"";default:return e}});return g.replace(/\s+,/g,",").replace(/,\s*,/g,",").replace(/\s{2,}/g," ").replace(/,\s*$/g,"").trim()};(0,r.useEffect)(function(){if(!s||!s.color){var e=g.find(function(e){return e._id===w});null!=e&&e.color&&j(e.color)}},[w,s,g]);var Pe,Ne=function(e){var t,n;v&&0!==v.trim().length||x(e.title||"Event"),O&&0!==O.trim().length||!e.bannerUrl||P(e.bannerUrl),I&&0!==I.trim().length||!e.bannerThumbUrl||D(e.bannerThumbUrl),e.worldDate&&(oe(e.worldDate.eraId||re),se(String(null!==(t=null!==(n=e.worldDate.year)&&void 0!==n?n:ae)&&void 0!==t?t:"")),ue(void 0!==e.worldDate.monthIndex&&null!==e.worldDate.monthIndex?String(e.worldDate.monthIndex):ce),pe(void 0!==e.worldDate.day&&null!==e.worldDate.day?String(e.worldDate.day):fe))},Ie=function(){var e=Np(Lp().m(function e(t){var n,r,o,i,a,l,c,f,p,g,b,x;return Lp().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),n="",r=void 0,""!==(o=ae.trim())&&(n=""===ce?Oe(re,o,"","",y.dateFormats.year):""!==fe?Oe(re,o,ce,fe,y.dateFormats.yearMonthDay):Oe(re,o,ce,"",y.dateFormats.yearMonth)),me&&""!==(i=ke.trim())&&(r=""===_e?Oe(be,i,"","",y.dateFormats.year):""!==Le?Oe(be,i,_e,Le,y.dateFormats.yearMonthDay):Oe(be,i,_e,"",y.dateFormats.yearMonth)),a=!(null==s||!s.endDate||me),l={_id:null==s?void 0:s._id,groupId:w,title:v,detailLevel:"Year",icon:je,startDate:n||void 0,startEraId:re||void 0,startYear:o?parseInt(o,10):void 0,startMonthIndex:""!==ce?parseInt(ce,10):void 0,startDay:""!==fe?parseInt(fe,10):void 0,description:C,bannerUrl:O||void 0,bannerThumbUrl:I||void 0,color:M,hidden:z,pageId:q||void 0,linkSync:!!J},me?(l.endDate=r,l.endEraId=be||void 0,l.endYear=ke.trim()?parseInt(ke.trim(),10):void 0,l.endMonthIndex=""!==_e?parseInt(_e,10):void 0,l.endDay=""!==Le?parseInt(Le,10):void 0):a&&(l.endDate=null,l.endEraId=null,l.endYear=null,l.endMonthIndex=null,l.endDay=null),e.p=1,!u){e.n=2;break}u(l),e.n=5;break;case 2:if(!l._id){e.n=4;break}return f=(c=l)._id,p=Op(c,Cp),e.n=3,m(jp({_id:f},p));case 3:e.n=5;break;case 4:return(g=l)._id,b=Op(g,Ep),e.n=5,h(b);case 5:d(),e.n=7;break;case 6:e.p=6,x=e.v,console.error("Failed to save event",x);case 7:return e.a(2)}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}();return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(st(),{isOpen:!0,onRequestClose:d,contentLabel:"Event Editor",className:"modal__content modal__content--event event-modal",overlayClassName:"modal__overlay",children:(0,Xe.jsx)("div",{className:"modal__body",children:(0,Xe.jsx)("div",{className:"modal__body_content",children:(0,Xe.jsxs)("form",{onSubmit:Ie,children:[(0,Xe.jsx)("div",{style:{position:"relative"},children:(0,Xe.jsxs)("div",{className:"bannerPreview",style:{backgroundImage:"".concat(O&&O.length>0?"url("+X(O)+")":"")},children:[O&&O.length>0&&(0,Xe.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},className:"trash-btn",type:"button",onClick:function(){return P("")},title:"Delete month",children:(0,Xe.jsx)(Rf,{color:"white"})}),!O&&(0,Xe.jsx)("div",{className:"modal__assets_manager",children:(0,Xe.jsx)("button",{type:"button",onClick:function(){return H(!0)},children:"Add Image"})}),(0,Xe.jsxs)("div",{className:"modal__title_wrapper",children:[(0,Xe.jsx)("span",{className:"icon_square-btn",onClick:function(){Ae(function(e){switch(e){case"calendar":return"sword";case"sword":return"globe";default:return"calendar"}}(je))},children:function(e){return Sp[e]||(0,Xe.jsx)(Pf,{})}(je)}),(0,Xe.jsx)("input",{type:"text",value:v,onChange:function(e){return x(e.target.value)},className:"modal__input",placeholder:"Set the Event Title",required:!0})]})]})}),(0,Xe.jsxs)("div",{className:"modal__form_wrapper",children:[(0,Xe.jsxs)("fieldset",{style:{border:"none",padding:0,margin:"0 0 1rem 0"},children:[(0,Xe.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:q?(0,Xe.jsx)(Xe.Fragment,{children:(0,Xe.jsxs)("button",{type:"button",className:"btn-muted",onClick:function(){Y(void 0),Z(!1)},style:{padding:"0.75rem",fontSize:"0.85rem",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Xe.jsx)(Wf,{size:16,style:{marginRight:"0.25rem"}}),(0,Xe.jsx)("span",{children:"Unlink Page"})]})}):(0,Xe.jsxs)("button",{type:"button",className:"btn-primary",onClick:function(){return $(!0)},style:{padding:"0.75rem",fontSize:"0.85rem",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Xe.jsx)($f,{size:16,style:{marginRight:"0.25rem"}}),(0,Xe.jsx)("span",{children:"Link Page"})]})}),q&&(0,Xe.jsxs)("div",{className:"checkbox-wrapper",style:{marginTop:"0.75rem"},children:[(0,Xe.jsx)("input",{type:"checkbox",id:"sync-checkbox",className:"input-checkbox input-checkbox-light",checked:J,onChange:function(e){return Z(e.target.checked)}}),(0,Xe.jsx)("label",{className:"input-checkbox-btn",htmlFor:"sync-checkbox"}),(0,Xe.jsx)("span",{className:"form-label",style:{fontSize:"0.9rem"},children:"Keep synced (title, banner, world date)"})]})]}),(0,Xe.jsx)("fieldset",{style:{border:"none",padding:0,margin:0},children:(0,Xe.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[(0,Xe.jsx)("div",{style:{flex:"65%"},children:(0,Xe.jsxs)("label",{className:"form-label",children:["Group",(0,Xe.jsx)("select",{value:w,onChange:function(e){return S(e.target.value)},className:"modal__select",children:(Pe=g,function(e){if(Array.isArray(e))return Rp(e)}(Pe)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Pe)||Dp(Pe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}).map(function(e){return(0,Xe.jsx)("option",{value:e._id,style:{color:e.color},children:e.name},e._id)})})]})}),(0,Xe.jsx)("div",{style:{flex:"30%"},children:(0,Xe.jsxs)("label",{className:"form-label color-picker",style:{},children:["Color",(0,Xe.jsx)("input",{type:"color",value:M,onChange:function(e){return j(e.target.value)},className:"form-input"})]})})]})}),(0,Xe.jsx)(hp,{ts:c,label:"Start",value:{eraId:re,year:ae,monthIndex:ce||"0",day:fe||"1"},onChange:function(e){e&&(oe(e.eraId),se(e.year),ue(e.monthIndex),pe(e.day))}}),(0,Xe.jsx)(hp,{ts:c,label:"End",placeholder:"Pick a date (optional)",clearable:!0,value:{eraId:be,year:ke,monthIndex:_e||"0",day:Le||"1"},onChange:function(e){var t;if(!e)return ge(!1),ve((null==c||null===(t=c.eras[0])||void 0===t?void 0:t.id)||""),we(""),Ce(""),void Te("");ve(e.eraId),we(e.year),Ce(e.monthIndex),Te(e.day);var n=Boolean(e.year&&e.year.trim()||e.monthIndex&&e.monthIndex.trim()||e.day&&e.day.trim());ge(n)}}),(0,Xe.jsxs)("div",{className:"checkbox-wrapper",children:[(0,Xe.jsx)("input",{className:"input-checkbox input-checkbox-light",type:"checkbox",id:"hidden-checkbox",checked:z,onChange:function(e){B(e.target.checked),console.log("HIDDEN",e.target.checked)}}),(0,Xe.jsx)("label",{className:"input-checkbox-btn",htmlFor:"hidden-checkbox"}),(0,Xe.jsx)("span",{className:"form-label",children:"Hidden (DM only)"})]}),(0,Xe.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:[(0,Xe.jsx)("button",{type:"button",onClick:d,className:"btn-muted",children:"Cancel"}),(0,Xe.jsx)("button",{type:"submit",className:"btn-primary",children:s?"Update":"Create"})]})]})]})})})}),(0,Xe.jsx)(xf,{isOpen:W,onClose:function(){return H(!1)},onSelect:function(e){P(e.url),D(e.thumb_url||""),H(!1)}}),(0,Xe.jsx)(Mf,{isOpen:G,onClose:function(){return $(!1)},onSelect:function(){var e=Np(Lp().m(function e(t){var n;return Lp().w(function(e){for(;;)switch(e.p=e.n){case 0:return Y(t._id),Z(!0),e.p=1,e.n=2,lu.getPage(t._id);case 2:n=e.v,Ne(n),e.n=4;break;case 3:e.p=3,e.v,Ne(t);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),placeholder:"Search pages...",filterTypes:["history","campaign"]})]})};function Bp(e){return()=>e}function Fp(e){e()}function Wp(e,t){return n=>e(t(n))}function Hp(e,t){return()=>e(t)}function Up(e){return void 0!==e}function Gp(){}function $p(e,t){return t(e),e}function Vp(e,t){return t(e)}function qp(...e){return e}function Yp(e,t){return e(1,t)}function Kp(e,t){e(0,t)}function Jp(e){e(2)}function Zp(e){return e(4)}function Xp(e,t){return Yp(e,function(e){return t=>e(0,t)}(t))}function Qp(e,t){const n=e(1,e=>{n(),t(e)});return n}function eh(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function th(e,t){return e===t}function nh(e=th){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function rh(e){return t=>n=>{e(n)&&t(n)}}function oh(e){return t=>Wp(t,e)}function ih(e){return t=>()=>{t(e)}}function ah(e,...t){const n=function(...e){return t=>e.reduceRight(Vp,t)}(...t);return(t,r)=>{switch(t){case 2:return void Jp(e);case 1:return Yp(e,n(r))}}}function sh(e,t){return n=>r=>{n(t=e(t,r))}}function lh(e){return t=>n=>{e>0?e--:t(n)}}function ch(e){let t,n=null;return r=>o=>{n=o,!t&&(t=setTimeout(()=>{t=void 0,r(n)},e))}}function uh(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{const a=Math.pow(2,i);Yp(e,e=>{const s=n;n|=a,t[i]=e,s!==o&&n===o&&r&&(r(),r=null)})}),e=>i=>{const a=()=>{e([i].concat(t))};n===o?a():r=a}}function dh(e){let t=e;const n=ph();return(e,r)=>{switch(e){case 0:t=r;break;case 1:r(t);break;case 4:return t}return n(e,r)}}function fh(e,t){return $p(dh(t),t=>Xp(e,t))}function ph(){const e=[];return(t,n)=>{switch(t){case 0:return void e.slice().forEach(e=>{e(n)});case 2:return void e.splice(0,e.length);case 1:return e.push(n),()=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function hh(e){return $p(ph(),t=>Xp(e,t))}function mh(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:gh(),singleton:n}}const gh=()=>Symbol();function yh(...e){const t=ph(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{const a=Math.pow(2,i);Yp(e,e=>{n[i]=e,r|=a,r===o&&Kp(t,n)})}),function(e,i){switch(e){case 2:return void Jp(t);case 1:return r===o&&i(n),Yp(t,i)}}}function bh(e,t=th){return ah(e,nh(t))}function vh(...e){return function(t,n){switch(t){case 2:return;case 1:return function(...e){return()=>{e.map(Fp)}}(...e.map(e=>Yp(e,n)))}}}var xh=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(xh||{});const kh={0:"debug",3:"error",1:"log",2:"warn"},wh=mh(()=>{const e=dh(3);return{log:dh((t,n,r=1)=>{var o;r>=(null!=(o=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:Zp(e))&&console[kh[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function Sh(e,t,n){return _h(e,t,n).callbackRef}function _h(e,t,n){const o=r.useRef(null);let i=e=>{};const a=r.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(t=>{const r=()=>{const n=t[0].target;null!==n.offsetParent&&e(n)};n?r():requestAnimationFrame(r)}):null,[e,n]);return i=e=>{e&&t?(null==a||a.observe(e),o.current=e):(o.current&&(null==a||a.unobserve(o.current)),o.current=null)},{callbackRef:i,ref:o}}function Ch(e,t,n,o,i,a,s,l,c){const u=r.useCallback(n=>{const r=function(e,t,n,r){const o=e.length;if(0===o)return null;const i=[];for(let a=0;a<o;a++){const o=e.item(a);if(void 0===o.dataset.index)continue;const s=parseInt(o.dataset.index),l=parseFloat(o.dataset.knownSize),c=t(o,n);if(0===c&&r("Zero-sized element, this should not happen",{child:o},xh.ERROR),c===l)continue;const u=i[i.length-1];0===i.length||u.size!==c||u.endIndex!==s-1?i.push({endIndex:s,size:c,startIndex:s}):i[i.length-1].endIndex++}return i}(n.children,t,l?"offsetWidth":"offsetHeight",i);let c=n.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const u="window"===c.lastElementChild.dataset.viewportType;let d;u&&(d=c.ownerDocument.defaultView);const f=s?l?s.scrollLeft:s.scrollTop:u?l?d.scrollX||d.document.documentElement.scrollLeft:d.scrollY||d.document.documentElement.scrollTop:l?c.scrollLeft:c.scrollTop,p=s?l?s.scrollWidth:s.scrollHeight:u?l?d.document.documentElement.scrollWidth:d.document.documentElement.scrollHeight:l?c.scrollWidth:c.scrollHeight,h=s?l?s.offsetWidth:s.offsetHeight:u?l?d.innerWidth:d.innerHeight:l?c.offsetWidth:c.offsetHeight;o({scrollHeight:p,scrollTop:Math.max(f,0),viewportHeight:h}),null==a||a(l?Eh("column-gap",getComputedStyle(n).columnGap,i):Eh("row-gap",getComputedStyle(n).rowGap,i)),null!==r&&e(r)},[e,t,i,a,s,o,l]);return _h(u,n,c)}function Eh(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,xh.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function Lh(e,t,n){const o=r.useRef(null),i=r.useCallback(n=>{if(null==n||!n.offsetParent)return;const r=n.getBoundingClientRect(),i=r.width;let a,l;if(t){const e=t.getBoundingClientRect(),n=r.top-e.top;l=e.height-Math.max(0,n),a=n+t.scrollTop}else{const e=s.current.ownerDocument.defaultView;l=e.innerHeight-Math.max(0,r.top),a=r.top+e.scrollY}o.current={offsetTop:a,visibleHeight:l,visibleWidth:i},e(o.current)},[e,t]),{callbackRef:a,ref:s}=_h(i,!0,n),l=r.useCallback(()=>{i(s.current)},[i,s]);return r.useEffect(()=>{var e;if(t){t.addEventListener("scroll",l);const e=new ResizeObserver(()=>{requestAnimationFrame(l)});return e.observe(t),()=>{t.removeEventListener("scroll",l),e.unobserve(t)}}{const t=null==(e=s.current)?void 0:e.ownerDocument.defaultView;return null==t||t.addEventListener("scroll",l),null==t||t.addEventListener("resize",l),()=>{null==t||t.removeEventListener("scroll",l),null==t||t.removeEventListener("resize",l)}}},[l,t,s]),a}const Th=mh(()=>{const e=ph(),t=ph(),n=dh(0),r=ph(),o=dh(0),i=ph(),a=ph(),s=dh(0),l=dh(0),c=dh(0),u=dh(0),d=ph(),f=ph(),p=dh(!1),h=dh(!1),m=dh(!1);return Xp(ah(e,oh(({scrollTop:e})=>e)),t),Xp(ah(e,oh(({scrollHeight:e})=>e)),a),Xp(t,o),{deviation:n,fixedFooterHeight:c,fixedHeaderHeight:l,footerHeight:u,headerHeight:s,horizontalDirection:h,scrollBy:f,scrollContainerState:e,scrollHeight:a,scrollingInProgress:p,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:m,smoothScrollTargetReached:r,statefulScrollTop:o,viewportHeight:i}},[],{singleton:!0}),Mh={lvl:0};function jh(e,t){const n=e.length;if(0===n)return[];let{index:r,value:o}=t(e[0]);const i=[];for(let a=1;a<n;a++){const{index:n,value:s}=t(e[a]);i.push({end:n-1,start:r,value:o}),r=n,o=s}return i.push({end:1/0,start:r,value:o}),i}function Ah(e){return e===Mh}function Oh(e,t){if(!Ah(e))return t===e.k?e.v:t<e.k?Oh(e.l,t):Oh(e.r,t)}function Ph(e,t,n="k"){if(Ah(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const r=Ph(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return Ph(e.l,t,n)}function Nh(e,t,n){return Ah(e)?$h(t,n,1):t===e.k?Wh(e,{k:t,v:n}):t<e.k?Vh(Wh(e,{l:Nh(e.l,t,n)})):Vh(Wh(e,{r:Nh(e.r,t,n)}))}function Ih(){return Mh}function Dh(e,t,n){return Ah(e)?[]:function(e){return jh(e,({k:e,v:t})=>({index:e,value:t}))}(Bh(e,Ph(e,t)[0],n))}function Rh(e,t){if(Ah(e))return Mh;const{k:n,l:r,r:o}=e;if(t===n){if(Ah(r))return o;if(Ah(o))return r;{const[t,n]=Gh(r);return Fh(Wh(e,{k:t,l:Hh(r),v:n}))}}return Fh(Wh(e,t<n?{l:Rh(r,t)}:{r:Rh(o,t)}))}function zh(e){return Ah(e)?[]:[...zh(e.l),{k:e.k,v:e.v},...zh(e.r)]}function Bh(e,t,n){if(Ah(e))return[];const{k:r,l:o,r:i,v:a}=e;let s=[];return r>t&&(s=s.concat(Bh(o,t,n))),r>=t&&r<=n&&s.push({k:r,v:a}),r<=n&&(s=s.concat(Bh(i,t,n))),s}function Fh(e){const{l:t,lvl:n,r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(Uh(t))return qh(Wh(e,{lvl:n-1}));if(!Ah(t)&&!Ah(t.r))return Wh(t.r,{l:Wh(t,{r:t.r.l}),lvl:n,r:Wh(e,{l:t.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}if(Uh(e))return Yh(Wh(e,{lvl:n-1}));if(Ah(r)||Ah(r.l))throw new Error("Unexpected empty nodes");{const t=r.l,o=Uh(t)?r.lvl-1:r.lvl;return Wh(t,{l:Wh(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:Yh(Wh(r,{l:t.r,lvl:o}))})}}function Wh(e,t){return $h(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function Hh(e){return Ah(e.r)?e.l:Fh(Wh(e,{r:Hh(e.r)}))}function Uh(e){return Ah(e)||e.lvl>e.r.lvl}function Gh(e){return Ah(e.r)?[e.k,e.v]:Gh(e.r)}function $h(e,t,n,r=Mh,o=Mh){return{k:e,l:r,lvl:n,r:o,v:t}}function Vh(e){return Yh(qh(e))}function qh(e){const{l:t}=e;return Ah(t)||t.lvl!==e.lvl?e:Wh(t,{r:Wh(e,{l:t.r})})}function Yh(e){const{lvl:t,r:n}=e;return Ah(n)||Ah(n.r)||n.lvl!==t||n.r.lvl!==t?e:Wh(n,{l:Wh(e,{r:n.l}),lvl:t+1})}function Kh(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function Jh(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}const Zh=mh(()=>({recalcInProgress:dh(!1)}),[],{singleton:!0});function Xh(e,t,n){return e[Qh(e,t,n)]}function Qh(e,t,n,r=0){let o=e.length-1;for(;r<=o;){const i=Math.floor((r+o)/2),a=n(e[i],t);if(0===a)return i;if(-1===a){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function em(e,t){return Math.round(e.getBoundingClientRect()[t])}function tm(e){return!Ah(e.groupOffsetTree)}function nm({index:e},t){return t===e?0:t<e?-1:1}function rm({offset:e},t){return t===e?0:t<e?-1:1}function om(e,t,n){if(0===t.length)return 0;const{index:r,offset:o,size:i}=Xh(t,e,nm),a=e-r,s=i*a+(a-1)*n+o;return s>0?s+n:s}function im(e,t){if(!tm(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function am(e,t,n){if(function(e){return typeof e.groupIndex<"u"}(e))return t.groupIndices[e.groupIndex]+1;{let r=im("LAST"===e.index?n:e.index,t);return r=Math.max(0,r,Math.min(n,r)),r}}function sm(e,[t,n,r,o]){t.length>0&&r("received item sizes",t,xh.DEBUG);const i=e.sizeTree;let a=i,s=0;if(n.length>0&&Ah(i)&&2===t.length){const e=t[0].size,r=t[1].size;a=n.reduce((t,n)=>Nh(Nh(t,n,e),n+1,r),a)}else[a,s]=function(e,t){let n=Ah(e)?0:1/0;for(const r of t){const{endIndex:t,size:o,startIndex:i}=r;if(n=Math.min(n,i),Ah(e)){e=Nh(e,0,o);continue}const a=Dh(e,i-1,t+1);if(a.some(dm(r)))continue;let s=!1,l=!1;for(const{end:n,start:r,value:i}of a)s?(t>=r||o===i)&&(e=Rh(e,r)):(l=i!==o,s=!0),n>t&&t>=r&&i!==o&&(e=Nh(e,t+1,i));l&&(e=Nh(e,i,o))}return[e,n]}(a,t);if(a===i)return e;const{lastIndex:l,lastOffset:c,lastSize:u,offsetTree:d}=cm(e.offsetTree,s,a,o);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>Nh(e,t,om(t,d,o)),Ih()),lastIndex:l,lastOffset:c,lastSize:u,offsetTree:d,sizeTree:a}}function lm(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function cm(e,t,n,r){let o=e,i=0,a=0,s=0,l=0;if(0!==t){l=Qh(o,t-1,nm),s=o[l].offset;const e=Ph(n,t-1);i=e[0],a=e[1],o.length&&o[l].size===Ph(n,t)[1]&&(l-=1),o=o.slice(0,l+1)}else o=[];for(const{start:e,value:l}of Dh(n,t,1/0)){const t=e-i,n=t*a+s+t*r;o.push({index:e,offset:n,size:l}),i=e,s=n,a=l}return{lastIndex:i,lastOffset:s,lastSize:a,offsetTree:o}}function um(e){return{index:e.index,value:e}}function dm(e){const{endIndex:t,size:n,startIndex:r}=e;return e=>e.start===r&&(e.end===t||e.end===1/0)&&e.value===n}const fm={offsetHeight:"height",offsetWidth:"width"},pm=mh(([{log:e},{recalcInProgress:t}])=>{const n=ph(),r=ph(),o=fh(r,0),i=ph(),a=ph(),s=dh(0),l=dh([]),c=dh(void 0),u=dh(void 0),d=dh((e,t)=>em(e,fm[t])),f=dh(void 0),p=dh(0),h={groupIndices:[],groupOffsetTree:Ih(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ih()},m=fh(ah(n,uh(l,e,p),sh(sm,h),nh()),h),g=fh(ah(l,nh(),sh((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),oh(({prev:e})=>e)),[]);Xp(ah(l,rh(e=>e.length>0),uh(m,p),oh(([e,t,n])=>{const r=e.reduce((e,r,o)=>Nh(e,r,om(r,t.offsetTree,n)||o),Ih());return{...t,groupIndices:e,groupOffsetTree:r}})),m),Xp(ah(r,uh(m),rh(([e,{lastIndex:t}])=>e<t),oh(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),Xp(c,u);const y=fh(ah(c,oh(e=>void 0===e)),!0);Xp(ah(u,rh(e=>void 0!==e&&Ah(Zp(m).sizeTree)),oh(e=>[{endIndex:0,size:e,startIndex:0}])),n);const b=hh(ah(n,uh(m),sh(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:h}),oh(e=>e.changed)));Yp(ah(s,sh((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),oh(e=>e.diff)),e=>{const{groupIndices:n}=Zp(m);if(e>0)Kp(t,!0),Kp(i,e+lm(e,n));else if(e<0){const t=Zp(g);t.length>0&&(e-=lm(-e,t)),Kp(a,e)}}),Yp(ah(s,uh(e)),([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},xh.ERROR)});const v=hh(i);Xp(ah(i,uh(m),oh(([e,t])=>{const n=t.groupIndices.length>0,r=[],o=t.lastSize;if(n){const n=Oh(t.sizeTree,0);let i=0,a=0;for(;i<e;){const e=t.groupIndices[a],s=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;r.push({endIndex:e,size:n,startIndex:e}),r.push({endIndex:e+1+s-1,size:o,startIndex:e+1}),a++,i+=s+1}const s=zh(t.sizeTree);return i!==e&&s.shift(),s.reduce((t,{k:n,v:r})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:r,ranges:o}},{prevIndex:e,prevSize:0,ranges:r}).ranges}return zh(t.sizeTree).reduce((t,{k:n,v:r})=>({prevIndex:n+e,prevSize:r,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:o,ranges:[]}).ranges})),n);const x=hh(ah(a,uh(m,p),oh(([e,{offsetTree:t},n])=>om(-e,t,n))));return Xp(ah(a,uh(m,p),oh(([e,t,n])=>{if(t.groupIndices.length>0){if(Ah(t.sizeTree))return t;let r=Ih();const o=Zp(g);let i=0,a=0,s=0;for(;i<-e;){s=o[a];const e=o[a+1]-s-1;a++,i+=e+1}return r=zh(t.sizeTree).reduce((t,{k:n,v:r})=>Nh(t,Math.max(0,n+e),r),r),i!==-e&&(r=Nh(r,0,Oh(t.sizeTree,s)),r=Nh(r,1,Ph(t.sizeTree,1-e)[1])),{...t,sizeTree:r,...cm(t.offsetTree,0,r,n)}}{const r=zh(t.sizeTree).reduce((t,{k:n,v:r})=>Nh(t,Math.max(0,n+e),r),Ih());return{...t,sizeTree:r,...cm(t.offsetTree,0,r,n)}}})),m),{beforeUnshiftWith:v,data:f,defaultItemSize:u,firstItemIndex:s,fixedItemSize:c,gap:p,groupIndices:l,itemSize:d,listRefresh:b,shiftWith:a,shiftWithOffset:x,sizeRanges:n,sizes:m,statefulTotalCount:o,totalCount:r,trackItemSizes:y,unshiftWith:i}},qp(wh,Zh),{singleton:!0});function hm(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}const mm=mh(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:o}])=>{const i=ph(),a=ph(),s=hh(ah(i,oh(hm)));return Xp(ah(s,oh(e=>e.totalCount)),n),Xp(ah(s,oh(e=>e.groupIndices)),e),Xp(ah(yh(o,t,r),rh(([e,t])=>tm(t)),oh(([e,t,n])=>Ph(t.groupOffsetTree,Math.max(e-n,0),"v")[0]),nh(),oh(e=>[e])),a),{groupCounts:i,topItemsIndexes:a}},qp(pm,Th)),gm=mh(([{log:e}])=>{const t=dh(!1),n=hh(ah(t,rh(e=>e),nh()));return Yp(t,t=>{t&&Zp(e)("props updated",{},xh.DEBUG)}),{didMount:n,propsReady:t}},qp(wh),{singleton:!0}),ym=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function bm(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!ym)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const vm=mh(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:o,fixedHeaderHeight:i,footerHeight:a,headerHeight:s,scrollingInProgress:l,scrollTo:c,smoothScrollTargetReached:u,viewportHeight:d},{log:f}])=>{const p=ph(),h=ph(),m=dh(0);let g=null,y=null,b=null;function v(){g&&(g(),g=null),b&&(b(),b=null),y&&(clearTimeout(y),y=null),Kp(l,!1)}return Xp(ah(p,uh(n,d,r,m,s,a,f),uh(e,i,o),oh(([[e,n,r,o,i,a,s,c],d,f,m])=>{const x=bm(e),{align:k,behavior:w,offset:S}=x,_=o-1,C=am(x,n,_);let E=om(C,n.offsetTree,d)+a;"end"===k?(E+=f+Ph(n.sizeTree,C)[1]-r+m,C===_&&(E+=s)):"center"===k?E+=(f+Ph(n.sizeTree,C)[1]-r+m)/2:E-=i,S&&(E+=S);const L=t=>{v(),t?(c("retrying to scroll to",{location:e},xh.DEBUG),Kp(p,e)):(Kp(h,!0),c("list did not change, scroll successful",{},xh.DEBUG))};if(v(),"smooth"===w){let e=!1;b=Yp(t,t=>{e=e||t}),g=Qp(u,()=>{L(e)})}else g=Qp(ah(t,e=>{const t=setTimeout(()=>{e(!1)},150);return n=>{n&&(e(!0),clearTimeout(t))}}),L);return y=setTimeout(()=>{v()},1200),Kp(l,!0),c("scrolling from index to",{behavior:w,index:C,top:E},xh.DEBUG),{behavior:w,top:E}})),c),{scrollTargetReached:h,scrollToIndex:p,topListHeight:m}},qp(pm,Th,wh),{singleton:!0});function xm(e,t){0==e?t():requestAnimationFrame(()=>{xm(e-1,t)})}function km(e,t){const n=t-1;return"number"==typeof e?e:"LAST"===e.index?n:e.index}const wm=mh(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:o,scrollToIndex:i},{didMount:a}])=>{const s=dh(!0),l=dh(0),c=dh(!0);return Xp(ah(a,uh(l),rh(([e,t])=>!!t),ih(!1)),s),Xp(ah(a,uh(l),rh(([e,t])=>!!t),ih(!1)),c),Yp(ah(yh(t,a),uh(s,n,e,c),rh(([[,e],t,{sizeTree:n},r,o])=>e&&(!Ah(n)||Up(r))&&!t&&!o),uh(l)),([,e])=>{Qp(o,()=>{Kp(c,!0)}),xm(4,()=>{Qp(r,()=>{Kp(s,!0)}),Kp(i,e)})}),{initialItemFinalLocationReached:c,initialTopMostItemIndex:l,scrolledToInitialItem:s}},qp(pm,Th,vm,gm),{singleton:!0});function Sm(e,t){return Math.abs(e-t)<1.01}const _m="up",Cm="down",Em={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Lm=mh(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:o,viewportHeight:i}])=>{const a=dh(!1),s=dh(!0),l=ph(),c=ph(),u=dh(4),d=dh(0),f=fh(ah(vh(ah(bh(o),lh(1),ih(!0)),ah(bh(o),lh(1),ih(!1),eh(100))),nh()),!1),p=fh(ah(vh(ah(n,ih(!0)),ah(n,ih(!1),eh(200))),nh()),!1);Xp(ah(yh(bh(o),bh(d)),oh(([e,t])=>e<=t),nh()),s),Xp(ah(s,ch(50)),c);const h=hh(ah(yh(r,bh(i),bh(t),bh(e),bh(u)),sh((e,[{scrollHeight:t,scrollTop:n},r,o,i,a])=>{const s={scrollHeight:t,scrollTop:n,viewportHeight:r};if(n+r-t>-a){let t,r;return n>e.state.scrollTop?(t="SCROLLED_DOWN",r=e.state.scrollTop-n):(t="SIZE_DECREASED",r=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:r,state:s}}let l;return l=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:l,state:s}},Em),nh((e,t)=>e&&e.atBottom===t.atBottom))),m=fh(ah(r,sh((e,{scrollHeight:t,scrollTop:n,viewportHeight:r})=>{if(Sm(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{const o=t-(n+r)<1;return e.scrollTop!==n&&o?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),rh(e=>e.changed),oh(e=>e.jump)),0);Xp(ah(h,oh(e=>e.atBottom)),a),Xp(ah(a,ch(50)),l);const g=dh(Cm);Xp(ah(r,oh(({scrollTop:e})=>e),nh(),sh((e,t)=>Zp(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?_m:Cm,prevScrollTop:t},{direction:Cm,prevScrollTop:0}),oh(e=>e.direction)),g),Xp(ah(r,ch(50),ih("none")),g);const y=dh(0);return Xp(ah(f,rh(e=>!e),ih(0)),y),Xp(ah(o,ch(100),uh(f),rh(([e,t])=>!!t),sh(([e,t],[n])=>[t,n],[0,0]),oh(([e,t])=>t-e)),y),{atBottomState:h,atBottomStateChange:l,atBottomThreshold:u,atTopStateChange:c,atTopThreshold:d,isAtBottom:a,isAtTop:s,isScrolling:f,lastJumpDueToItemResize:m,scrollDirection:g,scrollVelocity:y}},qp(Th)),Tm="top",Mm="bottom",jm="none";function Am(e,t,n){return"number"==typeof e?n===_m&&t===Tm||n===Cm&&t===Mm?e:0:n===_m?t===Tm?e.main:e.reverse:t===Mm?e.main:e.reverse}function Om(e,t){var n;return"number"==typeof e?e:null!=(n=e[t])?n:0}const Pm=mh(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:o}])=>{const i=ph(),a=dh(0),s=dh(0),l=dh(0),c=fh(ah(yh(bh(r),bh(o),bh(n),bh(i,Jh),bh(l),bh(a),bh(t),bh(e),bh(s)),oh(([e,t,n,[r,o],i,a,s,l,c])=>{const u=e-l,d=a+s,f=Math.max(n-u,0);let p=jm;const h=Om(c,Tm),m=Om(c,Mm);return r-=l,o+=n+s,(r+=n+s)>e+d-h&&(p=_m),(o-=l)<e-f+t+m&&(p=Cm),p!==jm?[Math.max(u-n-Am(i,Tm,p)-h,0),u-f-s+t+Am(i,Mm,p)+m]:null}),rh(e=>null!=e),nh(Jh)),[0,0]);return{increaseViewportBy:s,listBoundary:i,overscan:l,topListHeight:a,visibleRange:c}},qp(Th),{singleton:!0}),Nm={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Im(e,t,n,r,o,i){const{lastIndex:a,lastOffset:s,lastSize:l}=o;let c=0,u=0;if(e.length>0){c=e[0].offset;const t=e[e.length-1];u=t.offset+t.size}const d=n-a,f=c,p=s+d*l+(d-1)*r-u;return{bottom:u,firstItemIndex:i,items:Rm(e,o,i),offsetBottom:p,offsetTop:c,top:f,topItems:Rm(t,o,i),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function Dm(e,t,n,r,o,i){let a=0;if(n.groupIndices.length>0)for(const t of n.groupIndices){if(t-a>=e)break;a++}const s=e+a,l=km(t,s);return Im(Array.from({length:s}).map((e,t)=>({data:i[t+l],index:t+l,offset:0,size:0})),[],s,o,n,r)}function Rm(e,t,n){if(0===e.length)return[];if(!tm(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));const r=e[0].index,o=e[e.length-1].index,i=[],a=Dh(t.groupOffsetTree,r,o);let s,l=0;for(const r of e){let e;(!s||s.end<r.index)&&(s=a.shift(),l=t.groupIndices.indexOf(s.start)),e=r.index===s.start?{index:l,type:"group"}:{groupIndex:l,index:r.index-(l+1)+n},i.push({...e,data:r.data,offset:r.offset,originalIndex:r.index,size:r.size})}return i}const zm=mh(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:o},i,{listBoundary:a,topListHeight:s,visibleRange:l},{initialTopMostItemIndex:c,scrolledToInitialItem:u},{topListHeight:d},f,{didMount:p},{recalcInProgress:h}])=>{const m=dh([]),g=dh(0),y=ph();Xp(i.topItemsIndexes,m);const b=fh(ah(yh(p,h,bh(l,Jh),bh(o),bh(r),bh(c),u,bh(m),bh(t),bh(n),e),rh(([e,t,,n,,,,,,,r])=>{const o=r&&r.length!==n;return e&&!t&&!o}),oh(([,,[e,t],n,r,o,i,a,s,l,c])=>{const u=r,{offsetTree:d,sizeTree:f}=u,p=Zp(g);if(0===n)return{...Nm,totalCount:n};if(0===e&&0===t)return 0===p?{...Nm,totalCount:n}:Dm(p,o,r,s,l,c||[]);if(Ah(f))return p>0?null:Im(function(e,t,n){if(tm(t)){const r=im(e,t);return[{index:Ph(t.groupOffsetTree,r)[0],offset:0,size:0},{data:null==n?void 0:n[0],index:r,offset:0,size:0}]}return[{data:null==n?void 0:n[0],index:e,offset:0,size:0}]}(km(o,n),u,c),[],n,l,u,s);const h=[];if(a.length>0){const e=a[0],t=a[a.length-1];let n=0;for(const r of Dh(f,e,t)){const o=r.value,i=Math.max(r.start,e),a=Math.min(r.end,t);for(let e=i;e<=a;e++)h.push({data:null==c?void 0:c[e],index:e,offset:n,size:o}),n+=o}}if(!i)return Im([],h,n,l,u,s);const m=a.length>0?a[a.length-1]+1:0,y=function(e,t,n,r=0){return r>0&&(t=Math.max(t,Xh(e,r,nm).offset)),jh(function(e,t,n,r){const o=Qh(e,t,r),i=Qh(e,n,r,o);return e.slice(o,i+1)}(e,t,n,rm),um)}(d,e,t,m);if(0===y.length)return null;const b=n-1,v=$p([],n=>{for(const r of y){const o=r.value;let i=o.offset,a=r.start;const s=o.size;if(o.offset<e){a+=Math.floor((e-o.offset+l)/(s+l));const t=a-r.start;i+=t*s+t*l}a<m&&(i+=(m-a)*s,a=m);const u=Math.min(r.end,b);for(let e=a;e<=u&&!(i>=t);e++)n.push({data:null==c?void 0:c[e],index:e,offset:i,size:s}),i+=s+l}});return Im(v,h,n,l,u,s)}),rh(e=>null!==e),nh()),Nm);Xp(ah(e,rh(Up),oh(e=>null==e?void 0:e.length)),o),Xp(ah(b,oh(e=>e.topListHeight)),d),Xp(d,s),Xp(ah(b,oh(e=>[e.top,e.bottom])),a),Xp(ah(b,oh(e=>e.items)),y);const v=hh(ah(b,rh(({items:e})=>e.length>0),uh(o,e),rh(([{items:e},t])=>e[e.length-1].originalIndex===t-1),oh(([,e,t])=>[e-1,t]),nh(Jh),oh(([e])=>e))),x=hh(ah(b,ch(200),rh(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),oh(({items:e})=>e[0].index),nh())),k=hh(ah(b,rh(({items:e})=>e.length>0),oh(({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),nh(Kh)));return{endReached:v,initialItemCount:g,itemsRendered:y,listState:b,rangeChanged:k,startReached:x,topItemsIndexes:m,...f}},qp(pm,mm,Pm,wm,vm,Lm,gm,Zh),{singleton:!0}),Bm=mh(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:o}])=>{const i=ph(),a=fh(ah(yh(n,e,r,t,o),oh(([e,t,n,r,o])=>e+t+n+r+o.offsetBottom+o.bottom)),0);return Xp(bh(a),i),{totalListHeight:a,totalListHeightChanged:i}},qp(Th,zm),{singleton:!0}),Fm=mh(([{viewportHeight:e},{totalListHeight:t}])=>{const n=dh(!1),r=fh(ah(yh(n,e,t),rh(([e])=>e),oh(([,e,t])=>Math.max(0,e-t)),ch(0),nh()),0);return{alignToBottom:n,paddingTopAddition:r}},qp(Th,Bm),{singleton:!0}),Wm=mh(()=>({context:dh(null)})),Hm=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...o},viewportBottom:i,viewportTop:a})=>t<a?{...o,align:null!=n?n:"start",behavior:r}:e>i?{...o,align:null!=n?n:"end",behavior:r}:null,Um=mh(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:o,headerHeight:i,scrollingInProgress:a,scrollTop:s,viewportHeight:l},{scrollToIndex:c}])=>{const u=ph();return Xp(ah(u,uh(t,l,n,i,o,r,s),uh(e),oh(([[e,t,n,r,o,i,s,l],c])=>{const{align:u,behavior:d,calculateViewLocation:f=Hm,done:p,...h}=e,m=am(e,t,r-1),g=om(m,t.offsetTree,c)+o+i,y=f({itemBottom:g+Ph(t.sizeTree,m)[1],itemTop:g,locationParams:{align:u,behavior:d,...h},viewportBottom:l+n-s,viewportTop:l+i});return y?p&&Qp(ah(a,rh(e=>!e),lh(Zp(a)?1:2)),p):p&&p(),y}),rh(e=>null!==e)),c),{scrollIntoView:u}},qp(pm,Th,vm,zm,wh),{singleton:!0});function Gm(e){return!!e&&("smooth"===e?"smooth":"auto")}const $m=mh(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:r},{atBottomState:o,isAtBottom:i},{scrollToIndex:a},{scrolledToInitialItem:s},{didMount:l,propsReady:c},{log:u},{scrollingInProgress:d},{context:f},{scrollIntoView:p}])=>{const h=dh(!1),m=ph();let g=null;function y(e){Kp(a,{align:"end",behavior:e,index:"LAST"})}function b(e){const t=Qp(o,t=>{e&&!t.atBottom&&"SIZE_INCREASED"===t.notAtBottomBecause&&!g&&(Zp(u)("scrolling to bottom due to increased size",{},xh.DEBUG),y("auto"))});setTimeout(t,100)}Yp(ah(yh(ah(bh(t),lh(1)),l),uh(bh(h),i,s,d),oh(([[e,t],n,r,o,i])=>{let a=t&&o,s="auto";return a&&(s=((e,t)=>"function"==typeof e?Gm(e(t)):t&&Gm(e))(n,r||i),a=a&&!!s),{followOutputBehavior:s,shouldFollow:a,totalCount:e}}),rh(({shouldFollow:e})=>e)),({followOutputBehavior:t,totalCount:r})=>{g&&(g(),g=null),Zp(n)?requestAnimationFrame(()=>{Zp(u)("following output to ",{totalCount:r},xh.DEBUG),y(t)}):g=Qp(e,()=>{Zp(u)("following output to ",{totalCount:r},xh.DEBUG),y(t),g=null})}),Yp(ah(yh(bh(h),t,c),rh(([e,,t])=>e&&t),sh(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),rh(({refreshed:e})=>e),uh(h,t)),([,e])=>{Zp(s)&&b(!1!==e)}),Yp(m,()=>{b(!1!==Zp(h))}),Yp(yh(bh(h),o),([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&y("auto")});const v=dh(null),x=ph();return Xp(vh(ah(bh(r),oh(e=>{var t;return null!=(t=null==e?void 0:e.length)?t:0})),ah(bh(t))),x),Yp(ah(yh(ah(x,lh(1)),l),uh(bh(v),s,d,f),oh(([[e,t],n,r,o,i])=>t&&r&&(null==n?void 0:n({context:i,totalCount:e,scrollingInProgress:o}))),rh(e=>!!e),ch(0)),t=>{g&&(g(),g=null),Zp(n)?requestAnimationFrame(()=>{Zp(u)("scrolling into view",{}),Kp(p,t)}):g=Qp(e,()=>{Zp(u)("scrolling into view",{}),Kp(p,t),g=null})}),{autoscrollToBottom:m,followOutput:h,scrollIntoViewOnChange:v}},qp(pm,Lm,vm,wm,gm,wh,Th,Wm,Um)),Vm=mh(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:s}])=>(Xp(ah(s,uh(i),rh(([,e])=>0!==e),uh(o,r,t,n,e),oh(([[,e],t,n,r,o,i=[]])=>Dm(e,t,n,r,o,i))),a),{}),qp(pm,wm,zm,gm),{singleton:!0}),qm=mh(([{didMount:e},{scrollTo:t},{listState:n}])=>{const r=dh(0);return Yp(ah(e,uh(r),rh(([,e])=>0!==e),oh(([,e])=>({top:e}))),e=>{Qp(ah(n,lh(1),rh(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{Kp(t,e)})})}),{initialScrollTop:r}},qp(gm,Th,zm),{singleton:!0}),Ym=mh(([{scrollVelocity:e}])=>{const t=dh(!1),n=ph(),r=dh(!1);return Xp(ah(e,uh(r,t,n),rh(([e,t])=>!!t),oh(([e,t,n,r])=>{const{enter:o,exit:i}=t;if(n){if(i(e,r))return!1}else if(o(e,r))return!0;return n}),nh()),t),Yp(ah(yh(t,e,n),uh(r)),([[e,t,n],r])=>{e&&r&&r.change&&r.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},qp(Lm),{singleton:!0}),Km=mh(([{scrollContainerState:e,scrollTo:t}])=>{const n=ph(),r=ph(),o=ph(),i=dh(!1),a=dh(void 0);return Xp(ah(yh(n,r),oh(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:r}])=>({scrollHeight:e,scrollTop:Math.max(0,t-r),viewportHeight:n}))),e),Xp(ah(t,uh(r),oh(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),o),{customScrollParent:a,useWindowScroll:i,windowScrollContainerState:n,windowScrollTo:o,windowViewportRect:r}},qp(Th)),Jm=mh(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:a,windowScrollContainerState:s,windowViewportRect:l}])=>{const c=ph(),u=dh(void 0),d=dh(null),f=dh(null);return Xp(s,d),Xp(l,f),Yp(ah(c,uh(t,r,a,d,f,n)),([e,t,n,r,o,i,a])=>{const s=function(e){return zh(e).map(({k:e,v:t},n,r)=>{const o=r[n+1];return{endIndex:o?o.k-1:1/0,size:t,startIndex:e}})}(t.sizeTree);r&&null!==o&&null!==i&&(n=o.scrollTop-i.offsetTop),e({ranges:s,scrollTop:n-=a})}),Xp(ah(u,rh(Up),oh(Zm)),o),Xp(ah(i,uh(u),rh(([,e])=>void 0!==e),nh(),oh(([,e])=>e.ranges)),e),{getState:c,restoreStateFrom:u}},qp(pm,Th,wm,gm,Km));function Zm(e){return{align:"start",index:0,offset:e.scrollTop}}const Xm=mh(([{topItemsIndexes:e}])=>{const t=dh(0);return Xp(ah(t,rh(e=>e>=0),oh(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},qp(zm));function Qm(e){let t,n=!1;return()=>(n||(n=!0,t=e()),t)}const eg=Qm(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),tg=mh(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:o,isScrolling:i,lastJumpDueToItemResize:a,scrollDirection:s},{listState:l},{beforeUnshiftWith:c,gap:u,shiftWithOffset:d,sizes:f},{log:p},{recalcInProgress:h}])=>{const m=hh(ah(l,uh(a),sh(([,e,t,n],[{bottom:r,items:o,offsetBottom:i,totalCount:a},s])=>{const l=r+i;let c=0;return t===a&&e.length>0&&o.length>0&&(0===o[0].originalIndex&&0===e[0].originalIndex||(c=l-n,0!==c&&(c+=s))),[c,o,a,l]},[0,[],0,0]),rh(([e])=>0!==e),uh(r,s,n,o,p,h),rh(([,e,t,n,,,r])=>!r&&!n&&0!==e&&t===_m),oh(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},xh.DEBUG),e))));function g(n){n>0?(Kp(t,{behavior:"auto",top:-n}),Kp(e,0)):(Kp(e,0),Kp(t,{behavior:"auto",top:-n}))}return Yp(ah(m,uh(e,i)),([t,n,r])=>{r&&eg()?Kp(e,n-t):g(-t)}),Yp(ah(yh(fh(i,!1),e,h),rh(([e,t,n])=>!e&&!n&&0!==t),oh(([e,t])=>t),ch(1)),g),Xp(ah(d,oh(e=>({top:-e}))),t),Yp(ah(c,uh(f,u),oh(([e,{groupIndices:t,lastSize:n,sizeTree:r},o])=>{function i(e){return e*(n+o)}if(0===t.length)return i(e);{let n=0;const o=Oh(r,0);let a=0,s=0;for(;a<e;){a++,n+=o;let r=t.length===s+1?1/0:t[s+1]-t[s]-1;a+r>e&&(n-=o,r=e-a+1),a+=r,n+=i(r),s++}return n}})),n=>{Kp(e,n),requestAnimationFrame(()=>{Kp(t,{top:n}),requestAnimationFrame(()=>{Kp(e,0),Kp(h,!1)})})}),{deviation:e}},qp(Th,Lm,zm,pm,wh,Zh)),ng=mh(([e,t,n,r,o,i,a,s,l,c,u])=>({...e,...t,...n,...r,...o,...i,...a,...s,...l,...c,...u}),qp(Pm,Vm,gm,Ym,Bm,qm,Fm,Km,Um,wh,Wm)),rg=mh(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,gap:o,groupIndices:i,itemSize:a,sizeRanges:s,sizes:l,statefulTotalCount:c,totalCount:u,trackItemSizes:d},{initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:h},m,g,y,{listState:b,topItemsIndexes:v,...x},{scrollToIndex:k},w,{topItemCount:S},{groupCounts:_},C])=>(Xp(x.rangeChanged,C.scrollSeekRangeChanged),Xp(ah(C.windowViewportRect,oh(e=>e.visibleHeight)),m.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,gap:o,groupCounts:_,initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:h,sizeRanges:s,topItemCount:S,topItemsIndexes:v,totalCount:u,...y,groupIndices:i,itemSize:a,listState:b,scrollToIndex:k,statefulTotalCount:c,trackItemSizes:d,...x,...C,...m,sizes:l,...g}),qp(pm,wm,Th,Jm,$m,zm,vm,tg,Xm,mm,ng));function og(e,t){const n={},r={};let o=0;const i=e.length;for(;o<i;)r[e[o]]=1,o+=1;for(const e in t)Object.hasOwn(r,e)||(n[e]=t[e]);return n}const ig=typeof document<"u"?r.useLayoutEffect:r.useEffect;function ag(e,t,n){const o=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),l=r.createContext({});function c(e,n){e.propsReady&&Kp(e.propsReady,!1);for(const r of o)Kp(e[t.required[r]],n[r]);for(const r of i)r in n&&Kp(e[t.optional[r]],n[r]);e.propsReady&&Kp(e.propsReady,!0)}function u(e){return s.reduce((n,r)=>(n[r]=function(e){let t,n;const r=()=>null==t?void 0:t();return function(o,i){switch(o){case 1:return i?n===i?void 0:(r(),n=i,t=Yp(e,i),t):(r(),Gp);case 2:return r(),void(n=null)}}}(e[t.events[r]]),n),{})}const d=r.forwardRef((d,f)=>{const{children:p,...h}=d,[m]=r.useState(()=>$p(function(e){const t=new Map,n=({constructor:e,dependencies:r,id:o,singleton:i})=>{if(i&&t.has(o))return t.get(o);const a=e(r.map(e=>n(e)));return i&&t.set(o,a),a};return n(e)}(e),e=>{c(e,h)})),[g]=r.useState(Hp(u,m));ig(()=>{for(const e of s)e in h&&Yp(g[e],h[e]);return()=>{Object.values(g).map(Jp)}},[h,g,m]),ig(()=>{c(m,h)}),r.useImperativeHandle(f,Bp(function(e){return a.reduce((n,r)=>(n[r]=n=>{Kp(e[t.methods[r]],n)},n),{})}(m)));const y=n;return(0,Xe.jsx)(l.Provider,{value:m,children:n?(0,Xe.jsx)(y,{...og([...o,...i,...s],h),children:p}):p})}),f=r.version.startsWith("18")?e=>{const t=r.useContext(l)[e],n=r.useCallback(e=>Yp(t,e),[t]);return r.useSyncExternalStore(n,()=>Zp(t),()=>Zp(t))}:e=>{const t=r.useContext(l)[e],[n,o]=r.useState(Hp(Zp,t));return ig(()=>Yp(t,e=>{e!==n&&o(Bp(e))}),[t,n]),n};return{Component:d,useEmitter:(e,t)=>{const n=r.useContext(l)[e];ig(()=>Yp(n,t),[t,n])},useEmitterValue:f,usePublisher:e=>{const t=r.useContext(l);return r.useCallback(n=>{Kp(t[e],n)},[t,e])}}}const sg=r.createContext(void 0),lg=r.createContext(void 0),cg=typeof document<"u"?r.useLayoutEffect:r.useEffect;function ug(e){return"self"in e}function dg(e,t,n,o=Gp,i,a){const s=r.useRef(null),l=r.useRef(null),c=r.useRef(null),u=r.useCallback(n=>{let r,o,i;const s=n.target;if(function(e){return"body"in e}(s)||ug(s)){const e=ug(s)?s:s.defaultView;i=a?e.scrollX:e.scrollY,r=a?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,o=a?e.innerWidth:e.innerHeight}else i=a?s.scrollLeft:s.scrollTop,r=a?s.scrollWidth:s.scrollHeight,o=a?s.offsetWidth:s.offsetHeight;const u=()=>{e({scrollHeight:r,scrollTop:Math.max(i,0),viewportHeight:o})};n.suppressFlushSync?u():de.flushSync(u),null!==l.current&&(i===l.current||i<=0||i===r-o)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,a]);return r.useEffect(()=>{const e=i||s.current;return o(i||s.current),u({suppressFlushSync:!0,target:e}),e.addEventListener("scroll",u,{passive:!0}),()=>{o(null),e.removeEventListener("scroll",u)}},[s,u,n,o,i]),{scrollByCallback:function(e){a&&(e={behavior:e.behavior,left:e.top}),s.current.scrollBy(e)},scrollerRef:s,scrollToCallback:function(n){const r=s.current;if(!r||(a?"offsetWidth"in r&&0===r.offsetWidth:"offsetHeight"in r&&0===r.offsetHeight))return;const o="smooth"===n.behavior;let i,u,d;ug(r)?(u=Math.max(em(r.document.documentElement,a?"width":"height"),a?r.document.documentElement.scrollWidth:r.document.documentElement.scrollHeight),i=a?r.innerWidth:r.innerHeight,d=a?window.scrollX:window.scrollY):(u=r[a?"scrollWidth":"scrollHeight"],i=em(r,a?"width":"height"),d=r[a?"scrollLeft":"scrollTop"]);const f=u-i;if(n.top=Math.ceil(Math.max(Math.min(f,n.top),0)),Sm(i,u)||n.top===d)return e({scrollHeight:u,scrollTop:d,viewportHeight:i}),void(o&&t(!0));o?(l.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,a&&(n={behavior:n.behavior,left:n.top}),r.scrollTo(n)}}}const fg="-webkit-sticky",pg="sticky",hg=Qm(()=>{if(typeof document>"u")return pg;const e=document.createElement("div");return e.style.position=fg,e.style.position===fg?fg:pg});function mg(e){return e}const gg=mh(()=>{const e=dh(e=>`Item ${e}`),t=dh(e=>`Group ${e}`),n=dh({}),r=dh(mg),o=dh("div"),i=dh(Gp),a=(e,t=null)=>fh(ah(n,oh(t=>t[e]),nh()),t);return{components:n,computeItemKey:r,EmptyPlaceholder:a("EmptyPlaceholder"),FooterComponent:a("Footer"),GroupComponent:a("Group","div"),groupContent:t,HeaderComponent:a("Header"),HeaderFooterTag:o,ItemComponent:a("Item","div"),itemContent:e,ListComponent:a("List","div"),ScrollerComponent:a("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TopItemListComponent:a("TopItemList")}}),yg=mh(([e,t])=>({...e,...t}),qp(rg,gg)),bg=({height:e})=>(0,Xe.jsx)("div",{style:{height:e}}),vg={overflowAnchor:"none",position:hg(),zIndex:1},xg={overflowAnchor:"none"},kg={...xg,display:"inline-block",height:"100%"},wg=r.memo(function({showTopList:e=!1}){const t=Bg("listState"),n=Fg("sizeRanges"),o=Bg("useWindowScroll"),i=Bg("customScrollParent"),a=Fg("windowScrollContainerState"),s=Fg("scrollContainerState"),l=i||o?a:s,c=Bg("itemContent"),u=Bg("context"),d=Bg("groupContent"),f=Bg("trackItemSizes"),p=Bg("itemSize"),h=Bg("log"),m=Fg("gap"),g=Bg("horizontalDirection"),{callbackRef:y}=Ch(n,p,f,e?Gp:l,h,m,i,g,Bg("skipAnimationFrameInResizeObserver")),[b,v]=r.useState(0);zg("deviation",e=>{b!==e&&v(e)});const x=Bg("EmptyPlaceholder"),k=Bg("ScrollSeekPlaceholder")||bg,w=Bg("ListComponent"),S=Bg("ItemComponent"),_=Bg("GroupComponent"),C=Bg("computeItemKey"),E=Bg("isSeeking"),L=Bg("groupIndices").length>0,T=Bg("alignToBottom"),M=Bg("initialItemFinalLocationReached"),j=e?{}:{boxSizing:"border-box",...g?{display:"inline-block",height:"100%",marginLeft:0!==b?b:T?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==b?b:T?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...M?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&x?(0,Xe.jsx)(x,{...Lg(x,u)}):(0,Xe.jsx)(w,{...Lg(w,u),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:y,style:j,children:(e?t.topItems:t.items).map(e=>{const n=e.originalIndex,o=C(n+t.firstItemIndex,e.data,u);return E?(0,r.createElement)(k,{...Lg(k,u),height:e.size,index:e.index,key:o,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?(0,r.createElement)(_,{...Lg(_,u),"data-index":n,"data-item-index":e.index,"data-known-size":e.size,key:o,style:vg},d(e.index,u)):(0,r.createElement)(S,{...Lg(S,u),...Tg(S,e.data),"data-index":n,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:o,style:g?kg:xg},L?c(e.index,e.groupIndex,e.data,u):c(e.index,e.data,u))})})}),Sg={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},_g={outline:"none",overflowX:"auto",position:"relative"},Cg=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),Eg={position:hg(),top:0,width:"100%",zIndex:1};function Lg(e,t){if("string"!=typeof e)return{context:t}}function Tg(e,t){return{item:"string"==typeof e?void 0:t}}const Mg=r.memo(function(){const e=Bg("HeaderComponent"),t=Fg("headerHeight"),n=Bg("HeaderFooterTag"),o=Sh(r.useMemo(()=>e=>{t(em(e,"height"))},[t]),!0,Bg("skipAnimationFrameInResizeObserver")),i=Bg("context");return e?(0,Xe.jsx)(n,{ref:o,children:(0,Xe.jsx)(e,{...Lg(e,i)})}):null}),jg=r.memo(function(){const e=Bg("FooterComponent"),t=Fg("footerHeight"),n=Bg("HeaderFooterTag"),o=Sh(r.useMemo(()=>e=>{t(em(e,"height"))},[t]),!0,Bg("skipAnimationFrameInResizeObserver")),i=Bg("context");return e?(0,Xe.jsx)(n,{ref:o,children:(0,Xe.jsx)(e,{...Lg(e,i)})}):null});function Ag({useEmitter:e,useEmitterValue:t,usePublisher:n}){return r.memo(function({children:r,style:o,context:i,...a}){const s=n("scrollContainerState"),l=t("ScrollerComponent"),c=n("smoothScrollTargetReached"),u=t("scrollerRef"),d=t("horizontalDirection")||!1,{scrollByCallback:f,scrollerRef:p,scrollToCallback:h}=dg(s,c,l,u,void 0,d);return e("scrollTo",h),e("scrollBy",f),(0,Xe.jsx)(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:p,style:{...d?_g:Sg,...o},tabIndex:0,...a,...Lg(l,i),children:r})})}function Og({useEmitter:e,useEmitterValue:t,usePublisher:n}){return r.memo(function({children:o,style:i,context:a,...s}){const l=n("windowScrollContainerState"),c=t("ScrollerComponent"),u=n("smoothScrollTargetReached"),d=t("totalListHeight"),f=t("deviation"),p=t("customScrollParent"),h=r.useRef(null),m=t("scrollerRef"),{scrollByCallback:g,scrollerRef:y,scrollToCallback:b}=dg(l,u,c,m,p);return cg(()=>{var e;return y.current=p||(null==(e=h.current)?void 0:e.ownerDocument.defaultView),()=>{y.current=null}},[y,p]),e("windowScrollTo",b),e("scrollBy",g),(0,Xe.jsx)(c,{ref:h,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...0!==d?{height:d+f}:{}},...s,...Lg(c,a),children:o})})}const Pg=({children:e})=>{const t=r.useContext(sg),n=Fg("viewportHeight"),o=Fg("fixedItemHeight"),i=Bg("alignToBottom"),a=Bg("horizontalDirection"),s=r.useMemo(()=>Wp(n,e=>em(e,a?"width":"height")),[n,a]),l=Sh(s,!0,Bg("skipAnimationFrameInResizeObserver"));return r.useEffect(()=>{t&&(n(t.viewportHeight),o(t.itemHeight))},[t,n,o]),(0,Xe.jsx)("div",{"data-viewport-type":"element",ref:l,style:Cg(i),children:e})},Ng=({children:e})=>{const t=r.useContext(sg),n=Fg("windowViewportRect"),o=Fg("fixedItemHeight"),i=Bg("customScrollParent"),a=Lh(n,i,Bg("skipAnimationFrameInResizeObserver")),s=Bg("alignToBottom");return r.useEffect(()=>{t&&(o(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,o]),(0,Xe.jsx)("div",{"data-viewport-type":"window",ref:a,style:Cg(s),children:e})},Ig=({children:e})=>{const t=Bg("TopItemListComponent")||"div",n=Bg("headerHeight"),r={...Eg,marginTop:`${n}px`},o=Bg("context");return(0,Xe.jsx)(t,{style:r,...Lg(t,o),children:e})},Dg=r.memo(function(e){const t=Bg("useWindowScroll"),n=Bg("topItemsIndexes").length>0,r=Bg("customScrollParent"),o=Bg("context");return(0,Xe.jsxs)(r||t?Hg:Wg,{...e,context:o,children:[n&&(0,Xe.jsx)(Ig,{children:(0,Xe.jsx)(wg,{showTopList:!0})}),(0,Xe.jsxs)(r||t?Ng:Pg,{children:[(0,Xe.jsx)(Mg,{}),(0,Xe.jsx)(wg,{}),(0,Xe.jsx)(jg,{})]})]})}),{Component:Rg,useEmitter:zg,useEmitterValue:Bg,usePublisher:Fg}=ag(yg,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Dg),Wg=Ag({useEmitter:zg,useEmitterValue:Bg,usePublisher:Fg}),Hg=Og({useEmitter:zg,useEmitterValue:Bg,usePublisher:Fg}),Ug=Rg,Gg=mh(()=>{const e=dh(e=>(0,Xe.jsxs)("td",{children:["Item $",e]})),t=dh(null),n=dh(e=>(0,Xe.jsxs)("td",{colSpan:1e3,children:["Group ",e]})),r=dh(null),o=dh(null),i=dh({}),a=dh(mg),s=dh(Gp),l=(e,t=null)=>fh(ah(i,oh(t=>t[e]),nh()),t);return{components:i,computeItemKey:a,context:t,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:o,fixedHeaderContent:r,itemContent:e,groupContent:n,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}}),$g=mh(([e,t])=>({...e,...t}),qp(rg,Gg)),Vg=({height:e})=>(0,Xe.jsx)("tr",{children:(0,Xe.jsx)("td",{style:{height:e}})}),qg=({height:e})=>(0,Xe.jsx)("tr",{children:(0,Xe.jsx)("td",{style:{border:0,height:e,padding:0}})}),Yg={overflowAnchor:"none"},Kg={position:hg(),zIndex:2,overflowAnchor:"none"},Jg=r.memo(function({showTopList:e=!1}){const t=ry("listState"),n=ry("computeItemKey"),o=ry("firstItemIndex"),i=ry("context"),a=ry("isSeeking"),s=ry("fixedHeaderHeight"),l=ry("groupIndices").length>0,c=ry("itemContent"),u=ry("groupContent"),d=ry("ScrollSeekPlaceholder")||Vg,f=ry("GroupComponent"),p=ry("TableRowComponent"),h=(e?t.topItems:[]).reduce((e,t,n)=>(0===n?e.push(t.size):e.push(e[n-1]+t.size),e),[]),m=(e?t.topItems:t.items).map(t=>{const m=t.originalIndex,g=n(m+o,t.data,i),y=e?0===m?0:h[m-1]:0;return a?(0,r.createElement)(d,{...Lg(d,i),height:t.size,index:t.index,key:g,type:t.type||"item"}):"group"===t.type?(0,r.createElement)(f,{...Lg(f,i),"data-index":m,"data-item-index":t.index,"data-known-size":t.size,key:g,style:{...Kg,top:s}},u(t.index,i)):(0,r.createElement)(p,{...Lg(p,i),...Tg(p,t.data),"data-index":m,"data-item-index":t.index,"data-known-size":t.size,"data-item-group-index":t.groupIndex,key:g,style:e?{...Kg,top:s+y}:Yg},l?c(t.index,t.groupIndex,t.data,i):c(t.index,t.data,i))});return(0,Xe.jsx)(Xe.Fragment,{children:m})}),Zg=r.memo(function(){const e=ry("listState"),t=ry("topItemsIndexes").length>0,n=oy("sizeRanges"),o=ry("useWindowScroll"),i=ry("customScrollParent"),a=oy("windowScrollContainerState"),s=oy("scrollContainerState"),l=i||o?a:s,c=ry("trackItemSizes"),u=ry("itemSize"),d=ry("log"),{callbackRef:f,ref:p}=Ch(n,u,c,l,d,void 0,i,!1,ry("skipAnimationFrameInResizeObserver")),[h,m]=r.useState(0);ny("deviation",e=>{h!==e&&(p.current.style.marginTop=`${e}px`,m(e))});const g=ry("EmptyPlaceholder"),y=ry("FillerRow")||qg,b=ry("TableBodyComponent"),v=ry("paddingTopAddition"),x=ry("statefulTotalCount"),k=ry("context");if(0===x&&g)return(0,Xe.jsx)(g,{...Lg(g,k)});const w=(t?e.topItems:[]).reduce((e,t)=>e+t.size,0),S=e.offsetTop+v+h-w,_=e.offsetBottom,C=S>0?(0,Xe.jsx)(y,{context:k,height:S},"padding-top"):null,E=_>0?(0,Xe.jsx)(y,{context:k,height:_},"padding-bottom"):null;return(0,Xe.jsxs)(b,{"data-testid":"virtuoso-item-list",ref:f,...Lg(b,k),children:[C,t&&(0,Xe.jsx)(Jg,{showTopList:!0}),(0,Xe.jsx)(Jg,{}),E]})}),Xg=({children:e})=>{const t=r.useContext(sg),n=oy("viewportHeight"),o=oy("fixedItemHeight"),i=Sh(r.useMemo(()=>Wp(n,e=>em(e,"height")),[n]),!0,ry("skipAnimationFrameInResizeObserver"));return r.useEffect(()=>{t&&(n(t.viewportHeight),o(t.itemHeight))},[t,n,o]),(0,Xe.jsx)("div",{"data-viewport-type":"element",ref:i,style:Cg(!1),children:e})},Qg=({children:e})=>{const t=r.useContext(sg),n=oy("windowViewportRect"),o=oy("fixedItemHeight"),i=ry("customScrollParent"),a=Lh(n,i,ry("skipAnimationFrameInResizeObserver"));return r.useEffect(()=>{t&&(o(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,o]),(0,Xe.jsx)("div",{"data-viewport-type":"window",ref:a,style:Cg(!1),children:e})},ey=r.memo(function(e){const t=ry("useWindowScroll"),n=ry("customScrollParent"),o=oy("fixedHeaderHeight"),i=oy("fixedFooterHeight"),a=ry("fixedHeaderContent"),s=ry("fixedFooterContent"),l=ry("context"),c=Sh(r.useMemo(()=>Wp(o,e=>em(e,"height")),[o]),!0,ry("skipAnimationFrameInResizeObserver")),u=Sh(r.useMemo(()=>Wp(i,e=>em(e,"height")),[i]),!0,ry("skipAnimationFrameInResizeObserver")),d=n||t?ay:iy,f=n||t?Qg:Xg,p=ry("TableComponent"),h=ry("TableHeadComponent"),m=ry("TableFooterComponent"),g=a?(0,Xe.jsx)(h,{ref:c,style:{position:"sticky",top:0,zIndex:2},...Lg(h,l),children:a()},"TableHead"):null,y=s?(0,Xe.jsx)(m,{ref:u,style:{bottom:0,position:"sticky",zIndex:1},...Lg(m,l),children:s()},"TableFoot"):null;return(0,Xe.jsx)(d,{...e,...Lg(d,l),children:(0,Xe.jsx)(f,{children:(0,Xe.jsxs)(p,{style:{borderSpacing:0,overflowAnchor:"none"},...Lg(p,l),children:[g,(0,Xe.jsx)(Zg,{},"TableBody"),y]})})})}),{Component:ty,useEmitter:ny,useEmitterValue:ry,usePublisher:oy}=ag($g,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},ey),iy=Ag({useEmitter:ny,useEmitterValue:ry,usePublisher:oy}),ay=Og({useEmitter:ny,useEmitterValue:ry,usePublisher:oy}),sy={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},ly={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:cy,floor:uy,max:dy,min:fy,round:py}=Math;function hy(e,t,n){return Array.from({length:t-e+1}).map((t,r)=>({data:null===n?null:n[r+e],index:r+e}))}function my(e,t){return e&&e.width===t.width&&e.height===t.height}function gy(e,t){return e&&e.column===t.column&&e.row===t.row}const yy=mh(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:o,headerHeight:i,scrollBy:a,scrollContainerState:s,scrollTo:l,scrollTop:c,smoothScrollTargetReached:u,viewportHeight:d},f,p,{didMount:h,propsReady:m},{customScrollParent:g,useWindowScroll:y,windowScrollContainerState:b,windowScrollTo:v,windowViewportRect:x},k])=>{const w=dh(0),S=dh(0),_=dh(sy),C=dh({height:0,width:0}),E=dh({height:0,width:0}),L=ph(),T=ph(),M=dh(0),j=dh(null),A=dh({column:0,row:0}),O=ph(),P=ph(),N=dh(!1),I=dh(0),D=dh(!0),R=dh(!1),z=dh(!1);Yp(ah(h,uh(I),rh(([e,t])=>!!t)),()=>{Kp(D,!1)}),Yp(ah(yh(h,D,E,C,I,R),rh(([e,t,n,r,,o])=>e&&!t&&0!==n.height&&0!==r.height&&!o)),([,,,,e])=>{Kp(R,!0),xm(1,()=>{Kp(L,e)}),Qp(ah(c),()=>{Kp(t,[0,0]),Kp(D,!0)})}),Xp(ah(P,rh(e=>null!=e&&e.scrollTop>0),ih(0)),S),Yp(ah(h,uh(P),rh(([,e])=>null!=e)),([,e])=>{e&&(Kp(C,e.viewport),Kp(E,e.item),Kp(A,e.gap),e.scrollTop>0&&(Kp(N,!0),Qp(ah(c,lh(1)),e=>{Kp(N,!1)}),Kp(l,{top:e.scrollTop})))}),Xp(ah(C,oh(({height:e})=>e)),d),Xp(ah(yh(bh(C,my),bh(E,my),bh(A,(e,t)=>e&&e.column===t.column&&e.row===t.row),bh(c)),oh(([e,t,n,r])=>({gap:n,item:t,scrollTop:r,viewport:e}))),O),Xp(ah(yh(bh(w),r,bh(A,gy),bh(E,my),bh(C,my),bh(j),bh(S),bh(N),bh(D),bh(I)),rh(([,,,,,,,e])=>!e),oh(([e,[t,n],r,o,i,a,s,,l,c])=>{const{column:u,row:d}=r,{height:f,width:p}=o,{width:h}=i;if(0===s&&(0===e||0===h))return sy;if(0===p){const t=km(c,e);return function(e){return{...ly,items:e}}(hy(t,t+Math.max(s-1,0),a))}const m=by(h,p,u);let g,y;l?0===t&&0===n&&s>0?(g=0,y=s-1):(g=m*uy((t+d)/(f+d)),y=m*cy((n+d)/(f+d))-1,y=fy(e-1,dy(y,m-1)),g=fy(y,dy(0,g))):(g=0,y=-1);const b=hy(g,y,a),{bottom:v,top:x}=vy(i,r,o,b),k=cy(e/m);return{bottom:v,itemHeight:f,items:b,itemWidth:p,offsetBottom:k*f+(k-1)*d-v,offsetTop:x,top:x}})),_),Xp(ah(j,rh(e=>null!==e),oh(e=>e.length)),w),Xp(ah(yh(C,E,_,A),rh(([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height),oh(([e,t,{items:n},r])=>{const{bottom:o,top:i}=vy(e,r,t,n);return[i,o]}),nh(Jh)),t);const B=dh(!1);Xp(ah(c,uh(B),oh(([e,t])=>t||0!==e)),B);const F=hh(ah(yh(_,w),rh(([{items:e}])=>e.length>0),uh(B),rh(([[e,t],n])=>{const r=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&0===e.offsetBottom&&e.items.length===t)&&r}),oh(([[,e]])=>e-1),nh())),W=hh(ah(bh(_),rh(({items:e})=>e.length>0&&0===e[0].index),ih(0),nh())),H=hh(ah(bh(_),uh(N),rh(([{items:e},t])=>e.length>0&&!t),oh(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),nh(Kh),ch(0)));Xp(H,p.scrollSeekRangeChanged),Xp(ah(L,uh(C,E,w,A),oh(([e,t,n,r,o])=>{const i=bm(e),{align:a,behavior:s,offset:l}=i;let c=i.index;"LAST"===c&&(c=r-1),c=dy(0,c,fy(r-1,c));let u=xy(t,o,n,c);return"end"===a?u=py(u-t.height+n.height):"center"===a&&(u=py(u-t.height/2+n.height/2)),l&&(u+=l),{behavior:s,top:u}})),l);const U=fh(ah(_,oh(e=>e.offsetBottom+e.bottom)),0);return Xp(ah(x,oh(e=>({height:e.visibleHeight,width:e.visibleWidth}))),C),{customScrollParent:g,data:j,deviation:M,footerHeight:o,gap:A,headerHeight:i,increaseViewportBy:e,initialItemCount:S,itemDimensions:E,overscan:n,restoreStateFrom:P,scrollBy:a,scrollContainerState:s,scrollHeight:T,scrollTo:l,scrollToIndex:L,scrollTop:c,smoothScrollTargetReached:u,totalCount:w,useWindowScroll:y,viewportDimensions:C,windowScrollContainerState:b,windowScrollTo:v,windowViewportRect:x,...p,gridState:_,horizontalDirection:z,initialTopMostItemIndex:I,totalListHeight:U,...f,endReached:F,propsReady:m,rangeChanged:H,startReached:W,stateChanged:O,stateRestoreInProgress:N,...k}},qp(Pm,Th,Lm,Ym,gm,Km,wh));function by(e,t,n){return dy(1,uy((e+n)/(uy(t)+n)))}function vy(e,t,n,r){const{height:o}=n;if(void 0===o||0===r.length)return{bottom:0,top:0};const i=xy(e,t,n,r[0].index);return{bottom:xy(e,t,n,r[r.length-1].index)+o,top:i}}function xy(e,t,n,r){const o=by(e.width,n.width,t.column),i=uy(r/o),a=i*n.height+dy(0,i-1)*t.row;return a>0?a+t.row:a}const ky=mh(()=>{const e=dh(e=>`Item ${e}`),t=dh({}),n=dh(null),r=dh("virtuoso-grid-item"),o=dh("virtuoso-grid-list"),i=dh(mg),a=dh("div"),s=dh(Gp),l=(e,n=null)=>fh(ah(t,oh(t=>t[e]),nh()),n),c=dh(!1),u=dh(!1);return Xp(bh(u),c),{components:t,computeItemKey:i,context:n,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:a,itemClassName:r,ItemComponent:l("Item","div"),itemContent:e,listClassName:o,ListComponent:l("List","div"),readyStateChanged:c,reportReadyState:u,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),wy=mh(([e,t])=>({...e,...t}),qp(yy,ky)),Sy=r.memo(function(){const e=Ay("gridState"),t=Ay("listClassName"),n=Ay("itemClassName"),o=Ay("itemContent"),i=Ay("computeItemKey"),a=Ay("isSeeking"),s=Oy("scrollHeight"),l=Ay("ItemComponent"),c=Ay("ListComponent"),u=Ay("ScrollSeekPlaceholder"),d=Ay("context"),f=Oy("itemDimensions"),p=Oy("gap"),h=Ay("log"),m=Ay("stateRestoreInProgress"),g=Oy("reportReadyState"),y=Sh(r.useMemo(()=>e=>{const t=e.parentElement.parentElement.scrollHeight;s(t);const n=e.firstChild;if(n){const{height:e,width:t}=n.getBoundingClientRect();f({height:e,width:t})}p({column:Iy("column-gap",getComputedStyle(e).columnGap,h),row:Iy("row-gap",getComputedStyle(e).rowGap,h)})},[s,f,p,h]),!0,!1);return cg(()=>{e.itemHeight>0&&e.itemWidth>0&&g(!0)},[e]),m?null:(0,Xe.jsx)(c,{className:t,ref:y,...Lg(c,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{const s=i(t.index,t.data,d);return a?(0,Xe.jsx)(u,{...Lg(u,d),height:e.itemHeight,index:t.index,width:e.itemWidth},s):(0,r.createElement)(l,{...Lg(l,d),className:n,"data-index":t.index,key:s},o(t.index,t.data,d))})})}),_y=r.memo(function(){const e=Ay("HeaderComponent"),t=Oy("headerHeight"),n=Ay("headerFooterTag"),o=Sh(r.useMemo(()=>e=>{t(em(e,"height"))},[t]),!0,!1),i=Ay("context");return e?(0,Xe.jsx)(n,{ref:o,children:(0,Xe.jsx)(e,{...Lg(e,i)})}):null}),Cy=r.memo(function(){const e=Ay("FooterComponent"),t=Oy("footerHeight"),n=Ay("headerFooterTag"),o=Sh(r.useMemo(()=>e=>{t(em(e,"height"))},[t]),!0,!1),i=Ay("context");return e?(0,Xe.jsx)(n,{ref:o,children:(0,Xe.jsx)(e,{...Lg(e,i)})}):null}),Ey=({children:e})=>{const t=r.useContext(lg),n=Oy("itemDimensions"),o=Oy("viewportDimensions"),i=Sh(r.useMemo(()=>e=>{o(e.getBoundingClientRect())},[o]),!0,!1);return r.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,o,n]),(0,Xe.jsx)("div",{ref:i,style:Cg(!1),children:e})},Ly=({children:e})=>{const t=r.useContext(lg),n=Oy("windowViewportRect"),o=Oy("itemDimensions"),i=Ay("customScrollParent"),a=Lh(n,i,!1);return r.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,o]),(0,Xe.jsx)("div",{ref:a,style:Cg(!1),children:e})},Ty=r.memo(function({...e}){const t=Ay("useWindowScroll"),n=Ay("customScrollParent"),r=n||t?Ny:Py,o=n||t?Ly:Ey,i=Ay("context");return(0,Xe.jsx)(r,{...e,...Lg(r,i),children:(0,Xe.jsxs)(o,{children:[(0,Xe.jsx)(_y,{}),(0,Xe.jsx)(Sy,{}),(0,Xe.jsx)(Cy,{})]})})}),{Component:My,useEmitter:jy,useEmitterValue:Ay,usePublisher:Oy}=ag(wy,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Ty),Py=Ag({useEmitter:jy,useEmitterValue:Ay,usePublisher:Oy}),Ny=Og({useEmitter:jy,useEmitterValue:Ay,usePublisher:Oy});function Iy(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,xh.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function Dy(e){return Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(e)}function Ry(e){return function(e){if(Array.isArray(e))return qy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zy(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return By(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(By(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,By(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,By(d,"constructor",c),By(c,"constructor",l),l.displayName="GeneratorFunction",By(c,o,"GeneratorFunction"),By(d),By(d,o,"Generator"),By(d,r,function(){return this}),By(d,"toString",function(){return"[object Generator]"}),(zy=function(){return{w:i,m:f}})()}function By(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}By=function(e,t,n,r){function i(t,n){By(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},By(e,t,n,r)}function Fy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Wy(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Fy(i,r,o,a,s,"next",e)}function s(e){Fy(i,r,o,a,s,"throw",e)}a(void 0)})}}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(t){Gy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gy(e,t,n){return(t=function(e){var t=function(e){if("object"!=Dy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Vy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vy(e,t){if(e){if("string"==typeof e)return qy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qy(e,t):void 0}}function qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Yy=function(){var e=J(),t=$y(Le(),1)[0],n=$y((0,r.useState)(!1),2),o=n[0],i=n[1],a=$y((0,r.useState)(null),2),s=a[0],l=a[1],c=$y((0,r.useState)(!1),2),u=c[0],d=c[1],f=$y((0,r.useState)(!1),2),p=f[0],h=f[1],m=$y((0,r.useState)(null),2),g=m[0],y=m[1],b=(0,r.useRef)(null),v=(0,r.useRef)(null),x=(0,r.useRef)(null),k=$y((0,r.useState)({top:600,bottom:800}),2),w=k[0],S=k[1],_=$y((0,r.useState)(!1),2),C=_[0],E=_[1],L=$y((0,r.useState)(null),2),T=L[0],M=L[1];(0,r.useEffect)(function(){var e,t=function(){var e,t="undefined"!=typeof window&&window.innerHeight||800,n=(null===(e=x.current)||void 0===e?void 0:e.getBoundingClientRect().height)||260,r=Math.max(Math.round(.9*t),Math.round(6*n));S({top:r,bottom:r})};return t(),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(function(){return t()}),x.current&&e.observe(x.current)),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),e&&e.disconnect()}},[]),(0,r.useEffect)(function(){if(g){var e=function(e){var t=e.target;b.current&&b.current.contains(t)||v.current&&v.current.contains(t)||y(null)},t=function(e){"Escape"===e.key&&y(null)};return document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("keydown",t,!0),function(){document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("keydown",t,!0)}}},[g]);var j=Su(function(e){return e.data.groups.data}),A=Su(function(e){return e.data.events.data}),O=Su(function(e){return e.ui.activeGroupIds}),P=Su(function(e){return e.ui.showHidden}),N=Su(function(e){return e.data.timeSystem.data}),I=Su(function(e){return e.isDM()}),D=Su(function(e){return e.createEvent}),R=Su(function(e){return e.updateEvent}),z=Su(function(e){return e.deleteEvent}),B=Su(function(e){return e.saveTimeSystem}),F=Su(function(e){return e.setGroupsFilter}),W=Su(function(e){return e.setShowHidden});(0,r.useEffect)(function(){var e=t.get("groups");if(e){var n=e.split(",").map(function(e){return e.trim()}).filter(Boolean);n.length>0&&F(n)}},[t,F]);var H=function(e){var t,n=K(e.startDate);if(!n){var r=e.startYear;"number"==typeof r?n=r:"string"==typeof r&&/^\d+$/.test(r)&&(n=Number(r))}var o=0;if("number"==typeof e.startMonthIndex)o=e.startMonthIndex+1;else if(e.startDate&&null!=N&&null!==(t=N.months)&&void 0!==t&&t.length){var i=N.months.findIndex(function(t){return new RegExp("\\b".concat(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t.name),"\\b"),"i").test(e.startDate)});i>=0&&(o=i+1)}var a=0;if("number"==typeof e.startDay)a=e.startDay;else if(e.startDate){var s=e.startDate.match(/^(\d+)(?:st|nd|rd|th)?\b/i);s&&(a=Number(s[1]))}return 1e4*(n||0)+100*o+a},U=A.filter(function(e){return!!O.length&&O.includes(e.groupId)}).filter(function(e){return!!P||!e.hidden}).sort(function(e,t){var n,r,o=H(t),i=H(e);return o!==i?o-i:(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}),G=U.filter(function(e){return!O.length||O.includes(e.groupId)}),$=function(e,t){var n,r,o,i=null==t?void 0:t["".concat(e,"Date")];if(i&&"string"==typeof i&&i.trim())return i.trim();var a=function(e,t){for(var n=0,r=["".concat(t,"Year"),"".concat(t,"DateYear"),"".concat(t,"_year"),"".concat(t,"_date_year"),"year"];n<r.length;n++){var o=null==e?void 0:e[r[n]];if("number"==typeof o&&Number.isFinite(o))return o;if("string"==typeof o&&o.trim()&&/^\d+$/.test(o.trim()))return Number(o.trim())}}(t,e);if(null!=a){var s=null==t?void 0:t["".concat(e,"MonthIndex")],l=null==t?void 0:t["".concat(e,"Day")],c=null==t?void 0:t["".concat(e,"EraId")],u="number"==typeof s?(null==N||null===(n=N.months)||void 0===n||null===(n=n[s])||void 0===n?void 0:n.name)||"Month ".concat(s+1):void 0,d=c?(null==N||null===(r=N.eras)||void 0===r||null===(r=r.find(function(e){return e._id===c}))||void 0===r?void 0:r.code)||(null==N||null===(o=N.eras)||void 0===o||null===(o=o.find(function(e){return e._id===c}))||void 0===o?void 0:o.name):void 0;return"number"==typeof l&&u?"".concat(function(e){var t=e%100;if(t>=11&&t<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}}(l)," ").concat(u," ").concat(String(a)).concat(d?", ".concat(d):""):u?"".concat(u," ").concat(String(a)).concat(d?", ".concat(d):""):"".concat(String(a)).concat(d?", ".concat(d):"")}},V=function(e){var t=Uy({},e);if(!t.startDate){var n=$("start",t);n&&(t.startDate=n)}var r=t.endDate||void 0!==t.endDay||void 0!==t.endMonthIndex||void 0!==t.endEraId||void 0!==t.endYear||void 0!==t.end_date_year;if(!t.endDate&&r){var o=$("end",t);o&&(t.endDate=o)}return t},q=function(){var e=Wy(zy().m(function e(t){var n,r,o;return zy().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,n=Uy(s?Uy({},s):{},t),(r=V(n)).startDate){e.n=1;break}return console.error("Missing startDate. Ensure at least a year (and optionally month/day) is selected."),e.a(2);case 1:if(!r._id){e.n=3;break}return e.n=2,R(Uy(Uy({},r),{},{_id:r._id}));case 2:e.n=4;break;case 3:return e.n=4,D(r);case 4:e.n=6;break;case 5:e.p=5,o=e.v,console.error("Failed to save event",o);case 6:return e.p=6,i(!1),l(null),e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Wy(zy().m(function e(t){var n;return zy().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,B(t);case 1:e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to save time system",n);case 3:return e.p=3,h(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}();function K(e){if(!e)return 0;var t=e.match(/(\d{1,6})(?!.*\d)/);return t?parseInt(t[1],10):0}var Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Year";if(!e)return"";var n=function(e){var t=e%100;if(t>=11&&t<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}},r=e.match(/(\d+)(?:st|nd|rd|th)?\s+([A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿']+)\s+(\d{1,6})(?:,\s*([A-Z]{1,3}))?/);if(r){var o=Number(r[1]),i=r[2],a=Number(r[3]),s=r[4];switch(t){case"Day":return"".concat(n(o)," ").concat(i," ").concat(String(a)).concat(s?", ".concat(s):"");case"Month":return"".concat(i," ").concat(String(a)).concat(s?", ".concat(s):"");default:return"".concat(String(a)).concat(s?", ".concat(s):"")}}var l=e.match(/([A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿']+)\s+(\d{1,6})(?:,\s*([A-Z]{1,3}))?/);if(l){var c=l[1],u=Number(l[2]),d=l[3];return"Month"===t?"".concat(c," ").concat(String(u)).concat(d?", ".concat(d):""):"".concat(String(u)).concat(d?", ".concat(d):"")}var f=e.match(/^(\d{1,6})(?:[-/.](\d{1,2})(?:[-/.](\d{1,2}))?)?(?:[ T](\d{1,2}):(\d{2}))?$/);if(f){var p=Number(f[1]),h=f[2]?Number(f[2]):void 0,m=f[3]?Number(f[3]):void 0,g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];switch(t){case"Day":if(h&&m)return"".concat(n(m)," ").concat(g[(h-1)%12]," ").concat(String(p));case"Month":if(h)return"".concat(g[(h-1)%12]," ").concat(String(p));default:return String(p)}}var y=e.match(/(\d{1,6})(?!.*\d)/),b=e.match(/,\s*([A-Z]{1,3})\b/);if(y){var v=Number(y[1]),x=b?b[1]:void 0;return"".concat(String(v)).concat(x?", ".concat(x):"")}return e},X=function(){var e=Wy(zy().m(function e(t,n){var r;return zy().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,R(Uy(Uy({},t),{},{detailLevel:n}));case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to set detail level",r);case 3:return e.p=3,y(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Wy(zy().m(function e(t){var n,r;return zy().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,D({title:"".concat(t.title," (Copy)"),startDate:t.startDate,endDate:t.endDate,startDay:t.startDay,endDay:t.endDay,startMonthIndex:t.startMonthIndex,endMonthIndex:t.endMonthIndex,startEraId:t.startEraId,endEraId:t.endEraId,description:t.description,groupId:t.groupId,icon:t.icon,color:t.color,bannerUrl:t.bannerUrl,hidden:t.hidden,order:(null!==(n=t.order)&&void 0!==n?n:0)+.01,detailLevel:t.detailLevel||"Year"});case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to duplicate event",r);case 3:return e.p=3,y(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Wy(zy().m(function e(t,n){var r;return zy().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,R(Uy(Uy({},t),{},{groupId:n}));case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to move event",r);case 3:return e.p=3,y(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Wy(zy().m(function e(t){var n;return zy().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,z(t);case 1:e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to delete event",n);case 3:return e.p=3,y(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}();return(0,Xe.jsxs)("div",{className:"timeline offset-container",children:[" ",(0,Xe.jsxs)("header",{className:"timelineHeader",children:[(0,Xe.jsx)("div",{className:"groupFilter",children:Ry(j).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}).map(function(e){return(0,Xe.jsx)("button",{className:"pill ".concat(O.includes(e._id)?"active":""),style:{background:O.includes(e._id)?e.color:"transparent",color:O.includes(e._id)?"":e.color,borderColor:O.includes(e._id)?"":e.color},onClick:function(){return t=e._id,n=O.includes(t)?O.filter(function(e){return e!==t}):[].concat(Ry(O),[t]),void F(n);var t,n},children:e.name.toUpperCase()},e._id)})}),I&&(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("div",{className:"toolbox",children:[(0,Xe.jsxs)("button",{className:"toolboxButton rounded-button",onClick:function(){return d(!u)},children:[(0,Xe.jsx)("i",{className:"icon icli iconly-Category"}),(0,Xe.jsx)("span",{className:"text",children:"GROUPS"})]}),(0,Xe.jsxs)("button",{className:"toolboxButton rounded-button",onClick:function(){return h(!p)},children:[(0,Xe.jsx)("i",{className:"icon icli iconly-Calendar"}),(0,Xe.jsx)("span",{className:"text",children:"TIME SYSTEM"})]}),(0,Xe.jsxs)("button",{className:"toolboxButton rounded-button",onClick:function(){return W(!P)},children:[(0,Xe.jsx)("i",{className:"icon icli ".concat(P?"iconly-Hide ":"iconly-Show")}),(0,Xe.jsx)("span",{className:"text",children:P?"HIDE HIDDEN":"SHOW HIDDEN"})]})]}),(0,Xe.jsx)(Wu,{isOpen:C,title:"Delete Event",message:'Are you sure you want to delete "'.concat((null==T?void 0:T.title)||"",'"?'),confirmText:"Delete",variant:"danger",onConfirm:Wy(zy().m(function e(){return zy().w(function(e){for(;;)switch(e.n){case 0:if(null==T||!T._id){e.n=1;break}return e.n=1,te(T._id);case 1:E(!1),M(null);case 2:return e.a(2)}},e)})),onCancel:function(){E(!1),M(null)}})]})]}),(0,Xe.jsx)("div",{className:"timeline-wrapper",children:(0,Xe.jsx)(Ug,{useWindowScroll:!0,data:G,itemContent:function(t,n){return function(t,n){var r,o=n>0?G[n-1]:null,a="";if(o){var s=K(o.startDate),c=K(t.startDate);if(s>0&&c>0){var u=s-c;u>0&&(a="".concat(u.toLocaleString()," years later"))}}var d,f=j.find(function(e){return e._id===t.groupId}),p=function(){var t=Wy(zy().m(function t(n){var r,o;return zy().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,lu.getPage(n);case 2:(r=t.v)&&r._id&&r.type&&e("/lore/".concat(r.type,"/").concat(r._id),{state:{from:"timeline"}}),t.n=4;break;case 3:t.p=3,o=t.v,console.error("Failed to open linked page",o);case 4:return t.a(2)}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}();return(0,Xe.jsx)("div",{ref:0===n?x:void 0,className:"timeline-event-wrapper",children:(0,Xe.jsx)("div",{className:"event",style:{"--group-color":(null==f?void 0:f.color)||"#475569"},children:(0,Xe.jsxs)("div",{className:"row",children:[(0,Xe.jsxs)("div",{className:"date",children:[(0,Xe.jsx)("div",{className:"detailLevel",children:Z(t.startDate,t.detailLevel||"Year")}),a&&(0,Xe.jsx)("div",{className:"diff",children:a})]}),(0,Xe.jsx)("div",{className:"marker",children:(0,Xe.jsxs)("div",{className:"diamond",children:[(0,Xe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:(0,Xe.jsx)("path",{d:"M29.793 15L15.5 29.293L1.20703 15L15.5 0.707031L29.793 15Z",fill:"#27272A","fill-opacity":"0.8",stroke:"rgba(115,107,1,1)"})}),(0,Xe.jsx)("div",{className:"diamond-line"})]})}),(0,Xe.jsx)("div",{className:"cardWrapper",children:(0,Xe.jsxs)("div",{className:"card ".concat(t.pageId?"clickable":""),onClick:function(e){t.pageId&&e.target===e.currentTarget&&p(t.pageId)},style:{cursor:t.pageId?"pointer":"default"},children:[(0,Xe.jsx)("div",{className:"cardBg",style:t.bannerUrl?{backgroundImage:"url(".concat("MISSING_ENV_VAR".REACT_APP_API_BASE_URL+(t.bannerThumbUrl||t.bannerUrl),")")}:t.color?{background:t.color}:{},onClick:function(e){t.pageId&&(e.stopPropagation(),p(t.pageId))}}),(0,Xe.jsxs)("div",{className:"info",onClick:function(e){t.pageId&&!e.defaultPrevented&&p(t.pageId)},children:[(0,Xe.jsx)("span",{className:"groupLabel",children:(null==f||null===(r=f.name)||void 0===r?void 0:r.toUpperCase())||"Group"}),(0,Xe.jsxs)("div",{className:"title_wrapper",children:[(0,Xe.jsx)("span",{className:"icon_square-btn",children:(d=t.icon,d&&Sp[d]||(0,Xe.jsx)(Pf,{}))}),(0,Xe.jsxs)("div",{className:"title_subtitle_wrapper",children:[(0,Xe.jsx)("h3",{className:"title",children:t.title}),(0,Xe.jsxs)("div",{className:"subtitle",children:[Z(t.startDate,t.detailLevel||"Year"),t.endDate?" â†’ ".concat(Z(t.endDate,t.detailLevel||"Year")):""]})]}),t.description&&(0,Xe.jsx)("p",{className:"description",children:t.description.length>200?"".concat(t.description.slice(0,200),"â€¦"):t.description})]}),(0,Xe.jsxs)("div",{className:"editRow",children:[(0,Xe.jsx)("button",{ref:g===t._id?v:void 0,className:"menuButton","aria-haspopup":"menu","aria-expanded":g===t._id,onClick:function(e){e.stopPropagation(),e.preventDefault(),y(g===t._id?null:t._id)},children:"â‹®"}),(0,Xe.jsxs)("div",{ref:g===t._id?b:void 0,className:"contextMenu ".concat(g===t._id?"open":""),role:"menu",onClick:function(e){e.stopPropagation(),e.preventDefault()},children:[(0,Xe.jsx)("div",{className:"menuItem",role:"menuitem",onClick:function(e){e.stopPropagation(),function(e){l(e),i(!0)}(t)},children:"Edit event"}),(0,Xe.jsx)("div",{className:"menuItem",role:"menuitem",onClick:function(e){e.stopPropagation(),Q(t)},children:"Duplicate event"}),(0,Xe.jsxs)("div",{className:"menuItem submenu",role:"menuitem",children:["Move to group",(0,Xe.jsx)("div",{className:"submenu-list",children:j.map(function(e){return(0,Xe.jsxs)("div",{className:"menuItem",onClick:function(n){n.stopPropagation(),ee(t,e._id)},children:[e.name,e._id===t.groupId?" â€¢":""]},e._id)})})]}),(0,Xe.jsxs)("div",{className:"menuItem submenu",role:"menuitem",children:["Detail level",(0,Xe.jsx)("div",{className:"submenu-list",children:["Year","Month","Day"].map(function(e){return(0,Xe.jsxs)("div",{className:"menuItem",onClick:function(n){n.stopPropagation(),X(t,e)},children:[(t.detailLevel||"Year")===e?"â— ":"â—‹ ",e]},e)})})]}),(0,Xe.jsx)("div",{className:"separator"}),(0,Xe.jsx)("div",{className:"menuItem",role:"menuitem",onClick:function(e){e.stopPropagation(),M(t),E(!0)},children:"Delete event"})]})]})]})]})})]})},t._id)})}(n,t)},increaseViewportBy:w,className:"virtuoso-timeline"})}),o&&(0,Xe.jsx)(zp,{event:s,groups:j,timeSystem:N,onSave:q,onClose:function(){i(!1),l(null)}}),u&&(0,Xe.jsx)(td,{groups:j,onClose:function(){return d(!1)}}),p&&(0,Xe.jsx)(zu,{timeSystem:N,onSave:Y,onClose:function(){return h(!1)}}),I&&(0,Xe.jsx)("button",{className:"floating-button",onClick:function(){l(null),i(!0)},children:(0,Xe.jsx)("i",{className:"icon icli iconly-Plus"})})]})};var Ky=o(1682),Jy={};Jy.styleTagTransform=Be(),Jy.setAttributes=Ie(),Jy.insert=Pe().bind(null,"head"),Jy.domAPI=Ae(),Jy.insertStyleElement=Re(),Me()(Ky.A,Jy),Ky.A&&Ky.A.locals&&Ky.A.locals;const Zy=function(){return(0,Xe.jsxs)("div",{className:"history",children:[(0,Xe.jsx)("div",{className:"overlay"}),(0,Xe.jsx)(Yy,{})]})},Xy=function(){return(0,Xe.jsx)(pf,{position:"bottom-right",toastOptions:{style:{background:"rgba(0,0,0,.85)",color:"#fff",borderRadius:10,border:"1px solid rgba(255,255,255,.14)"}}})};var Qy=o(7305),eb={};eb.styleTagTransform=Be(),eb.setAttributes=Ie(),eb.insert=Pe().bind(null,"head"),eb.domAPI=Ae(),eb.insertStyleElement=Re(),Me()(Qy.A,eb),Qy.A&&Qy.A.locals&&Qy.A.locals;var tb=new Map;tb.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"translate(-26.6 51.4) rotate(-15)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),tb.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M40,80H88V48a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8Z",opacity:"0.2"}),r.createElement("path",{d:"M88,176h48V48a8,8,0,0,0-8-8H96a8,8,0,0,0-8,8Z",opacity:"0.2"}),r.createElement("path",{d:"M171.2,179.2l46.4-12.5,8.3,30.9a8,8,0,0,1-5.7,9.8l-30.9,8.3a8,8,0,0,1-9.8-5.6Z",opacity:"0.2"}),r.createElement("path",{d:"M146.4,86.4,192.8,74l-8.3-30.9a8.1,8.1,0,0,0-9.8-5.7l-30.9,8.3a8.1,8.1,0,0,0-5.7,9.8Z",opacity:"0.2"}),r.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"translate(-26.6 51.4) rotate(-15)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),tb.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M233.6,195.6,192.2,41a16,16,0,0,0-19.6-11.3L141.7,38l-1,.3A16,16,0,0,0,128,32H96a15.8,15.8,0,0,0-8,2.2A15.8,15.8,0,0,0,80,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H80a15.8,15.8,0,0,0,8-2.2,15.8,15.8,0,0,0,8,2.2h32a16,16,0,0,0,16-16V108.4l27.8,103.7A16,16,0,0,0,187.3,224a19.9,19.9,0,0,0,4.1-.5l30.9-8.3A16,16,0,0,0,233.6,195.6ZM176.7,45.2,183,68.3l-30.9,8.3-6.3-23.1ZM128,48V168H96V48ZM80,48V72H48V48Zm48,160H96V184h32v24Zm90.2-8.3L187.3,208,181,184.8l31-8.3,6.2,23.2Z"}))}),tb.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"matrix(0.97, -0.26, 0.26, 0.97, -26.56, 51.42)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),tb.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"translate(-26.6 51.4) rotate(-15)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),tb.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"matrix(0.97, -0.26, 0.26, 0.97, -26.56, 51.42)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var nb=function(e,t){return Ge(e,t,tb)},rb=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:nb}))});rb.displayName="Books";const ob=rb;var ib=new Map;ib.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M204.5,116.6A60.1,60.1,0,0,1,244,140",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M167.1,70.2A32,32,0,1,1,204,115",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M52,115A32,32,0,1,1,88.9,70.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M12,140a60.1,60.1,0,0,1,39.5-23.4",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ib.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"140",r:"40",opacity:"0.2"}),r.createElement("circle",{cx:"60",cy:"84",r:"32",opacity:"0.2"}),r.createElement("circle",{cx:"196",cy:"84",r:"32",opacity:"0.2"}),r.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ib.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M64,140a7.9,7.9,0,0,1-8,8H12a8.2,8.2,0,0,1-7.2-4.4,8.2,8.2,0,0,1,.8-8.4A67.8,67.8,0,0,1,33,113.5a40,40,0,1,1,66.3-37,8.1,8.1,0,0,1-3.8,8.4,64.3,64.3,0,0,0-27.8,33.8A61.6,61.6,0,0,0,64,140Zm186.4-4.8A67.8,67.8,0,0,0,223,113.5a40,40,0,1,0-66.3-37,8.1,8.1,0,0,0,3.8,8.4,64,64,0,0,1,27.8,33.8A61.6,61.6,0,0,1,192,140a7.9,7.9,0,0,0,8,8h44a8,8,0,0,0,6.4-12.8Zm-93.2,42.9a48,48,0,1,0-58.4,0,72.1,72.1,0,0,0-35.6,34.4,7.8,7.8,0,0,0,.5,7.7,7.8,7.8,0,0,0,6.7,3.8H185.6a7.8,7.8,0,0,0,6.7-3.8,7.8,7.8,0,0,0,.5-7.7A72.1,72.1,0,0,0,157.2,178.1Z"}))}),ib.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ib.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ib.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ab=function(e,t){return Ge(e,t,ib)},sb=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:ab}))});sb.displayName="UsersThree";const lb=sb;var cb=new Map;cb.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),cb.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",opacity:"0.2"}),r.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),cb.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M208.9,144a15.8,15.8,0,0,1-10.5,15l-52.2,19.2L127,230.4a16,16,0,0,1-30,0L77.8,178.2,25.6,159a16,16,0,0,1,0-30l52.2-19.2L97,57.6a16,16,0,0,1,30,0l19.2,52.2L198.4,129A15.8,15.8,0,0,1,208.9,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))}),cb.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),cb.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),cb.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ub=function(e,t){return Ge(e,t,cb)},db=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:ub}))});db.displayName="Sparkle";const fb=db;var pb=new Map;pb.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),pb.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M80,128a80,80,0,1,1,80,80H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",opacity:"0.2"}),r.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),pb.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M160.1,40A88.1,88.1,0,0,0,81.3,88.7h0a86.6,86.6,0,0,0-9.3,39,8.2,8.2,0,0,1-7.4,8.3,8,8,0,0,1-8.6-8,105,105,0,0,1,5.3-32.9,4,4,0,0,0-4.7-5.2A64,64,0,0,0,8,152c0,35.2,29.8,64,64.9,64H160a88,88,0,0,0,.1-176Zm31.5,123.7-33.9,34A8.5,8.5,0,0,1,152,200a8.3,8.3,0,0,1-5.7-2.3l-33.9-34a8,8,0,0,1,11.3-11.3L144,172.7V112a8,8,0,0,1,16,0v60.7l20.3-20.3a8,8,0,0,1,11.3,11.3Z"}))}),pb.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),pb.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),pb.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var hb=function(e,t){return Ge(e,t,pb)},mb=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:hb}))});mb.displayName="CloudArrowDown";const gb=mb;var yb=new Map;yb.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"96",cy:"132",r:"16"}),r.createElement("circle",{cx:"160",cy:"132",r:"16"}),r.createElement("path",{d:"M151.3,174.6l15.8,31.5a7.8,7.8,0,0,0,9,4.2c24.5-6,45.7-16.4,61.1-29.8a8.1,8.1,0,0,0,2.4-8.4L205.7,58.9a7.7,7.7,0,0,0-4.7-5.1,176.4,176.4,0,0,0-29.6-9.2,8.1,8.1,0,0,0-9.4,5.3L151.5,81.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M104.7,174.6,88.9,206.1a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l10.5,31.6",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M181.1,168c-15.2,5.1-33.5,8-53.1,8s-37.9-2.9-53.1-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M176,86.4A173.7,173.7,0,0,0,128,80a173.7,173.7,0,0,0-48,6.4",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),yb.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M101,182.1l-12.1,24a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l7.9,23.9h0a190.1,190.1,0,0,1,52.2,0h0L162,49.9a8.1,8.1,0,0,1,9.4-5.3A176.4,176.4,0,0,1,201,53.8a7.7,7.7,0,0,1,4.7,5.1l33.9,113.2a8.1,8.1,0,0,1-2.4,8.4c-15.4,13.4-36.6,23.8-61.1,29.8a7.8,7.8,0,0,1-9-4.2l-12.1-24a195,195,0,0,1-27,1.9,195,195,0,0,1-27-1.9Z",opacity:"0.2"}),r.createElement("circle",{cx:"96",cy:"144",r:"12"}),r.createElement("circle",{cx:"160",cy:"144",r:"12"}),r.createElement("path",{d:"M74.4,80A174.9,174.9,0,0,1,128,72a174.9,174.9,0,0,1,53.6,8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M181.6,176a174.9,174.9,0,0,1-53.6,8,174.9,174.9,0,0,1-53.6-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M155,182.1l12.1,24a7.8,7.8,0,0,0,9,4.2c24.5-6,45.7-16.4,61.1-29.8a8.1,8.1,0,0,0,2.4-8.4L205.7,58.9a7.7,7.7,0,0,0-4.7-5.1,176.4,176.4,0,0,0-29.6-9.2,8.1,8.1,0,0,0-9.4,5.3l-7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M101,182.1l-12.1,24a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),yb.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M247.3,169.8l-34-113.2a15.6,15.6,0,0,0-9.2-10.2h-.6l.6-.2A192.4,192.4,0,0,0,169.6,36a8,8,0,0,0-9.4,6.3,7.9,7.9,0,0,0,6.2,9.4c4.5.9,8.9,2,13.2,3.2A8,8,0,0,1,176,70h-.8A185.4,185.4,0,0,0,128,64a181.8,181.8,0,0,0-46.1,5.8,8,8,0,0,1-5.6-14.9h.1c4.3-1.2,8.7-2.3,13.2-3.2a8,8,0,0,0,6.3-9.4A8.1,8.1,0,0,0,86.5,36,191.2,191.2,0,0,0,51.9,46.4a15.6,15.6,0,0,0-9.2,10.2L8.7,169.8a16,16,0,0,0,4.9,16.7,34.7,34.7,0,0,0,2.9,2.5h.1c16.2,13.2,37.5,23.3,61.5,29.1a6.3,6.3,0,0,0,1.9.3,8,8,0,0,0,1.9-15.8,160.3,160.3,0,0,1-31.3-11.1h0a8,8,0,0,1,8.6-13.2c19,8.4,42.9,13.7,68.8,13.7s49.8-5.3,68.8-13.7a8,8,0,0,1,8.6,13.2h0a160.3,160.3,0,0,1-31.3,11.1,8,8,0,0,0,1.9,15.8,6.3,6.3,0,0,0,1.9-.3c24-5.8,45.3-15.9,61.5-29.1h.1a34.7,34.7,0,0,0,2.9-2.5A16,16,0,0,0,247.3,169.8ZM96,156a12,12,0,1,1,12-12A12,12,0,0,1,96,156Zm64,0a12,12,0,1,1,12-12A12,12,0,0,1,160,156Z"}))}),yb.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"96",cy:"144",r:"10"}),r.createElement("circle",{cx:"160",cy:"144",r:"10"}),r.createElement("path",{d:"M74.4,80A174.9,174.9,0,0,1,128,72a174.9,174.9,0,0,1,53.6,8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M181.6,176a174.9,174.9,0,0,1-53.6,8,174.9,174.9,0,0,1-53.6-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M155,182.1l12.1,24a7.8,7.8,0,0,0,9,4.2c24.5-6,45.7-16.4,61.1-29.8a8.1,8.1,0,0,0,2.4-8.4L205.7,58.9a7.7,7.7,0,0,0-4.7-5.1,176.4,176.4,0,0,0-29.6-9.2,8.1,8.1,0,0,0-9.4,5.3l-7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M101,182.1l-12.1,24a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),yb.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"96",cy:"144",r:"8"}),r.createElement("circle",{cx:"160",cy:"144",r:"8"}),r.createElement("path",{d:"M74.4,80A174.9,174.9,0,0,1,128,72a174.9,174.9,0,0,1,53.6,8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M181.6,176a174.9,174.9,0,0,1-53.6,8,174.9,174.9,0,0,1-53.6-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M155,182.1l12.1,24a7.8,7.8,0,0,0,9,4.2c24.5-6,45.7-16.4,61.1-29.8a8.1,8.1,0,0,0,2.4-8.4L205.7,58.9a7.7,7.7,0,0,0-4.7-5.1,176.4,176.4,0,0,0-29.6-9.2,8.1,8.1,0,0,0-9.4,5.3l-7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M101,182.1l-12.1,24a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),yb.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"96",cy:"144",r:"12"}),r.createElement("circle",{cx:"160",cy:"144",r:"12"}),r.createElement("path",{d:"M74.4,80A174.9,174.9,0,0,1,128,72a174.9,174.9,0,0,1,53.6,8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M181.6,176a174.9,174.9,0,0,1-53.6,8,174.9,174.9,0,0,1-53.6-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M155,182.1l12.1,24a7.8,7.8,0,0,0,9,4.2c24.5-6,45.7-16.4,61.1-29.8a8.1,8.1,0,0,0,2.4-8.4L205.7,58.9a7.7,7.7,0,0,0-4.7-5.1,176.4,176.4,0,0,0-29.6-9.2,8.1,8.1,0,0,0-9.4,5.3l-7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M101,182.1l-12.1,24a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"96",cy:"144",r:"12"}),r.createElement("circle",{cx:"160",cy:"144",r:"12"}),r.createElement("path",{d:"M74.4,80A174.9,174.9,0,0,1,128,72a174.9,174.9,0,0,1,53.6,8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M181.6,176a174.9,174.9,0,0,1-53.6,8,174.9,174.9,0,0,1-53.6-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M155,182.1l12.1,24a7.8,7.8,0,0,0,9,4.2c24.5-6,45.7-16.4,61.1-29.8a8.1,8.1,0,0,0,2.4-8.4L205.7,58.9a7.7,7.7,0,0,0-4.7-5.1,176.4,176.4,0,0,0-29.6-9.2,8.1,8.1,0,0,0-9.4,5.3l-7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M101,182.1l-12.1,24a7.8,7.8,0,0,1-9,4.2c-24.5-6-45.7-16.4-61.1-29.8a8.1,8.1,0,0,1-2.4-8.4L50.3,58.9A7.7,7.7,0,0,1,55,53.8a176.4,176.4,0,0,1,29.6-9.2A8.1,8.1,0,0,1,94,49.9l7.9,23.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var bb=function(e,t){return Ge(e,t,yb)},vb=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:bb}))});vb.displayName="DiscordLogo";const xb=vb;function kb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sb=function(e){if(!e||"string"!=typeof e)return null;var t=e.match(/^(\d{2})[./-](\d{2})[./-](\d{4})$/);if(!t)return null;var n=kb(t,4),r=(n[0],n[1]),o=n[2],i=n[3],a=new Date(Number(i),Number(o)-1,Number(r));return isNaN(a.getTime())?null:a},_b=function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getFullYear());return"".concat(t,"/").concat(n,"/").concat(r)},Cb=function(e,t){return new Date(e,t+1,0).getDate()};const Eb=function(e){var t=e.value,n=e.placeholder,o=void 0===n?"Pick a date":n,i=e.label,a=e.onChange,s=e.clearable,l=void 0!==s&&s,c=(0,r.useMemo)(function(){return Sb(t)||new Date},[t]),u=kb((0,r.useState)(c.getFullYear()),2),d=u[0],f=u[1],p=kb((0,r.useState)(c.getMonth()),2),h=p[0],m=p[1],g=kb((0,r.useState)(Sb(t)),2),y=g[0],b=g[1],v=kb((0,r.useState)(!1),2),x=v[0],k=v[1],w=function(e,t){var n=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(e){var r=function(e){n.current&&(n.current.contains(e.target)||t())};return document.addEventListener("mousedown",r),function(){return document.removeEventListener("mousedown",r)}}},[e,t]),n}(x,function(){return k(!1)});(0,r.useEffect)(function(){var e=Sb(t);b(e),e&&(f(e.getFullYear()),m(e.getMonth()))},[t]);for(var S,_=(0,r.useMemo)(function(){return y?_b(y):""},[y]),C=0===(S=new Date(d,h,1).getDay())?6:S-1,E=Cb(d,h),L=0===h?Cb(d-1,11):Cb(d,h-1),T=[],M=0;M<C;M++){var j=L-C+1+M,A=0===h?d-1:d,O=0===h?11:h-1;T.push({day:j,inMonth:-1,year:A,month:O})}for(var P=1;P<=E;P++)T.push({day:P,inMonth:0,year:d,month:h});for(var N=(7-T.length%7)%7,I=1;I<=N;I++){var D=11===h?d+1:d,R=11===h?0:h+1;T.push({day:I,inMonth:1,year:D,month:R})}return(0,Xe.jsxs)("div",{className:"datepick",children:[i&&(0,Xe.jsx)("div",{className:"datepick__label",children:i}),(0,Xe.jsxs)("div",{className:"datepick__inputWrap session-datepicker",children:[(0,Xe.jsx)(Pf,{weight:"bold",size:20,className:"icon__hover gold_on_hover"}),(0,Xe.jsx)("input",{className:"modal__input datepill",onFocus:function(){return k(!0)},onClick:function(){return k(!0)},readOnly:!0,value:_,placeholder:o,"aria-haspopup":"dialog","aria-expanded":x}),l&&_&&(0,Xe.jsx)("button",{type:"button",className:"datepill__icon-end",onClick:function(){b(null),a(null)},"aria-label":"Clear date",children:(0,Xe.jsx)(Kf,{size:30,weight:"bold",className:"icon__hover dim_on_hover"})})]}),x&&(0,Xe.jsx)("div",{ref:w,className:"dp-pop custom-datepicker",children:(0,Xe.jsxs)("div",{className:"dp-pop__panel",children:[(0,Xe.jsxs)("div",{className:"dp-pop__head",children:[(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return f(d-1)},"aria-label":"Previous year",children:(0,Xe.jsx)(Qf,{size:16})}),(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){0===h?(f(d-1),m(11)):m(h-1)},"aria-label":"Previous month",children:(0,Xe.jsx)(Ze,{size:16})}),(0,Xe.jsxs)("div",{className:"dp-pop__headmain",children:[(0,Xe.jsx)("select",{className:"modal__select",value:String(h),style:{backgroundImage:"none"},onChange:function(e){return m(parseInt(e.target.value,10))},children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(e,t){return(0,Xe.jsx)("option",{value:String(t),children:e},t)})}),(0,Xe.jsx)("input",{className:"modal__input dp-pop__year",type:"number",value:String(d),onChange:function(e){return f(parseInt(e.target.value,10)||d)},placeholder:"Year"})]}),(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){11===h?(f(d+1),m(0)):m(h+1)},"aria-label":"Next month",children:(0,Xe.jsx)(rp,{size:16})}),(0,Xe.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return f(d+1)},"aria-label":"Next year",children:(0,Xe.jsx)(sp,{size:16})})]}),(0,Xe.jsx)("div",{className:"dp-pop__grid dp-pop__week",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(function(e){return(0,Xe.jsx)("div",{className:"dp-pop__weekcell",children:e},e)})}),(0,Xe.jsx)("div",{className:"dp-pop__grid dp-pop__days",children:T.map(function(e,t){var n=0!==e.inMonth,r=y&&e.day===y.getDate()&&e.month===y.getMonth()&&e.year===y.getFullYear();return(0,Xe.jsx)("button",{type:"button",className:"dp-pop__daybtn".concat(n?" is-outside":"").concat(r?" is-selected":""),onClick:function(){return function(e){var t=new Date(e.year,e.month,e.day);b(t),a(_b(t)),k(!1)}(e)},children:e.day},"".concat(e.year,"-").concat(e.month,"-").concat(e.day,"-").concat(t))})})]})})]})};var Lb=o(283),Tb={};function Mb(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return jb(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(jb(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,jb(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,jb(d,"constructor",c),jb(c,"constructor",l),l.displayName="GeneratorFunction",jb(c,o,"GeneratorFunction"),jb(d),jb(d,o,"Generator"),jb(d,r,function(){return this}),jb(d,"toString",function(){return"[object Generator]"}),(Mb=function(){return{w:i,m:f}})()}function jb(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}jb=function(e,t,n,r){function i(t,n){jb(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},jb(e,t,n,r)}function Ab(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ob(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ab(i,r,o,a,s,"next",e)}function s(e){Ab(i,r,o,a,s,"throw",e)}a(void 0)})}}function Pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Tb.styleTagTransform=Be(),Tb.setAttributes=Ie(),Tb.insert=Pe().bind(null,"head"),Tb.domAPI=Ae(),Tb.insertStyleElement=Re(),Me()(Lb.A,Tb),Lb.A&&Lb.A.locals&&Lb.A.locals,st().setAppElement("#root");const Ib=function(e){var t,n=e.isOpen,o=e.onClose,i=Pb((0,r.useState)(""),2),a=i[0],s=i[1],l=Pb((0,r.useState)(""),2),c=l[0],u=l[1],d=Pb((0,r.useState)(!1),2),f=d[0],p=d[1],h=Pb((0,r.useState)(null),2),m=h[0],g=h[1],y=Pb((0,r.useState)("20"),2),b=y[0],v=y[1],x=Pb((0,r.useState)("30"),2),k=x[0],w=x[1],S=Pb((0,r.useState)(""),2),_=S[0],C=S[1],E=Pb((0,r.useState)([]),2),L=E[0],T=E[1],M=Pb((0,r.useState)(!1),2),j=M[0],A=M[1],O=Pb((0,r.useState)(!1),2),P=O[0],N=O[1],I=Pb((0,r.useState)(!1),2),D=I[0],R=I[1],z=Pb((0,r.useState)(!0),2),B=z[0],F=z[1],W=Pb((0,r.useState)("primary"),2),H=W[0],U=W[1],G=Pb((0,r.useState)([]),2),$=G[0],V=G[1],q=Pb((0,r.useState)(!1),2),Y=q[0],K=q[1],J=Pb((0,r.useState)(!1),2),Z=J[0],X=J[1],Q=lu.resolveAssetUrl;(0,r.useEffect)(function(){n&&(te(),B&&ee())},[n]),(0,r.useEffect)(function(){B&&0===$.length&&ee()},[B]);var ee=function(){var e=Ob(Mb().m(function e(){var t,n,r,o;return Mb().w(function(e){for(;;)switch(e.p=e.n){case 0:return K(!0),e.p=1,e.n=2,null===(t=lu.getGoogleCalendars)||void 0===t?void 0:t.call(lu);case 2:(n=e.v)&&Array.isArray(n)?(V(n),(r=n.find(function(e){return e.primary}))&&U(r.id)):V([]),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Failed to load calendars",o);case 4:return e.p=4,K(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Ob(Mb().m(function e(){var t,n,r;return Mb().w(function(e){for(;;)switch(e.p=e.n){case 0:return A(!0),e.p=1,e.n=2,null===(t=lu.getDiscordChannels)||void 0===t?void 0:t.call(lu);case 2:(n=e.v)&&Array.isArray(n)?T(n):T([]),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Failed to load channels",r),Gd.error("Failed to load Discord channels. Connect your Discord server in settings.");case 4:return e.p=4,A(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Ob(Mb().m(function e(){var t,n,r,o,i,s,l,u,d,f;return Mb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.trim()){e.n=1;break}return Gd.error("Event title is required"),e.a(2);case 1:if(m){e.n=2;break}return Gd.error("Event date is required"),e.a(2);case 2:if(_){e.n=3;break}return Gd.error("Please select a channel"),e.a(2);case 3:if(N(!0),e.p=4,t=(m||"").split("/").map(function(e){return parseInt(e,10)}),n=Pb(t,3),r=n[0],o=n[1],i=n[2],s=parseInt(b,10)||0,l=parseInt(k,10)||0,u=new Date(i,(o||1)-1,r||1,s,l,0,0),d={title:a,bannerUrl:c,dateTimeUtc:u.toISOString(),channelId:_,syncToCalendar:B,calendarId:B?H:void 0},console.log("Creating Discord event:",d),!lu.createDiscordEvent){e.n=6;break}return e.n=5,lu.createDiscordEvent(d);case 5:e.n=7;break;case 6:return e.n=7,new Promise(function(e){return setTimeout(e,1200)});case 7:Gd.success("Discord event created successfully!"),re(),e.n=9;break;case 8:e.p=8,f=e.v,console.error("Failed to create Discord event",f),Gd.error((null==f?void 0:f.message)||"Failed to create Discord event");case 9:return e.p=9,N(!1),e.f(9);case 10:return e.a(2)}},e,null,[[4,8,9,10]])}));return function(){return e.apply(this,arguments)}}(),re=function(){s(""),u(""),g(null),C(""),R(!1),o()},oe=L.find(function(e){return e.id===_});return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(st(),{isOpen:n,onRequestClose:re,contentLabel:"Create Discord Event",className:"modal__content modal__content--discord-event",overlayClassName:"modal__overlay",children:(0,Xe.jsx)("div",{className:"modal__body",children:(0,Xe.jsxs)("div",{className:"modal__body_content",children:[(0,Xe.jsx)("h2",{style:{marginTop:0,fontSize:"1.5rem",color:"#e6c896"},children:"Create Discord Event"}),(0,Xe.jsx)("p",{style:{fontSize:"0.85rem",color:"#94a3b8",marginBottom:"1.5rem"},children:"Schedule an event on Discord and sync with Google Calendar"}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{className:"form-label",children:"Event Title"}),(0,Xe.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)},placeholder:"Enter event title...",className:"modal__input"})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{className:"form-label",children:"Event Image"}),c?(0,Xe.jsxs)("div",{className:"banner-preview-wrapper",children:[(0,Xe.jsx)("div",{className:"banner-preview",style:{backgroundImage:"url(".concat(Q(c),")")}}),(0,Xe.jsx)("button",{type:"button",className:"trash-btn",onClick:function(){return u("")},title:"Remove image",children:(0,Xe.jsx)(Rf,{color:"white",size:18})})]}):(0,Xe.jsx)("button",{type:"button",className:"draggable__btn",onClick:function(){return p(!0)},children:"Select Image"})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{className:"form-label",children:"Event Date & Time"}),(0,Xe.jsxs)("div",{className:"date-time-row",children:[(0,Xe.jsx)(Eb,{value:m,placeholder:"Select a date",onChange:g}),(0,Xe.jsxs)("div",{className:"time-fields",children:[(0,Xe.jsx)("select",{className:"modal__select",value:b,onChange:function(e){return v(e.target.value)},"aria-label":"Hours",children:Array.from({length:24}).map(function(e,t){return(0,Xe.jsx)("option",{value:String(t).padStart(2,"0"),children:String(t).padStart(2,"0")},t)})}),(0,Xe.jsx)("span",{className:"time-sep",children:":"}),(0,Xe.jsx)("select",{className:"modal__select",value:k,onChange:function(e){return w(e.target.value)},"aria-label":"Minutes",children:Array.from({length:12}).map(function(e,t){var n=5*t;return(0,Xe.jsx)("option",{value:String(n).padStart(2,"0"),children:String(n).padStart(2,"0")},n)})})]})]})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{className:"form-label",children:"Discord Channel"}),(0,Xe.jsxs)("div",{className:"custom-dropdown",style:{position:"relative",zIndex:50},children:[(0,Xe.jsxs)("button",{type:"button",className:"dropdown-trigger",onClick:function(){return R(!D)},disabled:j,children:[j?"Loading channels...":oe?"# ".concat(oe.name):"Select a channel",(0,Xe.jsx)("span",{className:"dropdown-arrow",children:"â–¼"})]}),D&&(0,Xe.jsx)("div",{className:"dropdown-popup",children:L.map(function(e){return(0,Xe.jsxs)("div",{className:"dropdown-item",onClick:function(){C(e.id),R(!1)},children:["# ",e.name]},e.id)})})]})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsxs)("label",{className:"modal__checkrow",children:[(0,Xe.jsx)("input",{type:"checkbox",checked:B,onChange:function(e){return F(e.target.checked)}}),(0,Xe.jsx)("span",{children:"Sync to Google Calendar"})]}),B&&(0,Xe.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,Xe.jsx)("label",{className:"form-label",children:"Select Calendar"}),(0,Xe.jsxs)("div",{className:"custom-dropdown",style:{position:"relative",zIndex:40},children:[(0,Xe.jsxs)("button",{type:"button",className:"dropdown-trigger",onClick:function(){return X(!Z)},disabled:Y,children:[Y?"Loading calendars...":0===$.length?"No calendars found":(null===(t=$.find(function(e){return e.id===H}))||void 0===t?void 0:t.name)||"Select a calendar",(0,Xe.jsx)("span",{className:"dropdown-arrow",children:"â–¼"})]}),Z&&$.length>0&&(0,Xe.jsx)("div",{className:"dropdown-popup",children:$.map(function(e){return(0,Xe.jsxs)("div",{className:"dropdown-item",onClick:function(){U(e.id),X(!1)},children:[e.name," ",e.primary&&"(Primary)"]},e.id)})})]})]})]}),(0,Xe.jsxs)("div",{className:"modal__actions",style:{marginTop:"2rem"},children:[(0,Xe.jsx)("button",{type:"button",className:"modal__btn cancel",onClick:re,disabled:P,children:"Cancel"}),(0,Xe.jsx)("button",{type:"button",className:"modal__btn",onClick:ne,disabled:P,children:P?"Creating...":"Create Event"})]})]})})}),(0,Xe.jsx)(xf,{isOpen:f,onClose:function(){return p(!1)},onSelect:function(e){u(e.url),p(!1)}})]})};function Db(e){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(e)}function Rb(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return zb(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(zb(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zb(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,zb(d,"constructor",c),zb(c,"constructor",l),l.displayName="GeneratorFunction",zb(c,o,"GeneratorFunction"),zb(d),zb(d,o,"Generator"),zb(d,r,function(){return this}),zb(d,"toString",function(){return"[object Generator]"}),(Rb=function(){return{w:i,m:f}})()}function zb(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zb=function(e,t,n,r){function i(t,n){zb(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},zb(e,t,n,r)}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach(function(t){Wb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wb(e,t,n){return(t=function(e){var t=function(e){if("object"!=Db(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Db(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Db(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hb(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ub(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Hb(i,r,o,a,s,"next",e)}function s(e){Hb(i,r,o,a,s,"throw",e)}a(void 0)})}}function Gb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Vb=function(){var e,t=Gb((0,r.useState)(!1),2),n=t[0],o=t[1],i=Gb((0,r.useState)(!1),2),a=i[0],s=i[1],l=Gb((0,r.useState)(!1),2),c=l[0],u=l[1],d=Gb((0,r.useState)(!1),2),f=d[0],p=d[1],h=Gb((0,r.useState)(function(){return localStorage.getItem("drive_doc_input")||"MISSING_ENV_VAR".REACT_APP_GOOGLE_DOC_URL||""}),2),m=h[0],g=h[1],y=Gb((0,r.useState)(!0),2),b=y[0],v=y[1],x=Gb((0,r.useState)(!1),2),k=x[0],w=x[1],S=Gb((0,r.useState)(!1),2),_=S[0],C=S[1],E=Gb((0,r.useState)([]),2),L=E[0],T=E[1],M=Gb((0,r.useState)(""),2),j=M[0],A=M[1],O=Gb((0,r.useState)(!1),2),P=O[0],N=O[1],I=Gb((0,r.useState)(null),2),D=I[0],R=I[1],z=Gb((0,r.useState)(1),2),B=z[0],F=z[1],W=Gb((0,r.useState)(""),2),H=W[0],U=W[1],G=Gb((0,r.useState)(""),2),$=G[0],V=G[1],q=Gb((0,r.useState)(null),2),Y=q[0],K=q[1],Z=Gb((0,r.useState)(""),2),X=Z[0],Q=Z[1],ee=Gb((0,r.useState)(!1),2),te=ee[0],ne=ee[1],re=(0,r.useRef)(null),oe=(0,r.useRef)(null),ie=J(),ae=Su(function(e){return e.isDM()}),se=Su(function(e){return e.user}),le=Su(function(e){return e.data.timeSystem.data}),ce=Su(function(e){return e.loadTimeSystem});(0,r.useEffect)(function(){if(n){var e=function(e){return"Escape"===e.key&&o(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[n]),(0,r.useEffect)(function(){if(a){var e=function(e){return"Escape"===e.key&&s(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[a]),(0,r.useEffect)(function(){if(c){var e=function(e){return"Escape"===e.key&&u(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[c]),(0,r.useEffect)(function(){c&&!le&&ce()},[c,le,ce]),(0,r.useEffect)(function(){if(n){var e=function(e){var t=re.current;if(t){var n=e.target;n&&!t.contains(n)&&o(!1)}};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}},[n]),(0,r.useEffect)(function(){var e=function(e){oe.current&&!oe.current.contains(e.target)&&N(!1)};if(P)return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[P]);var ue=function(e){return ie("/lore/".concat(e,"/new"))},de=function(e){if(!e)return null;var t=e.trim();if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;var n=t.match(/\/document\/d\/([a-zA-Z0-9_-]+)/);return n?n[1]:null},fe=function(){var e=Ub(Rb().m(function e(){var t,n,r,o,i,a,l,c,d,f,p;return Rb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ae){e.n=1;break}return Gd.error("Only DMs can sync from Drive"),e.a(2);case 1:if(t=de(m)){e.n=2;break}return Gd.error("Please paste a valid Google Doc URL or ID"),e.a(2);case 2:return localStorage.setItem("drive_doc_input",m),w(!0),e.p=3,n=Gd.loading("Fetching available sessionsâ€¦",{id:"sync-preview"}),r=(null==se?void 0:se.googleAccessToken)||localStorage.getItem("googleAccessToken"),e.n=4,fetch("".concat(lu.getBaseUrl(),"/sync/campaign/preview"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({docId:t,googleAccessToken:r})});case 4:return o=e.v,e.n=5,o.json();case 5:if(i=e.v,o.ok){e.n=14;break}if(!(401===o.status||null!=i&&null!==(a=i.error)&&void 0!==a&&a.includes("token"))){e.n=13;break}return Gd.loading("Google token expired. Refreshing...",{id:n}),e.n=6,lu.refreshGoogleToken();case 6:if(!(l=e.v).success){e.n=11;break}return Gd.loading("Token refreshed. Retrying...",{id:n}),se&&l.googleAccessToken&&(c=Fb(Fb({},se),{},{googleAccessToken:l.googleAccessToken}),Su.getState().setUser(c)),e.n=7,fetch("".concat(lu.getBaseUrl(),"/sync/campaign/preview"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({docId:t,googleAccessToken:l.googleAccessToken})});case 7:return d=e.v,e.n=8,d.json();case 8:if(f=e.v,d.ok){e.n=9;break}throw new Error((null==f?void 0:f.error)||"Preview failed after token refresh");case 9:if(null!=f&&f.availableDates&&0!==f.availableDates.length){e.n=10;break}return Gd.dismiss(n),Gd((null==f?void 0:f.message)||"No new sessions found"),e.a(2);case 10:return Gd.success("Found ".concat(f.availableDates.length," session(s)"),{id:n}),T(f.availableDates),A(f.availableDates[0].date),F(1),R(null),U(""),V(""),K(null),Q(""),s(!1),u(!0),e.a(2);case 11:if(!l.needsReauth){e.n=12;break}return Gd.error("Please reconnect your Google account",{id:n}),e.a(2);case 12:return Gd.error("Failed to refresh token",{id:n}),e.a(2);case 13:throw new Error((null==i?void 0:i.error)||"Preview failed");case 14:if(null!=i&&i.availableDates&&0!==i.availableDates.length){e.n=15;break}return Gd.dismiss(n),Gd((null==i?void 0:i.message)||"No new sessions found"),e.a(2);case 15:Gd.success("Found ".concat(i.availableDates.length," session(s)"),{id:n}),T(i.availableDates),A(i.availableDates[0].date),F(1),R(null),U(""),V(""),K(null),Q(""),s(!1),u(!0),e.n=17;break;case 16:e.p=16,p=e.v,Gd.error((null==p?void 0:p.message)||"Preview failed");case 17:return e.p=17,w(!1),e.f(17);case 18:return e.a(2)}},e,null,[[3,16,17,18]])}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Ub(Rb().m(function e(){var t,n,r,o,i;return Rb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(j){e.n=1;break}return Gd.error("Please select a date"),e.a(2);case 1:if(t=L.find(function(e){return e.date===j}),t){e.n=2;break}return Gd.error("Selected date not found"),e.a(2);case 2:return C(!0),e.p=3,n=Gd.loading("Summarizing with AIâ€¦",{id:"summarize"}),e.n=4,fetch("".concat(lu.getBaseUrl(),"/sync/campaign/summarize"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({rawText:t.content,sessionDate:j})});case 4:return r=e.v,e.n=5,r.json();case 5:if(o=e.v,r.ok){e.n=6;break}throw new Error((null==o?void 0:o.error)||"Summarization failed");case 6:Gd.success("Summary ready",{id:n}),R({summary:o.summary,sessionDate:j,suggestedTitle:o.suggestedTitle||"Session ".concat(j),rawText:t.content}),U(o.suggestedTitle||"Session ".concat(j)),F(2),e.n=8;break;case 7:e.p=7,i=e.v,Gd.error((null==i?void 0:i.message)||"Summarization failed");case 8:return e.p=8,C(!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Ub(Rb().m(function e(){var t,n,r,i,a;return Rb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(D){e.n=1;break}return e.a(2);case 1:return e.p=1,n=Gd.loading("Creating pageâ€¦",{id:"create-page"}),e.n=2,fetch("".concat(lu.getBaseUrl(),"/sync/campaign/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({summary:D.summary,sessionDate:D.sessionDate,title:H.trim()||D.suggestedTitle,subtitle:$.trim(),worldDate:Y,bannerUrl:X.trim()})});case 2:return r=e.v,e.n=3,r.json();case 3:if(i=e.v,r.ok){e.n=4;break}throw new Error((null==i?void 0:i.error)||"Creation failed");case 4:null!=i&&null!==(t=i.created)&&void 0!==t&&t._id&&(Gd.success("Draft page created",{id:n}),ie("/lore/campaign/".concat(i.created._id)),u(!1),o(!1),U(""),V(""),K(null),Q(""),R(null)),e.n=6;break;case 5:e.p=5,a=e.v,Gd.error((null==a?void 0:a.message)||"Creation failed");case 6:return e.a(2)}},e,null,[[1,5]])}));return function(){return e.apply(this,arguments)}}();return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{className:"lore-create-fab","aria-live":"polite",children:(0,Xe.jsxs)("div",{className:"lcfab__surface","data-open":n,ref:re,role:n?void 0:"button",tabIndex:n?-1:0,"aria-expanded":n,"aria-controls":"lcfab-panel",onClick:n?void 0:function(){return o(!0)},onKeyDown:function(e){n||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(!0))},children:[(0,Xe.jsx)("span",{className:"lcfab__plus","aria-hidden":!0,children:(0,Xe.jsx)("i",{className:"icon icli iconly-Plus"})}),(0,Xe.jsx)("div",{id:"lcfab-panel",className:"lcfab__content","aria-hidden":!n,children:(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper",children:[(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper--option history-option",onClick:function(){return ue("history")},children:[(0,Xe.jsx)(ob,{size:18,className:"lcfab__content_wrapper--option-icon"}),"History"]}),(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper--option campaign-option",onClick:function(){return ue("campaign")},children:[(0,Xe.jsx)(wp,{size:18,className:"lcfab__content_wrapper--option-icon"}),"Campaign"]}),(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper--option people-option",onClick:function(){return ue("people")},children:[(0,Xe.jsx)(lb,{size:18,className:"lcfab__content_wrapper--option-icon"}),"People&Orgs"]}),(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper--option myth-option",onClick:function(){return ue("myth")},children:[(0,Xe.jsx)(fb,{size:18,className:"lcfab__content_wrapper--option-icon"}),"Myths&Legends"]}),ae&&(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper--option sync-option",onClick:function(){s(!0),o(!1)},title:"Import latest session notes from Google Doc and create a draft",children:[(0,Xe.jsx)(gb,{size:22,className:"lcfab__content_wrapper--option-icon"}),"Sync Session from Drive"]}),(0,Xe.jsxs)("div",{className:"lcfab__content_wrapper--option discord-option",onClick:function(){p(!0),o(!1)},title:"Create a Discord event with Apollo bot",children:[(0,Xe.jsx)(xb,{size:22,className:"lcfab__content_wrapper--option-icon"}),"Create Discord Event"]})]})]})})]})}),a&&ae&&(0,Xe.jsx)("div",{className:"lcfab__modal",role:"dialog","aria-modal":"true",onMouseDown:function(e){e.target===e.currentTarget&&s(!1)},children:(0,Xe.jsxs)("div",{className:"lcfab__modal__card",role:"document",children:[(0,Xe.jsx)("div",{className:"lcfab__modal__title",children:"Sync from Google Docs"}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Doc URL or ID"}),(0,Xe.jsx)("input",{className:"lcfab__modal__input",placeholder:"https://docs.google.com/document/d/â€¦ or ID",value:m,onChange:function(e){return g(e.target.value)}}),(0,Xe.jsxs)("div",{className:"checkbox-wrapper",children:[(0,Xe.jsx)("input",{id:"summary-checkbox",type:"checkbox",checked:b,className:"input-checkbox input-checkbox-light",onChange:function(e){return v(e.target.checked)}}),(0,Xe.jsx)("label",{className:"input-checkbox-btn",htmlFor:"summary-checkbox"}),(0,Xe.jsx)("span",{className:"form-label",children:"Summarize with AI (if available)"})]}),(0,Xe.jsxs)("div",{className:"lcfab__modal__actions",children:[(0,Xe.jsx)("button",{className:"modal__btn cancel",onClick:function(){return s(!1)},children:"Cancel"}),(0,Xe.jsx)("button",{className:"modal__btn primary",onClick:fe,disabled:k,children:k?"Loadingâ€¦":"Preview"})]})]})}),c&&ae&&(0,Xe.jsx)("div",{className:"lcfab__modal",role:"dialog","aria-modal":"true",onMouseDown:function(e){e.target===e.currentTarget&&u(!1)},children:(0,Xe.jsx)("div",{className:"lcfab__modal__card lcfab__modal__card--large",role:"document",children:1===B?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{className:"lcfab__modal__title",children:"Select Session to Import"}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Available Sessions"}),(0,Xe.jsxs)("div",{className:"lcfab__modal__dropdown",ref:oe,children:[(0,Xe.jsxs)("button",{type:"button",className:"lcfab__modal__dropdown-toggle",onClick:function(){return N(!P)},children:[(0,Xe.jsx)("span",{children:j||"Select a session"}),(0,Xe.jsx)("span",{className:"lcfab__modal__dropdown-arrow",children:P?"â–²":"â–¼"})]}),P&&(0,Xe.jsx)("div",{className:"lcfab__modal__dropdown-menu",children:0===L.length?(0,Xe.jsx)("div",{className:"lcfab__modal__dropdown-empty",children:"No sessions found"}):L.map(function(e){return(0,Xe.jsx)("button",{type:"button",className:"lcfab__modal__dropdown-item ".concat(j===e.date?"lcfab__modal__dropdown-item--selected":""),onClick:function(){A(e.date),N(!1)},children:e.date},e.date)})})]}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Raw Notes Preview"}),(0,Xe.jsx)("div",{className:"lcfab__modal__preview",style:{maxHeight:"400px",overflowY:"auto"},children:(null===(e=L.find(function(e){return e.date===j}))||void 0===e?void 0:e.content)||"No content"}),(0,Xe.jsxs)("div",{className:"lcfab__modal__actions",children:[(0,Xe.jsx)("button",{className:"modal__btn cancel",onClick:function(){u(!1),F(1),T([]),A("")},children:"Cancel"}),(0,Xe.jsx)("button",{className:"modal__btn primary",onClick:pe,disabled:_||!j,children:_?"Summarizingâ€¦":"Summarize with AI â†’"})]})]}):D?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("div",{className:"lcfab__modal__title",children:[te&&(0,Xe.jsx)(xf,{isOpen:te,onClose:function(){return ne(!1)},onSelect:function(e){Q(e.url),ne(!1)}}),"Preview & Customize Session"]}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Title"}),(0,Xe.jsx)("input",{className:"lcfab__modal__input",placeholder:"Session title",value:H,onChange:function(e){return U(e.target.value)}}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Subtitle (optional)"}),(0,Xe.jsx)("input",{className:"lcfab__modal__input",placeholder:"e.g., The Lost Temple",value:$,onChange:function(e){return V(e.target.value)}}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Session Date"}),(0,Xe.jsx)("input",{className:"lcfab__modal__input",value:D.sessionDate||"",disabled:!0,style:{opacity:.6,cursor:"not-allowed"}}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"World Date (optional)"}),le?(0,Xe.jsx)(hp,{value:Y,onChange:function(e){return K(e)},ts:le,placeholder:"Select world date"}):(0,Xe.jsx)("div",{style:{fontSize:"0.9rem",color:"#999",marginBottom:"1rem"},children:"Loading calendar..."}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"Banner Image (optional)"}),(0,Xe.jsxs)("div",{className:"bannerPreview",style:{backgroundImage:X?"url(".concat(lu.resolveAssetUrl(X),")"):""},children:[X&&X.length>0&&(0,Xe.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},className:"trash-btn",type:"button",onClick:function(){return Q("")},title:"Remove image",children:(0,Xe.jsx)(Rf,{color:"white"})}),!X&&(0,Xe.jsx)("div",{className:"modal__assets_manager",children:(0,Xe.jsx)("button",{type:"button",onClick:function(){return ne(!0)},children:"Add Image"})})]}),(0,Xe.jsx)("label",{className:"lcfab__modal__label",children:"AI Summary Preview"}),(0,Xe.jsx)("div",{className:"lcfab__modal__preview",children:D.summary||"No content"}),(0,Xe.jsxs)("div",{className:"lcfab__modal__actions",children:[(0,Xe.jsx)("button",{className:"modal__btn cancel",onClick:function(){F(1),R(null)},children:"â† Back"}),(0,Xe.jsx)("button",{className:"modal__btn primary",onClick:he,children:"Create Page"})]})]}):null})}),(0,Xe.jsx)(Ib,{isOpen:f,onClose:function(){return p(!1)}})]})},qb=Math.PI/180,Yb="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},Kb={_global:Yb,version:"10.0.8",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>Kb.angleDeg?e*qb:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>Kb.DD.isDragging,isTransforming(){var e,t;return null!==(t=null===(e=Kb.Transformer)||void 0===e?void 0:e.isTransforming())&&void 0!==t&&t},isDragReady:()=>!!Kb.DD.node,releaseCanvasOnDestroy:!0,document:Yb.document,_injectGlobal(e){void 0!==Yb.Konva&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Yb.Konva=e}},Jb=e=>{Kb[e.prototype.getClassName()]=e};Kb._injectGlobal(Kb);const Zb=()=>{if("undefined"==typeof document)throw new Error('Konva.js unsupported environment.\n\nLooks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.\n\nTo use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.\n\nbash: npm install canvas\njs: import "konva/canvas-backend";\n\nor\n\nbash: npm install skia-canvas\njs: import "konva/skia-backend";\n')};class Xb{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Xb(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,o=this.m[1]*t+this.m[3]*n,i=this.m[0]*-n+this.m[2]*t,a=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=o,this.m[2]=i,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,i=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=o,this.m[3]=i,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],i=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=i,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,o=this.m[0]*e,i=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=i,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],o=e*r-t*n,i={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){const a=Math.sqrt(e*e+t*t);i.rotation=t>0?Math.acos(e/a):-Math.acos(e/a),i.scaleX=a,i.scaleY=o/a,i.skewX=(e*n+t*r)/o,i.skewY=0}else if(0!=n||0!=r){const a=Math.sqrt(n*n+r*r);i.rotation=Math.PI/2-(r>0?Math.acos(-n/a):-Math.acos(n/a)),i.scaleX=o/a,i.scaleY=a,i.skewX=0,i.skewY=(e*n+t*r)/o}return i.rotation=av._getRotation(i.rotation),i}}const Qb=Math.PI/180,ev=180/Math.PI,tv="Konva error: ",nv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},rv=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let ov=[];const iv="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},av={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!=typeof e)return!1;const t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){ov.push(e),1===ov.length&&iv(function(){const e=ov;ov=[],e.forEach(function(e){e()})})},createCanvasElement(){Zb();const e=document.createElement("canvas");try{e.style=e.style||{}}catch(e){}return e},createImageElement:()=>(Zb(),document.createElement("img")),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){const n=av.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){let e=(16777215*Math.random()|0).toString(16);for(;e.length<6;)e="0"+e;return"#"+e},getRGB(e){let t;return e in nv?(t=nv[e],{r:t[0],g:t[1],b:t[2]}):"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=rv.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",av._namedColorToRBA(e)||av._hex3ColorToRGBA(e)||av._hex4ColorToRGBA(e)||av._hex6ColorToRGBA(e)||av._hex8ColorToRGBA(e)||av._rgbColorToRGBA(e)||av._rgbaColorToRGBA(e)||av._hslColorToRGBA(e)),_namedColorToRBA(e){const t=nv[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){const t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){const t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,o=Number(n[1])/100,i=Number(n[2])/100;let a,s,l;if(0===o)return l=255*i,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};a=i<.5?i*(1+o):i+o-i*o;const c=2*i-a,u=[0,0,0];for(let e=0;e<3;e++)s=r+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?c+6*(a-c)*s:2*s<1?a:3*s<2?c+(a-c)*(2/3-s)*6:c,u[e]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*Qb,radToDeg:e=>e*ev,_degToRad:e=>(av.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),av.degToRad(e)),_radToDeg:e=>(av.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),av.radToDeg(e)),_getRotation:e=>Kb.angleDeg?av.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(tv+e)},error(e){console.error(tv+e)},warn(e){Kb.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,o,i){let a,s,l;const c=(e-n)*(e-n)+(t-r)*(t-r);if(0==c)a=e,s=t,l=(o-n)*(o-n)+(i-r)*(i-r);else{const u=((o-e)*(n-e)+(i-t)*(r-t))/c;u<0?(a=e,s=t,l=(e-o)*(e-o)+(t-i)*(t-i)):u>1?(a=n,s=r,l=(n-o)*(n-o)+(r-i)*(r-i)):(a=e+u*(n-e),s=t+u*(r-t),l=(a-o)*(a-o)+(s-i)*(s-i))}return[a,s,l]},_getProjectionToLine(e,t,n){const r=av.cloneObject(e);let o=Number.MAX_VALUE;return t.forEach(function(i,a){if(!n&&a===t.length-1)return;const s=t[(a+1)%t.length],l=av._getProjectionToSegment(i.x,i.y,s.x,s.y,e.x,e.y),c=l[0],u=l[1],d=l[2];d<o&&(r.x=c,r.y=u,o=d)}),r},_prepareArrayForTween(e,t,n){const r=[],o=[];if(e.length>t.length){const n=t;t=e,e=n}for(let t=0;t<e.length;t+=2)r.push({x:e[t],y:e[t+1]});for(let e=0;e<t.length;e+=2)o.push({x:t[e],y:t[e+1]});const i=[];return o.forEach(function(e){const t=av._getProjectionToLine(e,r,n);i.push(t.x),i.push(t.y)}),i},_prepareToStringify(e){let t;e.visitedByCircularReferenceRemoval=!0;for(const n in e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||av._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===av._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(...e){Kb.releaseCanvasOnDestroy&&e.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(e,t,n,r){let o=t<0?t:0,i=n<0?n:0;t=Math.abs(t),n=Math.abs(n);let a=0,s=0,l=0,c=0;"number"==typeof r?a=s=l=c=Math.min(r,t/2,n/2):(a=Math.min(r[0]||0,t/2,n/2),s=Math.min(r[1]||0,t/2,n/2),c=Math.min(r[2]||0,t/2,n/2),l=Math.min(r[3]||0,t/2,n/2)),e.moveTo(o+a,i),e.lineTo(o+t-s,i),e.arc(o+t-s,i+s,s,3*Math.PI/2,0,!1),e.lineTo(o+t,i+n-c),e.arc(o+t-c,i+n-c,c,0,Math.PI/2,!1),e.lineTo(o+l,i+n),e.arc(o+l,i+n-l,l,Math.PI/2,Math.PI,!1),e.lineTo(o,i+a),e.arc(o+a,i+a,a,Math.PI,3*Math.PI/2,!1)},drawRoundedPolygonPath(e,t,n,r,o){r=Math.abs(r);for(let i=0;i<n;i++){const a=t[(i-1+n)%n],s=t[i],l=t[(i+1)%n],c={x:s.x-a.x,y:s.y-a.y},u={x:l.x-s.x,y:l.y-s.y},d=Math.hypot(c.x,c.y),f=Math.hypot(u.x,u.y);let p;p="number"==typeof o?o:i<o.length?o[i]:0,p=r*Math.cos(Math.PI/n)*Math.min(1,p/r*2);const h={x:c.x/d,y:c.y/d},m={x:u.x/f,y:u.y/f},g={x:s.x-h.x*p,y:s.y-h.y*p},y={x:s.x+m.x*p,y:s.y+m.y*p};0===i?e.moveTo(g.x,g.y):e.lineTo(g.x,g.y),e.arcTo(s.x,s.y,y.x,y.y,p)}}},sv=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];let lv,cv=null;function uv(){if(null!==cv)return cv;try{const e=av.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(cv=!1,!1)}catch(e){return cv=!1,!1}}class dv{constructor(e){this.canvas=e,Kb.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let n,r,o,i,a=this.traceArr,s=a.length,l="";for(n=0;n<s;n++)r=a[n],o=r.method,o?(i=r.args,l+=o,e?l+="()":av._isArray(i[0])?l+="(["+i.join(",")+"])":(t&&(i=i.map(e=>"number"==typeof e?Math.floor(e):e)),l+="("+i.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(e){let t,n=this.traceArr;n.push(e),t=n.length,t>=100&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}_applyMiterLimit(e){const t=e.attrs.miterLimit;null!=t&&this.setAttr("miterLimit",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,o,i){this._context.arc(e,t,n,r,o,i)}arcTo(e,t,n,r,o){this._context.arcTo(e,t,n,r,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,o,i){this._context.bezierCurveTo(e,t,n,r,o,i)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){const n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,o,i){return this._context.createRadialGradient(e,t,n,r,o,i)}drawImage(e,t,n,r,o,i,a,s,l){const c=arguments,u=this._context;3===c.length?u.drawImage(e,t,n):5===c.length?u.drawImage(e,t,n,r,o):9===c.length&&u.drawImage(e,t,n,r,o,i,a,s,l)}ellipse(e,t,n,r,o,i,a,s){this._context.ellipse(e,t,n,r,o,i,a,s)}isPointInPath(e,t,n,r){return n?this._context.isPointInPath(n,e,t,r):this._context.isPointInPath(e,t,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}roundRect(e,t,n,r,o){this._context.roundRect(e,t,n,r,o)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,o,i){this._context.setTransform(e,t,n,r,o,i)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,o,i){this._context.transform(e,t,n,r,o,i)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e,t,n=this,r=sv.length,o=this.setAttr;const i=function(e){let r,o=n[e];n[e]=function(){return t=function(e){const t=[],n=e.length,r=av;for(let o=0;o<n;o++){let n=e[o];r._isNumber(n)?n=Math.round(1e3*n)/1e3:r._isString(n)||(n+=""),t.push(n)}return t}(Array.prototype.slice.call(arguments,0)),r=o.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)i(sv[e]);n.setAttr=function(){o.apply(n,arguments);const e=arguments[0];let t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"].forEach(function(e){Object.defineProperty(dv.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class fv extends dv{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)return void this._fillColor(e);const r=e.getFillPatternImage();if(r&&"pattern"===n)return void this._fillPattern(e);const o=e.getFillLinearGradientColorStops();if(o&&"linear-gradient"===n)return void this._fillLinearGradient(e);const i=e.getFillRadialGradientColorStops();i&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):o?this._fillLinearGradient(e):i&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(let e=0;e<r.length;e+=2)o.addColorStop(r[e],r[e+1]);this.setAttr("strokeStyle",o)}}_stroke(e){const t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r;const o=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",i=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,a=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=s.x*l,u=s.y*l;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",i*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",a.x*c),this.setAttr("shadowOffsetY",a.y*u)}}class pv extends dv{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),r="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}class hv{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const t=(e||{}).pixelRatio||Kb.pixelRatio||function(){if(lv)return lv;const e=av.createCanvasElement(),t=e.getContext("2d");return lv=(Kb._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),av.releaseCanvas(e),lv}();this.pixelRatio=t,this._canvas=av.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return av.error("Unable to get data URL. "+e.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class mv extends hv{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new fv(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function gv(){const e=av.createCanvasElement();e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.clearRect(0,0,1,1),t.fillStyle="rgba(255,0,255,1)",t.fillRect(0,0,1,1);const n=t.getImageData(0,0,1,1).data;return!(255===n[0]&&0===n[1]&&255===n[2]&&255===n[3])}function yv(){var e,t;return"undefined"!=typeof navigator&&null!==(t=null===(e=navigator.brave)||void 0===e?void 0:e.isBrave())&&void 0!==t&&t}let bv=!1;class vv extends hv{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new pv(this),this.setSize(e.width,e.height),yv()&&gv()&&!bv&&(bv=!0,av.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),yv()&&gv()}}const xv={get isDragging(){let e=!1;return xv._dragElements.forEach(t=>{"dragging"===t.dragStatus&&(e=!0)}),e},justDragged:!1,get node(){let e;return xv._dragElements.forEach(t=>{e=t.node}),e},_dragElements:new Map,_drag(e){const t=[];xv._dragElements.forEach((n,r)=>{const{node:o}=n,i=o.getStage();i.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=av._getFirstPointerId(e));const a=i._changedPointerPositions.find(e=>e.id===n.pointerId);if(a){if("dragging"!==n.dragStatus){const t=o.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<t)return;if(o.startDrag({evt:e}),!o.isDragging())return}o._setDragPosition(e,n),t.push(o)}}),t.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)})},_endDragBefore(e){const t=[];xv._dragElements.forEach(n=>{const{node:r}=n,o=r.getStage();if(e&&o.setPointersPositions(e),!o._changedPointerPositions.find(e=>e.id===n.pointerId))return;"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(xv.justDragged=!0,Kb._mouseListenClick=!1,Kb._touchListenClick=!1,Kb._pointerListenClick=!1,n.dragStatus="stopped");const i=n.node.getLayer()||n.node instanceof Kb.Stage&&n.node;i&&-1===t.indexOf(i)&&t.push(i)}),t.forEach(e=>{e.draw()})},_endDragAfter(e){xv._dragElements.forEach((t,n)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&xv._dragElements.delete(n)})}};function kv(e){return av._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||av._isBoolean(e)?e:Object.prototype.toString.call(e)}function wv(e){return e>255?255:e<0?0:Math.round(e)}function Sv(){if(Kb.isUnminified)return function(e,t){return av._isNumber(e)||av.warn(kv(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function _v(e){if(Kb.isUnminified)return function(t,n){let r=av._isNumber(t),o=av._isArray(t)&&t.length==e;return r||o||av.warn(kv(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function Cv(){if(Kb.isUnminified)return function(e,t){return av._isNumber(e)||"auto"===e||av.warn(kv(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function Ev(){if(Kb.isUnminified)return function(e,t){return av._isString(e)||av.warn(kv(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function Lv(){if(Kb.isUnminified)return function(e,t){const n=av._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||av.warn(kv(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function Tv(){if(Kb.isUnminified)return function(e,t){return!0===e||!1===e||av.warn(kv(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}Kb.isBrowser&&(window.addEventListener("mouseup",xv._endDragBefore,!0),window.addEventListener("touchend",xv._endDragBefore,!0),window.addEventListener("touchcancel",xv._endDragBefore,!0),window.addEventListener("mousemove",xv._drag),window.addEventListener("touchmove",xv._drag),window.addEventListener("mouseup",xv._endDragAfter,!1),window.addEventListener("touchend",xv._endDragAfter,!1),window.addEventListener("touchcancel",xv._endDragAfter,!1));const Mv="get",jv="set",Av={addGetterSetter(e,t,n,r,o){Av.addGetter(e,t,n),Av.addSetter(e,t,r,o),Av.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){const r=Mv+av._capitalize(t);e.prototype[r]=e.prototype[r]||function(){const e=this.attrs[t];return void 0===e?n:e}},addSetter(e,t,n,r){const o=jv+av._capitalize(t);e.prototype[o]||Av.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){const o=jv+av._capitalize(t);e.prototype[o]=function(e){return n&&null!=e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,o){const i=n.length,a=av._capitalize,s=Mv+a(t),l=jv+a(t);e.prototype[s]=function(){const e={};for(let r=0;r<i;r++){const o=n[r];e[o]=this.getAttr(t+a(o))}return e};const c=function(e){if(Kb.isUnminified)return function(t,n){return null==t||av.isObject(t)||av.warn(kv(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[l]=function(e){const i=this.attrs[t];r&&(e=r.call(this,e,t)),c&&c.call(this,e,t);for(const n in e)e.hasOwnProperty(n)&&this._setAttr(t+a(n),e[n]);return e||n.forEach(e=>{this._setAttr(t+a(e),void 0)}),this._fireChangeEvent(t,i,e),o&&o.call(this),this},Av.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){const n=av._capitalize(t),r=jv+n,o=Mv+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter(e,t,n,r){av.error("Adding deprecated "+t);const o=Mv+av._capitalize(t),i=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[o]=function(){av.error(i);const e=this.attrs[t];return void 0===e?n:e},Av.addSetter(e,t,r,function(){av.error(i)}),Av.addOverloadedGetterSetter(e,t)},backCompat(e,t){av.each(t,function(t,n){const r=e.prototype[n],o=Mv+av._capitalize(t),i=jv+av._capitalize(t);function a(){r.apply(this,arguments),av.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=a,e.prototype[o]=a,e.prototype[i]=a})},afterSetFilter(){this._filterUpToDate=!1}};function Ov(e){const t=/(\w+)\(([^)]+)\)/g;let n;for(;null!==(n=t.exec(e));){const[,e,t]=n;switch(e){case"blur":{const e=parseFloat(t.replace("px",""));return function(t){this.blurRadius(.5*e);const n=Kb.Filters;n&&n.Blur&&n.Blur.call(this,t)}}case"brightness":{const e=t.includes("%")?parseFloat(t)/100:parseFloat(t);return function(t){this.brightness(e);const n=Kb.Filters;n&&n.Brightness&&n.Brightness.call(this,t)}}case"contrast":{const e=parseFloat(t);return function(t){const n=100*(Math.sqrt(e)-1);this.contrast(n);const r=Kb.Filters;r&&r.Contrast&&r.Contrast.call(this,t)}}case"grayscale":return function(e){const t=Kb.Filters;t&&t.Grayscale&&t.Grayscale.call(this,e)};case"sepia":return function(e){const t=Kb.Filters;t&&t.Sepia&&t.Sepia.call(this,e)};case"invert":return function(e){const t=Kb.Filters;t&&t.Invert&&t.Invert.call(this,e)};default:av.warn(`CSS filter "${e}" is not supported in fallback mode. Consider using function filters for better compatibility.`)}}return()=>{}}const Pv="absoluteOpacity",Nv="allEventListeners",Iv="absoluteTransform",Dv="absoluteScale",Rv="canvas",zv="listening",Bv="Shape",Fv=" ",Wv="stage",Hv="transform",Uv="visible",Gv=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Fv);let $v=1;class Vv{constructor(e){this._id=$v++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==Hv&&e!==Iv||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){let n=this._cache.get(e);return(void 0===n||(e===Hv||e===Iv)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map(e=>e+"Change.konva").join(Fv);this.on(n,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Rv)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Iv&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Rv)){const{scene:e,filter:t,hit:n,buffer:r}=this._cache.get(Rv);av.releaseCanvas(e,t,n,r),this._cache.delete(Rv)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(t.width||n.width),o=Math.ceil(t.height||n.height),i=t.pixelRatio,a=void 0===t.x?Math.floor(n.x):t.x,s=void 0===t.y?Math.floor(n.y):t.y,l=t.offset||0,c=t.drawBorder||!1,u=t.hitCanvasPixelRatio||1;if(!r||!o)return void av.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");r+=2*l+(Math.abs(Math.round(n.x)-a)>.5?1:0),o+=2*l+(Math.abs(Math.round(n.y)-s)>.5?1:0),a-=l,s-=l;const d=new mv({pixelRatio:i,width:r,height:o}),f=new mv({pixelRatio:i,width:0,height:0,willReadFrequently:!0}),p=new vv({pixelRatio:u,width:r,height:o}),h=d.getContext(),m=p.getContext(),g=new mv({width:d.width/d.pixelRatio+Math.abs(a),height:d.height/d.pixelRatio+Math.abs(s),pixelRatio:d.pixelRatio}),y=g.getContext();return p.isCache=!0,d.isCache=!0,this._cache.delete(Rv),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,f.getContext()._context.imageSmoothingEnabled=!1),h.save(),m.save(),y.save(),h.translate(-a,-s),m.translate(-a,-s),y.translate(-a,-s),g.x=a,g.y=s,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Pv),this._clearSelfAndDescendantCache(Dv),this.drawScene(d,this,g),this.drawHit(p,this),this._isUnderCache=!1,h.restore(),m.restore(),c&&(h.save(),h.beginPath(),h.rect(0,0,r,o),h.closePath(),h.setAttr("strokeStyle","red"),h.setAttr("lineWidth",5),h.stroke(),h.restore()),this._cache.set(Rv,{scene:d,filter:f,hit:p,buffer:g,x:a,y:s}),this._requestDraw(),this}isCached(){return this._cache.has(Rv)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,o=1/0,i=-1/0,a=-1/0;const s=this.getAbsoluteTransform(t);return n.forEach(function(e){const t=s.point(e);void 0===r&&(r=i=t.x,o=a=t.y),r=Math.min(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x),a=Math.max(a,t.y)}),{x:r,y:o,width:i-r,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e,t,n,r,o=this.filters(),i=this._getCanvasCache(),a=i.scene,s=i.filter,l=s.getContext();if(!o||0===o.length)return a;if(this._filterUpToDate)return s;let c=!0;for(let e=0;e<o.length;e++)if("string"==typeof o[e]&&uv(),"string"!=typeof o[e]||!uv()){c=!1;break}const u=a.pixelRatio;if(s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),c){const e=o.join(" ");return l.save(),l.setAttr("filter",e),l.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),l.restore(),this._filterUpToDate=!0,s}try{for(e=o.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++)r=o[n],"string"==typeof r&&(r=Ov(r)),r.call(this,t),l.putImageData(t,0,0)}catch(e){av.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,t){if(this._cache&&this._cache.delete(Nv),3===arguments.length)return this._delegate.apply(this,arguments);const n=e.split(Fv);for(let e=0;e<n.length;e++){const r=n[e].split("."),o=r[0],i=r[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:i,handler:t})}return this}off(e,t){let n,r,o,i,a,s,l=(e||"").split(Fv),c=l.length;if(this._cache&&this._cache.delete(Nv),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<c;n++)if(o=l[n],i=o.split("."),a=i[0],s=i[1],a)this.eventListeners[a]&&this._off(a,s,t);else for(r in this.eventListeners)this._off(r,s,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(e){t.call(this,e.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){const r=this;this.on(e,function(e){const o=e.target.findAncestors(t,!0,r);for(let t=0;t<o.length;t++)(e=av.cloneObject(e)).currentTarget=o[t],n.call(o[t],e)})}remove(){return this.isDragging()&&this.stopDrag(),xv._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Iv),this._clearSelfAndDescendantCache(Pv),this._clearSelfAndDescendantCache(Dv),this._clearSelfAndDescendantCache(Wv),this._clearSelfAndDescendantCache(Uv),this._clearSelfAndDescendantCache(zv)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+av._capitalize(e);return av._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+av._capitalize(t),av._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(zv,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(Uv,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let r=!1;xv._dragElements.forEach(e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)});const o=!t&&!Kb.hitOnDragEnabled&&(r||Kb.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e,t,n,r,o=this.getDepth(),i=this,a=0;const s=this.getStage();return"Stage"!==i.nodeType&&s&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],a++,r.nodeType!==Bv&&(e=e.concat(r.getChildren().slice())),r._id===i._id&&(n=t);e.length>0&&e[0].getDepth()<=o&&s(e)}(s.getChildren()),a}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Hv),this._clearSelfAndDescendantCache(Iv)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),o=new Xb,i=this.offset();return o.m=r.slice(),o.translate(i.x,i.y),o.getTranslation()}setAbsolutePosition(e){const{x:t,y:n,...r}=this._clearTransform();this.attrs.x=t,this.attrs.y=n,this._clearCache(Hv);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(Hv),this._clearSelfAndDescendantCache(Iv),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,n=e.y,r=this.x(),o=this.y();return void 0!==t&&(r+=t),void 0!==n&&(o+=n),this.setPosition({x:r,y:o}),this}_eachAncestorReverse(e,t){let n,r,o=[],i=this.getParent();if(!t||t._id!==this._id){for(o.unshift(this);i&&(!t||i._id!==t._id);)o.unshift(i),i=i.parent;for(n=o.length,r=0;r<n;r++)e(o[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return av.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return av.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return av.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return av.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return av.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&av.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Pv,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e,t,n,r,o,i=this.getAttrs();const a={attrs:{},className:this.getClassName()};for(e in i)t=i[e],o=av.isObject(t)&&!av._isPlainObject(t)&&!av._isArray(t),o||(n="function"==typeof this[e]&&this[e],delete i[e],r=n?n.call(this):null,i[e]=t,r!==t&&(a.attrs[e]=t));return av._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){const r=[];t&&this._isMatch(e)&&r.push(this);let o=this.parent;for(;o;){if(o===n)return r;o._isMatch(e)&&r.push(o),o=o.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);let t,n,r=e.replace(/ /g,"").split(","),o=r.length;for(t=0;t<o;t++)if(n=r[t],av.isValidSelector(n)||(av.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),av.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),av.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Wv,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,t={},n){return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Iv,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new Xb,this._eachAncestorReverse(function(e){const n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())},e),t;{t=this._cache.get(Iv)||new Xb,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const e=this.transformsEnabled();if("all"===e)t.multiply(this.getTransform());else if("position"===e){const e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,o=this.attrs.offsetY||0;t.translate(e-r,n-o)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Hv,this._getTransform)}_getTransform(){var e,t;const n=this._cache.get(Hv)||new Xb;n.reset();const r=this.x(),o=this.y(),i=Kb.getAngle(this.rotation()),a=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,s=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,l=this.attrs.skewX||0,c=this.attrs.skewY||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return 0===r&&0===o||n.translate(r,o),0!==i&&n.rotate(i),0===l&&0===c||n.skew(l,c),1===a&&1===s||n.scale(a,s),0===u&&0===d||n.translate(-1*u,-1*d),n.dirty=!1,n}clone(e){let t,n,r,o,i,a=av.cloneObject(this.attrs);for(t in e)a[t]=e[t];const s=new this.constructor(a);for(t in this.eventListeners)for(n=this.eventListeners[t],r=n.length,o=0;o<r;o++)i=n[o],i.name.indexOf("konva")<0&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(i));return s}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),o=void 0!==e.y?e.y:Math.floor(t.y),i=e.pixelRatio||1,a=new mv({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:i}),s=a.getContext(),l=new mv({width:a.width/a.pixelRatio+Math.abs(r),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return!1===e.imageSmoothingEnabled&&(s._context.imageSmoothingEnabled=!1),s.save(),(r||o)&&s.translate(-1*r,-1*o),this.drawScene(a,void 0,l),s.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){const t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){return new Promise((t,n)=>{try{const n=null==e?void 0:e.callback;n&&delete e.callback,av._urlToImage(this.toDataURL(e),function(e){t(e),null==n||n(e)})}catch(e){n(e)}})}toBlob(e){return new Promise((t,n)=>{try{const n=null==e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob(e=>{t(e),null==n||n(e)},null==e?void 0:e.mimeType,null==e?void 0:e.quality)}catch(e){n(e)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kb.dragDistance}_off(e,t,n){let r,o,i,a=this.eventListeners[e];for(r=0;r<a.length;r++)if(o=a[r].name,i=a[r].handler,!("konva"===o&&"konva"!==t||t&&o!==t||n&&n!==i)){if(a.splice(r,1),0===a.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){const t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){const t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){const n=this["set"+av._capitalize(e)];return av._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(Kb.autoDrawEnabled){const e=this.getLayer()||this.getStage();null==e||e.batchDraw()}}_setAttr(e,t){const n=this.attrs[e];(n!==t||av.isObject(t))&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){let r;void 0!==n&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){t&&this.nodeType===Bv&&(t.target=this);const r=["mouseenter","mouseleave","pointerenter","pointerleave","touchenter","touchleave"];if(-1===r.indexOf(e)||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this._fire(e,t);const o=-1!==r.indexOf(e)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,n,r;const o=null!==(t=this._cache.get(Nv))&&void 0!==t?t:{};let i=null==o?void 0:o[e];if(void 0===i){i=[];let t=Object.getPrototypeOf(this);for(;t;){const o=null!==(r=null===(n=t.eventListeners)||void 0===n?void 0:n[e])&&void 0!==r?r:[];i.push(...o),t=Object.getPrototypeOf(t)}o[e]=i,this._cache.set(Nv,o)}return i}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(let e=0;e<n.length;e++)n[e].handler.call(this,t);const r=this.eventListeners[e];if(r)for(let e=0;e<r.length;e++)r[e].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition();if(!n)return;const o=n._getPointerById(t)||n._changedPointerPositions[0]||r;xv._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-r.x,y:o.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){xv._dragElements.has(this._id)||this._createDragElement(e),xv._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(!n)return;let r={x:n.x-t.offset.x,y:n.y-t.offset.y};const o=this.dragBoundFunc();if(void 0!==o){const t=o.call(this,r,e);t?r=t:av.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const t=xv._dragElements.get(this._id);t&&(t.dragStatus="stopped"),xv._endDragBefore(e),xv._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=xv._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(void 0===e.evt.button||Kb.dragButtons.indexOf(e.evt.button)>=0))return;if(this.isDragging())return;let t=!1;xv._dragElements.forEach(e=>{this.isAncestorOf(e.node)&&(t=!0)}),t||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=xv._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&xv._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return av.haveIntersection(n,this.getClientRect())}static create(e,t){return av._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let n,r,o,i=Vv.prototype.getClassName.call(e),a=e.children;if(t&&(e.attrs.container=t),Kb[i]||(av.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape"),n=new(0,Kb[i])(e.attrs),a)for(r=a.length,o=0;o<r;o++)n.add(Vv._createNode(a[o]));return n}}Vv.prototype.nodeType="Node",Vv.prototype._attrsAffectingSize=[],Vv.prototype.eventListeners={},Vv.prototype.on.call(Vv.prototype,Gv,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Hv),this._clearSelfAndDescendantCache(Iv))}),Vv.prototype.on.call(Vv.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Uv)}),Vv.prototype.on.call(Vv.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(zv)}),Vv.prototype.on.call(Vv.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Pv)});const qv=Av.addGetterSetter;qv(Vv,"zIndex"),qv(Vv,"absolutePosition"),qv(Vv,"position"),qv(Vv,"x",0,Sv()),qv(Vv,"y",0,Sv()),qv(Vv,"globalCompositeOperation","source-over",Ev()),qv(Vv,"opacity",1,Sv()),qv(Vv,"name","",Ev()),qv(Vv,"id","",Ev()),qv(Vv,"rotation",0,Sv()),Av.addComponentsGetterSetter(Vv,"scale",["x","y"]),qv(Vv,"scaleX",1,Sv()),qv(Vv,"scaleY",1,Sv()),Av.addComponentsGetterSetter(Vv,"skew",["x","y"]),qv(Vv,"skewX",0,Sv()),qv(Vv,"skewY",0,Sv()),Av.addComponentsGetterSetter(Vv,"offset",["x","y"]),qv(Vv,"offsetX",0,Sv()),qv(Vv,"offsetY",0,Sv()),qv(Vv,"dragDistance",void 0,Sv()),qv(Vv,"width",0,Sv()),qv(Vv,"height",0,Sv()),qv(Vv,"listening",!0,Tv()),qv(Vv,"preventDefault",!0,Tv()),qv(Vv,"filters",void 0,function(e){return this._filterUpToDate=!1,e}),qv(Vv,"visible",!0,Tv()),qv(Vv,"transformsEnabled","all",Ev()),qv(Vv,"size"),qv(Vv,"dragBoundFunc"),qv(Vv,"draggable",!1,Tv()),Av.backCompat(Vv,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Yv extends Vv{constructor(){super(...arguments),this.children=[]}getChildren(e){const t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(0===e.length)return this;if(e.length>1){for(let t=0;t<e.length;t++)this.add(e[t]);return this}const t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const n=[];return this._descendants(r=>{const o=r._isMatch(e);return o&&n.push(r),!(!o||!t)}),n}_descendants(e){let t=!1;const n=this.getChildren();for(const r of n){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){const e=Vv.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=Vv.prototype.clone.call(this,e);return this.getChildren().forEach(function(e){t.add(e.clone())}),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&t.push(n)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach(function(t){t._clearSelfAndDescendantCache(e)})}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach(function(e,t){e.index=t}),this._requestDraw()}drawScene(e,t,n){const r=this.getLayer(),o=e||r&&r.getCanvas(),i=o&&o.getContext(),a=this._getCanvasCache(),s=a&&a.scene,l=o&&o.isCache;if(!this.isVisible()&&!l)return this;if(s){i.save();const e=this.getAbsoluteTransform(t).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",o,t,n);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const n=this.getLayer(),r=e||n&&n.hitCanvas,o=r&&r.getContext(),i=this._getCanvasCache();if(i&&i.hit){o.save();const e=this.getAbsoluteTransform(t).getMatrix();o.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n,r){var o;const i=t&&t.getContext(),a=this.clipWidth(),s=this.clipHeight(),l=this.clipFunc(),c="number"==typeof a&&"number"==typeof s||l,u=n===this;if(c){i.save();const e=this.getAbsoluteTransform(n);let t,r=e.getMatrix();if(i.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i.beginPath(),l)t=l.call(this,i,this);else{const e=this.clipX(),t=this.clipY();i.rect(e||0,t||0,a,s)}i.clip.apply(i,t),r=e.copy().invert().getMatrix(),i.transform(r[0],r[1],r[2],r[3],r[4],r[5])}const d=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;d&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(o=this.children)||void 0===o||o.forEach(function(o){o[e](t,n,r)}),d&&i.restore(),c&&i.restore()}getClientRect(e={}){var t;const n=e.skipTransform,r=e.relativeTo;let o,i,a,s,l={x:1/0,y:1/0,width:0,height:0};const c=this;null===(t=this.children)||void 0===t||t.forEach(function(t){if(!t.visible())return;const n=t.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===n.width&&0===n.height||(void 0===o?(o=n.x,i=n.y,a=n.x+n.width,s=n.y+n.height):(o=Math.min(o,n.x),i=Math.min(i,n.y),a=Math.max(a,n.x+n.width),s=Math.max(s,n.y+n.height)))});const u=this.find("Shape");let d=!1;for(let e=0;e<u.length;e++)if(u[e]._isVisible(this)){d=!0;break}return l=d&&void 0!==o?{x:o,y:i,width:a-o,height:s-i}:{x:0,y:0,width:0,height:0},n?l:this._transformedRect(l,r)}}Av.addComponentsGetterSetter(Yv,"clip",["x","y","width","height"]),Av.addGetterSetter(Yv,"clipX",void 0,Sv()),Av.addGetterSetter(Yv,"clipY",void 0,Sv()),Av.addGetterSetter(Yv,"clipWidth",void 0,Sv()),Av.addGetterSetter(Yv,"clipHeight",void 0,Sv()),Av.addGetterSetter(Yv,"clipFunc");const Kv=new Map,Jv=void 0!==Kb._global.PointerEvent;function Zv(e){return Kv.get(e)}function Xv(e){return{evt:e,pointerId:e.pointerId}}function Qv(e,t){return Kv.get(e)===t}function ex(e,t){tx(e),t.getStage()&&(Kv.set(e,t),Jv&&t._fire("gotpointercapture",Xv(new PointerEvent("gotpointercapture"))))}function tx(e,t){const n=Kv.get(e);if(!n)return;const r=n.getStage();r&&r.content,Kv.delete(e),Jv&&n._fire("lostpointercapture",Xv(new PointerEvent("lostpointercapture")))}const nx="mouseleave",rx="mouseover",ox="mouseenter",ix="mousemove",ax="mousedown",sx="mouseup",lx="pointermove",cx="pointerdown",ux="pointerup",dx="pointercancel",fx="pointerout",px="pointerleave",hx="pointerover",mx="pointerenter",gx="contextmenu",yx="touchstart",bx="touchend",vx="touchmove",xx="touchcancel",kx="wheel",wx=[[ox,"_pointerenter"],[ax,"_pointerdown"],[ix,"_pointermove"],[sx,"_pointerup"],[nx,"_pointerleave"],[yx,"_pointerdown"],[vx,"_pointermove"],[bx,"_pointerup"],[xx,"_pointercancel"],[rx,"_pointerover"],[kx,"_wheel"],[gx,"_contextmenu"],[cx,"_pointerdown"],[lx,"_pointermove"],[ux,"_pointerup"],[dx,"_pointercancel"],[px,"_pointerleave"],["lostpointercapture","_lostpointercapture"]],Sx={mouse:{[fx]:"mouseout",[px]:nx,[hx]:rx,[mx]:ox,[lx]:ix,[cx]:ax,[ux]:sx,[dx]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[fx]:"touchout",[px]:"touchleave",[hx]:"touchover",[mx]:"touchenter",[lx]:vx,[cx]:yx,[ux]:bx,[dx]:xx,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[fx]:fx,[px]:px,[hx]:hx,[mx]:mx,[lx]:lx,[cx]:cx,[ux]:ux,[dx]:dx,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},_x=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",Cx=e=>{const t=_x(e);return"pointer"===t?Kb.pointerEventsEnabled&&Sx.pointer:"touch"===t?Sx.touch:"mouse"===t?Sx.mouse:void 0};function Ex(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&av.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const Lx=[];class Tx extends Yv{constructor(e){super(Ex(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Lx.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ex(this.attrs)}),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||av.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){let t;if("."===e.charAt(0)){const t=e.slice(1);e=document.getElementsByClassName(t)[0]}else t="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container="undefined"!=typeof document&&document.createElement("div"),Yv.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&av._isInDocument(e)&&this.container().removeChild(e);const t=Lx.indexOf(this);return t>-1&&Lx.splice(t,1),av.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(av.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e={...e}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new mv({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach(function(t){if(!t.isVisible())return;const r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}),t}getIntersection(e){if(!e)return null;const t=this.children;for(let n=t.length-1;n>=0;n--){const r=t[n].getIntersection(e);if(r)return r}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(n=>{n.setSize({width:e,height:t}),n.draw()})}add(e,...t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}super.add(e);const n=this.children.length;return n>5&&av.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Kb.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Qv(e,this)}setPointerCapture(e){ex(e,this)}releaseCapture(e){tx(e)}getLayers(){return this.children}_bindContentEvents(){Kb.isBrowser&&wx.forEach(([e,t])=>{this.content.addEventListener(e,e=>{this[t](e)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const t=Cx(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=Cx(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=Cx(e.type),n=_x(e.type);if(!t)return;this.setPointersPositions(e);const r=this._getTargetShape(n),o=!(Kb.isDragging()||Kb.isTransforming())||Kb.hitOnDragEnabled;r&&o?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=Cx(e.type),n=_x(e.type);if(!t)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach(o=>{const i=this.getIntersection(o);if(xv.justDragged=!1,Kb["_"+n+"ListenClick"]=!0,!i||!i.isListening())return void(this[n+"ClickStartShape"]=void 0);Kb.capturePointerEventsEnabled&&i.setPointerCapture(o.id),this[n+"ClickStartShape"]=i,i._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),r=!0;const a=e.type.indexOf("touch")>=0;i.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=Cx(e.type),n=_x(e.type);if(!t)return;const r=e.type.indexOf("touch")>=0||"touch"===e.pointerType;if(Kb.isDragging()&&xv.node.preventDefault()&&e.cancelable&&r&&e.preventDefault(),this.setPointersPositions(e),(Kb.isDragging()||Kb.isTransforming())&&!Kb.hitOnDragEnabled)return;const o={};let i=!1;const a=this._getTargetShape(n);this._changedPointerPositions.forEach(r=>{const s=Zv(r.id)||this.getIntersection(r),l=r.id,c={evt:e,pointerId:l},u=a!==s;if(u&&a&&(a._fireAndBubble(t.pointerout,{...c},s),a._fireAndBubble(t.pointerleave,{...c},s)),s){if(o[s._id])return;o[s._id]=!0}s&&s.isListening()?(i=!0,u&&(s._fireAndBubble(t.pointerover,{...c},a),s._fireAndBubble(t.pointerenter,{...c},a),this[n+"targetShape"]=s),s._fireAndBubble(t.pointermove,{...c})):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)}),i||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=Cx(e.type),n=_x(e.type);if(!t)return;this.setPointersPositions(e);const r=this[n+"ClickStartShape"],o=this[n+"ClickEndShape"],i={};let a=!1;this._changedPointerPositions.forEach(s=>{const l=Zv(s.id)||this.getIntersection(s);if(l){if(l.releaseCapture(s.id),i[l._id])return;i[l._id]=!0}const c=s.id,u={evt:e,pointerId:c};let d=!1;Kb["_"+n+"InDblClickWindow"]?(d=!0,clearTimeout(this[n+"DblTimeout"])):xv.justDragged||(Kb["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){Kb["_"+n+"InDblClickWindow"]=!1},Kb.dblClickWindow),l&&l.isListening()?(a=!0,this[n+"ClickEndShape"]=l,l._fireAndBubble(t.pointerup,{...u}),Kb["_"+n+"ListenClick"]&&r&&r===l&&(l._fireAndBubble(t.pointerclick,{...u}),d&&o&&o===l&&l._fireAndBubble(t.pointerdblclick,{...u}))):(this[n+"ClickEndShape"]=null,a||(this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),Kb["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:c}),d&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:c}))}),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Kb["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&"pointer"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(gx,{evt:e}):this._fire(gx,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(kx,{evt:e}):this._fire(kx,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=Zv(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(ux,Xv(e)),tx(e.pointerId)}_lostpointercapture(e){tx(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let n=null,r=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})):(n=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:av._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:r,id:av._getFirstPointerId(e)}])}_setPointerPosition(e){av.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new mv({width:this.width(),height:this.height()}),this.bufferHitCanvas=new vv({pixelRatio:1,width:this.width(),height:this.height()}),!Kb.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return av.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Tx.prototype.nodeType="Stage",Jb(Tx),Av.addGetterSetter(Tx,"container"),Kb.isBrowser&&document.addEventListener("visibilitychange",()=>{Lx.forEach(e=>{e.batchDraw()})});const Mx="hasShadow",jx="shadowRGBA",Ax="patternImage",Ox="linearGradient",Px="radialGradient";let Nx;function Ix(){return Nx||(Nx=av.createCanvasElement().getContext("2d"),Nx)}const Dx={};class Rx extends Vv{constructor(e){let t;for(super(e);t=av.getRandomColor(),!t||t in Dx;);this.colorKey=t,Dx[t]=this}getContext(){return av.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return av.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Mx,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Ax,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=Ix().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new Xb;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(Kb.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),r="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(r)}return e}}_getLinearGradient(){return this._getCache(Ox,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=Ix(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(n.x,n.y,r.x,r.y);for(let t=0;t<e.length;t+=2)o.addColorStop(e[t],e[t+1]);return o}}_getRadialGradient(){return this._getCache(Px,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=Ix(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let t=0;t<e.length;t+=2)o.addColorStop(e[t],e[t+1]);return o}}getShadowRGBA(){return this._getCache(jx,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=av.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const n=t.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Vv.prototype.destroy.call(this),delete Dx[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(null!==(t=this.attrs.perfectDrawEnabled)&&void 0!==t&&!t)return!1;const n=e||this.hasFill(),r=this.hasStroke(),o=1!==this.getAbsoluteOpacity();if(n&&r&&o)return!0;const i=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&i&&a)}setStrokeHitEnabled(e){av.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,n=this.getParent();for(;n;){if(n.isCached()){t=!0;break}n=n.getParent()}const r=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,i=this.getSelfRect(),a=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,s=i.width+a,l=i.height+a,c=!e.skipShadow&&this.hasShadow(),u=c?this.shadowOffsetX():0,d=c?this.shadowOffsetY():0,f=s+Math.abs(u),p=l+Math.abs(d),h=c&&this.shadowBlur()||0,m={width:f+2*h,height:p+2*h,x:-(a/2+h)+Math.min(u,0)+i.x,y:-(a/2+h)+Math.min(d,0)+i.y};return r?m:this._transformedRect(m,o)}drawScene(e,t,n){const r=this.getLayer(),o=(e||r.getCanvas()).getContext(),i=this._getCanvasCache(),a=this.getSceneFunc(),s=this.hasShadow();let l;const c=t===this;if(!this.isVisible()&&!c)return this;if(i){o.save();const e=this.getAbsoluteTransform(t).getMatrix();return o.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),this._useBufferCanvas()){l=this.getStage();const e=n||l.bufferCanvas,r=e.getContext();r.clear(),r.save(),r._applyLineJoin(this),r._applyMiterLimit(this);const i=this.getAbsoluteTransform(t).getMatrix();r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),a.call(this,r,this),r.restore();const u=e.pixelRatio;s&&o._applyShadow(this),c||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(e._canvas,e.x||0,e.y||0,e.width/u,e.height/u)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!c){const e=this.getAbsoluteTransform(t).getMatrix();o.transform(e[0],e[1],e[2],e[3],e[4],e[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}s&&o._applyShadow(this),a.call(this,o,this)}return o.restore(),this}drawHit(e,t,n=!1){if(!this.shouldDrawHit(t,n))return this;const r=this.getLayer(),o=e||r.hitCanvas,i=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||av.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){i.save();const e=this.getAbsoluteTransform(t).getMatrix();return i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(i),i.restore(),this}if(!a)return this;if(i.save(),i._applyLineJoin(this),i._applyMiterLimit(this),this!==t){const e=this.getAbsoluteTransform(t).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return a.call(this,i,this),i.restore(),this}drawHitFromCache(e=0){const t=this._getCanvasCache(),n=this._getCachedSceneCanvas(),r=t.hit,o=r.getContext(),i=r.getWidth(),a=r.getHeight();o.clear(),o.drawImage(n._canvas,0,0,i,a);try{const t=o.getImageData(0,0,i,a),n=t.data,r=n.length,s=av._hexToRgb(this.colorKey);for(let t=0;t<r;t+=4)n[t+3]>e?(n[t]=s.r,n[t+1]=s.g,n[t+2]=s.b,n[t+3]=255):n[t+3]=0;o.putImageData(t,0,0)}catch(e){av.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(e){return Qv(e,this)}setPointerCapture(e){ex(e,this)}releaseCapture(e){tx(e)}}Rx.prototype._fillFunc=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},Rx.prototype._strokeFunc=function(e){e.stroke()},Rx.prototype._fillFuncHit=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},Rx.prototype._strokeFuncHit=function(e){e.stroke()},Rx.prototype._centroid=!1,Rx.prototype.nodeType="Shape",Jb(Rx),Rx.prototype.eventListeners={},Rx.prototype.on.call(Rx.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(Mx)}),Rx.prototype.on.call(Rx.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(jx)}),Rx.prototype.on.call(Rx.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(Ax)}),Rx.prototype.on.call(Rx.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(Ox)}),Rx.prototype.on.call(Rx.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(Px)}),Av.addGetterSetter(Rx,"stroke",void 0,Lv()),Av.addGetterSetter(Rx,"strokeWidth",2,Sv()),Av.addGetterSetter(Rx,"fillAfterStrokeEnabled",!1),Av.addGetterSetter(Rx,"hitStrokeWidth","auto",Cv()),Av.addGetterSetter(Rx,"strokeHitEnabled",!0,Tv()),Av.addGetterSetter(Rx,"perfectDrawEnabled",!0,Tv()),Av.addGetterSetter(Rx,"shadowForStrokeEnabled",!0,Tv()),Av.addGetterSetter(Rx,"lineJoin"),Av.addGetterSetter(Rx,"lineCap"),Av.addGetterSetter(Rx,"miterLimit"),Av.addGetterSetter(Rx,"sceneFunc"),Av.addGetterSetter(Rx,"hitFunc"),Av.addGetterSetter(Rx,"dash"),Av.addGetterSetter(Rx,"dashOffset",0,Sv()),Av.addGetterSetter(Rx,"shadowColor",void 0,Ev()),Av.addGetterSetter(Rx,"shadowBlur",0,Sv()),Av.addGetterSetter(Rx,"shadowOpacity",1,Sv()),Av.addComponentsGetterSetter(Rx,"shadowOffset",["x","y"]),Av.addGetterSetter(Rx,"shadowOffsetX",0,Sv()),Av.addGetterSetter(Rx,"shadowOffsetY",0,Sv()),Av.addGetterSetter(Rx,"fillPatternImage"),Av.addGetterSetter(Rx,"fill",void 0,Lv()),Av.addGetterSetter(Rx,"fillPatternX",0,Sv()),Av.addGetterSetter(Rx,"fillPatternY",0,Sv()),Av.addGetterSetter(Rx,"fillLinearGradientColorStops"),Av.addGetterSetter(Rx,"strokeLinearGradientColorStops"),Av.addGetterSetter(Rx,"fillRadialGradientStartRadius",0),Av.addGetterSetter(Rx,"fillRadialGradientEndRadius",0),Av.addGetterSetter(Rx,"fillRadialGradientColorStops"),Av.addGetterSetter(Rx,"fillPatternRepeat","repeat"),Av.addGetterSetter(Rx,"fillEnabled",!0),Av.addGetterSetter(Rx,"strokeEnabled",!0),Av.addGetterSetter(Rx,"shadowEnabled",!0),Av.addGetterSetter(Rx,"dashEnabled",!0),Av.addGetterSetter(Rx,"strokeScaleEnabled",!0),Av.addGetterSetter(Rx,"fillPriority","color"),Av.addComponentsGetterSetter(Rx,"fillPatternOffset",["x","y"]),Av.addGetterSetter(Rx,"fillPatternOffsetX",0,Sv()),Av.addGetterSetter(Rx,"fillPatternOffsetY",0,Sv()),Av.addComponentsGetterSetter(Rx,"fillPatternScale",["x","y"]),Av.addGetterSetter(Rx,"fillPatternScaleX",1,Sv()),Av.addGetterSetter(Rx,"fillPatternScaleY",1,Sv()),Av.addComponentsGetterSetter(Rx,"fillLinearGradientStartPoint",["x","y"]),Av.addComponentsGetterSetter(Rx,"strokeLinearGradientStartPoint",["x","y"]),Av.addGetterSetter(Rx,"fillLinearGradientStartPointX",0),Av.addGetterSetter(Rx,"strokeLinearGradientStartPointX",0),Av.addGetterSetter(Rx,"fillLinearGradientStartPointY",0),Av.addGetterSetter(Rx,"strokeLinearGradientStartPointY",0),Av.addComponentsGetterSetter(Rx,"fillLinearGradientEndPoint",["x","y"]),Av.addComponentsGetterSetter(Rx,"strokeLinearGradientEndPoint",["x","y"]),Av.addGetterSetter(Rx,"fillLinearGradientEndPointX",0),Av.addGetterSetter(Rx,"strokeLinearGradientEndPointX",0),Av.addGetterSetter(Rx,"fillLinearGradientEndPointY",0),Av.addGetterSetter(Rx,"strokeLinearGradientEndPointY",0),Av.addComponentsGetterSetter(Rx,"fillRadialGradientStartPoint",["x","y"]),Av.addGetterSetter(Rx,"fillRadialGradientStartPointX",0),Av.addGetterSetter(Rx,"fillRadialGradientStartPointY",0),Av.addComponentsGetterSetter(Rx,"fillRadialGradientEndPoint",["x","y"]),Av.addGetterSetter(Rx,"fillRadialGradientEndPointX",0),Av.addGetterSetter(Rx,"fillRadialGradientEndPointY",0),Av.addGetterSetter(Rx,"fillPatternRotation",0),Av.addGetterSetter(Rx,"fillRule",void 0,Ev()),Av.backCompat(Rx,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const zx=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Bx=zx.length;class Fx extends Yv{constructor(e){super(e),this.canvas=new mv,this.hitCanvas=new vv({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Vv.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Vv.prototype.moveUp.call(this))return!1;const e=this.getStage();return!(!e||!e.content||(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(Vv.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Vv.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Vv.prototype.remove.call(this),e&&e.parentNode&&av._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&av.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e={...e}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),Vv.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){av.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){av.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,av.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,n=!1;for(;;){for(let r=0;r<Bx;r++){const o=zx[r],i=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),a=i.shape;if(a)return a;if(n=!!i.antialiased,!i.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){const e=av._rgbToHex(n[0],n[1],n[2]),t=Dx["#"+e];return t?{shape:t}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(e,t,n){const r=this.getLayer(),o=e||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),Yv.prototype.drawScene.call(this,o,t,n),this._fire("draw",{node:this}),this}drawHit(e,t){const n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Yv.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){av.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return av.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return av.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Fx.prototype.nodeType="Layer",Jb(Fx),Av.addGetterSetter(Fx,"imageSmoothingEnabled",!0),Av.addGetterSetter(Fx,"clearBeforeDraw",!0),Av.addGetterSetter(Fx,"hitGraphEnabled",!0,Tv());class Wx extends Fx{constructor(e){super(e),this.listening(!1),av.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Wx.prototype.nodeType="FastLayer",Jb(Wx);class Hx extends Yv{_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&av.throw("You may only add groups and shapes to groups.")}}Hx.prototype.nodeType="Group",Jb(Hx);const Ux=Yb.performance&&Yb.performance.now?function(){return Yb.performance.now()}:function(){return(new Date).getTime()};class Gx{constructor(e,t){this.id=Gx.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ux(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,n=t.length;for(let r=0;r<n;r++)if(t[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=Gx.animations,t=e.length;for(let n=0;n<t;n++)if(e[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ux(),Gx._addAnimation(this),this}stop(){return Gx._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,n=this.animations,r=n.length;for(let e=0;e<r;e++)if(n[e].id===t){this.animations.splice(e,1);break}}static _runFrames(){const e={},t=this.animations;for(let n=0;n<t.length;n++){const r=t[n],o=r.layers,i=r.func;r._updateFrameObject(Ux());const a=o.length;let s;if(s=!i||!1!==i.call(r,r.frame),s)for(let t=0;t<a;t++){const n=o[t];void 0!==n._id&&(e[n._id]=n)}}for(const t in e)e.hasOwnProperty(t)&&e[t].batchDraw()}static _animationLoop(){const e=Gx;e.animations.length?(e._runFrames(),av.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,av.requestAnimFrame(this._animationLoop))}}Gx.animations=[],Gx.animIdCounter=0,Gx.animRunning=!1;const $x={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Vx=["fill","stroke","shadowColor"];let qx=0;class Yx{constructor(e,t,n,r,o,i,a){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=i,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class Kx{constructor(e){const t=this,n=e.node,r=n._id,o=e.easing||Jx.Linear,i=!!e.yoyo;let a,s;a=void 0===e.duration?.3:0===e.duration?.001:e.duration,this.node=n,this._id=qx++;const l=n.getLayer()||(n instanceof Kb.Stage?n.getLayers():null);for(s in l||av.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Gx(function(){t.tween.onEnterFrame()},l),this.tween=new Yx(s,function(e){t._tweenFunc(e)},o,0,1,1e3*a,i),this._addListeners(),Kx.attrs[r]||(Kx.attrs[r]={}),Kx.attrs[r][this._id]||(Kx.attrs[r][this._id]={}),Kx.tweens[r]||(Kx.tweens[r]={}),e)void 0===$x[s]&&this._addAttr(s,e[s]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const n=this.node,r=n._id;let o,i,a,s,l;const c=Kx.tweens[r][e];c&&delete Kx.attrs[r][c][e];let u=n.getAttr(e);if(av._isArray(t))if(o=[],i=Math.max(t.length,u.length),"points"===e&&t.length!==u.length&&(t.length>u.length?(s=u,u=av._prepareArrayForTween(u,t,n.closed())):(a=t,t=av._prepareArrayForTween(t,u,n.closed()))),0===e.indexOf("fill"))for(let e=0;e<i;e++)if(e%2==0)o.push(t[e]-u[e]);else{const n=av.colorToRGBA(u[e]);l=av.colorToRGBA(t[e]),u[e]=n,o.push({r:l.r-n.r,g:l.g-n.g,b:l.b-n.b,a:l.a-n.a})}else for(let e=0;e<i;e++)o.push(t[e]-u[e]);else-1!==Vx.indexOf(e)?(u=av.colorToRGBA(u),l=av.colorToRGBA(t),o={r:l.r-u.r,g:l.g-u.g,b:l.b-u.b,a:l.a-u.a}):o=t-u;Kx.attrs[r][this._id][e]={start:u,diff:o,end:t,trueEnd:a,trueStart:s},Kx.tweens[r][e]=this._id}_tweenFunc(e){const t=this.node,n=Kx.attrs[t._id][this._id];let r,o,i,a,s,l,c,u;for(r in n){if(o=n[r],i=o.start,a=o.diff,u=o.end,av._isArray(i))if(s=[],c=Math.max(i.length,u.length),0===r.indexOf("fill"))for(l=0;l<c;l++)l%2==0?s.push((i[l]||0)+a[l]*e):s.push("rgba("+Math.round(i[l].r+a[l].r*e)+","+Math.round(i[l].g+a[l].g*e)+","+Math.round(i[l].b+a[l].b*e)+","+(i[l].a+a[l].a*e)+")");else for(l=0;l<c;l++)s.push((i[l]||0)+a[l]*e);else s=-1!==Vx.indexOf(r)?"rgba("+Math.round(i.r+a.r*e)+","+Math.round(i.g+a.g*e)+","+Math.round(i.b+a.b*e)+","+(i.a+a.a*e)+")":i+a*e;t.setAttr(r,s)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=Kx.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=Kx.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,n=Kx.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const t in n)delete Kx.tweens[e][t];delete Kx.attrs[e][t],Kx.tweens[e]&&(0===Object.keys(Kx.tweens[e]).length&&delete Kx.tweens[e],0===Object.keys(Kx.attrs[e]).length&&delete Kx.attrs[e])}}Kx.attrs={},Kx.tweens={},Vv.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new Kx(e).play()};const Jx={BackEaseIn(e,t,n,r){const o=1.70158;return n*(e/=r)*e*((o+1)*e-o)+t},BackEaseOut(e,t,n,r){const o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},BackEaseInOut(e,t,n,r){let o=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},ElasticEaseIn(e,t,n,r,o,i){let a=0;return 0===e?t:1===(e/=r)?t+n:(i||(i=.3*r),!o||o<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)+t)},ElasticEaseOut(e,t,n,r,o,i){let a=0;return 0===e?t:1===(e/=r)?t+n:(i||(i=.3*r),!o||o<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/i)+n+t)},ElasticEaseInOut(e,t,n,r,o,i){let a=0;return 0===e?t:2==(e/=r/2)?t+n:(i||(i=r*(.3*1.5)),!o||o<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*.5+n+t)},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,t,n,r)=>n-Jx.BounceEaseOut(r-e,0,n,r)+t,BounceEaseInOut:(e,t,n,r)=>e<r/2?.5*Jx.BounceEaseIn(2*e,0,n,r)+t:.5*Jx.BounceEaseOut(2*e-r,0,n,r)+.5*n+t,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t},Zx=av._assign(Kb,{Util:av,Transform:Xb,Node:Vv,Container:Yv,Stage:Tx,stages:Lx,Layer:Fx,FastLayer:Wx,Group:Hx,DD:xv,Shape:Rx,shapes:Dx,Animation:Gx,Tween:Kx,Easings:Jx,Context:dv,Canvas:hv});class Xx extends Rx{_sceneFunc(e){const t=Kb.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=Kb.getAngle(n?360-this.angle():this.angle()),o=Math.cos(Math.min(r,Math.PI)),i=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),a=Math.sin(Math.min(r,Math.PI/2)),s=o*(o>0?e:t),l=i*(i>0?e:t),c=a*(a>0?t:e);return{x:s,y:n?-1*c:l,width:1*t-s,height:c-l}}}function Qx(e,t,n,r,o,i,a){const s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),c=a*s/(s+l),u=a*l/(s+l);return[n-c*(o-e),r-c*(i-t),n+u*(o-e),r+u*(i-t)]}function ek(e,t){const n=e.length,r=[];for(let o=2;o<n-2;o+=2){const n=Qx(e[o-2],e[o-1],e[o],e[o+1],e[o+2],e[o+3],t);isNaN(n[0])||(r.push(n[0]),r.push(n[1]),r.push(e[o]),r.push(e[o+1]),r.push(n[2]),r.push(n[3]))}return r}Xx.prototype._centroid=!0,Xx.prototype.className="Arc",Xx.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],Jb(Xx),Av.addGetterSetter(Xx,"innerRadius",0,Sv()),Av.addGetterSetter(Xx,"outerRadius",0,Sv()),Av.addGetterSetter(Xx,"angle",0,Sv()),Av.addGetterSetter(Xx,"clockwise",!1,Tv());class tk extends Rx{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const t=this.points(),n=t.length,r=this.tension(),o=this.closed(),i=this.bezier();if(!n)return;let a=0;if(e.beginPath(),e.moveTo(t[0],t[1]),0!==r&&n>4){const r=this.getTensionPoints(),i=r.length;for(a=o?0:4,o||e.quadraticCurveTo(r[0],r[1],r[2],r[3]);a<i-2;)e.bezierCurveTo(r[a++],r[a++],r[a++],r[a++],r[a++],r[a++]);o||e.quadraticCurveTo(r[i-2],r[i-1],t[n-2],t[n-1])}else if(i)for(a=2;a<n;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);else for(a=2;a<n;a+=2)e.lineTo(t[a],t[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ek(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,n=this.tension(),r=Qx(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),o=Qx(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),i=ek(e,n);return[r[2],r[3]].concat(i).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points();let t,n,r=e[0],o=e[0],i=e[1],a=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),o=Math.max(o,t),i=Math.min(i,n),a=Math.max(a,n);return{x:r,y:i,width:o-r,height:a-i}}}tk.prototype.className="Line",tk.prototype._attrsAffectingSize=["points","bezier","tension"],Jb(tk),Av.addGetterSetter(tk,"closed",!1),Av.addGetterSetter(tk,"bezier",!1),Av.addGetterSetter(tk,"tension",0,Sv()),Av.addGetterSetter(tk,"points",[],function(){if(Kb.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(av._isArray(e)?e.forEach(function(e){av._isNumber(e)||av.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")}):av.warn(kv(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}());const nk=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],rk=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],ok=[[1],[1,1],[1,2,1],[1,3,3,1]],ik=(e,t,n)=>{let r,o;const i=n/2;r=0;for(let n=0;n<20;n++)o=i*nk[20][n]+i,r+=rk[20][n]*sk(e,t,o);return i*r},ak=(e,t,n)=>{void 0===n&&(n=1);const r=e[0]-2*e[1]+e[2],o=t[0]-2*t[1]+t[2],i=2*e[1]-2*e[0],a=2*t[1]-2*t[0],s=4*(r*r+o*o),l=4*(r*i+o*a),c=i*i+a*a;if(0===s)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const u=l/(2*s),d=n+u,f=c/s-u*u,p=d*d+f>0?Math.sqrt(d*d+f):0,h=u*u+f>0?Math.sqrt(u*u+f):0,m=u+Math.sqrt(u*u+f)!==0?f*Math.log(Math.abs((d+p)/(u+h))):0;return Math.sqrt(s)/2*(d*p-u*h+m)};function sk(e,t,n){const r=lk(1,n,e),o=lk(1,n,t),i=r*r+o*o;return Math.sqrt(i)}const lk=(e,t,n)=>{const r=n.length-1;let o,i;if(0===r)return 0;if(0===e){i=0;for(let e=0;e<=r;e++)i+=ok[r][e]*Math.pow(1-t,r-e)*Math.pow(t,e)*n[e];return i}o=new Array(r);for(let e=0;e<r;e++)o[e]=r*(n[e+1]-n[e]);return lk(e-1,t,o)},ck=(e,t,n)=>{let r=1,o=e/t,i=(e-n(o))/t,a=0;for(;r>.001;){const s=n(o+i),l=Math.abs(e-s)/t;if(l<r)r=l,o+=i;else{const a=n(o-i),s=Math.abs(e-a)/t;s<r?(r=s,o-=i):i/=2}if(a++,a>500)break}return o};class uk extends Rx{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=uk.parsePathData(this.data()),this.pathLength=uk.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let n=!1;for(let r=0;r<t.length;r++){const o=t[r].command,i=t[r].points;switch(o){case"L":e.lineTo(i[0],i[1]);break;case"M":e.moveTo(i[0],i[1]);break;case"C":e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":e.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":const t=i[0],r=i[1],o=i[2],a=i[3],s=i[4],l=i[5],c=i[6],u=i[7],d=o>a?o:a,f=o>a?1:o/a,p=o>a?a/o:1;e.translate(t,r),e.rotate(c),e.scale(f,p),e.arc(0,0,d,s,s+l,1-u),e.scale(1/f,1/p),e.rotate(-c),e.translate(-t,-r);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(t){if("A"===t.command){const n=t.points[4],r=t.points[5],o=t.points[4]+r;let i=Math.PI/180;if(Math.abs(n-o)<i&&(i=Math.abs(n-o)),r<0)for(let r=n-i;r>o;r-=i){const n=uk.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}else for(let r=n+i;r<o;r+=i){const n=uk.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let n=0;n<=1;n+=.01){const r=uk.getPointOnCubicBezier(n,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(r.x,r.y)}else e=e.concat(t.points)});let t,n,r=e[0],o=e[0],i=e[1],a=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(r=Math.min(r,t),o=Math.max(o,t)),isNaN(n)||(i=Math.min(i,n),a=Math.max(a,n));return{x:r,y:i,width:o-r,height:a-i}}getLength(){return this.pathLength}getPointAtLength(e){return uk.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPathLength(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let n,r=0,o=t.length;if(!o)return null;for(;r<o&&e>t[r].pathLength;)e-=t[r].pathLength,++r;if(r===o)return n=t[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return"M"===t[r].command?(n=t[r].points.slice(0,2),{x:n[0],y:n[1]}):{x:t[r].start.x,y:t[r].start.y};const i=t[r],a=i.points;switch(i.command){case"L":return uk.getPointOnLine(e,i.start.x,i.start.y,a[0],a[1]);case"C":return uk.getPointOnCubicBezier(ck(e,uk.getPathLength(t),e=>ik([i.start.x,a[0],a[2],a[4]],[i.start.y,a[1],a[3],a[5]],e)),i.start.x,i.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return uk.getPointOnQuadraticBezier(ck(e,uk.getPathLength(t),e=>ak([i.start.x,a[0],a[2]],[i.start.y,a[1],a[3]],e)),i.start.x,i.start.y,a[0],a[1],a[2],a[3]);case"A":const n=a[0],r=a[1],o=a[2],s=a[3],l=a[5],c=a[6];let u=a[4];return u+=l*e/i.pathLength,uk.getPointOnEllipticalArc(n,r,o,s,u,c)}return null}static getPointOnLine(e,t,n,r,o,i,a){i=null!=i?i:t,a=null!=a?a:n;const s=this.getLineLength(t,n,r,o);if(s<1e-10)return{x:t,y:n};if(r===t)return{x:i,y:a+(o>n?e:-e)};const l=(o-n)/(r-t),c=Math.sqrt(e*e/(1+l*l))*(r<t?-1:1),u=l*c;if(Math.abs(a-n-l*(i-t))<1e-10)return{x:i+c,y:a+u};const d=((i-t)*(r-t)+(a-n)*(o-n))/(s*s),f=t+d*(r-t),p=n+d*(o-n),h=this.getLineLength(i,a,f,p),m=Math.sqrt(e*e-h*h),g=Math.sqrt(m*m/(1+l*l))*(r<t?-1:1);return{x:f+g,y:p+l*g}}static getPointOnCubicBezier(e,t,n,r,o,i,a,s,l){function c(e){return e*e*e}function u(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function f(e){return(1-e)*(1-e)*(1-e)}return{x:s*c(e)+i*u(e)+r*d(e)+t*f(e),y:l*c(e)+a*u(e)+o*d(e)+n*f(e)}}static getPointOnQuadraticBezier(e,t,n,r,o,i,a){function s(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:i*s(e)+r*l(e)+t*c(e),y:a*s(e)+o*l(e)+n*c(e)}}static getPointOnEllipticalArc(e,t,n,r,o,i){const a=Math.cos(i),s=Math.sin(i),l=n*Math.cos(o),c=r*Math.sin(o);return{x:e+(l*a-c*s),y:t+(l*s+c*a)}}static parsePathData(e){if(!e)return[];let t=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let e=0;e<n.length;e++)t=t.replace(new RegExp(n[e],"g"),"|"+n[e]);const r=t.split("|"),o=[],i=[];let a=0,s=0;const l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let c;for(let e=1;e<r.length;e++){let t=r[e],n=t.charAt(0);for(t=t.slice(1),i.length=0;c=l.exec(t);)i.push(c[0]);let u=[],d="A"===n||"a"===n?0:-1;for(let e=0,t=i.length;e<t;e++){const t=i[e];if("00"!==t)if(d>=0){if(3===d){if(/^[01]{2}\d+(?:\.\d+)?$/.test(t)){u.push(parseInt(t[0],10)),u.push(parseInt(t[1],10)),u.push(parseFloat(t.slice(2))),d+=3,d>=7&&(d-=7);continue}if("11"===t||"10"===t||"01"===t){u.push(parseInt(t[0],10)),u.push(parseInt(t[1],10)),d+=2,d>=7&&(d-=7);continue}if("0"===t||"1"===t){u.push(parseInt(t,10)),d+=1,d>=7&&(d-=7);continue}}else if(4===d){if(/^[01]\d+(?:\.\d+)?$/.test(t)){u.push(parseInt(t[0],10)),u.push(parseFloat(t.slice(1))),d+=2,d>=7&&(d-=7);continue}if("0"===t||"1"===t){u.push(parseInt(t,10)),d+=1,d>=7&&(d-=7);continue}}const e=parseFloat(t);isNaN(e)?u.push(0):u.push(e),d+=1,d>=7&&(d-=7)}else{const e=parseFloat(t);isNaN(e)?u.push(0):u.push(e)}else u.push(0,0),d>=0&&(d+=2,d>=7&&(d-=7))}for(;u.length>0&&!isNaN(u[0]);){let e="",t=[];const r=a,i=s;let l,c,d,f,p,h,m,g,y,b;switch(n){case"l":a+=u.shift(),s+=u.shift(),e="L",t.push(a,s);break;case"L":a=u.shift(),s=u.shift(),t.push(a,s);break;case"m":const r=u.shift(),i=u.shift();if(a+=r,s+=i,e="M",o.length>2&&"z"===o[o.length-1].command)for(let e=o.length-2;e>=0;e--)if("M"===o[e].command){a=o[e].points[0]+r,s=o[e].points[1]+i;break}t.push(a,s),n="l";break;case"M":a=u.shift(),s=u.shift(),e="M",t.push(a,s),n="L";break;case"h":a+=u.shift(),e="L",t.push(a,s);break;case"H":a=u.shift(),e="L",t.push(a,s);break;case"v":s+=u.shift(),e="L",t.push(a,s);break;case"V":s=u.shift(),e="L",t.push(a,s);break;case"C":t.push(u.shift(),u.shift(),u.shift(),u.shift()),a=u.shift(),s=u.shift(),t.push(a,s);break;case"c":t.push(a+u.shift(),s+u.shift(),a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),e="C",t.push(a,s);break;case"S":c=a,d=s,l=o[o.length-1],"C"===l.command&&(c=a+(a-l.points[2]),d=s+(s-l.points[3])),t.push(c,d,u.shift(),u.shift()),a=u.shift(),s=u.shift(),e="C",t.push(a,s);break;case"s":c=a,d=s,l=o[o.length-1],"C"===l.command&&(c=a+(a-l.points[2]),d=s+(s-l.points[3])),t.push(c,d,a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),e="C",t.push(a,s);break;case"Q":t.push(u.shift(),u.shift()),a=u.shift(),s=u.shift(),t.push(a,s);break;case"q":t.push(a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),e="Q",t.push(a,s);break;case"T":c=a,d=s,l=o[o.length-1],"Q"===l.command&&(c=a+(a-l.points[0]),d=s+(s-l.points[1])),a=u.shift(),s=u.shift(),e="Q",t.push(c,d,a,s);break;case"t":c=a,d=s,l=o[o.length-1],"Q"===l.command&&(c=a+(a-l.points[0]),d=s+(s-l.points[1])),a+=u.shift(),s+=u.shift(),e="Q",t.push(c,d,a,s);break;case"A":f=u.shift(),p=u.shift(),h=u.shift(),m=u.shift(),g=u.shift(),y=a,b=s,a=u.shift(),s=u.shift(),e="A",t=this.convertEndpointToCenterParameterization(y,b,a,s,m,g,f,p,h);break;case"a":f=u.shift(),p=u.shift(),h=u.shift(),m=u.shift(),g=u.shift(),y=a,b=s,a+=u.shift(),s+=u.shift(),e="A",t=this.convertEndpointToCenterParameterization(y,b,a,s,m,g,f,p,h)}o.push({command:e||n,points:t,start:{x:r,y:i},pathLength:this.calcLength(r,i,e||n,t)})}"z"!==n&&"Z"!==n||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,n,r){let o,i,a,s;const l=uk;switch(n){case"L":return l.getLineLength(e,t,r[0],r[1]);case"C":return ik([e,r[0],r[2],r[4]],[t,r[1],r[3],r[5]],1);case"Q":return ak([e,r[0],r[2]],[t,r[1],r[3]],1);case"A":o=0;const n=r[4],c=r[5],u=r[4]+c;let d=Math.PI/180;if(Math.abs(n-u)<d&&(d=Math.abs(n-u)),i=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],n,0),c<0)for(s=n-d;s>u;s-=d)a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),o+=l.getLineLength(i.x,i.y,a.x,a.y),i=a;else for(s=n+d;s<u;s+=d)a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),o+=l.getLineLength(i.x,i.y,a.x,a.y),i=a;return a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),o+=l.getLineLength(i.x,i.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,t,n,r,o,i,a,s,l){const c=l*(Math.PI/180),u=Math.cos(c)*(e-n)/2+Math.sin(c)*(t-r)/2,d=-1*Math.sin(c)*(e-n)/2+Math.cos(c)*(t-r)/2,f=u*u/(a*a)+d*d/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));let p=Math.sqrt((a*a*(s*s)-a*a*(d*d)-s*s*(u*u))/(a*a*(d*d)+s*s*(u*u)));o===i&&(p*=-1),isNaN(p)&&(p=0);const h=p*a*d/s,m=p*-s*u/a,g=(e+n)/2+Math.cos(c)*h-Math.sin(c)*m,y=(t+r)/2+Math.sin(c)*h+Math.cos(c)*m,b=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},v=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(v(e,t))},k=x([1,0],[(u-h)/a,(d-m)/s]),w=[(u-h)/a,(d-m)/s],S=[(-1*u-h)/a,(-1*d-m)/s];let _=x(w,S);return v(w,S)<=-1&&(_=Math.PI),v(w,S)>=1&&(_=0),0===i&&_>0&&(_-=2*Math.PI),1===i&&_<0&&(_+=2*Math.PI),[g,y,a,s,k,_,c,i]}}uk.prototype.className="Path",uk.prototype._attrsAffectingSize=["data"],Jb(uk),Av.addGetterSetter(uk,"data");class dk extends tk{_sceneFunc(e){super._sceneFunc(e);const t=2*Math.PI,n=this.points();let r=n;const o=0!==this.tension()&&n.length>4;o&&(r=this.getTensionPoints());const i=this.pointerLength(),a=n.length;let s,l;if(o){const e=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],n[a-2],n[a-1]],t=uk.calcLength(r[r.length-4],r[r.length-3],"C",e),o=uk.getPointOnQuadraticBezier(Math.min(1,1-i/t),e[0],e[1],e[2],e[3],e[4],e[5]);s=n[a-2]-o.x,l=n[a-1]-o.y}else s=n[a-2]-n[a-4],l=n[a-1]-n[a-3];const c=(Math.atan2(l,s)+t)%t,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[a-2],n[a-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-i,u/2),e.lineTo(-i,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),o?(s=(r[0]+r[2])/2-n[0],l=(r[1]+r[3])/2-n[1]):(s=n[2]-n[0],l=n[3]-n[1]),e.rotate((Math.atan2(-l,-s)+t)%t),e.moveTo(0,0),e.lineTo(-i,u/2),e.lineTo(-i,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+2*t}}}dk.prototype.className="Arrow",Jb(dk),Av.addGetterSetter(dk,"pointerLength",10,Sv()),Av.addGetterSetter(dk,"pointerWidth",10,Sv()),Av.addGetterSetter(dk,"pointerAtBeginning",!1),Av.addGetterSetter(dk,"pointerAtEnding",!0);class fk extends Rx{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}fk.prototype._centroid=!0,fk.prototype.className="Circle",fk.prototype._attrsAffectingSize=["radius"],Jb(fk),Av.addGetterSetter(fk,"radius",0,Sv());class pk extends Rx{_sceneFunc(e){const t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}pk.prototype.className="Ellipse",pk.prototype._centroid=!0,pk.prototype._attrsAffectingSize=["radiusX","radiusY"],Jb(pk),Av.addComponentsGetterSetter(pk,"radius",["x","y"]),Av.addGetterSetter(pk,"radiusX",0,Sv()),Av.addGetterSetter(pk,"radiusY",0,Sv());class hk extends Rx{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",e=>{this._removeImageLoad(e.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),r=this.cornerRadius(),o=this.attrs.image;let i;if(o){const e=this.attrs.cropWidth,r=this.attrs.cropHeight;i=e&&r?[o,this.cropX(),this.cropY(),e,r,0,0,t,n]:[o,0,0,t,n]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?av.drawRoundedRectPath(e,t,n,r):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),o&&(r&&e.clip(),e.drawImage.apply(e,i))}_hitFunc(e){const t=this.width(),n=this.height(),r=this.cornerRadius();e.beginPath(),r?av.drawRoundedRectPath(e,t,n,r):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t,n;return null!==(n=null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width)&&void 0!==n?n:0}getHeight(){var e,t,n;return null!==(n=null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height)&&void 0!==n?n:0}static fromURL(e,t,n=null){const r=av.createImageElement();r.onload=function(){const e=new hk({image:r});t(e)},r.onerror=n,r.crossOrigin="Anonymous",r.src=e}}hk.prototype.className="Image",hk.prototype._attrsAffectingSize=["image"],Jb(hk),Av.addGetterSetter(hk,"cornerRadius",0,_v(4)),Av.addGetterSetter(hk,"image"),Av.addComponentsGetterSetter(hk,"crop",["x","y","width","height"]),Av.addGetterSetter(hk,"cropX",0,Sv()),Av.addGetterSetter(hk,"cropY",0,Sv()),Av.addGetterSetter(hk,"cropWidth",0,Sv()),Av.addGetterSetter(hk,"cropHeight",0,Sv());const mk=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],gk="up",yk="right",bk="down",vk="left",xk=mk.length;class kk extends Hx{constructor(e){super(e),this.on("add.konva",function(e){this._addListeners(e.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t,n=this;const r=function(){n._sync()};for(t=0;t<xk;t++)e.on(mk[t]+"Change.konva",r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e,t,n,r,o,i,a,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),o=0,i=0,n){case gk:o=e/2,i=-1*a;break;case yk:o=e+r,i=t/2;break;case bk:o=e/2,i=t+a;break;case vk:o=-1*r,i=t/2}l.setAttrs({x:-1*o,y:-1*i,width:e,height:t}),s.setAttrs({x:-1*o,y:-1*i})}}}kk.prototype.className="Label",Jb(kk);class wk extends Rx{_sceneFunc(e){const t=this.width(),n=this.height(),r=this.pointerDirection(),o=this.pointerWidth(),i=this.pointerHeight(),a=this.cornerRadius();let s=0,l=0,c=0,u=0;"number"==typeof a?s=l=c=u=Math.min(a,t/2,n/2):(s=Math.min(a[0]||0,t/2,n/2),l=Math.min(a[1]||0,t/2,n/2),u=Math.min(a[2]||0,t/2,n/2),c=Math.min(a[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===gk&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*i),e.lineTo((t+o)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===yk&&(e.lineTo(t,(n-i)/2),e.lineTo(t+o,n/2),e.lineTo(t,(n+i)/2)),e.lineTo(t,n-u),e.arc(t-u,n-u,u,0,Math.PI/2,!1),r===bk&&(e.lineTo((t+o)/2,n),e.lineTo(t/2,n+i),e.lineTo((t-o)/2,n)),e.lineTo(c,n),e.arc(c,n-c,c,Math.PI/2,Math.PI,!1),r===vk&&(e.lineTo(0,(n+i)/2),e.lineTo(-1*o,n/2),e.lineTo(0,(n-i)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),o=this.pointerDirection(),i=this.width(),a=this.height();return o===gk?(t-=r,a+=r):o===bk?a+=r:o===vk?(e-=1.5*n,i+=n):o===yk&&(i+=1.5*n),{x:e,y:t,width:i,height:a}}}wk.prototype.className="Tag",Jb(wk),Av.addGetterSetter(wk,"pointerDirection","none"),Av.addGetterSetter(wk,"pointerWidth",0,Sv()),Av.addGetterSetter(wk,"pointerHeight",0,Sv()),Av.addGetterSetter(wk,"cornerRadius",0,_v(4));class Sk extends Rx{_sceneFunc(e){const t=this.cornerRadius(),n=this.width(),r=this.height();e.beginPath(),t?av.drawRoundedRectPath(e,n,r,t):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}}Sk.prototype.className="Rect",Jb(Sk),Av.addGetterSetter(Sk,"cornerRadius",0,_v(4));class _k extends Rx{_sceneFunc(e){const t=this._getPoints(),n=this.radius(),r=this.sides(),o=this.cornerRadius();if(e.beginPath(),o)av.drawRoundedPolygonPath(e,t,r,n,o);else{e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(let r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let t=e[0].x,n=e[0].y,r=e[0].x,o=e[0].y;return e.forEach(e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),o=Math.max(o,e.y)}),{x:t,y:r,width:n-t,height:o-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}_k.prototype.className="RegularPolygon",_k.prototype._centroid=!0,_k.prototype._attrsAffectingSize=["radius"],Jb(_k),Av.addGetterSetter(_k,"radius",0,Sv()),Av.addGetterSetter(_k,"sides",0,Sv()),Av.addGetterSetter(_k,"cornerRadius",0,_v(4));const Ck=2*Math.PI;class Ek extends Rx{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Ck,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Ck,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ek.prototype.className="Ring",Ek.prototype._centroid=!0,Ek.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Jb(Ek),Av.addGetterSetter(Ek,"innerRadius",0,Sv()),Av.addGetterSetter(Ek,"outerRadius",0,Sv());class Lk extends Rx{constructor(e){super(e),this._updated=!0,this.anim=new Gx(()=>{const e=this._updated;return this._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,o=this.animations()[t],i=this.frameOffsets(),a=o[r+0],s=o[r+1],l=o[r+2],c=o[r+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,c),e.closePath(),e.fillStrokeShape(this)),u)if(i){const r=i[t],o=2*n;e.drawImage(u,a,s,l,c,r[o+0],r[o+1],l,c)}else e.drawImage(u,a,s,l,c,0,0,l,c)}_hitFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,o=this.animations()[t],i=this.frameOffsets(),a=o[r+2],s=o[r+3];if(e.beginPath(),i){const r=i[t],o=2*n;e.rect(r[o+0],r[o+1],a,s)}else e.rect(0,0,a,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}Lk.prototype.className="Sprite",Jb(Lk),Av.addGetterSetter(Lk,"animation"),Av.addGetterSetter(Lk,"animations"),Av.addGetterSetter(Lk,"frameOffsets"),Av.addGetterSetter(Lk,"image"),Av.addGetterSetter(Lk,"frameIndex",0,Sv()),Av.addGetterSetter(Lk,"frameRate",17,Sv()),Av.backCompat(Lk,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Tk extends Rx{_sceneFunc(e){const t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let o=1;o<2*r;o++){const i=o%2==0?n:t,a=i*Math.sin(o*Math.PI/r),s=-1*i*Math.cos(o*Math.PI/r);e.lineTo(a,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}function Mk(e){return[...e].reduce((e,t,n,r)=>{if(/\p{Emoji}/u.test(t)){const o=r[n+1];o&&/\p{Emoji_Modifier}|\u200D/u.test(o)?(e.push(t+o),r[n+1]=""):e.push(t)}else/\p{Regional_Indicator}{2}/u.test(t+(r[n+1]||""))?e.push(t+r[n+1]):n>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}Tk.prototype.className="Star",Tk.prototype._centroid=!0,Tk.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Jb(Tk),Av.addGetterSetter(Tk,"numPoints",5,Sv()),Av.addGetterSetter(Tk,"innerRadius",0,Sv()),Av.addGetterSetter(Tk,"outerRadius",0,Sv());const jk="auto",Ak="inherit",Ok="justify",Pk="left",Nk="middle",Ik="normal",Dk=" ",Rk="none",zk=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Bk=zk.length;let Fk;function Wk(){return Fk||(Fk=av.createCanvasElement().getContext("2d"),Fk)}class Hk extends Rx{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(let e=0;e<Bk;e++)this.on(zk[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t,n;const r=this.textArr,o=r.length;if(!this.text())return;let i,a=this.padding(),s=this.fontSize(),l=this.lineHeight()*s,c=this.verticalAlign(),u=this.direction(),d=0,f=this.align(),p=this.getWidth(),h=this.letterSpacing(),m=this.charRenderFunc(),g=this.fill(),y=this.textDecoration(),b=-1!==y.indexOf("underline"),v=-1!==y.indexOf("line-through");u=u===Ak?e.direction:u;let x=l/2,k=Nk;if(!Kb.legacyTextRendering){const e=this.measureSize("M");k="alphabetic",x=((null!==(t=e.fontBoundingBoxAscent)&&void 0!==t?t:e.actualBoundingBoxAscent)-(null!==(n=e.fontBoundingBoxDescent)&&void 0!==n?n:e.actualBoundingBoxDescent))/2+l/2}for("rtl"===u&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",k),e.setAttr("textAlign",Pk),c===Nk?d=(this.getHeight()-o*l-2*a)/2:"bottom"===c&&(d=this.getHeight()-o*l-2*a),e.translate(a,d+a),i=0;i<o;i++){let t=0,n=0;const c=r[i],d=c.text,y=c.width,k=c.lastInParagraph;if(e.save(),"right"===f?t+=p-y-2*a:"center"===f&&(t+=(p-y-2*a)/2),b){e.save(),e.beginPath();const r=t,o=x+n+(Kb.legacyTextRendering?Math.round(s/2):Math.round(s/4));e.moveTo(r,o);const i=f!==Ok||k?y:p-2*a;e.lineTo(r+Math.round(i),o),e.lineWidth=s/15;const l=this._getLinearGradient();e.strokeStyle=l||g,e.stroke(),e.restore()}if("rtl"===u||0===h&&f!==Ok&&!m)0!==h&&e.setAttr("letterSpacing",`${h}px`),this._partialTextX=t,this._partialTextY=x+n,this._partialText=d,e.fillStrokeShape(this);else{const o=d.split(" ").length-1,s=Mk(d);for(let l=0;l<s.length;l++){const c=s[l];" "!==c||k||f!==Ok||(t+=(p-2*a-y)/o),this._partialTextX=t,this._partialTextY=x+n,this._partialText=c,m&&(e.save(),m({char:c,index:l+r.slice(0,i).reduce((e,t)=>e+Mk(t.text).length,0),x:t,y:x+n,lineIndex:i,column:l,isLastInLine:k,width:this.measureSize(c).width,context:e})),e.fillStrokeShape(this),m&&e.restore(),t+=this.measureSize(c).width+h}}if(v){e.save(),e.beginPath();const r=Kb.legacyTextRendering?0:-Math.round(s/4),o=f===Ok?0:t;e.moveTo(o,x+n+r);const i=f!==Ok||k?y:p-2*a;e.lineTo(o+Math.round(i),x+n+r),e.lineWidth=s/15;const l=this._getLinearGradient();e.strokeStyle=l||g,e.stroke(),e.restore()}e.restore(),o>1&&(x+=l)}}_hitFunc(e){const t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=av._isString(e)?e:null==e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===jk||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===jk||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return av.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n,r,o,i,a,s,l,c,u,d;let f,p=Wk(),h=this.fontSize();p.save(),p.font=this._getContextFont(),f=p.measureText(e),p.restore();const m=h/100;return{actualBoundingBoxAscent:null!==(t=f.actualBoundingBoxAscent)&&void 0!==t?t:71.58203125*m,actualBoundingBoxDescent:null!==(n=f.actualBoundingBoxDescent)&&void 0!==n?n:0,actualBoundingBoxLeft:null!==(r=f.actualBoundingBoxLeft)&&void 0!==r?r:-7.421875*m,actualBoundingBoxRight:null!==(o=f.actualBoundingBoxRight)&&void 0!==o?o:75.732421875*m,alphabeticBaseline:null!==(i=f.alphabeticBaseline)&&void 0!==i?i:0,emHeightAscent:null!==(a=f.emHeightAscent)&&void 0!==a?a:100*m,emHeightDescent:null!==(s=f.emHeightDescent)&&void 0!==s?s:-20*m,fontBoundingBoxAscent:null!==(l=f.fontBoundingBoxAscent)&&void 0!==l?l:91*m,fontBoundingBoxDescent:null!==(c=f.fontBoundingBoxDescent)&&void 0!==c?c:21*m,hangingBaseline:null!==(u=f.hangingBaseline)&&void 0!==u?u:72.80000305175781*m,ideographicBaseline:null!==(d=f.ideographicBaseline)&&void 0!==d?d:-21*m,width:f.width,height:h}}_getContextFont(){return this.fontStyle()+Dk+this.fontVariant()+Dk+(this.fontSize()+"px ")+this.fontFamily().split(",").map(e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e=`"${e}"`),e}).join(", ")}_addTextLine(e){this.align()===Ok&&(e=e.trim());const t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),n=e.length;return Wk().measureText(e).width+t*n}_setTextData(){let e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,o=this.attrs.width,i=this.attrs.height,a=o!==jk&&void 0!==o,s=i!==jk&&void 0!==i,l=this.padding(),c=o-2*l,u=i-2*l,d=0,f=this.wrap(),p="char"!==f&&f!==Rk,h=this.ellipsis();this.textArr=[],Wk().font=this._getContextFont();const m=h?this._getTextWidth("â€¦"):0;for(let t=0,o=e.length;t<o;++t){let i=e[t],l=this._getTextWidth(i);if(a&&l>c)for(;i.length>0;){let e=0,t=Mk(i).length,o="",a=0;for(;e<t;){const n=e+t>>>1,l=Mk(i).slice(0,n+1).join(""),f=this._getTextWidth(l);(h&&s&&d+r>u?f+m:f)<=c?(e=n+1,o=l,a=f):t=n}if(!o)break;if(p){const t=Mk(i),n=Mk(o),r=t[n.length];let s;if((r===Dk||"-"===r)&&a<=c)s=n.length;else{const e=n.lastIndexOf(Dk),t=n.lastIndexOf("-");s=Math.max(e,t)+1}s>0&&(e=s,o=t.slice(0,e).join(""),a=this._getTextWidth(o))}if(o=o.trimRight(),this._addTextLine(o),n=Math.max(n,a),d+=r,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if(i=Mk(i).slice(e).join("").trimLeft(),i.length>0&&(l=this._getTextWidth(i),l<=c)){this._addTextLine(i),d+=r,n=Math.max(n,l);break}}else this._addTextLine(i),d+=r,n=Math.max(n,l),this._shouldHandleEllipsis(d)&&t<o-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&d+r>u)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){const t=+this.fontSize(),n=this.lineHeight()*t,r=this.attrs.height,o=r!==jk&&void 0!==r,i=r-2*this.padding();return!(this.wrap()!==Rk)||o&&e+n>i}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==jk&&void 0!==e,n=e-2*this.padding(),r=this.ellipsis(),o=this.textArr[this.textArr.length-1];o&&r&&(t&&(this._getTextWidth(o.text+"â€¦")<n||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+"â€¦"))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}}Hk.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},Hk.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Hk.prototype.className="Text",Hk.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],Jb(Hk),Av.overWriteSetter(Hk,"width",Cv()),Av.overWriteSetter(Hk,"height",Cv()),Av.addGetterSetter(Hk,"direction",Ak),Av.addGetterSetter(Hk,"fontFamily","Arial"),Av.addGetterSetter(Hk,"fontSize",12,Sv()),Av.addGetterSetter(Hk,"fontStyle",Ik),Av.addGetterSetter(Hk,"fontVariant",Ik),Av.addGetterSetter(Hk,"padding",0,Sv()),Av.addGetterSetter(Hk,"align",Pk),Av.addGetterSetter(Hk,"verticalAlign","top"),Av.addGetterSetter(Hk,"lineHeight",1,Sv()),Av.addGetterSetter(Hk,"wrap","word"),Av.addGetterSetter(Hk,"ellipsis",!1,Tv()),Av.addGetterSetter(Hk,"letterSpacing",0,Sv()),Av.addGetterSetter(Hk,"text","",Ev()),Av.addGetterSetter(Hk,"textDecoration",""),Av.addGetterSetter(Hk,"charRenderFunc",void 0);const Uk="normal";function Gk(e){e.fillText(this.partialText,0,0)}function $k(e){e.strokeText(this.partialText,0,0)}class Vk extends Rx{constructor(e){super(e),this.dummyCanvas=av.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return uk.getPathLength(this.dataArray)}_getPointAtLength(e){return this.attrs.data?e>this.pathLength?null:uk.getPointAtLengthOfDataArray(e,this.dataArray):null}_readDataAttribute(){this.dataArray=uk.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),n=this.fill(),r=this.fontSize(),o=this.glyphInfo,i=-1!==t.indexOf("underline"),a=-1!==t.indexOf("line-through");i&&e.beginPath();for(let t=0;t<o.length;t++){e.save();const n=o[t].p0;e.translate(n.x,n.y),e.rotate(o[t].rotation),this.partialText=o[t].text,e.fillStrokeShape(this),i&&(0===t&&e.moveTo(0,r/2+1),e.lineTo(o[t].width,r/2+1)),e.restore()}if(i&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),a){e.beginPath();for(let t=0;t<o.length;t++){e.save();const n=o[t].p0;e.translate(n.x,n.y),e.rotate(o[t].rotation),0===t&&e.moveTo(0,0),e.lineTo(o[t].width,0),e.restore()}e.strokeStyle=n,e.lineWidth=r/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const n=t[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<t.length;n++){const r=t[n].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return av.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Hk.prototype.setText.call(this,e)}_getContextFont(){return Hk.prototype._getContextFont.call(this)}_getTextSize(e){const t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();const n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Mk(this.text()),t=[];let n=0;for(let r=0;r<e.length;r++)t.push({char:e[r],width:this._getTextSize(e[r]).width}),n+=t[r].width;const{height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=n,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const o=this.letterSpacing(),i=this.align(),a=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*o,0);let l=0;"center"===i&&(l=Math.max(0,this.pathLength/2-s/2)),"right"===i&&(l=Math.max(0,this.pathLength-s));let c=l;for(let n=0;n<t.length;n++){const r=this._getPointAtLength(c);if(!r)return;const l=t[n].char;let u=t[n].width+o;if(" "===l&&"justify"===i){const e=this.text().split(" ").length-1;u+=(this.pathLength-s)/e}const d=this._getPointAtLength(c+u);if(!d)return;const f=uk.getLineLength(r.x,r.y,d.x,d.y);let p=0;if(a)try{p=a(t[n-1].char,l)*this.fontSize()}catch(e){p=0}r.x+=p,d.x+=p,this.textWidth+=p;const h=uk.getPointOnLine(p+f/2,r.x,r.y,d.x,d.y),m=Math.atan2(d.y-r.y,d.x-r.x);this.glyphInfo.push({transposeX:h.x,transposeY:h.y,text:e[n],rotation:m,p0:r,p1:d,width:f}),c+=u}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)});let t,n,r=e[0]||0,o=e[0]||0,i=e[1]||0,a=e[1]||0;for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),o=Math.max(o,t),i=Math.min(i,n),a=Math.max(a,n);const s=this.fontSize();return{x:r-s/2,y:i-s/2,width:o-r+s,height:a-i+s}}destroy(){return av.releaseCanvas(this.dummyCanvas),super.destroy()}}Vk.prototype._fillFunc=Gk,Vk.prototype._strokeFunc=$k,Vk.prototype._fillFuncHit=Gk,Vk.prototype._strokeFuncHit=$k,Vk.prototype.className="TextPath",Vk.prototype._attrsAffectingSize=["text","fontSize","data"],Jb(Vk),Av.addGetterSetter(Vk,"data"),Av.addGetterSetter(Vk,"fontFamily","Arial"),Av.addGetterSetter(Vk,"fontSize",12,Sv()),Av.addGetterSetter(Vk,"fontStyle",Uk),Av.addGetterSetter(Vk,"align","left"),Av.addGetterSetter(Vk,"letterSpacing",0,Sv()),Av.addGetterSetter(Vk,"textBaseline","middle"),Av.addGetterSetter(Vk,"fontVariant",Uk),Av.addGetterSetter(Vk,"text",""),Av.addGetterSetter(Vk,"textDecoration",""),Av.addGetterSetter(Vk,"kerningFunc",void 0);const qk="tr-konva",Yk=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${qk}`).join(" "),Kk="nodesRect",Jk=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],Zk={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Xk="ontouchstart"in Kb._global,Qk=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function ew(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),o=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:r,y:o}}let tw=0;class nw extends Hx{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Yk,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return av.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return qk+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(e=>!e.isAncestorOf(this)||(av.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()};if(e._attrsAffectingSize.length){const n=e._attrsAffectingSize.map(e=>e+"Change."+this._getEventNamespace()).join(" ");e.on(n,t)}e.on(Jk.map(e=>e+`.${this._getEventNamespace()}`).join(" "),t),e.on(`absoluteTransformChange.${this._getEventNamespace()}`,t),this._proxyDrag(e)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!t)return;const r=e.getAbsolutePosition(),o=r.x-t.x,i=r.y-t.y;this.nodes().forEach(t=>{if(t===e)return;if(t.isDragging())return;const r=t.getAbsolutePosition();t.setAbsolutePosition({x:r.x+o,y:r.y+i}),t.startDrag(n)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Kk),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Kk,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),n){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(n),i=e.getAbsolutePosition(n),a=r.x*o.x-e.offsetX()*o.x,s=r.y*o.y-e.offsetY()*o.y,l=(Kb.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return ew({x:i.x+a*Math.cos(l)+s*Math.sin(-l),y:i.y+s*Math.cos(l)+a*Math.sin(l),width:r.width*o.x,height:r.height*o.y,rotation:l},-Kb.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map(t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],o=t.getAbsoluteTransform();r.forEach(function(t){const n=o.point(t);e.push(n)})});const t=new Xb;t.rotate(-Kb.getAngle(this.rotation()));let n=1/0,r=1/0,o=-1/0,i=-1/0;e.forEach(function(e){const a=t.point(e);void 0===n&&(n=o=a.x,r=i=a.y),n=Math.min(n,a.x),r=Math.min(r,a.y),o=Math.max(o,a.x),i=Math.max(i,a.y)}),t.invert();const a=t.point({x:n,y:r});return{x:a.x,y:a.y,width:o-n,height:i-r,rotation:Kb.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Qk.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const t=new Sk({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Xk?10:"auto"}),n=this;t.on("mousedown touchstart",function(e){n._handleMouseDown(e)}),t.on("dragstart",e=>{t.stopDrag(),e.cancelBubble=!0}),t.on("dragend",e=>{e.cancelBubble=!0}),t.on("mouseenter",()=>{const n=Kb.getAngle(this.rotation()),r=this.rotateAnchorCursor(),o=function(e,t,n){if("rotater"===e)return n;t+=av.degToRad(Zk[e]||0);const r=(av.radToDeg(t)%360+360)%360;return av._inRange(r,337.5,360)||av._inRange(r,0,22.5)?"ns-resize":av._inRange(r,22.5,67.5)?"nesw-resize":av._inRange(r,67.5,112.5)?"ew-resize":av._inRange(r,112.5,157.5)?"nwse-resize":av._inRange(r,157.5,202.5)?"ns-resize":av._inRange(r,202.5,247.5)?"nesw-resize":av._inRange(r,247.5,292.5)?"ew-resize":av._inRange(r,292.5,337.5)?"nwse-resize":(av.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(e,n,r);t.getStage().content&&(t.getStage().content.style.cursor=o),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){const e=new Rx({name:"back",width:0,height:0,sceneFunc(e,t){const n=t.getParent(),r=n.padding();e.beginPath(),e.rect(-r,-r,t.width()+2*r,t.height()+2*r),e.moveTo(t.width()/2,-r),n.rotateEnabled()&&n.rotateLineVisible()&&e.lineTo(t.width()/2,-n.rotateAnchorOffset()*av._sign(t.height())-r),e.fillStrokeShape(t)},hitFunc:(e,t)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}});this.add(e),this._proxyDrag(e),e.on("dragstart",e=>{e.cancelBubble=!0}),e.on("dragmove",e=>{e.cancelBubble=!0}),e.on("dragend",e=>{e.cancelBubble=!0}),this.on("dragmove",e=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),n=t.width,r=t.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/o),this.cos=Math.abs(n/o),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const i=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-i.x,y:a.y-i.y},tw++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(t=>{t._fire("transformstart",{evt:e.evt,target:t})})}_handleMouseMove(e){let t,n,r;const o=this.findOne("."+this._movingAnchorName),i=o.getStage();i.setPointersPositions(e);const a=i.getPointerPosition();let s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const l=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(l,s,e)),o.setAbsolutePosition(s);const c=o.getAbsolutePosition();if(l.x===c.x&&l.y===c.y)return;if("rotater"===this._movingAnchorName){const r=this._getNodeRect();t=o.x()-r.width/2,n=-o.y()+r.height/2;let i=Math.atan2(-n,t)+Math.PI/2;r.height<0&&(i-=Math.PI);const a=Kb.getAngle(this.rotation())+i,s=Kb.getAngle(this.rotationSnapTolerance()),l=function(e,t,n){let r=t;for(let o=0;o<e.length;o++){const i=Kb.getAngle(e[o]),a=Math.abs(i-t)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=i)}return r}(this.rotationSnaps(),a,s),c=function(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return ew(e,t,n)}(r,l-r.rotation);return void this._fitNodesInto(c,e)}const u=this.shiftBehavior();let d;d="inverted"===u?this.keepRatio()&&!e.shiftKey:"none"===u?this.keepRatio():this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(e.x-o.x(),2)+Math.pow(e.y-o.y(),2));const i=this.findOne(".top-left").x()>e.x?-1:1,a=this.findOne(".top-left").y()>e.y?-1:1;t=r*this.cos*i,n=r*this.sin*a,this.findOne(".top-left").x(e.x-t),this.findOne(".top-left").y(e.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(o.y());else if("top-right"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(o.x()-e.x,2)+Math.pow(e.y-o.y(),2));const i=this.findOne(".top-right").x()<e.x?-1:1,a=this.findOne(".top-right").y()>e.y?-1:1;t=r*this.cos*i,n=r*this.sin*a,this.findOne(".top-right").x(e.x+t),this.findOne(".top-right").y(e.y-n)}var p=o.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(o.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(o.x());else if("bottom-left"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(e.x-o.x(),2)+Math.pow(o.y()-e.y,2));const i=e.x<o.x()?-1:1,a=o.y()<e.y?-1:1;t=r*this.cos*i,n=r*this.sin*a,o.x(e.x-t),o.y(e.y+n)}p=o.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(o.y());else if("bottom-right"===this._movingAnchorName){if(d){const e=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(o.x()-e.x,2)+Math.pow(o.y()-e.y,2));const i=this.findOne(".bottom-right").x()<e.x?-1:1,a=this.findOne(".bottom-right").y()<e.y?-1:1;t=r*this.cos*i,n=r*this.sin*a,this.findOne(".bottom-right").x(e.x+t),this.findOne(".bottom-right").y(e.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const e=this.findOne(".top-left"),t=this.findOne(".bottom-right"),n=e.x(),r=e.y(),o=this.getWidth()-t.x(),i=this.getHeight()-t.y();t.move({x:-n,y:-r}),e.move({x:o,y:i})}const h=this.findOne(".top-left").getAbsolutePosition();t=h.x,n=h.y;const m=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),g=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:m,height:g,rotation:Kb.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();tw--,this._fire("transformend",{evt:e,target:n}),null===(t=this.getLayer())||void 0===t||t.batchDraw(),n&&this._nodes.forEach(t=>{var n;t._fire("transformend",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){const n=this._getNodeRect();if(av._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(av._inRange(e.height,2*-this.padding()-1,1))return void this.update();const r=new Xb;if(r.rotate(Kb.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=r.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=r.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=r.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=r.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:av.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,i=new Xb;i.translate(n.x,n.y),i.rotate(n.rotation),i.scale(n.width/o,n.height/o);const a=new Xb,s=e.width/o,l=e.height/o;!1===this.flipEnabled()?(a.translate(e.x,e.y),a.rotate(e.rotation),a.translate(e.width<0?e.width:0,e.height<0?e.height:0),a.scale(Math.abs(s),Math.abs(l))):(a.translate(e.x,e.y),a.rotate(e.rotation),a.scale(s,l));const c=a.multiply(i.invert());this._nodes.forEach(e=>{var t;if(!e.getStage())return;const n=e.getParent().getAbsoluteTransform(),r=e.getTransform().copy();r.translate(e.offsetX(),e.offsetY());const o=new Xb;o.multiply(n.copy().invert()).multiply(c).multiply(n).multiply(r);const i=o.decompose();e.setAttrs(i),null===(t=e.getLayer())||void 0===t||t.batchDraw()}),this.rotation(av._getRotation(e.rotation)),this._nodes.forEach(e=>{this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation(av._getRotation(t.rotation));const n=t.width,r=t.height,o=this.enabledAnchors(),i=this.resizeEnabled(),a=this.padding(),s=this.anchorSize(),l=this.find("._anchor");l.forEach(e=>{e.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+a,offsetY:s/2+a,visible:i&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+a,visible:i&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-a,offsetY:s/2+a,visible:i&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:s/2+a,visible:i&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:s/2-a,visible:i&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:s/2+a,offsetY:s/2-a,visible:i&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:s/2-a,visible:i&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:s/2-a,offsetY:s/2-a,visible:i&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*av._sign(r)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(e=>e.draggable()),x:0,y:0});const c=this.anchorStyleFunc();c&&l.forEach(e=>{c(e)}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Hx.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Vv.prototype.toObject.call(this)}clone(e){return Vv.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}nw.isTransforming=()=>tw>0,nw.prototype.className="Transformer",Jb(nw),Av.addGetterSetter(nw,"enabledAnchors",Qk,function(e){return e instanceof Array||av.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(e){-1===Qk.indexOf(e)&&av.warn("Unknown anchor name: "+e+". Available names are: "+Qk.join(", "))}),e||[]}),Av.addGetterSetter(nw,"flipEnabled",!0,Tv()),Av.addGetterSetter(nw,"resizeEnabled",!0),Av.addGetterSetter(nw,"anchorSize",10,Sv()),Av.addGetterSetter(nw,"rotateEnabled",!0),Av.addGetterSetter(nw,"rotateLineVisible",!0),Av.addGetterSetter(nw,"rotationSnaps",[]),Av.addGetterSetter(nw,"rotateAnchorOffset",50,Sv()),Av.addGetterSetter(nw,"rotateAnchorCursor","crosshair"),Av.addGetterSetter(nw,"rotationSnapTolerance",5,Sv()),Av.addGetterSetter(nw,"borderEnabled",!0),Av.addGetterSetter(nw,"anchorStroke","rgb(0, 161, 255)"),Av.addGetterSetter(nw,"anchorStrokeWidth",1,Sv()),Av.addGetterSetter(nw,"anchorFill","white"),Av.addGetterSetter(nw,"anchorCornerRadius",0,Sv()),Av.addGetterSetter(nw,"borderStroke","rgb(0, 161, 255)"),Av.addGetterSetter(nw,"borderStrokeWidth",1,Sv()),Av.addGetterSetter(nw,"borderDash"),Av.addGetterSetter(nw,"keepRatio",!0),Av.addGetterSetter(nw,"shiftBehavior","default"),Av.addGetterSetter(nw,"centeredScaling",!1),Av.addGetterSetter(nw,"ignoreStroke",!1),Av.addGetterSetter(nw,"padding",0,Sv()),Av.addGetterSetter(nw,"nodes"),Av.addGetterSetter(nw,"node"),Av.addGetterSetter(nw,"boundBoxFunc"),Av.addGetterSetter(nw,"anchorDragBoundFunc"),Av.addGetterSetter(nw,"anchorStyleFunc"),Av.addGetterSetter(nw,"shouldOverdrawWholeArea",!1),Av.addGetterSetter(nw,"useSingleNodeRotation",!0),Av.backCompat(nw,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class rw extends Rx{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Kb.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}function ow(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}rw.prototype.className="Wedge",rw.prototype._centroid=!0,rw.prototype._attrsAffectingSize=["radius"],Jb(rw),Av.addGetterSetter(rw,"radius",0,Sv()),Av.addGetterSetter(rw,"angle",0,Sv()),Av.addGetterSetter(rw,"clockwise",!1),Av.backCompat(rw,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});const iw=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],aw=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function sw(e,t,n,r,o){const i=n-t,a=o-r;if(0===i)return r+a/2;if(0===a)return r;let s=(e-t)/i;return s=a*s+r,s}function lw(e,t,n){let r=4*(n*e.width+t);const o=[];return o.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),o}function cw(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}Av.addGetterSetter(Vv,"blurRadius",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"brightness",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"contrast",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"embossStrength",.5,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"embossWhiteLevel",.5,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"embossDirection","top-left",void 0,Av.afterSetFilter),Av.addGetterSetter(Vv,"embossBlend",!1,void 0,Av.afterSetFilter),Av.addGetterSetter(Vv,"enhance",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"hue",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"saturation",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"luminance",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"hue",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"saturation",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"value",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"kaleidoscopePower",2,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"kaleidoscopeAngle",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"threshold",0,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"noise",.2,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"pixelSize",8,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"levels",.5,Sv(),Av.afterSetFilter),Av.addGetterSetter(Vv,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Av.addGetterSetter(Vv,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Av.addGetterSetter(Vv,"blue",0,wv,Av.afterSetFilter),Av.addGetterSetter(Vv,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Av.addGetterSetter(Vv,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Av.addGetterSetter(Vv,"blue",0,wv,Av.afterSetFilter),Av.addGetterSetter(Vv,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}),Av.addGetterSetter(Vv,"threshold",.5,Sv(),Av.afterSetFilter),Zx.Util._assign(Zx,{Arc:Xx,Arrow:dk,Circle:fk,Ellipse:pk,Image:hk,Label:kk,Tag:wk,Line:tk,Path:uk,Rect:Sk,RegularPolygon:_k,Ring:Ek,Sprite:Lk,Star:Tk,Text:Hk,TextPath:Vk,Transformer:nw,Wedge:rw,Filters:{Blur:function(e){const t=Math.round(this.blurRadius());t>0&&function(e,t){const n=e.data,r=e.width,o=e.height;let i,a,s,l,c,u,d,f,p,h,m,g,y,b,v,x,k,w,S,_;const C=t+t+1,E=r-1,L=o-1,T=t+1,M=T*(T+1)/2,j=new ow,A=iw[t],O=aw[t];let P=null,N=j,I=null,D=null;for(let e=1;e<C;e++)N=N.next=new ow,e===T&&(P=N);N.next=j,s=a=0;for(let e=0;e<o;e++){g=y=b=v=l=c=u=d=0,f=T*(x=n[a]),p=T*(k=n[a+1]),h=T*(w=n[a+2]),m=T*(S=n[a+3]),l+=M*x,c+=M*k,u+=M*w,d+=M*S,N=j;for(let e=0;e<T;e++)N.r=x,N.g=k,N.b=w,N.a=S,N=N.next;for(let e=1;e<T;e++)i=a+((E<e?E:e)<<2),l+=(N.r=x=n[i])*(_=T-e),c+=(N.g=k=n[i+1])*_,u+=(N.b=w=n[i+2])*_,d+=(N.a=S=n[i+3])*_,g+=x,y+=k,b+=w,v+=S,N=N.next;I=j,D=P;for(let e=0;e<r;e++)n[a+3]=S=d*A>>O,0!==S?(S=255/S,n[a]=(l*A>>O)*S,n[a+1]=(c*A>>O)*S,n[a+2]=(u*A>>O)*S):n[a]=n[a+1]=n[a+2]=0,l-=f,c-=p,u-=h,d-=m,f-=I.r,p-=I.g,h-=I.b,m-=I.a,i=s+((i=e+t+1)<E?i:E)<<2,g+=I.r=n[i],y+=I.g=n[i+1],b+=I.b=n[i+2],v+=I.a=n[i+3],l+=g,c+=y,u+=b,d+=v,I=I.next,f+=x=D.r,p+=k=D.g,h+=w=D.b,m+=S=D.a,g-=x,y-=k,b-=w,v-=S,D=D.next,a+=4;s+=r}for(let e=0;e<r;e++){y=b=v=g=c=u=d=l=0,a=e<<2,f=T*(x=n[a]),p=T*(k=n[a+1]),h=T*(w=n[a+2]),m=T*(S=n[a+3]),l+=M*x,c+=M*k,u+=M*w,d+=M*S,N=j;for(let e=0;e<T;e++)N.r=x,N.g=k,N.b=w,N.a=S,N=N.next;let s=r;for(let o=1;o<=t;o++)a=s+e<<2,l+=(N.r=x=n[a])*(_=T-o),c+=(N.g=k=n[a+1])*_,u+=(N.b=w=n[a+2])*_,d+=(N.a=S=n[a+3])*_,g+=x,y+=k,b+=w,v+=S,N=N.next,o<L&&(s+=r);a=e,I=j,D=P;for(let t=0;t<o;t++)i=a<<2,n[i+3]=S=d*A>>O,S>0?(S=255/S,n[i]=(l*A>>O)*S,n[i+1]=(c*A>>O)*S,n[i+2]=(u*A>>O)*S):n[i]=n[i+1]=n[i+2]=0,l-=f,c-=p,u-=h,d-=m,f-=I.r,p-=I.g,h-=I.b,m-=I.a,i=e+((i=t+T)<L?i:L)*r<<2,l+=g+=I.r=n[i],c+=y+=I.g=n[i+1],u+=b+=I.b=n[i+2],d+=v+=I.a=n[i+3],I=I.next,f+=x=D.r,p+=k=D.g,h+=w=D.b,m+=S=D.a,g-=x,y-=k,b-=w,v-=S,D=D.next,a+=r}}(e,t)},Brightness:function(e){const t=this.brightness(),n=e.data,r=n.length;for(let e=0;e<r;e+=4)n[e]=Math.min(255,n[e]*t),n[e+1]=Math.min(255,n[e+1]*t),n[e+2]=Math.min(255,n[e+2]*t)},Brighten:function(e){const t=255*this.brightness(),n=e.data,r=n.length;for(let e=0;e<r;e+=4)n[e]+=t,n[e+1]+=t,n[e+2]+=t},Contrast:function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length;let o=150,i=150,a=150;for(let e=0;e<r;e+=4)o=n[e],i=n[e+1],a=n[e+2],o/=255,o-=.5,o*=t,o+=.5,o*=255,i/=255,i-=.5,i*=t,i+=.5,i*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,o=o<0?0:o>255?255:o,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,n[e]=o,n[e+1]=i,n[e+2]=a},Emboss:function(e){var t,n,r,o,i,a,s,l,c;const u=e.data,d=e.width,f=e.height,p=Math.min(1,Math.max(0,null!==(n=null===(t=this.embossStrength)||void 0===t?void 0:t.call(this))&&void 0!==n?n:.5)),h=Math.min(1,Math.max(0,null!==(o=null===(r=this.embossWhiteLevel)||void 0===r?void 0:r.call(this))&&void 0!==o?o:.5)),m=null!==(s={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[null!==(a=null===(i=this.embossDirection)||void 0===i?void 0:i.call(this))&&void 0!==a?a:"top-left"])&&void 0!==s?s:315,g=!(null===(c=null===(l=this.embossBlend)||void 0===l?void 0:l.call(this))||void 0===c||!c),y=10*p,b=255*h,v=m*Math.PI/180,x=Math.cos(v),k=Math.sin(v),w=128/1020*y,S=new Uint8ClampedArray(u),_=new Float32Array(d*f);for(let e=0,t=0;t<u.length;t+=4,e++)_[e]=.2126*S[t]+.7152*S[t+1]+.0722*S[t+2];const C=[-1,0,1,-2,0,2,-1,0,1],E=[-1,-2,-1,0,0,0,1,2,1],L=[-d-1,-d,1-d,-1,0,1,d-1,d,d+1],T=e=>e<0?0:e>255?255:e;for(let e=1;e<f-1;e++)for(let t=1;t<d-1;t++){const n=e*d+t;let r=0,o=0;r+=_[n+L[0]]*C[0],o+=_[n+L[0]]*E[0],r+=_[n+L[1]]*C[1],o+=_[n+L[1]]*E[1],r+=_[n+L[2]]*C[2],o+=_[n+L[2]]*E[2],r+=_[n+L[3]]*C[3],o+=_[n+L[3]]*E[3],r+=_[n+L[5]]*C[5],o+=_[n+L[5]]*E[5],r+=_[n+L[6]]*C[6],o+=_[n+L[6]]*E[6],r+=_[n+L[7]]*C[7],o+=_[n+L[7]]*E[7],r+=_[n+L[8]]*C[8],o+=_[n+L[8]]*E[8];const i=T(b+(x*r+k*o)*w),a=4*n;if(g){const e=i-b;u[a]=T(S[a]+e),u[a+1]=T(S[a+1]+e),u[a+2]=T(S[a+2]+e),u[a+3]=S[a+3]}else u[a]=u[a+1]=u[a+2]=i,u[a+3]=S[a+3]}for(let e=0;e<d;e++){let t=4*e,n=4*((f-1)*d+e);u[t]=S[t],u[t+1]=S[t+1],u[t+2]=S[t+2],u[t+3]=S[t+3],u[n]=S[n],u[n+1]=S[n+1],u[n+2]=S[n+2],u[n+3]=S[n+3]}for(let e=1;e<f-1;e++){let t=e*d*4,n=4*(e*d+(d-1));u[t]=S[t],u[t+1]=S[t+1],u[t+2]=S[t+2],u[t+3]=S[t+3],u[n]=S[n],u[n+1]=S[n+1],u[n+2]=S[n+2],u[n+3]=S[n+3]}return e},Enhance:function(e){const t=e.data,n=t.length;let r,o,i,a=t[0],s=a,l=t[1],c=l,u=t[2],d=u;const f=this.enhance();if(0===f)return;for(let e=0;e<n;e+=4)r=t[e+0],r<a?a=r:r>s&&(s=r),o=t[e+1],o<l?l=o:o>c&&(c=o),i=t[e+2],i<u?u=i:i>d&&(d=i);let p,h,m,g,y,b;if(s===a&&(s=255,a=0),c===l&&(c=255,l=0),d===u&&(d=255,u=0),f>0)p=s+f*(255-s),h=a-f*(a-0),m=c+f*(255-c),g=l-f*(l-0),y=d+f*(255-d),b=u-f*(u-0);else{const e=.5*(s+a);p=s+f*(s-e),h=a+f*(a-e);const t=.5*(c+l);m=c+f*(c-t),g=l+f*(l-t);const n=.5*(d+u);y=d+f*(d-n),b=u+f*(u-n)}for(let e=0;e<n;e+=4)t[e+0]=sw(t[e+0],a,s,h,p),t[e+1]=sw(t[e+1],l,c,g,m),t[e+2]=sw(t[e+2],u,d,b,y)},Grayscale:function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=.34*t[e]+.5*t[e+1]+.16*t[e+2];t[e]=n,t[e+1]=n,t[e+2]=n}},HSL:function(e){const t=e.data,n=t.length,r=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,i=127*this.luminance(),a=1*r*Math.cos(o*Math.PI/180),s=1*r*Math.sin(o*Math.PI/180),l=.299+.701*a+.167*s,c=.587-.587*a+.33*s,u=.114-.114*a-.497*s,d=.299-.299*a-.328*s,f=.587+.413*a+.035*s,p=.114-.114*a+.293*s,h=.299-.3*a+1.25*s,m=.587-.586*a-1.05*s,g=.114+.886*a-.2*s;let y,b,v,x;for(let e=0;e<n;e+=4)y=t[e+0],b=t[e+1],v=t[e+2],x=t[e+3],t[e+0]=l*y+c*b+u*v+i,t[e+1]=d*y+f*b+p*v+i,t[e+2]=h*y+m*b+g*v+i,t[e+3]=x},HSV:function(e){const t=e.data,n=t.length,r=Math.pow(2,this.value()),o=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,a=r*o*Math.cos(i*Math.PI/180),s=r*o*Math.sin(i*Math.PI/180),l=.299*r+.701*a+.167*s,c=.587*r-.587*a+.33*s,u=.114*r-.114*a-.497*s,d=.299*r-.299*a-.328*s,f=.587*r+.413*a+.035*s,p=.114*r-.114*a+.293*s,h=.299*r-.3*a+1.25*s,m=.587*r-.586*a-1.05*s,g=.114*r+.886*a-.2*s;for(let e=0;e<n;e+=4){const n=t[e+0],r=t[e+1],o=t[e+2],i=t[e+3];t[e+0]=l*n+c*r+u*o,t[e+1]=d*n+f*r+p*o,t[e+2]=h*n+m*r+g*o,t[e+3]=i}},Invert:function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4)t[e]=255-t[e],t[e+1]=255-t[e+1],t[e+2]=255-t[e+2]},Kaleidoscope:function(e){const t=e.width,n=e.height;let r,o,i,a,s,l,c,u,d,f,p=Math.round(this.kaleidoscopePower());const h=Math.round(this.kaleidoscopeAngle()),m=Math.floor(t*(h%360)/360);if(p<1)return;const g=av.createCanvasElement();g.width=t,g.height=n;const y=g.getContext("2d").getImageData(0,0,t,n);av.releaseCanvas(g),function(e,t,n){const r=e.data,o=t.data,i=e.width,a=e.height,s=n.polarCenterX||i/2,l=n.polarCenterY||a/2;let c=Math.sqrt(s*s+l*l),u=i-s,d=a-l;const f=Math.sqrt(u*u+d*d);c=f>c?f:c;const p=a,h=i,m=360/h*Math.PI/180;for(let e=0;e<h;e+=1){const t=Math.sin(e*m),n=Math.cos(e*m);for(let a=0;a<p;a+=1){u=Math.floor(s+c*a/p*n),d=Math.floor(l+c*a/p*t);let f=4*(d*i+u);const h=r[f+0],m=r[f+1],g=r[f+2],y=r[f+3];f=4*(e+a*i),o[f+0]=h,o[f+1]=m,o[f+2]=g,o[f+3]=y}}}(e,y,{polarCenterX:t/2,polarCenterY:n/2});let b=t/Math.pow(2,p);for(;b<=8;)b*=2,p-=1;b=Math.ceil(b);let v=b,x=0,k=v,w=1;for(m+b>t&&(x=v,k=0,w=-1),o=0;o<n;o+=1)for(r=x;r!==k;r+=w)i=Math.round(r+m)%t,d=4*(t*o+i),s=y.data[d+0],l=y.data[d+1],c=y.data[d+2],u=y.data[d+3],f=4*(t*o+r),y.data[f+0]=s,y.data[f+1]=l,y.data[f+2]=c,y.data[f+3]=u;for(o=0;o<n;o+=1)for(v=Math.floor(b),a=0;a<p;a+=1){for(r=0;r<v+1;r+=1)d=4*(t*o+r),s=y.data[d+0],l=y.data[d+1],c=y.data[d+2],u=y.data[d+3],f=4*(t*o+2*v-r-1),y.data[f+0]=s,y.data[f+1]=l,y.data[f+2]=c,y.data[f+3]=u;v*=2}!function(e,t,n){const r=e.data,o=t.data,i=e.width,a=e.height,s=n.polarCenterX||i/2,l=n.polarCenterY||a/2;let c=Math.sqrt(s*s+l*l),u=i-s,d=a-l;const f=Math.sqrt(u*u+d*d);c=f>c?f:c;const p=a,h=i,m=n.polarRotation||0;let g,y;for(u=0;u<i;u+=1)for(d=0;d<a;d+=1){const e=u-s,t=d-l,n=Math.sqrt(e*e+t*t)*p/c;let a=(180*Math.atan2(t,e)/Math.PI+360+m)%360;a=a*h/360,g=Math.floor(a),y=Math.floor(n);let f=4*(y*i+g);const b=r[f+0],v=r[f+1],x=r[f+2],k=r[f+3];f=4*(d*i+u),o[f+0]=b,o[f+1]=v,o[f+2]=x,o[f+3]=k}}(y,e,{polarRotation:0})},Mask:function(e){let t=function(e,t){const n=lw(e,0,0),r=lw(e,e.width-1,0),o=lw(e,0,e.height-1),i=lw(e,e.width-1,e.height-1),a=t||10;if(cw(n,r)<a&&cw(r,i)<a&&cw(i,o)<a&&cw(o,n)<a){const t=function(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,i,o]),s=[];for(let n=0;n<e.width*e.height;n++){const r=cw(t,[e.data[4*n],e.data[4*n+1],e.data[4*n+2]]);s[n]=r<a?0:255}return s}}(e,this.threshold());return t&&(t=function(e,t,n){const r=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),a=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const c=s*t+l;let u=0;for(let a=0;a<o;a++)for(let c=0;c<o;c++){const d=s+a-i,f=l+c-i;if(d>=0&&d<n&&f>=0&&f<t){const n=r[a*o+c];u+=e[d*t+f]*n}}a[c]=2040===u?255:0}return a}(t,e.width,e.height),t=function(e,t,n){const r=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),a=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const c=s*t+l;let u=0;for(let a=0;a<o;a++)for(let c=0;c<o;c++){const d=s+a-i,f=l+c-i;if(d>=0&&d<n&&f>=0&&f<t){const n=r[a*o+c];u+=e[d*t+f]*n}}a[c]=u>=1020?255:0}return a}(t,e.width,e.height),t=function(e,t,n){const r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),a=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const c=s*t+l;let u=0;for(let a=0;a<o;a++)for(let c=0;c<o;c++){const d=s+a-i,f=l+c-i;if(d>=0&&d<n&&f>=0&&f<t){const n=r[a*o+c];u+=e[d*t+f]*n}}a[c]=u}return a}(t,e.width,e.height),function(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},Noise:function(e){const t=255*this.noise(),n=e.data,r=n.length,o=t/2;for(let e=0;e<r;e+=4)n[e+0]+=o-2*o*Math.random(),n[e+1]+=o-2*o*Math.random(),n[e+2]+=o-2*o*Math.random()},Pixelate:function(e){let t=Math.ceil(this.pixelSize()),n=e.width,r=e.height,o=Math.ceil(n/t),i=Math.ceil(r/t),a=e.data;if(t<=0)av.error("pixelSize value can not be <= 0");else for(let e=0;e<o;e+=1)for(let o=0;o<i;o+=1){let i=0,s=0,l=0,c=0;const u=e*t,d=u+t,f=o*t,p=f+t;let h=0;for(let e=u;e<d;e+=1)if(!(e>=n))for(let t=f;t<p;t+=1){if(t>=r)continue;const o=4*(n*t+e);i+=a[o+0],s+=a[o+1],l+=a[o+2],c+=a[o+3],h+=1}i/=h,s/=h,l/=h,c/=h;for(let e=u;e<d;e+=1)if(!(e>=n))for(let t=f;t<p;t+=1){if(t>=r)continue;const o=4*(n*t+e);a[o+0]=i,a[o+1]=s,a[o+2]=l,a[o+3]=c}}},Posterize:function(e){const t=Math.round(254*this.levels())+1,n=e.data,r=n.length,o=255/t;for(let e=0;e<r;e+=1)n[e]=Math.floor(n[e]/o)*o},RGB:function(e){const t=e.data,n=t.length,r=this.red(),o=this.green(),i=this.blue();for(let e=0;e<n;e+=4){const n=(.34*t[e]+.5*t[e+1]+.16*t[e+2])/255;t[e]=n*r,t[e+1]=n*o,t[e+2]=n*i,t[e+3]=t[e+3]}},RGBA:function(e){const t=e.data,n=t.length,r=this.red(),o=this.green(),i=this.blue(),a=this.alpha();for(let e=0;e<n;e+=4){const n=1-a;t[e]=r*a+t[e]*n,t[e+1]=o*a+t[e+1]*n,t[e+2]=i*a+t[e+2]*n}},Sepia:function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=t[e+0],r=t[e+1],o=t[e+2];t[e+0]=Math.min(255,.393*n+.769*r+.189*o),t[e+1]=Math.min(255,.349*n+.686*r+.168*o),t[e+2]=Math.min(255,.272*n+.534*r+.131*o)}},Solarize:function(e){const t=e.data;for(let e=0;e<t.length;e+=4){const n=t[e],r=t[e+1],o=t[e+2];.2126*n+.7152*r+.0722*o>=128&&(t[e]=255-n,t[e+1]=255-r,t[e+2]=255-o)}return e},Threshold:function(e){const t=255*this.threshold(),n=e.data,r=n.length;for(let e=0;e<r;e+=1)n[e]=n[e]<t?0:255}}});const uw=Zx;var dw=o(4845),fw=o.n(dw),pw=o(772);const hw={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let mw=!1,gw=!1;const yw=".react-konva-event";let bw=!1;const vw="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",xw='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',kw={};function ww(e,t,n=kw){if(!mw&&"zIndex"in t&&(console.warn(xw),mw=!0),!gw&&t.draggable){var r=void 0!==t.x||void 0!==t.y,o=t.onDragEnd||t.onDragMove;r&&!o&&(console.warn(vw),gw=!0)}for(var i in n)if(!hw[i]){var a="on"===i.slice(0,2),s=n[i]!==t[i];a&&s&&("content"===(p=i.substr(2).toLowerCase()).substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),e.off(p,n[i])),!t.hasOwnProperty(i)&&e.setAttr(i,void 0)}var l=bw||t._useStrictMode,c={},u=!1;const d={};for(var i in t)if(!hw[i]){a="on"===i.slice(0,2);var f=n[i]!==t[i];a&&f&&("content"===(p=i.substr(2).toLowerCase()).substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),t[i]&&(d[p]=t[i])),!a&&(t[i]!==n[i]||l&&t[i]!==e.getAttr(i))&&(u=!0,c[i]=t[i])}for(var p in u&&(e.setAttrs(c),Sw(e)),d)e.on(p+yw,d[p])}function Sw(e){if(!Kb.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var _w=o(9982);const Cw={},Ew={};function Lw(e,t){"string"!=typeof t?(e.add(t),Sw(e)):console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`)}function Tw(e,t,n){let r=uw[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=uw.Group);const o={},i={};for(var a in t)"on"===a.slice(0,2)?i[a]=t[a]:o[a]=t[a];const s=new r(o);return ww(s,i),s}function Mw(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function jw(e,t,n){return!1}function Aw(e){return e}function Ow(){return null}function Pw(){return null}function Nw(e,t,n,r){return Ew}function Iw(){}function Dw(e){}function Rw(e,t){return!1}function zw(){return Cw}function Bw(){return Cw}uw.Node.prototype._applyProps=ww;const Fw=setTimeout,Ww=clearTimeout,Hw=-1;function Uw(e,t){return!1}const Gw=!1,$w=!0,Vw=!0;function qw(e,t){t.parent===e?t.moveToTop():e.add(t),Sw(e)}function Yw(e,t){t.parent===e?t.moveToTop():e.add(t),Sw(e)}function Kw(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Sw(e)}function Jw(e,t,n){Kw(e,t,n)}function Zw(e,t){t.destroy(),t.off(yw),Sw(e)}function Xw(e,t){t.destroy(),t.off(yw),Sw(e)}function Qw(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function eS(e,t,n){}function tS(e,t,n,r,o){ww(e,o,r)}function nS(e){e.hide(),Sw(e)}function rS(e){}function oS(e,t){(null==t.visible||t.visible)&&e.show()}function iS(e,t){}function aS(e){}function sS(){}const lS=()=>pw.DefaultEventPriority;var cS,uS,dS=Object.defineProperty,fS=Object.defineProperties,pS=Object.getOwnPropertyDescriptors,hS=Object.getOwnPropertySymbols,mS=Object.prototype.hasOwnProperty,gS=Object.prototype.propertyIsEnumerable,yS=(e,t,n)=>t in e?dS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bS=(e,t)=>{for(var n in t||(t={}))mS.call(t,n)&&yS(e,n,t[n]);if(hS)for(var n of hS(t))gS.call(t,n)&&yS(e,n,t[n]);return e};function vS(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=vS(r,t,n);if(e)return e;r=t?null:r.sibling}}function xS(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"==typeof window||!(null==(cS=window.document)?void 0:cS.createElement)&&"ReactNative"!==(null==(uS=window.navigator)?void 0:uS.product)?r.useEffect:r.useLayoutEffect;const kS=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return kS.apply(this,arguments);console.error=kS};const wS=xS(r.createContext(null));class SS extends r.Component{render(){return r.createElement(wS.Provider,{value:this._reactInternals},this.props.children)}}function _S(){const e=function(){const e=function(){const e=r.useContext(wS);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=r.useId();return r.useMemo(()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=vS(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[t]=r.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==wS&&!t.has(e)&&t.set(e,r.useContext(xS(e)))}n=n.return}return t}();return r.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>o=>r.createElement(t,null,r.createElement(n.Provider,((e,t)=>fS(e,pS(t)))(bS({},o),{value:e.get(n)}))),e=>r.createElement(SS,bS({},e))),[e])}const CS=e=>{const t=r.useRef(),n=r.useRef(),o=r.useRef(),i=function(e){const t=r.useRef({});return r.useLayoutEffect(()=>{t.current=e}),r.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}(e),a=_S(),s=t=>{const{forwardedRef:n}=e;n&&("function"==typeof n?n(t):n.current=t)};return r.useLayoutEffect(()=>(n.current=new uw.Stage({width:e.width,height:e.height,container:t.current}),s(n.current),o.current=AS.createContainer(n.current,pw.LegacyRoot,!1,null),AS.updateContainer(r.createElement(a,{},e.children),o.current),()=>{uw.isBrowser&&(s(null),AS.updateContainer(null,o.current,null),n.current.destroy())}),[]),r.useLayoutEffect(()=>{s(n.current),ww(n.current,e,i),AS.updateContainer(r.createElement(a,{},e.children),o.current,null)}),r.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},ES="Layer",LS="Group",TS="Circle",MS="Line",jS="Image",AS=fw()(t);AS.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:r.version,rendererPackageName:"react-konva"});const OS=r.forwardRef((e,t)=>r.createElement(SS,{},r.createElement(CS,{...e,forwardedRef:t})));var PS=o(4088),NS=o.n(PS),IS=o(724),DS={};function RS(e){return RS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RS(e)}function zS(e){return function(e){if(Array.isArray(e))return $S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||GS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BS(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=GS(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FS(Object(n),!0).forEach(function(t){HS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HS(e,t,n){return(t=function(e){var t=function(e){if("object"!=RS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=RS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==RS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function US(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||GS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GS(e,t){if(e){if("string"==typeof e)return $S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$S(e,t):void 0}}function $S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}DS.styleTagTransform=Be(),DS.setAttributes=Ie(),DS.insert=Pe().bind(null,"head"),DS.domAPI=Ae(),DS.insertStyleElement=Re(),Me()(IS.A,DS),IS.A&&IS.A.locals&&IS.A.locals;const VS=function(e){var t=e.imageUrl,n=e.places,o=e.minZoom,i=void 0===o?.5:o,a=e.maxZoom,s=void 0===a?3:a,l=e.mode,c=void 0===l?"view":l,u=e.sidebarWidth,d=void 0===u?0:u,f=(e.leftMenuWidth,e.selectedRegionId),p=void 0===f?null:f,h=e.editingRegionId,m=void 0===h?null:h,g=e.isEditingPolygon,y=void 0!==g&&g,b=e.onPlaceClick,v=e.onPlaceDoubleClick,x=e.onCityDoubleClick,k=e.onCityDrag,w=e.onRegionPolygonUpdate,S=e.onMapClick,_=e.onPolygonComplete,C=e.onPolygonPointsChange,E=e.onCityOutsideRegion,L=(e.onRegionOverlap,e.tempRegion),T=(0,r.useRef)(null),M=US((0,r.useState)({width:0,height:0}),2),j=M[0],A=M[1],O=US(NS()(t),1)[0],P=US((0,r.useState)({x:0,y:0,scale:1}),2),N=P[0],I=P[1],D=US((0,r.useState)([]),2),R=D[0],z=D[1],B=US((0,r.useState)(!1),2),F=B[0],W=B[1],H=US((0,r.useState)(!1),2),U=H[0],G=H[1],$=(0,r.useRef)(null),V=US((0,r.useState)(null),2),q=V[0],Y=V[1],K=US((0,r.useState)(null),2),J=K[0],Z=K[1],X=US((0,r.useState)(!1),2),Q=X[0],ee=X[1],te=(0,r.useRef)(null),ne=(0,r.useRef)(null),re=(0,r.useRef)(null),oe=US((0,r.useState)(null),2),ie=oe[0],ae=oe[1],se=US((0,r.useState)(0),2),le=se[0],ce=se[1];(0,r.useEffect)(function(){var e=function(){T.current&&A({width:T.current.offsetWidth,height:T.current.offsetHeight})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,r.useEffect)(function(){if(O&&j.width&&j.height){var e=i;I({x:(j.width-O.width*e)/2,y:(j.height-O.height*e)/2,scale:e})}},[O,j,i]),(0,r.useEffect)(function(){"view"===c&&(z([]),W(!1)),ne.current&&(clearTimeout(ne.current),ne.current=null)},[c]),(0,r.useEffect)(function(){re.current&&d>0&&he(re.current)},[d]),(0,r.useEffect)(function(){return function(){ne.current&&clearTimeout(ne.current)}},[]),(0,r.useEffect)(function(){var e,t=Date.now(),n=function(){var r=(Date.now()-t)%2e3/2e3;ce(r<.5?2*r:2-2*r),e=requestAnimationFrame(n)};return n(),function(){e&&cancelAnimationFrame(e)}},[]);var ue,de,fe=function(e,t,n){for(var r=!1,o=0,i=n.length-1;o<n.length;i=o++){var a=n[o].x,s=n[o].y,l=n[i].x,c=n[i].y;s>t!=c>t&&e<(l-a)*(t-s)/(c-s)+a&&(r=!r)}return r},pe=function(e,t){return O?{x:e*O.width,y:t*O.height}:{x:0,y:0}},he=function(e){var t;if(O&&null!==(t=e.coordinates)&&void 0!==t&&t.data.points){var n,r=1,o=1,a=0,l=0,c=BS(e.coordinates.data.points);try{for(c.s();!(n=c.n()).done;){var u=n.value;r=Math.min(r,u.x),o=Math.min(o,u.y),a=Math.max(a,u.x),l=Math.max(l,u.y)}}catch(e){c.e(e)}finally{c.f()}var f=r*O.width,p=o*O.height,h=a*O.width,m=l*O.height,g=h-f,y=m-p,b=(f+h)/2,v=(p+m)/2,x=j.width-d,k=j.height,w=(x-200)/g,S=(k-200)/y,_=Math.min(w,S,s),C=Math.max(i,Math.min(s,_));I({x:x/2-b*C,y:k/2-v*C,scale:C})}},me=function(e,t){"view"===c&&(t.evt&&0!==t.evt.button||(re.current=e,he(e),null==b||b(e)))};return(0,Xe.jsx)("div",{ref:T,style:{width:"100%",height:"100%",position:"relative",overflow:"hidden",backgroundColor:"#1a1a1a",cursor:"view"===c&&q?"pointer":"default"},className:"interactive-map-container",onContextMenu:function(e){return e.preventDefault()},children:j.width>0&&(0,Xe.jsxs)(OS,{width:j.width,height:j.height,scaleX:N.scale,scaleY:N.scale,x:N.x,y:N.y,draggable:!1,onWheel:function(e){e.evt.preventDefault();var t=e.target.getStage(),n=t.scaleX(),r=t.getPointerPosition(),o=(r.x-t.x())/n,a=(r.y-t.y())/n,l=Math.max(i,Math.min(s,n-.001*e.evt.deltaY));I({scale:l,x:r.x-o*l,y:r.y-a*l})},onDragEnd:function(e){I(WS(WS({},N),{},{x:e.target.x(),y:e.target.y()}))},onMouseDown:function(e){if(O){if(2===e.evt.button){e.cancelBubble=!0;var t=e.target.getStage().getPointerPosition();return te.current={x:t.x-N.x,y:t.y-N.y},void ee(!0)}if(!y&&"edit"===c){e.cancelBubble=!0;var n=e.target.getStage().getPointerPosition(),r=(n.x-N.x)/N.scale,o=(n.y-N.y)/N.scale,i=r/O.width,a=o/O.height;i<0||i>1||a<0||a>1||($.current={x:i,y:a},G(!1),Z({x:i,y:a}))}}},onMouseMove:function(e){if(O){var t=e.target.getStage().getPointerPosition();if(Q&&te.current)return e.cancelBubble=!0,void I(WS(WS({},N),{},{x:t.x-te.current.x,y:t.y-te.current.y}));if("edit"===c){var n=(t.x-N.x)/N.scale,r=(t.y-N.y)/N.scale,o=n/O.width,i=r/O.height;if(($.current||F)&&Z({x:o,y:i}),$.current){e.cancelBubble=!0;var a=o-$.current.x,s=i-$.current.y;if(Math.sqrt(a*a+s*s)>.01&&!U){G(!0),W(!0);var l={x:$.current.x,y:$.current.y};z([l]),null==C||C([l])}}}}},onMouseUp:function(e){if(Q)return ee(!1),void(te.current=null);if(!y&&O&&"edit"===c&&$.current){e.cancelBubble=!0;var t=e.target.getStage().getPointerPosition(),r=void 0;if(T.current&&t){var o=T.current.getBoundingClientRect();r={x:o.left+t.x,y:o.top+t.y}}var i=(t.x-N.x)/N.scale,a=(t.y-N.y)/N.scale,s=i/O.width,l=a/O.height;if(s<0||s>1||l<0||l>1)return $.current=null,void Z(null);if(F){if(R.length>=3){var u,d=BS(R);try{for(d.s();!(u=d.n()).done;){var f=u.value,p=s-f.x,h=l-f.y;if(Math.sqrt(p*p+h*h)<.02)return null==_||_(R,r),z([]),W(!1),$.current=null,Z(null),void G(!1)}}catch(e){d.e(e)}finally{d.f()}}var m=[].concat(zS(R),[{x:s,y:l}]);z(m),null==C||C(m)}else if(!U){var g=function(e,t){var r,o=BS(n.filter(function(e){var t;return"region"===e.placeType&&"polygon"===(null===(t=e.coordinates)||void 0===t?void 0:t.type)}));try{for(o.s();!(r=o.n()).done;){var i,a=r.value;if(null!==(i=a.coordinates)&&void 0!==i&&i.data.points&&fe(e,t,a.coordinates.data.points))return a}}catch(e){o.e(e)}finally{o.f()}return null}(s,l);ne.current&&(clearTimeout(ne.current),ne.current=null),ne.current=setTimeout(function(){g?null==S||S(s,l,r):null==E||E(),ne.current=null},200)}$.current=null,Z(null),G(!1)}},children:[(0,Xe.jsx)(ES,{children:O&&(0,Xe.jsx)(jS,{image:O})}),(0,Xe.jsxs)(ES,{children:[O&&(0,Xe.jsx)("Rect",{x:0,y:0,width:O.width,height:O.height,fill:"rgba(0, 0, 0, 0.6)",listening:!1}),O&&n.filter(function(e){var t;return"region"===e.placeType&&"polygon"===(null===(t=e.coordinates)||void 0===t?void 0:t.type)}).map(function(e){var t=q===e._id,n=p===e._id;if(!t&&!n)return null;var o=e.coordinates.data.points.flatMap(function(e){var t=pe(e.x,e.y);return[t.x,t.y]}),i=function(t){var n=1e4*Math.sin(t+e._id.charCodeAt(0));return n-Math.floor(n)};return(0,Xe.jsxs)(r.Fragment,{children:[[180,170,160,150,140,130,120,110,100,90,80,70,60,55,50,45,40,35,30,25,20,15,10,8,6,4,2].map(function(t,n,r){var a=(t+(12*i(7.3*n)-6))*(.95+.1*le),s=n/(r.length-1),l=(.04+.16*Math.pow(1-s,2.2))*(1.5+.2*le),c=n<12,u=4+18*i(5.1*n),d=3+14*i(8.9*n),f=8*i(13.3*n)*(1-s),p=d+10*i(17.7*n)*s,h=[(u+f)/N.scale,p/N.scale],m=c&&i(3.7*n)>.25,g=.55+.15*i(19.1*n);return(0,Xe.jsx)(MS,{points:o,closed:!0,stroke:"rgba(0, 0, 0, ".concat(l,")"),strokeWidth:a/N.scale,listening:!1,globalCompositeOperation:"destination-out",tension:g,lineCap:"round",lineJoin:"round",dash:m?h:void 0,dashOffset:m?60*le+6*n+25*i(23.1*n):0},"feather-".concat(e._id,"-").concat(n))}),(0,Xe.jsx)(MS,{points:o,closed:!0,fill:"black",listening:!1,globalCompositeOperation:"destination-out",tension:.6},"main-".concat(e._id))]},"cutout-".concat(e._id))})]}),(0,Xe.jsxs)(ES,{children:[n.filter(function(e){var t;return"region"===e.placeType&&"polygon"===(null===(t=e.coordinates)||void 0===t?void 0:t.type)}).map(function(e){var t=e.coordinates.data.points,n=t.flatMap(function(e){var t=pe(e.x,e.y);return[t.x,t.y]});return e._id,e._id,(0,Xe.jsxs)(LS,{children:[(0,Xe.jsx)(MS,{points:n,closed:!0,stroke:"transparent",strokeWidth:0,fill:"transparent",onClick:function(t){y||me(e,t)},onTap:function(){y||"view"===c&&me(e,{})},onDblClick:function(t){if(!y&&"edit"===c){ne.current&&(clearTimeout(ne.current),ne.current=null);var n,r=t.target.getStage().getPointerPosition();if(T.current&&r){var o=T.current.getBoundingClientRect();n={x:o.left+r.x,y:o.top+r.y}}null==v||v(e,n)}},onDblTap:function(t){if(!y&&"edit"===c){ne.current&&(clearTimeout(ne.current),ne.current=null);var n,r=t.target.getStage().getPointerPosition();if(T.current&&r){var o=T.current.getBoundingClientRect();n={x:o.left+r.x,y:o.top+r.y}}null==v||v(e,n)}},onMouseEnter:function(t){y||(Y(e._id),t.target.getStage().container().style.cursor="pointer")},onMouseLeave:function(e){y||(Y(null),e.target.getStage().container().style.cursor="default")}}),y&&m===e._id&&(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(MS,{points:n,closed:!0,stroke:"#667eea",strokeWidth:3/N.scale,dash:[10/N.scale,5/N.scale],listening:!1}),t.map(function(n,r){var o=pe(n.x,n.y);return(0,Xe.jsx)(TS,{x:o.x,y:o.y,radius:8/N.scale,fill:"#4a90e2",stroke:"#ffffff",strokeWidth:2/N.scale,draggable:!0,onDragStart:function(e){e.cancelBubble=!0,ae(r)},onDragMove:function(n){n.cancelBubble=!0;var o=n.target.getStage().getPointerPosition();if(o&&O){var i,a,s=(i=(o.x-N.x)/N.scale,a=(o.y-N.y)/N.scale,O?{x:i/O.width,y:a/O.height}:{x:0,y:0}),l=zS(t);l[r]={x:s.x,y:s.y},null==w||w(e,l)}},onDragEnd:function(e){e.cancelBubble=!0,ae(null)},onMouseEnter:function(e){e.target.getStage().container().style.cursor="move"},onMouseLeave:function(e){null===ie&&(e.target.getStage().container().style.cursor="default")}},"control-".concat(r))})]})]},e._id)}),n.filter(function(e){var t,r;return"city"===e.placeType&&"point"===(null===(t=e.coordinates)||void 0===t?void 0:t.type)&&("edit"===c||p&&((null===(r=e.coordinates)||void 0===r?void 0:r.parentRegionId)===p||n.find(function(t){var n;return t._id===p&&"polygon"===(null===(n=t.coordinates)||void 0===n?void 0:n.type)&&t.coordinates.data.points&&fe(e.coordinates.data.x,e.coordinates.data.y,t.coordinates.data.points)})))}).map(function(e){var t=pe(e.coordinates.data.x,e.coordinates.data.y),n=q===e._id;return(0,Xe.jsx)(qS,{place:e,screen:t,isHovered:n,scale:N.scale,mode:c,image:O,stageConfig:N,onPlaceClick:b,onCityDoubleClick:x,onCityDrag:k,clickTimeoutRef:ne,containerRef:T,setHoveredPlace:Y},e._id)}),L&&(0,Xe.jsx)(MS,{points:L.points.flatMap(function(e){var t=pe(e.x,e.y);return[t.x,t.y]}),closed:!0,stroke:L.borderColor,strokeWidth:2/N.scale,fill:L.fillColor}),F&&R.length>0&&(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(MS,{points:R.flatMap(function(e){var t=pe(e.x,e.y);return[t.x,t.y]}),stroke:"#00ff00",strokeWidth:2/N.scale,lineCap:"round",lineJoin:"round",closed:!1,fill:"transparent"}),R.map(function(e,t){var n=pe(e.x,e.y);return(0,Xe.jsx)(TS,{x:n.x,y:n.y,radius:6/N.scale,fill:"#00ff00",stroke:"#ffffff",strokeWidth:2/N.scale},t)}),J&&(0,Xe.jsx)(Xe.Fragment,{children:(ue=pe(R[R.length-1].x,R[R.length-1].y),de=pe(J.x,J.y),(0,Xe.jsx)(MS,{points:[ue.x,ue.y,de.x,de.y],stroke:"#00ff00",strokeWidth:1/N.scale,dash:[10/N.scale,5/N.scale],opacity:.6}))})]}),!F&&U&&$.current&&J&&(0,Xe.jsx)(Xe.Fragment,{children:function(){var e=pe($.current.x,$.current.y),t=pe(J.x,J.y);return(0,Xe.jsx)(MS,{points:[e.x,e.y,t.x,t.y],stroke:"#00ff00",strokeWidth:2/N.scale,opacity:.8})}()})]})]})})};var qS=function(e){var t,n,o=e.place,i=e.screen,a=e.isHovered,s=e.scale,l=e.mode,c=e.image,u=(e.stageConfig,e.onPlaceClick),d=e.onCityDoubleClick,f=e.onCityDrag,p=e.clickTimeoutRef,h=e.containerRef,m=e.setHoveredPlace,g=US((0,r.useState)(null),2),y=g[0],b=g[1],v=Su(function(e){return e.data.assets.data}),x=Su(function(e){return e.loadAssets});(0,r.useEffect)(function(){if(o.assetId)if(0!==v.length){var e=v.find(function(e){return e._id===o.assetId});e&&e.url&&b(lu.resolveAssetUrl(e.url))}else x();else b(null)},[o.assetId,v,x]);var k=US(NS()(y||"","anonymous"),1)[0],w=a?96:80,S=a?10/s:8/s,_=w/s,C=w/s;if(k){var E=k.width/k.height;E>1?C=(_=w/s)/E:_=(C=w/s)*E}return(0,Xe.jsx)(LS,{draggable:"edit"===l,x:i.x,y:i.y,onDragStart:function(e){e.cancelBubble=!0,p.current&&(clearTimeout(p.current),p.current=null)},onDragMove:function(e){e.cancelBubble=!0},onDragEnd:function(e){e.cancelBubble=!0,p.current&&(clearTimeout(p.current),p.current=null),function(e){if(c&&f){var t=e.target,n=t.x(),r=t.y(),i=n/c.width,a=r/c.height,s=Math.max(0,Math.min(1,i)),l=Math.max(0,Math.min(1,a));f(o,s,l)}}(e)},onMouseDown:function(e){e.cancelBubble=!0},onMouseUp:function(e){e.cancelBubble=!0},onClick:function(e){e.cancelBubble=!0},children:k&&o.assetId?(0,Xe.jsx)(jS,{image:k,x:-_/2,y:-C/2,width:_,height:C,onClick:function(e){e.cancelBubble=!0,"view"===l&&e.evt&&0===e.evt.button&&(null==u||u(o))},onTap:function(e){e.cancelBubble=!0,"view"===l&&(null==u||u(o))},onDblClick:function(e){if("edit"===l){e.cancelBubble=!0,p.current&&(clearTimeout(p.current),p.current=null);var t,n=e.target.getStage().getPointerPosition();if(h.current&&n){var r=h.current.getBoundingClientRect();t={x:r.left+n.x,y:r.top+n.y}}null==d||d(o,t)}},onDblTap:function(e){if("edit"===l){e.cancelBubble=!0,p.current&&(clearTimeout(p.current),p.current=null);var t,n=e.target.getStage().getPointerPosition();if(h.current&&n){var r=h.current.getBoundingClientRect();t={x:r.left+n.x,y:r.top+n.y}}null==d||d(o,t)}},onMouseEnter:function(){return m(o._id)},onMouseLeave:function(){return m(null)}}):(0,Xe.jsx)(TS,{x:0,y:0,radius:S,fill:(null===(t=o.coordinates)||void 0===t?void 0:t.fillColor)||(a?"#e6c896":"#c9a96e"),stroke:(null===(n=o.coordinates)||void 0===n?void 0:n.borderColor)||"#ffffff",strokeWidth:2/s,onClick:function(e){e.cancelBubble=!0,"view"===l&&e.evt&&0===e.evt.button&&(null==u||u(o))},onTap:function(e){e.cancelBubble=!0,"view"===l&&(null==u||u(o))},onDblClick:function(e){if("edit"===l){e.cancelBubble=!0,p.current&&(clearTimeout(p.current),p.current=null);var t,n=e.target.getStage().getPointerPosition();if(h.current&&n){var r=h.current.getBoundingClientRect();t={x:r.left+n.x,y:r.top+n.y}}null==d||d(o,t)}},onDblTap:function(e){if("edit"===l){e.cancelBubble=!0,p.current&&(clearTimeout(p.current),p.current=null);var t,n=e.target.getStage().getPointerPosition();if(h.current&&n){var r=h.current.getBoundingClientRect();t={x:r.left+n.x,y:r.top+n.y}}null==d||d(o,t)}},onMouseEnter:function(){return m(o._id)},onMouseLeave:function(){return m(null)}})})},YS=o(5383),KS={};function JS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ZS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}KS.styleTagTransform=Be(),KS.setAttributes=Ie(),KS.insert=Pe().bind(null,"head"),KS.domAPI=Ae(),KS.insertStyleElement=Re(),Me()(YS.A,KS),YS.A&&YS.A.locals&&YS.A.locals;const XS=function(e){var t=e.isOpen,n=e.regionName,o=void 0===n?"":n,i=e.borderColor,a=void 0===i?"#c9a96e":i,s=e.fillColor,l=void 0===s?"rgba(201, 169, 110, 0.3)":s,c=e.linkedPageId,u=e.onSave,d=e.onDelete,f=e.onCancel,p=e.onColorChange,h=e.onEditPolygon,m=e.mode,g=e.anchor,y=JS((0,r.useState)(o),2),b=y[0],v=y[1],x=JS((0,r.useState)(a),2),k=x[0],w=x[1],S=JS((0,r.useState)(l),2),_=S[0],C=S[1],E=JS((0,r.useState)(c),2),L=E[0],T=E[1],M=JS((0,r.useState)(!1),2),j=M[0],A=M[1],O=(0,r.useRef)(null),P=JS((0,r.useState)(null),2),N=P[0],I=P[1],D=JS((0,r.useState)(!1),2),R=D[0],z=D[1],B=(0,r.useRef)(null);(0,r.useEffect)(function(){t&&(v(o),w(a),C(l),T(c))},[t,o,a,l,c]);var F=function(e){if(R&&B.current){var t,n,r=e.clientX-B.current.startX,o=e.clientY-B.current.startY,i=O.current,a=null==i?void 0:i.getBoundingClientRect(),s=null!==(t=null==a?void 0:a.width)&&void 0!==t?t:420,l=null!==(n=null==a?void 0:a.height)&&void 0!==n?n:360,c=Math.max(8,Math.min(r,window.innerWidth-s-8)),u=Math.max(8,Math.min(o,window.innerHeight-l-8));I({left:c,top:u})}},W=function(){z(!1),B.current=null};(0,r.useEffect)(function(){if(R)return window.addEventListener("mousemove",F),window.addEventListener("mouseup",W),function(){window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",W)}},[R,N]);var H=function(e){w(e.target.value),null==p||p(e.target.value,_)},U=function(e){var t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),o=_.match(/rgba?\([^)]+,\s*([\d.]+)\)/),i=o?parseFloat(o[1]):.3,a="rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")");C(a),null==p||p(k,a)},G=function(){var e=_.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(e){var t=JS(e,4),n=t[1],r=t[2],o=t[3];return"#".concat(Number(n).toString(16).padStart(2,"0")).concat(Number(r).toString(16).padStart(2,"0")).concat(Number(o).toString(16).padStart(2,"0"))}return"#c9a96e"},$=function(){var e=_.match(/rgba?\([^)]+,\s*([\d.]+)\)/);return e?parseFloat(e[1]):.3},V=(0,Xe.jsxs)("div",{className:"region-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Xe.jsx)("h2",{style:{cursor:R?"grabbing":"grab",userSelect:"none"},onMouseDown:function(e){if(e.target.closest(".region-modal h2")){e.preventDefault(),z(!0);var t=N||{top:(null==g?void 0:g.y)||0,left:(null==g?void 0:g.x)||0};B.current={startX:e.clientX-t.left,startY:e.clientY-t.top}}},children:"create"===m?"Create Region":"Edit Region"}),(0,Xe.jsxs)("fieldset",{style:{border:"none",padding:0,margin:"0 0 1rem 0"},children:[(0,Xe.jsx)("legend",{className:"form-label",style:{marginBottom:"0.5rem"},children:"Link to Page"}),(0,Xe.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:L?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("span",{style:{color:"#8ab4ff",fontSize:"0.9rem"},children:[(0,Xe.jsx)("i",{className:"icon icli iconly-Link",style:{marginRight:"0.25rem"}}),"Page linked"]}),(0,Xe.jsx)("button",{type:"button",className:"btn-muted",onClick:function(){return T(void 0)},style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:"Unlink"})]}):(0,Xe.jsxs)("button",{type:"button",className:"btn-primary",onClick:function(){return A(!0)},style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:[(0,Xe.jsx)("i",{className:"icon icli iconly-Calendar"})," Link Page"]})}),L&&(0,Xe.jsx)("p",{style:{fontSize:"0.85rem",color:"#94a3b8",marginTop:"0.5rem"},children:"When linked, the region will use the page's title and be updated with map data."})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsxs)("label",{htmlFor:"region-name",children:["Region Name ",!L&&"*"]}),(0,Xe.jsx)("input",{id:"region-name",type:"text",value:b,onChange:function(e){return v(e.target.value)},placeholder:L?"Optional (uses page title if empty)":"Enter region name",autoFocus:!L,disabled:!!L})]}),"edit"===m&&h&&(0,Xe.jsx)("div",{className:"form-group",children:(0,Xe.jsx)("button",{type:"button",className:"btn-edit-polygon",onClick:h,style:{width:"100%",padding:"0.75rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"4px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:function(e){return e.currentTarget.style.transform="translateY(-2px)"},onMouseOut:function(e){return e.currentTarget.style.transform="translateY(0)"},children:"âœï¸ Edit Polygon Shape"})}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{htmlFor:"border-color",children:"Border Color"}),(0,Xe.jsxs)("div",{className:"color-input-group",children:[(0,Xe.jsx)("input",{id:"border-color",type:"color",value:k,onChange:H}),(0,Xe.jsx)("input",{type:"text",value:k,onChange:H,placeholder:"#c9a96e"})]})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{htmlFor:"fill-color",children:"Fill Color"}),(0,Xe.jsxs)("div",{className:"color-input-group",children:[(0,Xe.jsx)("input",{id:"fill-color",type:"color",value:G(),onChange:function(e){return U(e.target.value)}}),(0,Xe.jsx)("input",{type:"text",value:G(),onChange:function(e){return U(e.target.value)},placeholder:"#c9a96e"})]})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsxs)("label",{htmlFor:"fill-opacity",children:["Fill Opacity: ",$().toFixed(2)]}),(0,Xe.jsx)("input",{id:"fill-opacity",type:"range",min:"0",max:"1",step:"0.05",value:$(),onChange:function(e){var t=parseFloat(e.target.value),n=_.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){var r=JS(n,4),o=r[1],i=r[2],a=r[3],s="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(t,")");C(s),null==p||p(k,s)}}})]}),(0,Xe.jsxs)("div",{className:"preview-group",children:[(0,Xe.jsx)("label",{children:"Preview"}),(0,Xe.jsx)("div",{className:"color-preview",style:{border:"3px solid ".concat(k),backgroundColor:_}})]}),(0,Xe.jsxs)("div",{className:"modal-actions",children:["edit"===m&&d&&(0,Xe.jsx)("button",{className:"btn-delete",onClick:d,children:"Delete Region"}),(0,Xe.jsxs)("div",{className:"modal-actions-right",children:[(0,Xe.jsx)("button",{className:"btn-cancel",onClick:f,children:"Cancel"}),(0,Xe.jsx)("button",{className:"btn-save",onClick:function(){L||b.trim()?u(b.trim(),k,_,L):Gd.error("Region name is required (or link to an existing page)")},children:"create"===m?"Create":"Save"})]})]})]});if((0,r.useEffect)(function(){if(g&&t){var e=function(e){O.current&&(O.current.contains(e.target)||f())};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}},[g,t,f]),(0,r.useLayoutEffect)(function(){if(g&&t){var e=requestAnimationFrame(function(){var e,t,n=O.current,r=null==n?void 0:n.getBoundingClientRect(),o=null!==(e=null==r?void 0:r.width)&&void 0!==e?e:420,i=null!==(t=null==r?void 0:r.height)&&void 0!==t?t:360,a=window.innerWidth,s=window.innerHeight,l=g.x+12,c=g.y+12;l+o+8>a&&(l=Math.max(8,a-o-8)),c+i+8>s&&(c=Math.max(8,s-i-8)),l=Math.max(8,l),c=Math.max(8,c),I({top:c,left:l})});return function(){return cancelAnimationFrame(e)}}I(null)},[g,t,b,k,_]),!t)return null;var q,Y,K=document.getElementById("modal-root");return K?g?de.createPortal((0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{ref:O,style:{position:"fixed",top:null!==(q=null==N?void 0:N.top)&&void 0!==q?q:g.y,left:null!==(Y=null==N?void 0:N.left)&&void 0!==Y?Y:g.x,zIndex:2e3},children:V}),(0,Xe.jsx)(Mf,{isOpen:j,onClose:function(){return A(!1)},onSelect:function(e){T(e._id),A(!1)},placeholder:"Search place pages...",filterType:"place"})]}),K):de.createPortal((0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{className:"region-modal-overlay",onClick:f,children:V}),(0,Xe.jsx)(Mf,{isOpen:j,onClose:function(){return A(!1)},onSelect:function(e){T(e._id),A(!1)},placeholder:"Search place pages...",filterType:"place"})]}),K):null};function QS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const t_=function(e){var t=e.isOpen,n=e.cityName,o=void 0===n?"":n,i=e.borderColor,a=void 0===i?"#c9a96e":i,s=e.fillColor,l=void 0===s?"rgba(201, 169, 110, 0.3)":s,c=e.assetId,u=e.linkedPageId,d=e.onSave,f=e.onDelete,p=e.onCancel,h=e.mode,m=e.anchor,g=QS((0,r.useState)(o),2),y=g[0],b=g[1],v=QS((0,r.useState)(a),2),x=v[0],k=v[1],w=QS((0,r.useState)(l),2),S=w[0],_=w[1],C=QS((0,r.useState)(c),2),E=C[0],L=C[1],T=QS((0,r.useState)(void 0),2),M=T[0],j=T[1],A=QS((0,r.useState)(u),2),O=A[0],P=A[1],N=QS((0,r.useState)(""),2),I=N[0],D=N[1],R=QS((0,r.useState)(!1),2),z=R[0],B=R[1],F=QS((0,r.useState)(!1),2),W=F[0],H=F[1],U=(0,r.useRef)(null),G=QS((0,r.useState)(null),2),$=G[0],V=G[1],q=QS((0,r.useState)(!1),2),Y=q[0],K=q[1],J=(0,r.useRef)(null),Z=Su(function(e){return e.data.assets.data}),X=Su(function(e){return e.loadAssets}),Q=Su(function(e){return e.data.pages.data});(0,r.useEffect)(function(){if(t){if(b(o),k(a),_(l),L(c),j(void 0),P(u),D(""),0===Z.length&&X(),u){var e=Q.find(function(e){return e._id===u});e&&e.title&&(D(e.title),b(e.title))}if(c&&Z.length>0){var n=Z.find(function(e){return e._id===c});n&&j(n.url)}}},[t,o,a,l,c,u,m,Z,X,Q]);var ee=function(e){if(Y&&J.current){var t,n,r=e.clientX-J.current.startX,o=e.clientY-J.current.startY,i=U.current,a=null==i?void 0:i.getBoundingClientRect(),s=null!==(t=null==a?void 0:a.width)&&void 0!==t?t:420,l=null!==(n=null==a?void 0:a.height)&&void 0!==n?n:500,c=Math.max(8,Math.min(r,window.innerWidth-s-8)),u=Math.max(8,Math.min(o,window.innerHeight-l-8));V({left:c,top:u})}},te=function(){K(!1),J.current=null};(0,r.useEffect)(function(){if(Y)return window.addEventListener("mousemove",ee),window.addEventListener("mouseup",te),function(){window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",te)}},[Y,$]);var ne=function(e){k(e.target.value)},re=function(e){var t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),o=S.match(/rgba?\([^)]+,\s*([\d.]+)\)/),i=o?parseFloat(o[1]):.3,a="rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")");_(a)},oe=function(){var e=S.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(e){var t=QS(e,4),n=t[1],r=t[2],o=t[3];return"#".concat(Number(n).toString(16).padStart(2,"0")).concat(Number(r).toString(16).padStart(2,"0")).concat(Number(o).toString(16).padStart(2,"0"))}return"#c9a96e"},ie=function(){var e=S.match(/rgba?\([^)]+,\s*([\d.]+)\)/);return e?parseFloat(e[1]):.3},ae=function(e){L(e._id),j(e.url),B(!1)},se=function(e){P(e._id),D(e.title),b(e.title),H(!1)},le=(0,Xe.jsxs)("div",{className:"region-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Xe.jsx)("h2",{style:{cursor:Y?"grabbing":"grab",userSelect:"none"},onMouseDown:function(e){if(e.target.closest(".region-modal h2")){e.preventDefault(),K(!0);var t=$||{top:(null==m?void 0:m.y)||0,left:(null==m?void 0:m.x)||0};J.current={startX:e.clientX-t.left,startY:e.clientY-t.top}}},children:"create"===h?"Create City":"Edit City"}),(0,Xe.jsxs)("fieldset",{style:{border:"none",padding:0,margin:"0 0 1rem 0"},children:[(0,Xe.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:O?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("span",{className:"linkedToPage",children:["Linked to: ",I||"Loading..."]}),"create"===h&&(0,Xe.jsx)("button",{type:"button",className:"btn-muted",onClick:function(){P(void 0),D(""),b("")},style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem",marginTop:"0"},children:"Unlink"})]}):"create"===h?(0,Xe.jsxs)("button",{type:"button",className:"btn-primary",onClick:function(){return H(!0)},style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem",marginTop:"0",display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,Xe.jsx)("i",{className:"icon icli iconly-Calendar"})," Link Page"]}):null}),O&&"create"===h&&(0,Xe.jsx)("p",{style:{fontSize:"0.85rem",color:"#94a3b8",marginTop:"0.25rem"},children:"City will use the page's title and data."})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsxs)("label",{htmlFor:"city-name",children:["City Name ",!O&&"*"]}),(0,Xe.jsx)("input",{id:"city-name",className:O?"linkedToPage":"",type:"text",value:y,onChange:function(e){return b(e.target.value)},placeholder:O?"Using linked page title":"Enter city name",autoFocus:!O,disabled:!!O,style:O?{opacity:.7,cursor:"not-allowed"}:{}})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsx)("label",{children:"Icon Asset (optional)"}),(0,Xe.jsx)("div",{className:"asset-selector",children:E&&M?(0,Xe.jsxs)("div",{className:"selected-asset",children:[(0,Xe.jsx)("img",{src:lu.resolveAssetUrl(M),alt:"City icon",className:"asset-preview"}),(0,Xe.jsx)("button",{type:"button",className:"remove-asset-btn",onClick:function(){L(void 0),j(void 0)},children:"Remove"})]}):(0,Xe.jsx)("button",{type:"button",className:"select-asset-btn",onClick:function(){return B(!0)},children:"Select Icon"})})]}),!E&&(0,Xe.jsx)(Xe.Fragment,{children:(0,Xe.jsxs)("div",{className:"form-group-cols",children:[(0,Xe.jsxs)("div",{className:"form-group form-group--half",children:[(0,Xe.jsx)("label",{htmlFor:"border-color",children:"Border Color"}),(0,Xe.jsxs)("div",{className:"color-input-group",children:[(0,Xe.jsx)("input",{id:"border-color",type:"color",value:x,onChange:ne}),(0,Xe.jsx)("input",{type:"text",value:x,onChange:ne,placeholder:"#c9a96e"})]})]}),(0,Xe.jsxs)("div",{className:"form-group form-group--half",children:[(0,Xe.jsx)("label",{htmlFor:"fill-color",children:"Fill Color"}),(0,Xe.jsxs)("div",{className:"color-input-group",children:[(0,Xe.jsx)("input",{id:"fill-color",type:"color",value:oe(),onChange:function(e){return re(e.target.value)}}),(0,Xe.jsx)("input",{type:"text",value:oe(),onChange:function(e){return re(e.target.value)},placeholder:"#c9a96e"})]})]}),(0,Xe.jsxs)("div",{className:"form-group",children:[(0,Xe.jsxs)("label",{htmlFor:"fill-opacity",children:["Fill Opacity: ",ie().toFixed(2)]}),(0,Xe.jsx)("input",{id:"fill-opacity",type:"range",min:"0",max:"1",step:"0.05",value:ie(),onChange:function(e){var t=parseFloat(e.target.value),n=S.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){var r=QS(n,4),o=r[1],i=r[2],a=r[3],s="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(t,")");_(s)}}})]}),(0,Xe.jsxs)("div",{className:"preview-group",children:[(0,Xe.jsx)("label",{children:"Preview"}),(0,Xe.jsx)("div",{className:"color-preview",style:{border:"3px solid ".concat(x),backgroundColor:S}})]})]})}),(0,Xe.jsxs)("div",{className:"modal-actions",children:["edit"===h&&f&&(0,Xe.jsx)("button",{className:"btn-delete",onClick:f,children:"Delete City"}),(0,Xe.jsxs)("div",{className:"modal-actions-right",children:[(0,Xe.jsx)("button",{className:"btn-cancel",onClick:p,children:"Cancel"}),(0,Xe.jsx)("button",{className:"btn-save",onClick:function(){O||y.trim()?d(y.trim(),x,S,E,O):Gd.error("City name is required (or link to an existing page)")},children:"create"===h?"Create":"Save"})]})]})]});if((0,r.useEffect)(function(){if(m&&t&&!z&&!W){var e=function(e){if(U.current){var t=e.target;if(!U.current.contains(t)){var n=t;n.closest(".modal__overlay")||n.closest(".modal__content")||p()}}};return document.addEventListener("mousedown",e,!0),function(){return document.removeEventListener("mousedown",e,!0)}}},[m,t,z,W,p]),(0,r.useLayoutEffect)(function(){if(m&&t){var e=requestAnimationFrame(function(){var e,t,n=U.current,r=null==n?void 0:n.getBoundingClientRect(),o=null!==(e=null==r?void 0:r.width)&&void 0!==e?e:420,i=null!==(t=null==r?void 0:r.height)&&void 0!==t?t:600,a=window.innerWidth,s=window.innerHeight,l=16,c=m.x+12,u=m.y+12;if(c+o+l>a&&(c=m.x-o-12),u+i+l>s){var d=m.y-i-12;u=Math.max(l,d)}c=Math.max(l,Math.min(c,a-o-l)),u=Math.max(l,Math.min(u,s-i-l)),V({top:u,left:c})});return function(){return cancelAnimationFrame(e)}}V(null)},[m,t,y,x,S,E]),!t)return null;var ce,ue,fe=document.getElementById("modal-root");return fe?m?de.createPortal((0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{ref:U,style:{position:"fixed",top:null!==(ce=null==$?void 0:$.top)&&void 0!==ce?ce:m.y,left:null!==(ue=null==$?void 0:$.left)&&void 0!==ue?ue:m.x,zIndex:2e3},children:le}),(0,Xe.jsx)(xf,{isOpen:z,onClose:function(){return B(!1)},onSelect:ae}),(0,Xe.jsx)(Mf,{isOpen:W,onClose:function(){return H(!1)},onSelect:se,placeholder:"Search place pages...",filterType:"place"})]}),fe):de.createPortal((0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{className:"region-modal-overlay",onClick:p,children:le}),(0,Xe.jsx)(xf,{isOpen:z,onClose:function(){return B(!1)},onSelect:ae}),(0,Xe.jsx)(Mf,{isOpen:W,onClose:function(){return H(!1)},onSelect:se,placeholder:"Search place pages...",filterType:"place"})]}),fe):null};var n_=o(4585),r_={};function o_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}r_.styleTagTransform=Be(),r_.setAttributes=Ie(),r_.insert=Pe().bind(null,"head"),r_.domAPI=Ae(),r_.insertStyleElement=Re(),Me()(n_.A,r_),n_.A&&n_.A.locals&&n_.A.locals;const a_=function(e){var t=e.isOpen,n=e.regionName,o=e.onSave,i=e.onCancel,a=o_((0,r.useState)({x:window.innerWidth-250,y:20}),2),s=a[0],l=a[1],c=o_((0,r.useState)(!1),2),u=c[0],d=c[1],f=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)(function(){t&&l({x:window.innerWidth-250,y:20})},[t]);var h=function(e){u&&f.current&&l({x:e.clientX-f.current.startX,y:e.clientY-f.current.startY})},m=function(){d(!1),f.current=null};if((0,r.useEffect)(function(){if(u)return window.addEventListener("mousemove",h),window.addEventListener("mouseup",m),function(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",m)}},[u]),!t)return null;var g=document.getElementById("modal-root");return g?de.createPortal((0,Xe.jsxs)("div",{ref:p,className:"polygon-edit-modal",style:{left:"".concat(s.x,"px"),top:"".concat(s.y,"px"),cursor:u?"grabbing":"grab"},onMouseDown:function(e){e.target.closest(".polygon-edit-modal-header")&&(e.preventDefault(),d(!0),f.current={startX:e.clientX-s.x,startY:e.clientY-s.y})},children:[(0,Xe.jsx)("div",{className:"polygon-edit-modal-header",children:(0,Xe.jsxs)("h4",{children:["Editing: ",n]})}),(0,Xe.jsx)("div",{className:"polygon-edit-modal-body",children:(0,Xe.jsx)("p",{children:"Drag the control points to reshape the region"})}),(0,Xe.jsxs)("div",{className:"polygon-edit-modal-actions",children:[(0,Xe.jsx)("button",{className:"btn-cancel",onClick:i,children:"Cancel"}),(0,Xe.jsx)("button",{className:"btn-save",onClick:o,children:"Save Polygon"})]})]}),g):null};function s_(e){return s_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(e)}var l_=["assetId"];function c_(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u_(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return d_(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(d_(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,d_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,d_(d,"constructor",c),d_(c,"constructor",l),l.displayName="GeneratorFunction",d_(c,o,"GeneratorFunction"),d_(d),d_(d,o,"Generator"),d_(d,r,function(){return this}),d_(d,"toString",function(){return"[object Generator]"}),(u_=function(){return{w:i,m:f}})()}function d_(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}d_=function(e,t,n,r){function i(t,n){d_(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},d_(e,t,n,r)}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(t){h_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h_(e,t,n){return(t=function(e){var t=function(e){if("object"!=s_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function g_(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){m_(i,r,o,a,s,"next",e)}function s(e){m_(i,r,o,a,s,"throw",e)}a(void 0)})}}function y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||b_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b_(e,t){if(e){if("string"==typeof e)return v_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v_(e,t):void 0}}function v_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const x_=function(e){var t,n,o,i,a,s,l=e.imageUrl,c=e.onPlaceClick,u=e.leftMenuCollapsed,d=Su(function(e){return e.data.pages.data}),f=Su(function(e){return e.createPage}),p=Su(function(e){return e.updatePage}),h=Su(function(e){return e.deletePage}),m=Su(function(e){return e.loadPages}),g=Su(function(e){return e.isDM()}),y=y_((0,r.useState)(!1),2),b=y[0],v=y[1],x=y_((0,r.useState)(null),2),k=x[0],w=x[1],S=y_((0,r.useState)(null),2),_=S[0],C=S[1],E=y_((0,r.useState)("view"),2),L=E[0],T=E[1],M=y_((0,r.useState)(!1),2),j=M[0],A=M[1],O=y_((0,r.useState)("create"),2),P=O[0],N=O[1],I=y_((0,r.useState)(null),2),D=I[0],R=I[1],z=y_((0,r.useState)([]),2),B=z[0],F=z[1],W=y_((0,r.useState)(null),2),H=W[0],U=W[1],G=y_((0,r.useState)({borderColor:"#c9a96e",fillColor:"rgba(201, 169, 110, 0.3)"}),2),$=G[0],V=G[1],q=y_((0,r.useState)(!1),2),Y=q[0],K=q[1],J=y_((0,r.useState)("create"),2),Z=J[0],X=J[1],Q=y_((0,r.useState)(null),2),ee=Q[0],te=Q[1],ne=y_((0,r.useState)(null),2),re=ne[0],oe=ne[1],ie=y_((0,r.useState)(null),2),ae=ie[0],se=ie[1],le=y_((0,r.useState)(!1),2),ce=le[0],ue=le[1],de=y_((0,r.useState)([]),2),fe=de[0],pe=de[1],he=y_((0,r.useState)(!1),2),me=he[0],ge=he[1],ye=y_((0,r.useState)({title:"",message:"",onConfirm:function(){}}),2),be=ye[0],ve=ye[1],xe=function(){var e=g_(u_().m(function e(t,n,r,o){var i,a,s,l,c;return u_().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!("create"===P&&B.length>0)){e.n=6;break}if(!o){e.n=3;break}if(!(i=d.find(function(e){return e._id===o}))){e.n=2;break}return a=p_(p_({},i),{},{title:t||i.title,placeType:"region",coordinates:{type:"polygon",data:{points:B},borderColor:n,fillColor:r}}),e.n=1,p(a);case 1:Gd.success('Region linked to page "'.concat(i.title,'" successfully'));case 2:e.n=5;break;case 3:return s={title:t,type:"place",placeType:"region",coordinates:{type:"polygon",data:{points:B},borderColor:n,fillColor:r},blocks:[]},e.n=4,f(s);case 4:Gd.success('Region "'.concat(t,'" created successfully'));case 5:e.n=8;break;case 6:if(!H){e.n=8;break}return l=p_(p_({},H),{},{title:t||H.title,coordinates:p_(p_({},H.coordinates),{},{data:p_(p_({},H.coordinates.data),{},{points:fe.length>0?fe:H.coordinates.data.points}),borderColor:n,fillColor:r})}),e.n=7,p(l);case 7:Gd.success('Region "'.concat(t||H.title,'" updated successfully'));case 8:A(!1),F([]),U(null),pe([]),R(null),m("place"),e.n=10;break;case 9:e.p=9,c=e.v,console.error("Failed to save region:",c),Gd.error("Failed to save region");case 10:return e.a(2)}},e,null,[[0,9]])}));return function(t,n,r,o){return e.apply(this,arguments)}}(),ke=function(){var e=g_(u_().m(function e(t,n,r,o,i){var a,s,l,c,u,h;return u_().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,"create"!==Z||!re){e.n=6;break}if(!i){e.n=3;break}if(!(a=d.find(function(e){return e._id===i}))){e.n=2;break}return s=p_(p_({},a),{},{title:t||a.title,placeType:"city",coordinates:{type:"point",data:{x:re.x,y:re.y},borderColor:n,fillColor:r},assetId:o}),e.n=1,p(s);case 1:Gd.success('City linked to page "'.concat(a.title,'" successfully'));case 2:e.n=5;break;case 3:return l={title:t,type:"place",placeType:"city",coordinates:{type:"point",data:{x:re.x,y:re.y},borderColor:n,fillColor:r},assetId:o,blocks:[]},e.n=4,f(l);case 4:Gd.success('City "'.concat(t,'" created successfully'));case 5:e.n=8;break;case 6:if(!ae){e.n=8;break}return ae.assetId,c=c_(ae,l_),u=p_(p_({},c),{},{title:t||ae.title,coordinates:p_(p_({},ae.coordinates),{},{borderColor:n,fillColor:r}),assetId:o||null}),e.n=7,p(u);case 7:Gd.success('City "'.concat(t||ae.title,'" updated successfully'));case 8:K(!1),oe(null),se(null),te(null),m("place"),e.n=10;break;case 9:e.p=9,h=e.v,console.error("Failed to save city:",h),Gd.error("Failed to save city");case 10:return e.a(2)}},e,null,[[0,9]])}));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),we=function(){var e=g_(u_().m(function e(t,n,r){var o,i;return u_().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o=p_(p_({},t),{},{coordinates:p_(p_({},t.coordinates),{},{data:p_(p_({},t.coordinates.data),{},{x:n,y:r})})}),e.n=1,p(o);case 1:m("place"),e.n=3;break;case 2:e.p=2,i=e.v,console.error("Failed to update city position:",i),Gd.error("Failed to move city");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n,r){return e.apply(this,arguments)}}(),Se=function(){var e=g_(u_().m(function e(){var t,n;return u_().w(function(e){for(;;)switch(e.p=e.n){case 0:if(H){e.n=1;break}return e.a(2);case 1:return e.p=1,t=p_(p_({},H),{},{coordinates:p_(p_({},H.coordinates),{},{data:p_(p_({},H.coordinates.data),{},{points:fe})})}),e.n=2,p(t);case 2:Gd.success("Polygon updated successfully"),U(p_(p_({},H),{},{coordinates:p_(p_({},H.coordinates),{},{data:p_(p_({},H.coordinates.data),{},{points:fe})})})),pe([]),m("place"),ue(!1),A(!0),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to update polygon:",n),Gd.error("Failed to update region shape");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return(0,Xe.jsxs)("div",{className:"mapBackgroundLayer",children:[(0,Xe.jsx)(VS,{imageUrl:l,places:d.filter(function(e){return"place"===e.type}).map(function(e){return ce&&e._id===(null==H?void 0:H._id)&&fe.length>0?p_(p_({},e),{},{coordinates:p_(p_({},e.coordinates),{},{data:p_(p_({},e.coordinates.data),{},{points:fe})})}):e}),mode:L,minZoom:.5,maxZoom:3,sidebarWidth:b?400:0,leftMenuWidth:u?0:300,selectedRegionId:_,editingRegionId:(null==H?void 0:H._id)||null,isEditingPolygon:ce,onPlaceClick:function(e){if(w(e),v(!0),"region"===e.placeType)C(e._id);else if("city"===e.placeType){var t;null!==(t=e.coordinates)&&void 0!==t&&t.parentRegionId&&C(e.coordinates.parentRegionId)}},onPlaceDoubleClick:function(e,t){U(e),N("edit"),R(t||null),A(!0)},onCityDoubleClick:function(e,t){se(e),X("edit"),te(t||null),K(!0)},onCityDrag:we,onRegionPolygonUpdate:function(e,t){pe(t)},onMapClick:function(e,t,n){oe({x:e,y:t}),X("create"),se(null),te(n||null),K(!0)},onPolygonComplete:function(e,t){console.log("Region polygon completed:",e);var n,r=function(e,t,n){for(var r=!1,o=0,i=n.length-1;o<n.length;i=o++){var a=n[o].x,s=n[o].y,l=n[i].x,c=n[i].y;s>t!=c>t&&e<(l-a)*(t-s)/(c-s)+a&&(r=!r)}return r},o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=b_(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(d.filter(function(e){var t;return"place"===e.type&&"region"===e.placeType&&"polygon"===(null===(t=e.coordinates)||void 0===t?void 0:t.type)}));try{var i,a=function(){var t,o=null===(t=n.value.coordinates)||void 0===t?void 0:t.data.points;if(!o||0===o.length)return 0;var i=e.length>0&&e.every(function(e){return r(e.x,e.y,o)});if(i)return Gd.error("Cannot create a region entirely inside another region."),{v:void 0};var a=o.every(function(t){return r(t.x,t.y,e)});return a?(Gd.error("Cannot create a region that fully contains an existing region."),{v:void 0}):void 0};for(o.s();!(n=o.n()).done;)if(0!==(i=a())&&i)return i.v}catch(e){o.e(e)}finally{o.f()}F(e),N("create"),U(null),V({borderColor:"#c9a96e",fillColor:"rgba(201, 169, 110, 0.3)"}),R(t||null),A(!0)},onCityOutsideRegion:function(){Gd.error("Cities can only be created inside existing regions!")},onRegionOverlap:function(){Gd.error("Regions cannot overlap with existing regions!")},tempRegion:j&&!ce?{points:B,borderColor:$.borderColor,fillColor:$.fillColor}:void 0}),(0,Xe.jsx)(a_,{isOpen:ce,regionName:(null==H?void 0:H.title)||"",onSave:Se,onCancel:function(){pe([]),ue(!1),A(!0)}}),(0,Xe.jsx)(XS,{isOpen:j,mode:P,regionName:(null==H?void 0:H.title)||"",borderColor:(null==H||null===(t=H.coordinates)||void 0===t?void 0:t.borderColor)||"#c9a96e",fillColor:(null==H||null===(n=H.coordinates)||void 0===n?void 0:n.fillColor)||"rgba(201, 169, 110, 0.3)",anchor:null!=D?D:void 0,onSave:xe,onCancel:function(){A(!1),F([]),U(null),R(null)},onDelete:"edit"===P?function(){if(H){var e,t=d.filter(function(e){var t;if("place"!==e.type||"city"!==e.placeType)return!1;if(!e.coordinates||"point"!==e.coordinates.type)return!1;var n=e.coordinates.data.x,r=e.coordinates.data.y,o=null===(t=H.coordinates)||void 0===t?void 0:t.data.points;if(!o)return!1;for(var i=!1,a=0,s=o.length-1;a<o.length;s=a++){var l=o[a].x,c=o[a].y,u=o[s].x,d=o[s].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i});t.length>0?Gd.error("Cannot delete region: it contains ".concat(t.length," ").concat(1===t.length?"city":"cities")):(ve({title:"Delete Region",message:'Are you sure you want to delete the region "'.concat(H.title,'"?'),onConfirm:(e=g_(u_().m(function e(){var t;return u_().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,h(H._id);case 1:Gd.success("Region deleted successfully"),A(!1),U(null),ge(!1),m("place"),e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to delete region:",t),Gd.error("Failed to delete region"),ge(!1);case 3:return e.a(2)}},e,null,[[0,2]])})),function(){return e.apply(this,arguments)})}),ge(!0))}}:void 0,onEditPolygon:"edit"===P?function(){var e,t;null!=H&&null!==(e=H.coordinates)&&void 0!==e&&e.data.points&&(pe(function(e){if(Array.isArray(e))return v_(e)}(t=H.coordinates.data.points)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||b_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ue(!0),A(!1))}:void 0}),(0,Xe.jsx)(t_,{isOpen:Y,mode:Z,cityName:(null==ae?void 0:ae.title)||"",borderColor:(null==ae||null===(o=ae.coordinates)||void 0===o?void 0:o.borderColor)||"#ffffff",fillColor:(null==ae||null===(i=ae.coordinates)||void 0===i?void 0:i.fillColor)||"rgba(201, 169, 110, 0.3)",assetId:null==ae?void 0:ae.assetId,anchor:null!=ee?ee:void 0,onSave:ke,onCancel:function(){K(!1),oe(null),se(null),te(null)},onDelete:"edit"===Z?function(){var e;ae&&(ve({title:"Delete City",message:'Are you sure you want to delete the city "'.concat(ae.title,'"?'),onConfirm:(e=g_(u_().m(function e(){var t;return u_().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,h(ae._id);case 1:Gd.success("City deleted successfully"),K(!1),se(null),ge(!1),m("place"),e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to delete city:",t),Gd.error("Failed to delete city"),ge(!1);case 3:return e.a(2)}},e,null,[[0,2]])})),function(){return e.apply(this,arguments)})}),ge(!0))}:void 0}),(0,Xe.jsx)(Wu,{isOpen:me,title:be.title,message:be.message,onConfirm:be.onConfirm,onCancel:function(){return ge(!1)}}),b&&k&&(0,Xe.jsxs)("div",{className:"sidebarPageDetail",children:[(0,Xe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,Xe.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",color:"#e6c896"},children:k.title}),(0,Xe.jsx)("button",{onClick:function(){v(!1),C(null)},style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.5rem",padding:"0.25rem"},children:"Ã—"})]}),(0,Xe.jsx)("div",{style:{marginBottom:"1rem"},children:(0,Xe.jsxs)("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:["Type:"," ",(0,Xe.jsx)("span",{style:{color:"#e6c896"},children:k.placeType||"place"})]})}),(0,Xe.jsx)("div",{style:{marginTop:"1.5rem"},children:(0,Xe.jsx)("button",{onClick:function(){c(k)},style:{width:"100%",padding:"0.75rem 1rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Open Full Details"})}),k.blocks&&k.blocks.length>0&&(0,Xe.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,Xe.jsx)("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"#cbd5e1"},children:"Description"}),(0,Xe.jsxs)("div",{style:{fontSize:"0.875rem",lineHeight:"1.6",color:"#94a3b8"},children:[null===(a=k.blocks[0])||void 0===a||null===(a=a.plainText)||void 0===a?void 0:a.substring(0,200),(null===(s=k.blocks[0])||void 0===s?void 0:s.plainText)&&k.blocks[0].plainText.length>200&&"..."]})]})]}),g&&(0,Xe.jsx)("div",{style:{position:"absolute",bottom:"20px",right:"20px",zIndex:100},children:(0,Xe.jsx)("button",{onClick:function(){return T("view"===L?"edit":"view")},style:{padding:"12px 24px",backgroundColor:"edit"===L?"#4a90e2":"#c9a96e",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.3s ease"},children:"view"===L?"âœï¸ Edit Mode":"ðŸ‘ï¸ View Mode"})})]})};var k_=new Map;k_.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"148 32 148 92 208 92",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),k_.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("polygon",{points:"152 32 152 88 208 88 152 32",opacity:"0.2"}),r.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),k_.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM216,88a7.8,7.8,0,0,0-2.4-5.7l-55.9-56h-.2l-.4-.4h-.2l-.4-.3c-.1-.1-.2-.1-.2-.2l-.5-.3h-.2l-.5-.3H155l-.7-.3H120a8,8,0,0,0,0,16h24V88a8,8,0,0,0,8,8h48v40a8,8,0,0,0,16,0V88Zm-8,80a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"}))}),k_.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),k_.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),k_.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var w_=function(e,t){return Ge(e,t,k_)},S_=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:w_}))});S_.displayName="FileDotted";const __=S_;function C_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const E_=function(e){var t=e.categories,n=e.selectedCategory,o=e.onCategoryChange,i=e.title,a=void 0===i?"Categories":i,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),l=s[0],c=s[1];return(0,Xe.jsxs)("div",{className:"categoriesMenu ".concat(l?"collapsed":""),children:[(0,Xe.jsx)("button",{onClick:function(){return c(!l)},className:"categoriesMenu--collapsible",title:l?"Expand menu":"Collapse menu",children:l?(0,Xe.jsx)(rp,{size:22,weight:"bold"}):(0,Xe.jsx)(Ze,{size:22,weight:"bold"})}),(0,Xe.jsx)("div",{style:{position:"relative",height:"100%"},children:(0,Xe.jsxs)("div",{className:"categoriesColumn",children:[(0,Xe.jsx)("h2",{className:"columnTitle",children:a}),(0,Xe.jsx)("div",{className:"categoriesList",children:t.map(function(e){return(0,Xe.jsx)("button",{className:"categoryCard ".concat(n===e.type?"active":""),onClick:function(){return o(e.type)},children:(0,Xe.jsx)("span",{className:"label",children:e.label})},e.type)})})]})})]})},L_=o.p+"static/media/aetherium_library_bg30c5a76e214c5edb5abf.png";function T_(e){return T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T_(e)}function M_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A_(r.key),r)}}function j_(e,t,n){return t&&M_(e.prototype,t),n&&M_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function A_(e){var t=function(e){if("object"!=T_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T_(t)?t:t+""}var O_=j_(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)});function P_(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return N_(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(N_(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,N_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,N_(d,"constructor",c),N_(c,"constructor",l),l.displayName="GeneratorFunction",N_(c,o,"GeneratorFunction"),N_(d),N_(d,o,"Generator"),N_(d,r,function(){return this}),N_(d,"toString",function(){return"[object Generator]"}),(P_=function(){return{w:i,m:f}})()}function N_(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}N_=function(e,t,n,r){function i(t,n){N_(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},N_(e,t,n,r)}function I_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function D_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t,n){(t=A_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(O_,"LORE_BG",{history:L_,myth:L_,place:L_,people:L_,campaign:L_});const z_=function(){var e,t=J(),n=D_(Le(),2),i=n[0],a=n[1],s=[{type:"place",label:"Places"},{type:"history",label:"History"},{type:"myth",label:"Myths"},{type:"people",label:"People"},{type:"campaign",label:"Campaign"}],l=i.get("category"),c=(null===(e=s.find(function(e){return e.type===l}))||void 0===e?void 0:e.type)||s[0].type,u=D_((0,r.useState)(c),2),d=u[0],f=u[1],p=Su(function(e){return e.loadPages}),h=Su(function(e){return e.data.pages.data}),m=Su(function(e){return e.data.pages.loading}),g=Su(function(e){return e.isDM()}),y=Su(function(e){return e.deletePage}),b=(Su(function(e){return e.createPage}),Su(function(e){return e.updatePage}),D_((0,r.useState)(!1),2)),v=b[0],x=b[1],k=D_((0,r.useState)(null),2),w=k[0],S=k[1],_=D_((0,r.useState)(!1),2),C=_[0],E=(_[1],function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){I_(i,r,o,a,s,"next",e)}function s(e){I_(i,r,o,a,s,"throw",e)}a(void 0)})}}(P_().m(function e(){var t;return P_().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,y(w._id);case 2:Gd.success("Page deleted successfully"),x(!1),S(null),p(d),e.n=4;break;case 3:e.p=3,t=e.v,console.error("Failed to delete page:",t),Gd.error("Failed to delete page");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}()),L=(0,r.useRef)(null),T=D_((0,r.useState)(0),2),M=T[0],j=T[1],A=D_((0,r.useState)(0),2),O=A[0],P=A[1],N=(0,r.useRef)(null);return(0,r.useEffect)(function(){return function(){N.current&&cancelAnimationFrame(N.current)}},[]),(0,r.useEffect)(function(){var e=i.get("category");e&&s.find(function(t){return t.type===e})&&f(e)},[i]),(0,r.useEffect)(function(){d&&p(d)},[d,p]),(0,Xe.jsxs)("div",{className:"loreHome offset-container",style:{background:"place"!==d?"url(".concat(O_.LORE_BG[d],")"):"none"},children:[(0,Xe.jsx)(E_,{categories:s,selectedCategory:d,onCategoryChange:function(e){f(e),a({category:e})}}),"place"===d?(0,Xe.jsx)(x_,{imageUrl:o(6503),onPlaceClick:function(e){return t("/lore/place/".concat(e._id))},leftMenuCollapsed:C}):(0,Xe.jsx)("div",{className:"bgLayer",style:{filter:"blur(".concat(M,"px) grayscale(").concat(O,")")}}),(0,Xe.jsx)("div",{className:"overlay"}),"place"!==d&&(0,Xe.jsx)("div",{className:"overflow-container",ref:L,onScroll:function(){var e=L.current;if(e){var t=e.scrollTop,n=Math.min(1,t/1200),r=12*n;N.current&&cancelAnimationFrame(N.current),N.current=requestAnimationFrame(function(){j(r),P(n)})}},children:(0,Xe.jsxs)("div",{className:"contentContainer",children:[(0,Xe.jsx)("h1",{className:"loreTitle",children:"The Great Library of Morne"}),(0,Xe.jsx)("p",{className:"loreSubtitle",children:"Welcome to the Great Library of Morne! Explore the world of Aetherium through its places, history and myths."}),(0,Xe.jsx)("div",{className:"loreColumns",children:(0,Xe.jsx)("div",{className:"pagesColumn",style:{flex:"1",maxWidth:"100%"},children:m?(0,Xe.jsx)("p",{className:"loadingText",children:"Loadingâ€¦"}):(0,Xe.jsxs)("ul",{className:"pageList",children:[(h||[]).filter(function(e){return e.type===d}).filter(function(e){return!!g||!e.draft}).map(function(e){return(0,Xe.jsx)("li",{className:"pageListItem",onClick:function(){return t("/lore/".concat(d,"/").concat(e._id))},children:(0,Xe.jsxs)("div",{className:"pageCard",children:[e.bannerUrl&&(0,Xe.jsx)("div",{className:"thumb",style:{backgroundImage:"url(".concat(lu.resolveThumbnailUrl(e.bannerUrl,e.bannerThumbUrl),")")}}),(0,Xe.jsxs)("div",{className:"meta",children:[(0,Xe.jsx)("h3",{className:"pageTitle",children:e.title}),e.subtitle&&(0,Xe.jsx)("h4",{className:"pageSubtitle",children:e.subtitle.toUpperCase()}),g&&(0,Xe.jsx)("button",{className:"deleteBtn",onClick:function(t){return function(e,t){e.stopPropagation(),S(t),x(!0)}(t,e)},title:"Delete page",children:(0,Xe.jsx)(Rf,{size:18,weight:"bold"})})]}),e.draft&&g&&(0,Xe.jsx)("span",{className:"draftBadge",children:(0,Xe.jsx)(__,{size:18})})]})},e._id)}),0===h.filter(function(e){return e.type===d}).filter(function(e){return!!g||!e.draft}).length&&(0,Xe.jsx)("p",{className:"emptyText",children:"No pages found."})]})})})]})}),g&&"place"!==d&&(0,Xe.jsx)(Vb,{}),(0,Xe.jsx)(Wu,{isOpen:v,title:"Delete Page",message:'Are you sure you want to delete "'.concat((null==w?void 0:w.title)||"",'"?'),confirmText:"Delete",variant:"danger",onConfirm:E,onCancel:function(){x(!1),S(null)}})]})};var B_=new Map;B_.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),B_.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),B_.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))}),B_.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),B_.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),B_.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var F_=function(e,t){return Ge(e,t,B_)},W_=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:F_}))});W_.displayName="SignOut";const H_=W_;var U_=new Map;U_.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),U_.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),U_.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M141.7,133.7l-42,42A8.3,8.3,0,0,1,94,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H24a8,8,0,0,1,0-16H86V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,141.7,133.7ZM192,32H136a8,8,0,0,0,0,16h56V208H136a8,8,0,0,0,0,16h56a16,16,0,0,0,16-16V48A16,16,0,0,0,192,32Z"}))}),U_.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),U_.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),U_.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var G_=function(e,t){return Ge(e,t,U_)},$_=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:G_}))});$_.displayName="SignIn";const V_=$_;var q_=o(9888);function Y_(e){this.content=e}Y_.prototype={constructor:Y_,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new Y_(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Y_(n)},addToStart:function(e,t){return new Y_([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Y_(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new Y_(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Y_.from(e)).size?new Y_(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Y_.from(e)).size?new Y_(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Y_.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},Y_.from=function(e){if(e instanceof Y_)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Y_(t)};const K_=Y_;function J_(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=J_(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function Z_(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let a=e.child(--o),s=t.child(--i),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let e=Z_(a.content,s.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class X_{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,a=0;a<t;i++){let s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o||null,i)&&s.content.size){let o=a+1;s.nodesBetween(Math.max(0,e-o),Math.min(s.content.size,t-o),n,r+o)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,(a,s)=>{let l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?r?"function"==typeof r?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(i?i=!1:o+=n),o+=l},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new X_(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let a=this.content[o],s=i+a.nodeSize;s>e&&((i<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),r+=a.nodeSize),i=s}return new X_(n,r)}cutByIndex(e,t){return e==t?X_.empty:0==e&&t==this.content.length?this:new X_(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new X_(r,o)}addToStart(e){return new X_([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new X_(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return J_(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return Z_(this,e,t,n)}findIndex(e){if(0==e)return eC(0,e);if(e==this.size)return eC(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?eC(t+1,r):eC(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return X_.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new X_(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return X_.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new X_(t||e,n)}static from(e){if(!e)return X_.empty;if(e instanceof X_)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new X_([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}X_.empty=new X_([],0);const Q_={index:0,offset:0};function eC(e,t){return Q_.index=e,Q_.offset=t,Q_}function tC(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!tC(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!tC(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class nC{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&tC(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return nC.none;if(e instanceof nC)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}nC.none=[];class rC extends Error{}class oC{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=aC(this.content,e+this.openStart,t);return n&&new oC(n,this.openStart,this.openEnd)}removeBetween(e,t){return new oC(iC(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return oC.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new oC(X_.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new oC(e,n,r)}}function iC(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(o==t||i.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(iC(i.content,t-o-1,n-o-1)))}function aC(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),a=e.maybeChild(o);if(i==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=aC(a.content,t-i-1,n,a);return s&&e.replaceChild(o,a.copy(s))}function sC(e,t,n){if(n.openStart>e.depth)throw new rC("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new rC("Inconsistent open depths");return lC(e,t,n,0)}function lC(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let a=lC(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:a}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(X_.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return pC(i,hC(e,o,a,t,r))}{let r=e.parent,o=r.content;return pC(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return pC(i,mC(e,t,r))}function cC(e,t){if(!t.type.compatibleContent(e.type))throw new rC("Cannot join "+t.type.name+" onto "+e.type.name)}function uC(e,t,n){let r=e.node(n);return cC(r,t.node(n)),r}function dC(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function fC(e,t,n,r){let o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(dC(e.nodeAfter,r),i++));for(let e=i;e<a;e++)dC(o.child(e),r);t&&t.depth==n&&t.textOffset&&dC(t.nodeBefore,r)}function pC(e,t){return e.type.checkContent(t),e.copy(t)}function hC(e,t,n,r,o){let i=e.depth>o&&uC(e,t,o+1),a=r.depth>o&&uC(n,r,o+1),s=[];return fC(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(cC(i,a),dC(pC(i,hC(e,t,n,r,o+1)),s)):(i&&dC(pC(i,mC(e,t,o+1)),s),fC(t,n,o,s),a&&dC(pC(a,mC(n,r,o+1)),s)),fC(r,null,o,s),new X_(s)}function mC(e,t,n){let r=[];return fC(null,e,n,r),e.depth>n&&dC(pC(uC(e,t,n+1),mC(e,t,n+1)),r),fC(t,null,n,r),new X_(r)}oC.empty=new oC(X_.empty,0,0);class gC{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return nC.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new xC(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(o),a=o-i;if(n.push(t,e,r+i),!a)break;if(t=t.child(e),t.isText)break;o=a-1,r+=i+1}return new gC(t,n,o)}static resolveCached(e,t){let n=vC.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else vC.set(e,n=new yC);let r=n.elts[n.i]=gC.resolve(e,t);return n.i=(n.i+1)%bC,r}}class yC{constructor(){this.elts=[],this.i=0}}const bC=12,vC=new WeakMap;class xC{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const kC=Object.create(null);class wC{constructor(e,t,n,r=nC.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||X_.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&tC(this.attrs,t||e.defaultAttrs||kC)&&nC.sameSet(this.marks,n||nC.none)}copy(e=null){return e==this.content?this:new wC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wC(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return oC.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new oC(s,r.depth-i,o.depth-i)}replace(e,t,n){return sC(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return gC.resolveCached(this,e)}resolveNoCache(e){return gC.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_C(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=X_.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=nC.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!nC.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=X_.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}wC.prototype.text=void 0;class SC extends wC{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_C(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new SC(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new SC(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function _C(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class CC{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new EC(e,t);if(null==n.next)return CC.empty;let r=LC(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return function n(r){let o=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);PC(e,n).forEach(e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let i=t[r.join(",")]=new CC(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(OC);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}(PC(e,0))}(function(e){let t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,i)),[]);if("seq"!=t.type){if("star"==t.type){let a=n();return r(i,a),o(e(t.expr,a),a),[r(a)]}if("plus"==t.type){let a=n();return o(e(t.expr,i),a),o(e(t.expr,a),a),[r(a)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){let a=i;for(let r=0;r<t.min;r++){let r=n();o(e(t.expr,a),r),a=r}if(-1==t.max)o(e(t.expr,a),a);else for(let i=t.min;i<t.max;i++){let i=n();r(a,i),o(e(t.expr,a),i),a=i}return[r(a)]}if("name"==t.type)return[r(i,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=e(t.exprs[r],i);if(r==t.exprs.length-1)return a;o(a,i=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(a)&&r.push(a)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(i,a){let s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return X_.from(a.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,a.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:a}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!a.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}}CC.empty=new CC(!0);class EC{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function LC(e){let t=[];do{t.push(TC(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function TC(e){let t=[];do{t.push(MC(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function MC(e){let t=function(e){if(e.eat("(")){let t=LC(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.isInGroup(t)&&o.push(r)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=AC(e,t)}return t}function jC(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function AC(e,t){let n=jC(e),r=n;return e.eat(",")&&(r="}"!=e.next?jC(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function OC(e,t){return t-e}function PC(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(OC)}function NC(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function IC(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function DC(e,t,n,r){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function RC(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new BC(e,r,t[r]);return n}class zC{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=RC(e,n.attrs),this.defaultAttrs=NC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==CC.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:IC(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new wC(this,this.computeAttrs(e),X_.from(t),nC.setFrom(n))}createChecked(e=null,t,n){return t=X_.from(t),this.checkContent(t),new wC(this,this.computeAttrs(e),t,nC.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=X_.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(X_.empty,!0);return o?new wC(this,e,t.append(o),nC.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){DC(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:nC.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new zC(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class BC{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class FC{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=RC(e,r.attrs),this.excluded=null;let o=NC(this.attrs);this.instance=o?new nC(this,o):null}create(e=null){return!e&&this.instance?this.instance:new nC(this,IC(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new FC(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){DC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class WC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=K_.from(e.nodes),t.marks=K_.from(e.marks||{}),this.nodes=zC.compile(this.spec.nodes,this),this.marks=FC.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",o=t.spec.marks;if(t.contentMatch=n[r]||(n[r]=CC.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==o?null:o?HC(this,o.split(" ")):""!=o&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:HC(this,n.split(" "))}this.nodeFromJSON=e=>wC.fromJSON(this,e),this.markFromJSON=e=>nC.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof zC))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new SC(n,n.defaultAttrs,e,nC.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function HC(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class UC{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new KC(this,t,!1);return n.addAll(e,nC.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new KC(this,t,!0);return n.addAll(e,nC.none,t.from,t.to),oC.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(JC(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=ZC(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach(e=>{n(e=ZC(e)),e.node||e.ignore||e.mark||(e.node=t)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new UC(e,UC.schemaRules(e)))}}const GC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$C={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},VC={ol:!0,ul:!0};function qC(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class YC{constructor(e,t,n,r,o,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=nC.none,this.match=o||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(X_.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=X_.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(X_.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!GC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class KC{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,o=t.topNode,i=qC(null,t.preserveWhitespace,0)|(n?4:0);r=o?new YC(o.type,o.attrs,nC.none,!0,t.topMatch||o.type.contentMatch,i):new YC(n?null:e.schema.topNodeType,null,nC.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,o=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:i}=this.parser;if("full"===o||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)if("full"===o)n=n.replace(/\r\n?/g,"\n");else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(i.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(i.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,o=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i,a=e.nodeName.toLowerCase();VC.hasOwnProperty(a)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&VC.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));e:if(s?s.ignore:$C.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let n,r=this.needsBlock;if(GC.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let i=s&&s.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(o),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,s,n,!1===s.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],o=n.getPropertyValue(r);if(o)for(let e;;){let n=this.parser.matchStyle(r,o,this,e);if(!n)break;if(n.ignore)return null;if(t=n.clearMark?t.filter(e=>!n.clearMark(e)):t.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1!==n.consuming)break;e=n}}return t}addElementByRule(e,t,n,r){let o,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}o&&this.sync(a)&&this.open--}addAll(e,t,n,r){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i,t);this.findAtPoint(e,o)}findPlace(e,t,n){let r,o;for(let t=this.open,i=0;t>=0;t--){let a=this.nodes[t],s=a.findWrapping(e);if(s&&(!r||r.length>s.length+i)&&(r=s,o=a,!s.length))break;if(a.solid){if(n)break;i+=2}}if(!r)return null;this.sync(o);for(let e=0;e<r.length;e++)t=this.enterInner(r[e],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=nC.none;for(let o of r.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):XC(o.type,e.type))&&(n=o.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,r)),o}enterInner(e,t,n,r=!1,o){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=qC(e,o,i.options);4&i.options&&0==i.content.length&&(a|=4);let s=nC.none;return n=n.filter(t=>!(i.type?i.type.allowsMarkType(t.type):XC(t.type,e))||(s=t.addToSet(s),!1)),this.nodes.push(new YC(e,t,s,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=o;a--)if(i(e-1,a))return!0;return!1}{let e=a>0||0==a&&r?this.nodes[a].type:n&&a>=o?n.node(a-o).type:null;if(!e||e.name!=s&&!e.isInGroup(s))return!1;a--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}}function JC(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ZC(e){let t={};for(let n in e)t[n]=e[n];return t}function XC(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],a=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&a(o))return!0}};if(a(o.contentMatch))return!0}}class QC{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=tE(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],a=this.serializeMark(n,e.isInline,t);a&&(o.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=rE(tE(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&rE(tE(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return rE(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new QC(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=eE(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return eE(e.marks)}}function eE(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function tE(e){return e.document||window.document}const nE=new WeakMap;function rE(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=function(e){let t=nE.get(e);return void 0===t&&nE.set(e,t=function(e){let t=null;return function e(n){if(n&&"object"==typeof n)if(Array.isArray(n))if("string"==typeof n[0])t||(t=[]),t.push(n);else for(let t=0;t<n.length;t++)e(n[t]);else for(let t in n)e(n[t])}(e),t}(e)),t}(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a,s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let o=u;o<t.length;o++){let i=t[o];if(0===i){if(o<t.length-1||o>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:o}=rE(e,i,n,r);if(l.appendChild(t),o){if(a)throw new RangeError("Multiple content holes");a=o}}}return{dom:l,contentDOM:a}}const oE=Math.pow(2,16);function iE(e,t){return e+t*oE}function aE(e){return 65535&e}class sE{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class lE{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&lE.empty)return lE.empty}recover(e){let t=0,n=aE(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/oE}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;let l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(e<=u){let o=s+r+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return o;let i=e==(t<0?s:u)?null:iE(a/3,e-s),d=e==s?2:e==u?1:4;return(t<0?e!=s:e!=u)&&(d|=8),new sE(o,d,i)}r+=c-l}return n?e+r:new sE(e+r,0,null)}touches(e,t){let n=0,r=aE(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let a=this.ranges[t]-(this.inverted?n:0);if(a>e)break;let s=this.ranges[t+o];if(e<=a+s&&t==3*r)return!0;n+=this.ranges[t+i]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}}invert(){return new lE(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?lE.empty:new lE(e<0?[0,-e,0]:[0,0,e])}}lE.empty=new lE([]);class cE{constructor(e,t,n=0,r=(e?e.length:0)){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new cE(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new cE;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this._maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this._maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new sE(e,r,null)}}const uE=Object.create(null);class dE{getMap(){return lE.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=uE[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in uE)throw new RangeError("Duplicate use of step JSON ID "+e);return uE[e]=t,t.prototype.jsonID=e,t}}class fE{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new fE(e,null)}static fail(e){return new fE(null,e)}static fromReplace(e,t,n,r){try{return fE.ok(e.replace(t,n,r))}catch(e){if(e instanceof rC)return fE.fail(e.message);throw e}}}function pE(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(pE(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return X_.fromArray(r)}class hE extends dE{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new oC(pE(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return fE.fromReplace(e,this.from,this.to,o)}invert(){return new mE(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new hE(t.pos,n.pos,this.mark)}merge(e){return e instanceof hE&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hE(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new hE(t.from,t.to,e.markFromJSON(t.mark))}}dE.jsonID("addMark",hE);class mE extends dE{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new oC(pE(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return fE.fromReplace(e,this.from,this.to,n)}invert(){return new hE(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new mE(t.pos,n.pos,this.mark)}merge(e){return e instanceof mE&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mE(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new mE(t.from,t.to,e.markFromJSON(t.mark))}}dE.jsonID("removeMark",mE);class gE extends dE{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return fE.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return fE.fromReplace(e,this.pos,this.pos+1,new oC(X_.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new gE(this.pos,t.marks[n]);return new gE(this.pos,this.mark)}}return new yE(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gE(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new gE(t.pos,e.markFromJSON(t.mark))}}dE.jsonID("addNodeMark",gE);class yE extends dE{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return fE.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return fE.fromReplace(e,this.pos,this.pos+1,new oC(X_.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new gE(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new yE(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yE(t.pos,e.markFromJSON(t.mark))}}dE.jsonID("removeNodeMark",yE);class bE extends dE{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&xE(e,this.from,this.to)?fE.fail("Structure replace would overwrite content"):fE.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new lE([this.from,this.to-this.from,this.slice.size])}invert(e){return new bE(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new bE(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof bE)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?oC.empty:new oC(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new bE(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?oC.empty:new oC(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new bE(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new bE(t.from,t.to,oC.fromJSON(e,t.slice),!!t.structure)}}dE.jsonID("replace",bE);class vE extends dE{constructor(e,t,n,r,o,i,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=a}apply(e){if(this.structure&&(xE(e,this.from,this.gapFrom)||xE(e,this.gapTo,this.to)))return fE.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return fE.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?fE.fromReplace(e,this.from,this.to,n):fE.fail("Content does not fit in gap")}getMap(){return new lE([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new vE(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new vE(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new vE(t.from,t.to,t.gapFrom,t.gapTo,oC.fromJSON(e,t.slice),t.insert,!!t.structure)}}function xE(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function kE(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),a=[],s=t+1;for(let t=0;t<i.childCount;t++){let l=i.child(t),c=s+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new mE(s,c,l.marks[t]));if(o&&l.isText&&"pre"!=n.whitespace){let e,t,r=/\r?\n|\r/g;for(;e=r.exec(l.text);)t||(t=new oC(X_.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new bE(s+e.index,s+e.index+e[0].length,t))}}else a.push(new bE(s,c,oC.empty));s=c}if(!r.validEnd){let t=r.fillBefore(X_.empty,!0);e.replace(s,s,new oC(t,0,0))}for(let t=a.length-1;t>=0;t--)e.step(a[t])}function wE(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function SE(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!wE(r,o,i))break}return null}function _E(e,t,n=null,r=e){let o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;let s=(a.length?a[a.length-1]:t).contentMatch;for(let e=r;s&&e<o;e++)s=s.matchType(n.child(e).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(CE).concat({type:t,attrs:n}).concat(i.map(CE)):null}function CE(e){return{type:e,attrs:null}}function EE(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(o.text);){let o=e.mapping.slice(r).map(n+1+i+a.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function LE(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function TE(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>i;e--,t--){let n=o.node(e),i=o.index(e);if(n.type.spec.isolating)return!1;let a=n.content.cutByIndex(i,n.childCount),s=r&&r[t+1];s&&(a=a.replaceChild(0,s.type.create(s.attrs)));let l=r&&r[t]||n;if(!n.canReplace(i+1,n.childCount)||!l.type.validContent(a))return!1}let s=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(s,s,l?l.type:o.node(i+1).type)}function ME(e,t){let n=e.resolve(t),r=n.index();return jE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function jE(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),a=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n)return!1;if(!e.type.allowsMarks(i.marks))return!1}return n.validEnd}(e,t))}function AE(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let o,i,a=r.index(e);if(e==r.depth?(o=r.nodeBefore,i=r.nodeAfter):n>0?(o=r.node(e+1),a++,i=r.node(e).maybeChild(a)):(o=r.node(e).maybeChild(a-1),i=r.node(e+1)),o&&!o.isTextblock&&jE(o,i)&&r.node(e).canReplace(a,a+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function OE(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,i=r.index(t)+(n>0?1:0),a=r.node(t),s=!1;if(1==e)s=a.canReplace(i,i,o);else{let e=a.contentMatchAt(i).findWrapping(o.firstChild.type);s=e&&a.canReplaceWith(i,i,e[0])}if(s)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function PE(e,t,n=t,r=oC.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return NE(o,i,r)?new bE(t,n,r):new IE(o,i,r).fit()}function NE(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}dE.jsonID("replaceAround",vE);class IE{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=X_.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=X_.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,a=r.depth;for(;i&&a&&1==o.childCount;)o=o.firstChild.content,i--,a--;let s=new oC(o,i,a);return e>-1?new vE(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new bE(n.pos,r.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=zE(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let e=this.depth;e>=0;e--){let i,{type:a,match:s}=this.frontier[e],l=null;if(1==t&&(o?s.matchType(o.type)||(l=s.fillBefore(X_.from(o),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:e,parent:r,inject:l};if(2==t&&o&&(i=s.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:e,parent:r,wrap:i};if(r&&s.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=zE(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new oC(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=zE(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new oC(DE(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new oC(DE(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let i=this.unplaced,a=n?n.content:i.content,s=i.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let f=a.size+e-(i.content.size-i.openEnd);for(;l<a.childCount;){let e=a.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==s||e.content.size)&&(u=t,c.push(BE(e.mark(d.allowedMarks(e.marks)),1==l?s:0,l==a.childCount?f:-1)))}let p=l==a.childCount;p||(f=-1),this.placed=RE(this.placed,t,X_.from(c)),this.frontier[t].match=u,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=a;e<f;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?oC.empty:new oC(DE(i.content,e-1,1),e-1,f<0?i.openEnd:e-1):new oC(DE(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!FE(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=FE(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=FE(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=RE(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=RE(this.placed,this.depth,X_.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(X_.empty,!0);e.childCount&&(this.placed=RE(this.placed,this.frontier.length,e))}}function DE(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(DE(e.firstChild.content,t-1,n)))}function RE(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(RE(e.lastChild.content,t-1,n)))}function zE(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function BE(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,BE(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(X_.empty,!0)))),e.copy(r)}function FE(e,t,n,r,o){let i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function WE(e){return e.spec.defining||e.spec.definingForContent}function HE(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(HE(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(X_.empty,!0))}return e}function UE(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class GE extends dE{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return fE.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return fE.fromReplace(e,this.pos,this.pos+1,new oC(X_.from(r),0,t.isLeaf?0:1))}getMap(){return lE.empty}invert(e){return new GE(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new GE(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new GE(t.pos,t.attr,t.value)}}dE.jsonID("attr",GE);class $E extends dE{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return fE.ok(n)}getMap(){return lE.empty}invert(e){return new $E(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new $E(t.attr,t.value)}}dE.jsonID("docAttr",$E);let VE=class extends Error{};VE=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(VE.prototype=Object.create(Error.prototype)).constructor=VE,VE.prototype.name="TransformError";class qE{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new cE}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new VE(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=oC.empty){let r=PE(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new oC(X_.from(n),0,0))}delete(e,t){return this.replace(e,t,oC.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(NE(o,i,r))return e.step(new bE(t,n,r));let a=UE(o,e.doc.resolve(n));0==a[a.length-1]&&a.pop();let s=-(o.depth+1);a.unshift(s);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(e)>-1?s=e:o.before(e)==t&&a.splice(1,0,-e)}let l=a.indexOf(s),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e],n=WE(t.type);if(n&&!t.sameMarkup(o.node(Math.abs(s)-1)))u=e;else if(n||!t.type.isTextblock)break}for(let t=r.openStart;t>=0;t--){let s=(t+u+1)%(r.openStart+1),d=c[s];if(d)for(let t=0;t<a.length;t++){let c=a[(t+l)%a.length],u=!0;c<0&&(u=!1,c=-c);let f=o.node(c-1),p=o.index(c-1);if(f.canReplaceWith(p,p,d.type,d.marks))return e.replace(o.before(c),u?i.after(c):n,new oC(HE(r.content,0,r.openStart,s),s,r.openEnd))}}let d=e.steps.length;for(let s=a.length-1;s>=0&&(e.replace(t,n,r),!(e.steps.length>d));s--){let e=a[s];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new oC(X_.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=UE(r,o);for(let t=0;t<i.length;t++){let n=i[t],a=t==i.length-1;if(a&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(a||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i&&r.start(i-1)==o.start(i-1)&&r.node(i-1).canReplace(r.index(i-1),o.index(i-1)))return e.delete(r.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,a=r.before(i+1),s=o.after(i+1),l=a,c=s,u=X_.empty,d=0;for(let e=i,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,u=X_.from(r.node(e).copy(u)),d++):l--;let f=X_.empty,p=0;for(let e=i,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,f=X_.from(o.node(e).copy(f)),p++):c++;e.step(new vE(l,c,a,s,new oC(u.append(f),d,p),u.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),a=i.node().type;if(o&&a.inlineContent){let e="pre"==a.whitespace,t=!!a.contentMatch.matchType(o);e&&!t?r=!1:!e&&t&&(r=!0)}let s=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);LE(e,r.node(),r.before(),s)}a.inlineContent&&kE(e,t+n-1,a,i.node().contentMatchAt(i.index()),null==r);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new bE(c,l.map(t+n,-1),oC.empty,!0)),!0===r){let t=e.doc.resolve(c);EE(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=X_.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=X_.from(n[e].type.create(n[e].attrs,r))}let o=t.start,i=t.end;e.step(new vE(o,i,o,i,new oC(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let a="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(r,a)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let o=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&LE(e,t,n,i),kE(e,e.mapping.slice(i).map(n,1),r,void 0,null===o);let s=e.mapping.slice(i),l=s.map(n,1),c=s.map(n+t.nodeSize,1);return e.step(new vE(l,c,l+1,c-1,new oC(X_.from(r.create(a,null,t.marks)),0,0),1,!0)),!0===o&&EE(e,t,n,i),!1}})}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new vE(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new oC(X_.from(a),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new GE(e,t,n)),this}setDocAttribute(e,t){return this.step(new $E(e,t)),this}addNodeMark(e,t){return this.step(new gE(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof nC)t.isInSet(n.marks)&&this.step(new yE(e,t));else{let r,o=n.marks,i=[];for(;r=t.isInSet(o);)i.push(new yE(e,r)),o=r.removeFromSet(o);for(let e=i.length-1;e>=0;e--)this.step(i[e])}return this}split(e,t=1,n){return function(e,t,n=1,r){let o=e.doc.resolve(t),i=X_.empty,a=X_.empty;for(let e=o.depth,t=o.depth-n,s=n-1;e>t;e--,s--){i=X_.from(o.node(e).copy(i));let t=r&&r[s];a=X_.from(t?t.type.create(t.attrs,a):o.node(e).copy(a))}e.step(new bE(t,t,new oC(i.append(a),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let o,i,a=[],s=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),f=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(f)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:a.push(o=new mE(c,d,u[e])));i&&i.to==c?i.to=d:s.push(i=new hE(c,d,r))}}),a.forEach(t=>e.step(t)),s.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(e,a)=>{if(!e.isInline)return;i++;let s=null;if(r instanceof FC){let t,n=e.marks;for(;t=r.isInSet(n);)(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,l=s[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:l,from:Math.max(a,t),to:r,step:i})}}}),o.forEach(t=>e.step(new mE(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return kE(this,e,t,n),this}}const YE=Object.create(null);class KE{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new JE(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=oC.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],c=e.mapping.slice(o);e.replaceRange(c.map(s.pos),c.map(l.pos),a?oC.empty:t),0==a&&aL(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:a}=r[o],s=e.mapping.slice(n),l=s.map(i.pos),c=s.map(a.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),aL(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new QE(e):iL(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?iL(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):iL(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new rL(e.node(0))}static atStart(e){return iL(e,e,0,0,1)||new rL(e)}static atEnd(e){return iL(e,e,e.content.size,e.childCount,-1)||new rL(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=YE[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in YE)throw new RangeError("Duplicate use of selection JSON ID "+e);return YE[e]=t,t.prototype.jsonID=e,t}getBookmark(){return QE.between(this.$anchor,this.$head).getBookmark()}}KE.prototype.visible=!0;class JE{constructor(e,t){this.$from=e,this.$to=t}}let ZE=!1;function XE(e){ZE||e.parent.inlineContent||(ZE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class QE extends KE{constructor(e,t=e){XE(e),XE(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return KE.near(n);let r=e.resolve(t.map(this.anchor));return new QE(r.parent.inlineContent?r:n,n)}replace(e,t=oC.empty){if(super.replace(e,t),t==oC.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof QE&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new eL(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new QE(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=KE.findFrom(t,n,!0)||KE.findFrom(t,-n,!0);if(!e)return KE.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(KE.findFrom(e,-n,!0)||KE.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new QE(e,t)}}KE.jsonID("text",QE);class eL{constructor(e,t){this.anchor=e,this.head=t}map(e){return new eL(e.map(this.anchor),e.map(this.head))}resolve(e){return QE.between(e.resolve(this.anchor),e.resolve(this.head))}}class tL extends KE{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?KE.near(o):new tL(o)}content(){return new oC(X_.from(this.node),0,0)}eq(e){return e instanceof tL&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new nL(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new tL(e.resolve(t.anchor))}static create(e,t){return new tL(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}tL.prototype.visible=!1,KE.jsonID("node",tL);class nL{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new eL(n,n):new nL(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&tL.isSelectable(n)?new tL(t):KE.near(t)}}class rL extends KE{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=oC.empty){if(t==oC.empty){e.delete(0,e.doc.content.size);let t=KE.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new rL(e)}map(e){return new rL(e)}eq(e){return e instanceof rL}getBookmark(){return oL}}KE.jsonID("all",rL);const oL={map(){return this},resolve:e=>new rL(e)};function iL(e,t,n,r,o,i=!1){if(t.inlineContent)return QE.create(e,n);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let r=t.child(a);if(r.isAtom){if(!i&&tL.isSelectable(r))return tL.create(e,n-(o<0?r.nodeSize:0))}else{let t=iL(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function aL(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof bE||i instanceof vE)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==o&&(o=r)}),e.setSelection(KE.near(e.doc.resolve(o),n)))}class sL extends qE{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return nC.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||nC.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(KE.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function lL(e,t){return t&&e?e.bind(t):e}class cL{constructor(e,t,n){this.name=e,this.init=lL(t.init,n),this.apply=lL(t.apply,n)}}const uL=[new cL("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new cL("selection",{init:(e,t)=>e.selection||KE.atStart(t.doc),apply:e=>e.selection}),new cL("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new cL("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class dL{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=uL.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new cL(e.key,e.spec.state,e))})}}class fL{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new fL(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new sL(this)}static create(e){let t=new dL(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new fL(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new dL(this.schema,e.plugins),n=t.fields,r=new fL(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new dL(e.schema,e.plugins),o=new fL(r);return r.fields.forEach(r=>{if("doc"==r.name)o.doc=wC.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=KE.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}}),o}}function pL(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=pL(o,t,{})),n[r]=o}return n}class hL{constructor(e){this.spec=e,this.props={},e.props&&pL(e.props,this,this.props),this.key=e.key?e.key.key:gL("plugin")}getState(e){return e[this.key]}}const mL=Object.create(null);function gL(e){return e in mL?e+"$"+ ++mL[e]:(mL[e]=0,e+"$")}class yL{constructor(e="key"){this.key=gL(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const bL=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function vL(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const xL=(e,t,n)=>{let r=vL(e,n);if(!r)return!1;let o=_L(r);if(!o){let n=r.blockRange(),o=n&&SE(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(IL(e,o,t,-1))return!0;if(0==r.parent.content.size&&(wL(i,"end")||tL.isSelectable(i)))for(let n=r.depth;;n--){let a=PE(e.doc,r.before(n),r.after(n),oC.empty);if(a&&a.slice.size<a.to-a.from){if(t){let n=e.tr.step(a);n.setSelection(wL(i,"end")?KE.findFrom(n.doc.resolve(n.mapping.map(o.pos,-1)),-1):tL.create(n.doc,o.pos-i.nodeSize)),t(n.scrollIntoView())}return!0}if(1==n||r.node(n-1).childCount>1)break}return!(!i.isAtom||o.depth!=r.depth-1||(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),0))};function kL(e,t,n){let r=t.nodeBefore,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,a=t.pos+1;for(;!i.isTextblock;a++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let s=PE(e.doc,o,a,oC.empty);if(!s||s.from!=o||s instanceof bE&&s.slice.size>=a-o)return!1;if(n){let t=e.tr.step(s);t.setSelection(QE.create(t.doc,o)),n(t.scrollIntoView())}return!0}function wL(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const SL=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=_L(r)}let a=i&&i.nodeBefore;return!(!a||!tL.isSelectable(a)||(t&&t(e.tr.setSelection(tL.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),0))};function _L(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function CL(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const EL=(e,t,n)=>{let r=CL(e,n);if(!r)return!1;let o=TL(r);if(!o)return!1;let i=o.nodeAfter;if(IL(e,o,t,1))return!0;if(0==r.parent.content.size&&(wL(i,"start")||tL.isSelectable(i))){let n=PE(e.doc,r.before(),r.after(),oC.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(wL(i,"start")?KE.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):tL.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1||(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),0))},LL=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=TL(r)}let a=i&&i.nodeAfter;return!(!a||!tL.isSelectable(a)||(t&&t(e.tr.setSelection(tL.create(e.doc,i.pos)).scrollIntoView()),0))};function TL(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const ML=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))};function jL(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const AL=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),a=jL(o.contentMatchAt(i));if(!a||!o.canReplaceWith(i,i,a))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,a.createAndFill());o.setSelection(KE.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},OL=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof rL||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=jL(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(n,i.createAndFill());a.setSelection(QE.create(a.doc,n+1)),t(a.scrollIntoView())}return!0},PL=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(TE(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&SE(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};var NL;function IL(e,t,n,r){let o,i,a=t.nodeBefore,s=t.nodeAfter,l=a.type.spec.isolating||s.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!o.isTextblock&&!ME(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(i=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&i.matchType(o[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,i=X_.empty;for(let e=o.length-1;e>=0;e--)i=X_.from(o[e].create(null,i));i=X_.from(a.copy(i));let l=e.tr.step(new vE(t.pos-1,r,t.pos,r,new oC(i,1,0),o.length,!0)),c=l.doc.resolve(r+2*o.length);c.nodeAfter&&c.nodeAfter.type==a.type&&ME(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:KE.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),f=d&&SE(d);if(null!=f&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(c&&wL(s,"start",!0)&&wL(a,"end")){let r=a,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let i=s,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=X_.empty;for(let e=o.length-1;e>=0;e--)r=X_.from(o[e].copy(r));n(e.tr.step(new vE(t.pos-o.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new oC(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function DL(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(QE.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const RL=DL(-1),zL=DL(1);function BL(e,t=null){return function(n,r){let o=!1;for(let r=0;r<n.selection.ranges.length&&!o;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(i,a,(r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}})}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];o.setBlockType(i,a,e,t)}r(o.scrollIntoView())}return!0}}function FL(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let WL=FL(bL,xL,SL),HL=FL(bL,EL,LL);const UL={Enter:FL(ML,OL,PL,(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof tL&&e.selection.node.isBlock)return!(!n.parentOffset||!TE(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.depth)return!1;let o,i,a=[],s=!1,l=!1;for(let e=n.depth;;e--){if(n.node(e).isBlock){s=n.end(e)==n.pos+(n.depth-e),l=n.start(e)==n.pos-(n.depth-e),i=jL(n.node(e-1).contentMatchAt(n.indexAfter(e-1)));let t=NL;a.unshift(t||(s&&i?{type:i}:null)),o=e;break}if(1==e)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof QE||e.selection instanceof rL)&&c.deleteSelection();let u=c.mapping.map(n.pos),d=TE(c.doc,u,a.length,a);if(d||(a[0]=i?{type:i}:null,d=TE(c.doc,u,a.length,a)),!d)return!1;if(c.split(u,a.length,a),!s&&l&&n.node(o).type!=i){let e=c.mapping.map(n.before(o)),t=c.doc.resolve(e);i&&n.node(o-1).canReplaceWith(t.index(),t.index()+1,i)&&c.setNodeMarkup(c.mapping.map(n.before(o)),i)}return t&&t(c.scrollIntoView()),!0}),"Mod-Enter":AL,Backspace:WL,"Mod-Backspace":WL,"Shift-Backspace":WL,Delete:HL,"Mod-Delete":HL,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new rL(e.doc))),!0)},GL={"Ctrl-h":UL.Backspace,"Alt-Backspace":UL["Mod-Backspace"],"Ctrl-d":UL.Delete,"Ctrl-Alt-Backspace":UL["Mod-Delete"],"Alt-Delete":UL["Mod-Delete"],"Alt-d":UL["Mod-Delete"],"Ctrl-a":RL,"Ctrl-e":zL};for(let e in UL)GL[e]=UL[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();const $L=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},VL=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let qL=null;const YL=function(e,t,n){let r=qL||(qL=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},KL=function(e,t,n,r){return n&&(ZL(e,t,n,r,-1)||ZL(e,t,n,r,1))},JL=/^(img|br|input|textarea|hr)$/i;function ZL(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:XL(e))){let n=e.parentNode;if(!n||1!=n.nodeType||QL(e)||JL.test(e.nodeName)||"false"==e.contentEditable)return!1;t=$L(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;t+=o}else e=n,t=o<0?XL(e):0}}}}function XL(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function QL(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const eT=function(e){return e.focusNode&&KL(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function tT(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const nT="undefined"!=typeof navigator?navigator:null,rT="undefined"!=typeof document?document:null,oT=nT&&nT.userAgent||"",iT=/Edge\/(\d+)/.exec(oT),aT=/MSIE \d/.exec(oT),sT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oT),lT=!!(aT||sT||iT),cT=aT?document.documentMode:sT?+sT[1]:iT?+iT[1]:0,uT=!lT&&/gecko\/(\d+)/i.test(oT);uT&&(/Firefox\/(\d+)/.exec(oT)||[0,0])[1];const dT=!lT&&/Chrome\/(\d+)/.exec(oT),fT=!!dT,pT=dT?+dT[1]:0,hT=!lT&&!!nT&&/Apple Computer/.test(nT.vendor),mT=hT&&(/Mobile\/\w+/.test(oT)||!!nT&&nT.maxTouchPoints>2),gT=mT||!!nT&&/Mac/.test(nT.platform),yT=!!nT&&/Win/.test(nT.platform),bT=/Android \d/.test(oT),vT=!!rT&&"webkitFontSmoothing"in rT.documentElement.style,xT=vT?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kT(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function wT(e,t){return"number"==typeof e?e:e[t]}function ST(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function _T(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(1!=a.nodeType){a=VL(a);continue}let e=a,n=e==i.body,s=n?kT(i):ST(e),l=0,c=0;if(t.top<s.top+wT(r,"top")?c=-(s.top-t.top+wT(o,"top")):t.bottom>s.bottom-wT(r,"bottom")&&(c=t.bottom-t.top>s.bottom-s.top?t.top+wT(o,"top")-s.top:t.bottom-s.bottom+wT(o,"bottom")),t.left<s.left+wT(r,"left")?l=-(s.left-t.left+wT(o,"left")):t.right>s.right-wT(r,"right")&&(l=t.right-s.right+wT(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}let u=n?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(u))break;a="absolute"==u?a.offsetParent:VL(a)}}function CT(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=VL(r));return t}function ET(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let LT=null;function TT(e,t){let n,r,o,i,a=2e8,s=0,l=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=YL(u).getClientRects()}for(let f=0;f<e.length;f++){let p=e[f];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<a){n=u,a=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==u.nodeType&&e&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=u,i={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&o&&(n=o,r=i,a=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=PT(r,1);if(n.top!=n.bottom&&MT(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||a&&1==n.nodeType?{node:e,offset:s}:TT(n,r)}function MT(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function jT(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(MT(t,o))return jT(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function AT(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(XL(r.offsetNode),r.offset)}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(XL(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let a,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!MT(t,n))return null;if(s=jT(e.dom,t,n),!s)return null}if(hT)for(let e=s;n&&e;e=VL(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(uT&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let r;vT&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(a=function(e,t,n,r){let o=-1;for(let n=t,i=!1;n!=e.dom;){let t,a=e.docView.nearestDesc(n,!0);if(!a)return null;if(1==a.dom.nodeType&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((t=a.dom.getBoundingClientRect()).width||t.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!i&&t.left>r.left||t.top>r.top?o=a.posBefore:(!i&&t.right<r.left||t.bottom<r.top)&&(o=a.posAfter),i=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?a.posBefore:a.posAfter;n=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==a&&(a=function(e,t,n){let{node:r,offset:o}=TT(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function OT(e){return e.top<e.bottom||e.left<e.right}function PT(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(OT(e))return e}return Array.prototype.find.call(n,OT)||e.getBoundingClientRect()}const NT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function IT(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),a=vT||uT;if(3==r.nodeType){if(!a||!NT.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,DT(PT(YL(r,e,t),i),i<0)}{let e=PT(YL(r,o,o),n);if(uT&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=PT(YL(r,o-1,o-1),-1);if(t.top==e.top){let n=PT(YL(r,o,o+1),-1);if(n.top!=e.top)return DT(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==XL(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return RT(e.getBoundingClientRect(),!1)}if(null==i&&o<XL(r)){let e=r.childNodes[o];if(1==e.nodeType)return RT(e.getBoundingClientRect(),!0)}return RT(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==XL(r))){let e=r.childNodes[o-1],t=3==e.nodeType?YL(e,XL(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return DT(PT(t,1),!1)}if(null==i&&o<XL(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?YL(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return DT(PT(t,-1),!0)}return DT(PT(3==r.nodeType?YL(r):r,-n),n>=0)}function DT(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function RT(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function zT(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const BT=/[\u0590-\u08ac]/;let FT=null,WT=null,HT=!1;class UT{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>$L(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let o=this.children[n],i=t+o.size;if(i>e||o instanceof JT){r=e-t;break}t=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof GT&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?$L(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?$L(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,a=0;;a++){let n=this.children[a],s=i+n.size;if(-1==r&&e<=s){let o=i+n.border;if(e>=o&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=$L(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=$L(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((uT||hT)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(a=s={node:t.parentNode,offset:$L(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(uT&&c.focusNode&&c.focusNode!=s.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||u&&hT)&&KL(a.node,a.offset,c.anchorNode,c.anchorOffset)&&KL(s.node,s.offset,c.focusNode,c.focusOffset))return;let d=!1;if((l.extend||e==t)&&(!u||!uT)){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=a;a=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,a=i-o.border;if(e>=r&&t<=a)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class GT extends UT{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $T extends UT{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class VT extends UT{constructor(e,t,n,r,o){super(e,[],n,r),this.mark=t,this.spec=o}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=QC.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new VT(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=VT.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=cM(o,t,i,n)),e>0&&(o=cM(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class qT extends UT{constructor(e,t,n,r,o,i,a,s,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,o,i){let a,s=o.nodeViews[t.type.name],l=s&&s(t,o,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:i,n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=QC.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=oM(c,n,t),l?a=new ZT(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new KT(e,t,n,r,c,d,o):new qT(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>X_.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&iM(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,s=new sM(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);r(a,o,t.forChild(i,a),n),i+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,d,f,p;for(;a<o.length&&o[a].to==i;){let e=o[a++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(lM);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)p=-1,f=l,l=null;else{if(!(c<e.childCount))break;p=c,f=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=i&&s.splice(e--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);let h=i+f.nodeSize;if(f.isText){let e=h;a<o.length&&o[a].from<e&&(e=o[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<h&&(l=f.cut(e-i),f=f.cut(0,e-i),h=e,p=-1)}else for(;a<o.length&&o[a].to<h;)a++;let m=f.isInline&&!f.isLeaf?s.filter(e=>!e.inline):s.slice();r(f,m,t.forChild(i,f),p),i=h}}(this.node,this.innerDeco,(t,o,i)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&s.syncToMarks(o==this.node.childCount?nC.none:this.node.child(o).marks,n,e),s.placeWidget(t,e,r)},(t,i,l,c)=>{let u;s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,i,l,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=s.findIndexWithChild(o.node))>-1&&s.updateNodeAt(t,i,l,u,e)||s.updateNextNode(t,i,l,e,c,r)||s.addNode(t,i,l,e,r),r+=t.nodeSize}),s.syncToMarks([],n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),XT(this.contentDOM,this.children,e),mT&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof QE)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let a=e.child(o++),s=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new $T(this,o,t,r);e.input.compositionNodes.push(i),this.children=cM(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(iM(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=nM(this.dom,this.nodeDOM,tM(this.outerDeco,this.node,t),tM(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function YT(e,t,n,r,o){oM(r,t,e);let i=new qT(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class KT extends qT{constructor(e,t,n,r,o,i,a){super(e,t,n,r,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new KT(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class JT extends UT{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class ZT extends qT{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.spec=s}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function XT(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=aM(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof VT){let t=r?r.previousSibling:e.lastChild;XT(a.contentDOM,a.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=aM(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const QT=function(e){e&&(this.nodeName=e)};QT.prototype=Object.create(null);const eM=[new QT];function tM(e,t,n){if(0==e.length)return eM;let r=n?eM[0]:new QT,o=[r];for(let i=0;i<e.length;i++){let a=e[i].type.attrs;if(a){a.nodeName&&o.push(r=new QT(a.nodeName));for(let e in a){let i=a[e];null!=i&&(n&&1==o.length&&o.push(r=new QT(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function nM(e,t,n,r){if(n==eM&&r==eM)return t;let o=t;for(let t=0;t<r.length;t++){let i=r[t],a=n[t];if(t){let t;a&&a.nodeName==i.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(o),a=eM[0]),o=t}rM(o,a||eM[0],i)}return o}function rM(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function oM(e,t,n){return nM(e,e,eM,tM(t,n,1!=e.nodeType))}function iM(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function aM(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class sM{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof VT)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(o-1))break;--o,i.set(s,o),a.push(s)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=VT.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){i=r;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof qT){let l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;let c,u=s.dom,d=this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&iM(t,s.outerDeco));if(!d&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(s,e,t,n,r,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!iM(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=qT.create(this.top,t,n,r,o,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let e of a.children)e.parent=a}return e.destroy(),a}addNode(e,t,n,r,o){let i=qT.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new GT(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof VT;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof KT)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hT||fT)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new JT(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function lM(e,t){return e.type.side-t.type.side}function cM(e,t,n,r,o){let i=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function uM(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,l,c=r.resolve(a);if(eT(n)){for(s=a;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&tL.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==XL(e);r||o;){if(e==n)return!0;let t=$L(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==XL(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new tL(a==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=a,o=a;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[s,a]=o==e.state.selection.anchor?[o,t]:[t,o],c=r.resolve(a)}else s=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(s<0)return null}let u=r.resolve(s);return l||(l=vM(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)),l}function dM(e){return e.editable?e.hasFocus():kM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function fM(e,t=!1){let n=e.state.selection;if(yM(e,n),dM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&fT){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&KL(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,$L(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&lT&&cT<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,o,{anchor:i,head:a}=n;!pM||n instanceof QE||(n.$from.parent.inlineContent||(r=hM(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=hM(e,n.to))),e.docView.setSelection(i,a,e,t),pM&&(r&&gM(r),o&&gM(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{dM(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const pM=hT||fT&&pT<63;function hM(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(hT&&o&&"false"==o.contentEditable)return mM(o);if(!(o&&"false"!=o.contentEditable||i&&"false"!=i.contentEditable)){if(o)return mM(o);if(i)return mM(i)}}function mM(e){return e.contentEditable="true",hT&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function gM(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function yM(e,t){if(t instanceof tL){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(bM(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else bM(e)}function bM(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function vM(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||QE.between(t,n,r)}function xM(e){return!(e.editable&&!e.hasFocus())&&kM(e)}function kM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function wM(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&KE.findFrom(i,t)}function SM(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function _M(e,t,n){let r=e.state.selection;if(!(r instanceof QE)){if(r instanceof tL&&r.node.isInline)return SM(e,new QE(t>0?r.$to:r.$from));{let n=wM(e.state,t);return!!n&&SM(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return SM(e,new QE(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=wM(e.state,t);return!!(n&&n instanceof tL)&&SM(e,n)}if(!(gT&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let a=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(tL.isSelectable(i)?SM(e,new tL(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!vT&&SM(e,new QE(e.state.doc.resolve(t<0?a:a+i.nodeSize))))}}function CM(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function EM(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function LM(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=!1;for(uT&&1==n.nodeType&&r<CM(n)&&EM(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(EM(e,-1))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(TM(n))break;{let t=n.previousSibling;for(;t&&EM(t,-1);)o=n.parentNode,i=$L(t),t=t.previousSibling;if(t)n=t,r=CM(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?MM(e,n,r):o&&MM(e,o,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=CM(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!EM(n.childNodes[r],1))break;o=n,i=++r}else{if(TM(n))break;{let t=n.nextSibling;for(;t&&EM(t,1);)o=t.parentNode,i=$L(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=CM(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}o&&MM(e,o,i)}(e)}function TM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function MM(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!QL(e);)t=$L(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!QL(e);)t=$L(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(eT(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&fM(e)},50)}function jM(e,t){let n=e.state.doc.resolve(t);if(!fT&&!yT&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function AM(e,t,n){let r=e.state.selection;if(r instanceof QE&&!r.empty||n.indexOf("s")>-1)return!1;if(gT&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=wM(e.state,t);if(n&&n instanceof tL)return SM(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,a=r instanceof rL?KE.near(n,t):KE.findFrom(n,t);return!!a&&SM(e,a)}return!1}function OM(e,t){if(!(e.state.selection instanceof QE))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function PM(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function NM(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||QC.fromSchema(e.state.schema),s=GM(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=HM[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:f,slice:t}}function IM(e,t,n,r,o){let i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,s||r,e)}),s)return a=new oC(X_.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{a=t(a,e,!0)}),a;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)a=n;else{let n=o.marks(),{schema:r}=e.state,a=QC.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=GM().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&HM[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=function(e){let t=window.trustedTypes;return t?($M||($M=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),$M.createHTML(e)):e}(e),n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),vT&&function(e){let t=e.querySelectorAll(fT?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"Â "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0;e--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||UC.fromSchema(e.state.schema);a=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||DM.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)a=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:i,openEnd:a}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=X_.from(t.create(n[e+1],o)),i++,a++}return new oC(o,i,a)}(WM(a,+u[1],+u[2]),u[4]);else if(a=oC.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach(e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&zM(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=BM(i[i.length-1],r.length));let t=RM(e,n);i.push(t),o=o.matchType(t.type),r=n}}),i)return X_.from(i)}return e}(a.content,o),!0),a.openStart||a.openEnd){let e=0,t=0;for(let t=a.content.firstChild;e<a.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=a.content.lastChild;t<a.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);a=WM(a,e,t)}return e.someProp("transformPasted",t=>{a=t(a,e,l)}),a}const DM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function RM(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,X_.from(e));return e}function zM(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=zM(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(X_.from(RM(n,e,o+1))))}}function BM(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,BM(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(X_.empty,!0);return e.copy(n.append(r))}function FM(e,t,n,r,o,i){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(i=0),o<r-1&&(s=FM(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(X_.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function WM(e,t,n){return t<e.openStart&&(e=new oC(FM(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new oC(FM(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const HM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let UM=null;function GM(){return UM||(UM=document.implementation.createHTMLDocument("title"))}let $M=null;const VM={},qM={},YM={touchstart:!0,touchmove:!0};class KM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function JM(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function ZM(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>XM(e,t))})}function XM(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function QM(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function ej(e){return{left:e.clientX,top:e.clientY}}function tj(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let r=i.depth+1;r>0;r--)if(e.someProp(t,t=>r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)))return!0;return!1}function nj(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function rj(e,t,n,r){return tj(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function oj(e,t,n,r){return tj(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(nj(e,QE.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),i=o.before(t);if(n.inlineContent)nj(e,QE.create(r,i+1,i+1+n.content.size),"pointer");else{if(!tL.isSelectable(n))continue;nj(e,tL.create(r,i),"pointer")}return!0}}(e,n,r)}function ij(e){return fj(e)}qM.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!lj(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!bT||!fT||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!mT||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||function(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||gT&&72==n&&"c"==r)return OM(e,-1)||LM(e,-1);if(46==n&&!t.shiftKey||gT&&68==n&&"c"==r)return OM(e,1)||LM(e,1);if(13==n||27==n)return!0;if(37==n||gT&&66==n&&"c"==r){let t=37==n?"ltr"==jM(e,e.state.selection.from)?-1:1:-1;return _M(e,t,r)||LM(e,t)}if(39==n||gT&&70==n&&"c"==r){let t=39==n?"ltr"==jM(e,e.state.selection.from)?1:-1:1;return _M(e,t,r)||LM(e,t)}return 38==n||gT&&80==n&&"c"==r?AM(e,-1,r)||LM(e,-1):40==n||gT&&78==n&&"c"==r?function(e){if(!hT||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;PM(e,n,"true"),setTimeout(()=>PM(e,n,"false"),20)}return!1}(e)||AM(e,1,r)||LM(e,1):r==(gT?"m":"c")&&(66==n||73==n||89==n||90==n)}(e,n)?n.preventDefault():JM(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,tT(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},qM.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},qM.keypress=(e,t)=>{let n=t;if(lj(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||gT&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof QE&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,o))||e.dispatch(o()),n.preventDefault()}};const aj=gT?"metaKey":"ctrlKey";VM.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=ij(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[aj]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=e.posAtCoords(ej(n));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new sj(e,a,n,!!r)):("doubleClick"==i?rj:oj)(e,a.pos,a.inside,n)?n.preventDefault():JM(e,"pointer"))};class sj{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[aj],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const a=r?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&1==s.nodeDOM.nodeType?s.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof tL&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!uT||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),JM(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fM(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ej(e))),this.updateAllowDefault(e),this.allowDefault||!t?JM(this.view,"pointer"):function(e,t,n,r,o){return tj(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof tL&&(n=o.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(tL.isSelectable(t)){r=n&&o.$from.depth>0&&e>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(e);break}}return null!=r&&(nj(e,tL.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&tL.isSelectable(r))&&(nj(e,new tL(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||hT&&this.mightDrag&&!this.mightDrag.node.isAtom||fT&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(nj(this.view,KE.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):JM(this.view,"pointer")}move(e){this.updateAllowDefault(e),JM(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function lj(e,t){return!!e.composing||!!(hT&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}VM.touchstart=e=>{e.input.lastTouch=Date.now(),ij(e),JM(e,"pointer")},VM.touchmove=e=>{e.input.lastTouch=Date.now(),JM(e,"pointer")},VM.contextmenu=e=>ij(e);const cj=bT?5e3:-1;function uj(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>fj(e),t))}function dj(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function fj(e,t=!1){if(!(bT&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),dj(e),t||e.docView&&e.docView.dirty){let n=uM(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}qM.compositionstart=qM.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof QE&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),fj(e,!0),e.markCursor=null;else if(fj(e,!t.selection.empty),uT&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}uj(e,cj)},qM.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,uj(e,20))};const pj=lT&&cT<15||mT&&xT<604;function hj(e,t,n,r,o){let i=IM(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,o,i||oC.empty)))return!0;if(!i)return!1;let a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function mj(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}VM.copy=qM.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=pj?null:n.clipboardData,a=r.content(),{dom:s,text:l}=NM(e,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},qM.paste=(e,t)=>{let n=t;if(e.composing&&!bT)return;let r=pj?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&hj(e,mj(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?hj(e,r.value,null,o,t):hj(e,r.textContent,r.innerHTML,o,t)},50)}(e,n)};class gj{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const yj=gT?"altKey":"ctrlKey";function bj(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[yj]}VM.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o,i=e.state.selection,a=i.empty?null:e.posAtCoords(ej(n));if(a&&a.pos>=i.from&&a.pos<=(i instanceof tL?i.to-1:i.to));else if(r&&r.mightDrag)o=tL.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=tL.create(e.state.doc,t.posBefore))}let s=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=NM(e,s);(!n.dataTransfer.files.length||!fT||pT>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(pj?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",pj||n.dataTransfer.setData("text/plain",c),e.dragging=new gj(u,bj(e,n),o)},VM.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},qM.dragover=qM.dragenter=(e,t)=>t.preventDefault(),qM.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(ej(n));if(!o)return;let i=e.state.doc.resolve(o.pos),a=r&&r.slice;a?e.someProp("transformPasted",t=>{a=t(a,e,!1)}):a=IM(e,mj(n.dataTransfer),pj?null:n.dataTransfer.getData("text/html"),!1,i);let s=!(!r||!bj(e,n));if(e.someProp("handleDrop",t=>t(e,n,a||oC.empty,s)))return void n.preventDefault();if(!a)return;n.preventDefault();let l=a?OE(e.state.doc,i.pos,a):i.pos;null==l&&(l=i.pos);let c=e.state.tr;if(s){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,f=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&tL.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new tL(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),c.setSelection(vM(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},VM.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&fM(e)},20))},VM.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},VM.beforeinput=(e,t)=>{if(fT&&bT&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,tT(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let e in qM)VM[e]=qM[e];function vj(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class xj{constructor(e,t){this.toDOM=e,this.spec=t||Cj,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new Sj(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof xj&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&vj(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class kj{constructor(e,t){this.attrs=e,this.spec=t||Cj}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Sj(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof kj&&vj(this.attrs,e.attrs)&&vj(this.spec,e.spec)}static is(e){return e.type instanceof kj}destroy(){}}class wj{constructor(e,t){this.attrs=e,this.spec=t||Cj}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Sj(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof wj&&vj(this.attrs,e.attrs)&&vj(this.spec,e.spec)}destroy(){}}class Sj{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Sj(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Sj(e,e,new xj(t,n))}static inline(e,t,n,r){return new Sj(e,t,new kj(n,r))}static node(e,t,n,r){return new Sj(e,t,new wj(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof kj}get widget(){return this.type instanceof xj}}const _j=[],Cj={};class Ej{constructor(e,t){this.local=e.length?e:_j,this.children=t.length?t:_j}static create(e,t){return t.length?Oj(t,e,0,Cj):Lj}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,t-a,n,r+a,o)}}map(e,t,n){return this==Lj||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Cj)}mapInner(e,t,n,r,o){let i;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){let s=e.slice();for(let e=0,t=i;e<n.maps.length;e++){let r=0;n.maps[e].forEach((e,n,o,i)=>{let a=i-o-(n-e);for(let o=0;o<s.length;o+=3){let i=s[o+1];if(i<0||e>i+t-r)continue;let l=s[o]+t-r;n>=l?s[o+1]=e<=l?-2:-1:e>=t&&a&&(s[o]+=a,s[o+1]+=a)}r+=a}),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<s.length;t+=3)if(s[t+1]<0){if(-2==s[t+1]){l=!0,s[t+1]=-1;continue}let c=n.map(e[t]+i),u=c-o;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[t+1]+i,-1)-o,{index:f,offset:p}=r.content.findIndex(u),h=r.maybeChild(f);if(h&&p==u&&p+h.nodeSize==d){let r=s[t+2].mapInner(n,h,c+1,e[t]+i+1,a);r!=Lj?(s[t]=u,s[t+1]=d,s[t+2]=r):(s[t+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,o,i,a){function s(e,t){for(let i=0;i<e.local.length;i++){let s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&s(e[n+2],t[n]+i+1);return n}(s,e,t,n,o,i,a),c=Oj(l,r,0,a);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Ej(t.sort(Pj),s)}(this.children,i||[],e,t,n,r,o):i?new Ej(i.sort(Pj),_j):Lj}add(e,t){return t.length?this==Lj?Ej.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,i)=>{let a,s=i+n;if(a=jj(t,e,s)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,a,s+1):r.splice(o,0,i,i+e.nodeSize,Oj(a,e,s+1,Cj)),o+=3}});let i=Mj(o?Aj(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new Ej(i.length?this.local.concat(i).sort(Pj):this.local,r||this.children)}remove(e){return 0==e.length||this==Lj?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,i=n[r]+t,a=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<a&&(e[n]=null,(o||(o=[])).push(t));if(!o)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(o,i+1);s!=Lj?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,o=0;o<e.length;o++)if(n=e[o])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ej(r,n):Lj}forChild(e,t){if(this==Lj)return this;if(t.isLeaf)return Ej.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,i=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>o&&t.type instanceof kj){let e=Math.max(o,t.from)-o,n=Math.min(i,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new Ej(r.sort(Pj),_j);return n?new Tj([e,n]):e}return n||Lj}eq(e){if(this==e)return!0;if(!(e instanceof Ej)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Nj(this.localsInner(e))}localsInner(e){if(this==Lj)return _j;if(e.inlineContent||!this.local.some(kj.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof kj||t.push(this.local[e]);return t}forEachSet(e){e(this)}}Ej.empty=new Ej([],[]),Ej.removeOverlap=Nj;const Lj=Ej.empty;class Tj{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,Cj));return Tj.from(n)}forChild(e,t){if(t.isLeaf)return Ej.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=Lj&&(o instanceof Tj?n=n.concat(o.members):n.push(o))}return Tj.from(n)}eq(e){if(!(e instanceof Tj)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?Nj(n?t:t.sort(Pj)):_j}static from(e){switch(e.length){case 0:return Lj;case 1:return e[0];default:return new Tj(e.every(e=>e instanceof Ej)?e:e.reduce((e,t)=>e.concat(t instanceof Ej?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Mj(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new Sj(o.from+t,o.to+t,o.type))}return n}function jj(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<r&&((o||(o=[])).push(t),e[i]=null);return o}function Aj(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Oj(e,t,n,r){let o=[],i=!1;t.forEach((t,a)=>{let s=jj(e,t,a+n);if(s){i=!0;let e=Oj(s,t,n+a+1,r);e!=Lj&&o.push(a,a+t.nodeSize,e)}});let a=Mj(i?Aj(e):e,-n).sort(Pj);for(let e=0;e<a.length;e++)a[e].type.valid(t,a[e])||(r.onRemove&&r.onRemove(a[e].spec),a.splice(e--,1));return a.length||o.length?new Ej(a,o):Lj}function Pj(e,t){return e.from-t.from||e.to-t.to}function Nj(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Ij(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Ij(t,o+1,i.copy(r.to,i.to)))}}return t}function Ij(e,t,n){for(;t<e.length&&Pj(n,e[t])>0;)t++;e.splice(t,0,n)}function Dj(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Lj&&t.push(r)}),e.cursorWrapper&&t.push(Ej.create(e.state.doc,[e.cursorWrapper.deco])),Tj.from(t)}const Rj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zj=lT&&cT<=11;class Bj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Fj{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Bj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);lT&&cT<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),zj&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Rj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(xM(this.view)){if(this.suppressingSelectionUpdates)return fM(this.view);if(lT&&cT<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&KL(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=VL(t))n.add(t);for(let r=e.anchorNode;r;r=VL(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&xM(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,a=!1,s=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],s);n&&(o=o<0?n.from:Math.min(n.from,o),i=i<0?n.to:Math.max(n.to,i),n.typeOver&&(a=!0))}if(uT&&s.length){let t=s.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&Gj(e,n)==t||r.remove()}}}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&eT(n)&&(l=uM(e))&&l.eq(KE.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,fM(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(!Wj.has(e)&&(Wj.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=uT,Hj)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Hj=!0}}(e)),this.handleDOMChange(o,i,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||fM(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(lT&&cT<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?$L(r)+1:0,a=n.localPosFromDOM(e.target,i,-1),s=o&&o.parentNode==e.target?$L(o):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Wj=new WeakMap,Hj=!1;function Uj(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return KL(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function Gj(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function $j(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(hT&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||hT&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Vj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qj(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:vM(e,t.resolve(n.anchor),t.resolve(n.head))}function Yj(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function Kj(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Jj{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new KM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(tA),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Qj(this),Xj(this),this.nodeViews=eA(this),this.docView=YT(this.state.doc,Zj(this),Dj(this),this.dom,this),this.domObserver=new Fj(this,(e,t,n,r)=>function(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=uM(e,t);if(n&&!e.state.selection.eq(n)){if(fT&&bT&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,tT(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l,c,u=e.state.selection,d=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:a,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],eT(c)||r.push({node:c.focusNode,offset:c.focusOffset})),fT&&8===e.input.lastKeyCode)for(let e=a;e>i;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){a=e;break}if(!n||n.size)break}let d=e.state.doc,f=e.someProp("domParser")||UC.fromSchema(e.state.schema),p=d.resolve(s),h=null,m=f.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:a,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:$j,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),h={anchor:e+s,head:t+s}}return{doc:m,sel:h,from:s,to:l}}(e,t,n),f=e.state.doc,p=f.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let h=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o&&(r-=a+Math.max(0,i-Math.min(a,s))-i),a<i&&e.size<t.size){let e=r<=i&&r>=a?i-r:0;i-=e,i&&i<t.size&&Kj(t.textBetween(i-1,i+1))&&(i+=e?1:-1),s=i+(s-a),a=i}else if(s<i){let t=r<=i&&r>=s?i-r:0;i-=t,i&&i<e.size&&Kj(e.textBetween(i-1,i+1))&&(i+=t?1:-1),a=i+(a-s),s=i}return{start:i,endA:a,endB:s}}(p.content,d.doc.content,d.from,l,c);if(h&&e.input.domChangeCount++,(mT&&e.input.lastIOSEnter>Date.now()-225||bT)&&o.some(e=>1==e.nodeType&&!Vj.test(e.nodeName))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",t=>t(e,tT(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&u instanceof QE&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=qj(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}h={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof QE&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),lT&&cT<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>d.from&&" Â "==d.doc.textBetween(h.start-d.from-1,h.start-d.from+1)&&(h.start--,h.endA--,h.endB--);let m=d.doc.resolveNoCache(h.start-d.from),g=d.doc.resolveNoCache(h.endB-d.from),y=f.resolve(h.start),b=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=h.endA;if((mT&&e.input.lastIOSEnter>Date.now()-225&&(!b||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!b&&m.pos<d.doc.content.size&&(!m.sameParent(g)||!m.parent.inlineContent)&&m.pos<g.pos&&!/\S/.test(d.doc.textBetween(m.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,tT(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||Yj(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=e.resolve(Yj(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Yj(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(f,h.start,h.endA,m,g)&&e.someProp("handleKeyDown",t=>t(e,tT(8,"Backspace"))))return void(bT&&fT&&e.domObserver.suppressSelectionUpdates());fT&&h.endB==h.start&&(e.input.lastChromeDelete=Date.now()),bT&&!b&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==h.endA&&(h.endB-=2,g=d.doc.resolveNoCache(h.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,tT(13,"Enter"))})},20));let v,x=h.start,k=h.endA,w=t=>{let n=t||e.state.tr.replace(x,k,d.doc.slice(h.start-d.from,h.endB-d.from));if(d.sel){let t=qj(e,n.doc,d.sel);t&&!(fT&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==x||t.head==n.mapping.map(k)-1)||lT&&t.empty&&t.head==x)&&n.setSelection(t)}return i&&n.setMeta("composition",i),n.scrollIntoView()};if(b)if(m.pos==g.pos){lT&&cT<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>fM(e),20));let t=w(e.state.tr.delete(x,k)),n=f.resolve(h.start).marksAcross(f.resolve(h.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(h.endA==h.endB&&(v=function(e,t){let n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a;for(let e=0;e<a.length;e++)s=a[e].removeFromSet(s);for(let e=0;e<i.length;e++)l=i[e].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(o(t.child(e)));if(X_.from(c).eq(e))return{mark:r,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start())))){let t=w(e.state.tr);"add"==v.type?t.addMark(x,k,v.mark):t.removeMark(x,k,v.mark),e.dispatch(t)}else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset),n=()=>w(e.state.tr.insertText(t,x,k));e.someProp("handleTextInput",r=>r(e,x,k,t,n))||e.dispatch(n())}else e.dispatch(w());else e.dispatch(w())}(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in VM){let n=VM[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!QM(e,t)||XM(e,t)||!e.editable&&t.type in qM||n(e,t)},YM[t]?{passive:!0}:void 0)}hT&&e.dom.addEventListener("input",()=>null),ZM(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ZM(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tA),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(dj(this),i=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=eA(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&ZM(this),this.editable=Qj(this),Xj(this);let s=Dj(this),l=Zj(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(e.doc,l,s);!u&&e.selection.eq(r.selection)||(i=!0);let d="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=e.root.elementFromPoint(i,a);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=o-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:CT(e.dom)}}(this);if(i){this.domObserver.stop();let t=u&&(lT||fT)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(u){let n=fT?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=XL(e=e.childNodes[t-1])}else{if(!e.parentNode||QL(e))return null;t=$L(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||QL(e))return null;t=$L(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}(this)),!o&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=YT(e.doc,l,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return KL(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?fM(this,t):(yM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;ET(n,0==r?0:r-t)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof tL){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&_T(this,t.getBoundingClientRect(),e)}else _T(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new gj(e.slice,e.move,r<0?void 0:tL.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let i=o[r].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){if(lT){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(LT)return e.focus(LT);let t=CT(e);e.focus(null==LT?{get preventScroll(){return LT={preventScroll:!0},!0}}:void 0),LT||(LT=!1,ET(t,0))}(this.dom),fM(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}updateRoot(){this._root=null}posAtCoords(e){return AT(this,e)}coordsAtPos(e,t=1){return IT(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){return FT==t&&WT==n?HT:(FT=t,WT=n,HT="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return zT(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=IT(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=YL(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=e.domSelection();return s?BT.test(r.parent.textContent)&&s.modify?zT(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:a}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),f=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{s.collapse(i,a),t&&(t!=i||o!=a)&&s.extend&&s.extend(t,o)}catch(e){}return null!=l&&(s.caretBidiLevel=l),f}):"left"==n||"backward"==n?i:a:r.pos==r.start()||r.pos==r.end()}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return hj(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return hj(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return NM(this,e)}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Dj(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,qL=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){XM(e,t)||!VM[t.type]||!e.editable&&t.type in qM||VM[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?hT&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return Uj(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Uj(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Zj(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[Sj.node(0,e.state.doc.content.size,t)]}function Xj(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Sj.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Qj(e){return!e.someProp("editable",t=>!1===t(e.state))}function eA(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function tA(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Jj.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var nA={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rA={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oA="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),iA="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),aA=0;aA<10;aA++)nA[48+aA]=nA[96+aA]=String(aA);for(aA=1;aA<=24;aA++)nA[aA+111]="F"+aA;for(aA=65;aA<=90;aA++)nA[aA]=String.fromCharCode(aA+32),rA[aA]=String.fromCharCode(aA);for(var sA in nA)rA.hasOwnProperty(sA)||(rA[sA]=nA[sA]);const lA="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),cA="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function uA(e){let t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(let e=0;e<i.length-1;e++){let a=i[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);lA?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function dA(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function fA(e){let t=function(e){let t=Object.create(null);for(let n in e)t[uA(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(oA&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||iA&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?rA:nA)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[dA(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[dA(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(cA&&n.ctrlKey&&n.altKey)&&(r=nA[n.keyCode])&&r!=o){let o=t[dA(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}var pA=Object.defineProperty,hA=(e,t)=>{for(var n in t)pA(e,n,{get:t[n],enumerable:!0})};function mA(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var gA=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(i);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a=[],s=!!e,l=e||o.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),o=n(...e)(r);return a.push(o),c}])),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),a.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a={tr:e,editor:r,view:i,state:mA({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(a)]))}};return a}},yA={};hA(yA,{blur:()=>bA,clearContent:()=>vA,clearNodes:()=>xA,command:()=>kA,createParagraphNear:()=>wA,cut:()=>SA,deleteCurrentNode:()=>_A,deleteNode:()=>EA,deleteRange:()=>LA,deleteSelection:()=>TA,enter:()=>MA,exitCode:()=>jA,extendMarkRange:()=>RA,first:()=>zA,focus:()=>UA,forEach:()=>GA,insertContent:()=>$A,insertContentAt:()=>KA,joinBackward:()=>XA,joinDown:()=>ZA,joinForward:()=>QA,joinItemBackward:()=>eO,joinItemForward:()=>tO,joinTextblockBackward:()=>nO,joinTextblockForward:()=>rO,joinUp:()=>JA,keyboardShortcut:()=>iO,lift:()=>sO,liftEmptyBlock:()=>lO,liftListItem:()=>cO,newlineInCode:()=>uO,resetAttributes:()=>pO,scrollIntoView:()=>hO,selectAll:()=>mO,selectNodeBackward:()=>gO,selectNodeForward:()=>yO,selectParentNode:()=>bO,selectTextblockEnd:()=>vO,selectTextblockStart:()=>xO,setContent:()=>wO,setMark:()=>QO,setMeta:()=>eP,setNode:()=>tP,setNodeSelection:()=>nP,setTextSelection:()=>rP,sinkListItem:()=>oP,splitBlock:()=>aP,splitListItem:()=>sP,toggleList:()=>uP,toggleMark:()=>dP,toggleNode:()=>fP,toggleWrap:()=>pP,undoInputRule:()=>hP,unsetAllMarks:()=>mP,unsetMark:()=>gP,updateAttributes:()=>yP,wrapIn:()=>bP,wrapInList:()=>vP});var bA=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),vA=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),xA=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return!n||(o.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:o}=t,i=r.resolve(o.map(n)),a=r.resolve(o.map(n+e.nodeSize)),s=i.blockRange(a);if(!s)return;const l=SE(s);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(s.start,e)}(l||0===l)&&t.lift(s,l)})}),!0)},kA=e=>t=>e(t),wA=()=>({state:e,dispatch:t})=>OL(e,t),SA=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,i.content),r.setSelection(new QE(r.doc.resolve(Math.max(a-1,0)))),!0},_A=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let n=o.depth;n>0;n-=1)if(o.node(n).type===r.type){if(t){const t=o.before(n),r=o.after(n);e.delete(t,r).scrollIntoView()}return!0}return!1};function CA(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var EA=e=>({tr:t,state:n,dispatch:r})=>{const o=CA(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1)if(i.node(e).type===o){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}return!1},LA=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},TA=()=>({state:e,dispatch:t})=>bL(e,t),MA=()=>({commands:e})=>e.keyboardShortcut("Enter"),jA=()=>({state:e,dispatch:t})=>AL(e,t);function AA(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function OA(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:AA(t[r])?t[r].test(e[r]):t[r]===e[r])}function PA(e,t,n={}){return e.find(e=>e.type===t&&OA(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function NA(e,t,n={}){return!!PA(e,t,n)}function IA(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(o.node&&o.node.marks.some(e=>e.type===t)||(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(e=>e.type===t))return;if(n=n||(null==(r=o.node.marks[0])?void 0:r.attrs),!PA([...o.node.marks],t,n))return;let i=o.index,a=e.start()+o.offset,s=i+1,l=a+o.node.nodeSize;for(;i>0&&NA([...e.parent.child(i-1).marks],t,n);)i-=1,a-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&NA([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function DA(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var RA=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=DA(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(o){const e=IA(l,i,t);if(e&&e.from<=c&&e.to>=u){const t=QE.create(a,e.from,e.to);n.setSelection(t)}}return!0},zA=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function BA(e){return e instanceof QE}function FA(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function WA(e,t=null){if(!t)return null;const n=KE.atStart(e),r=KE.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,i=r.to;return"all"===t?QE.create(e,FA(0,o,i),FA(e.content.size,o,i)):QE.create(e,FA(t,o,i),FA(t,o,i))}function HA(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var UA=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{(HA()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!BA(n.state.selection))return a(),!0;const s=WA(o.doc,e)||n.state.selection,l=n.state.selection.eq(s);return i&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},GA=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),$A=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),VA=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&VA(r)}return e};function qA(e){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return VA(n)}function YA(e,t,n){if(e instanceof wC||e instanceof X_)return e;n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return X_.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),YA("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,o="";const i=new WC({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,o="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?UC.fromSchema(i).parseSlice(qA(e),n.parseOptions):UC.fromSchema(i).parse(qA(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const r=UC.fromSchema(t);return n.slice?r.parseSlice(qA(e),n.parseOptions).content:r.parse(qA(e),n.parseOptions)}return YA("",t,n)}var KA=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var a;if(o){let o;const s=e=>{i.emit("contentError",{editor:i,error:e,disableCollaboration:()=>{"collaboration"in i.storage&&"object"==typeof i.storage.collaboration&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...(n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{YA(t,i.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(e){s(e)}try{o=YA(t,i.schema,{parseOptions:l,errorOnInvalidContent:null!=(a=n.errorOnInvalidContent)?a:i.options.enableContentCheck})}catch(e){return s(e),!1}let c,{from:u,to:d}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if(("type"in o?[o]:o).forEach(e=>{e.check(),f=!!f&&e.isText&&0===e.marks.length,p=!!p&&e.isBlock}),u===d&&p){const{parent:e}=r.doc.resolve(u);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(u-=1,d+=1)}if(f){if(Array.isArray(t))c=t.map(e=>e.text||"").join("");else if(t instanceof X_){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),c=e}else c="object"==typeof t&&t&&t.text?t.text:t;r.insertText(c,u,d)}else{c=o;const e=r.doc.resolve(u),t=e.node(),n=0===e.parentOffset,i=t.isText||t.isTextblock,a=t.content.size>0;n&&i&&a&&(u=Math.max(0,u-1)),r.replaceWith(u,d,c)}n.updateSelection&&function(e,t){const n=e.steps.length-1;if(n<t)return;const r=e.steps[n];if(!(r instanceof bE||r instanceof vE))return;const o=e.mapping.maps[n];let i=0;o.forEach((e,t,n,r)=>{0===i&&(i=r)}),e.setSelection(KE.near(e.doc.resolve(i),-1))}(r,r.steps.length-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:c}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:c})}return!0},JA=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,o=r instanceof tL;if(o){if(r.node.isTextblock||!ME(e.doc,r.from))return!1;n=r.from}else if(n=AE(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);o&&r.setSelection(tL.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),ZA=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof tL){if(r.node.isTextblock||!ME(e.doc,r.to))return!1;n=r.to}else if(n=AE(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),XA=()=>({state:e,dispatch:t})=>xL(e,t),QA=()=>({state:e,dispatch:t})=>EL(e,t),eO=()=>({state:e,dispatch:t,tr:n})=>{try{const r=AE(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},tO=()=>({state:e,dispatch:t,tr:n})=>{try{const r=AE(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},nO=()=>({state:e,dispatch:t})=>((e,t)=>{let n=vL(e,void 0);if(!n)return!1;let r=_L(n);return!!r&&kL(e,r,t)})(e,t),rO=()=>({state:e,dispatch:t})=>((e,t)=>{let n=CL(e,void 0);if(!n)return!1;let r=TL(n);return!!r&&kL(e,r,t)})(e,t);function oO(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var iO=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,a=t[t.length-1];"Space"===a&&(a=" ");for(let e=0;e<t.length-1;e+=1){const a=t[e];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error(`Unrecognized modifier name: ${a}`);HA()||oO()?i=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),i&&(a=`Meta-${a}`),o&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=i.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,s))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)}),!0};function aO(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?CA(t,e.schema):null,s=[];e.doc.nodesBetween(r,o,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s.push({node:e,from:n,to:i})});const l=o-r,c=s.filter(e=>!a||a.name===e.node.type.name).filter(e=>OA(e.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((e,t)=>e+t.to-t.from,0)>=l}var sO=(e,t={})=>({state:n,dispatch:r})=>!!aO(n,CA(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&SE(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)})(n,r),lO=()=>({state:e,dispatch:t})=>PL(e,t),cO=e=>({state:t,dispatch:n})=>{return(r=CA(e,t.schema),function(e,t){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,e=>e.childCount>0&&e.firstChild.type==r);return!!i&&(!t||(n.node(i.depth-1).type==r?function(e,t,n,r){let o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new vE(i-1,a,i,a,new oC(X_.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new xC(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const s=SE(r);if(null==s)return!1;o.lift(r,s);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return ME(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),t(o.scrollIntoView()),!0}(e,t,r,i):function(e,t,n){let r=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,i=n.startIndex;t>i;t--)e-=o.child(t).nodeSize,r.delete(e-1,e+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?X_.empty:X_.from(o))))return!1;let d=i.pos,f=d+a.nodeSize;return r.step(new vE(d-(s?1:0),f+(l?1:0),d+1,f-1,new oC((s?X_.empty:X_.from(o.copy(X_.empty))).append(l?X_.empty:X_.from(o.copy(X_.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}(e,t,i)))})(t,n);var r},uO=()=>({state:e,dispatch:t})=>ML(e,t);function dO(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function fO(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var pO=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=dO("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=CA(e,r.schema)),"mark"===s&&(a=DA(e,r.schema)),o&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,fO(e.attrs,t)),a&&e.marks.length&&e.marks.forEach(o=>{a===o.type&&n.addMark(r,r+e.nodeSize,a.create(fO(o.attrs,t)))})})}),!0)},hO=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),mO=()=>({tr:e,dispatch:t})=>{if(t){const t=new rL(e.doc);e.setSelection(t)}return!0},gO=()=>({state:e,dispatch:t})=>SL(e,t),yO=()=>({state:e,dispatch:t})=>LL(e,t),bO=()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(tL.create(e.doc,n))),!0)})(e,t),vO=()=>({state:e,dispatch:t})=>zL(e,t),xO=()=>({state:e,dispatch:t})=>RL(e,t);function kO(e,t,n={},r={}){return YA(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var wO=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:a,commands:s})=>{const{doc:l}=i;if("full"!==r.preserveWhitespace){const s=kO(e,o.schema,r,{errorOnInvalidContent:null!=t?t:o.options.enableContentCheck});return a&&i.replaceWith(0,l.content.size,s).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:o.options.enableContentCheck})};function SO(e,t){const n=DA(t,e.schema),{from:r,to:o,empty:i}=e.selection,a=[];i?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,e=>{a.push(...e.marks)});const s=a.find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}function _O(e,t){const n=new qE(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function CO(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function EO(e,t,n){return void 0===e.config[t]&&e.parent?EO(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?EO(e.parent,t,n):null}):e.config[t]}function LO(e){return e.map(e=>{const t=EO(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...LO(t())]:e}).flat(10)}function TO(e,t){const n=QC.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function MO(e){return"function"==typeof e}function jO(e,t=void 0,...n){return MO(e)?t?e.bind(t)(...n):e(...n):e}function AO(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function OO(e){const t=[],{nodeExtensions:n,markExtensions:r}=AO(e),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=EO(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:o});n&&n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})})})})}),o.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=EO(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(([n,r])=>{const o={...i,...r};"function"==typeof(null==o?void 0:o.default)&&(o.default=o.default()),(null==o?void 0:o.isRequired)&&void 0===(null==o?void 0:o.default)&&delete o.default,t.push({type:e.name,name:n,attribute:o})})}),t}function PO(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const r=t?String(t).split(" "):[],o=n[e]?n[e].split(" "):[],i=r.filter(e=>!o.includes(e));n[e]=[...o,...i].join(" ")}else if("style"===e){const r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],o=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],i=new Map;o.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),n[e]=Array.from(i.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function NO(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>PO(e,t),{})}function IO(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...o}}}}function DO(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function RO(e){return e.sort((e,t)=>{const n=EO(e,"priority")||100,r=EO(t,"priority")||100;return n>r?-1:n<r?1:0})}function zO(e){const t=RO(LO(e)),n=function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}function BO(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,o,(e,n,l,c)=>{var u;e.isBlock&&n>r&&(s+=i);const d=null==a?void 0:a[e.type.name];if(d)return l&&(s+=d({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(s+=null==(u=null==e?void 0:e.text)?void 0:u.slice(Math.max(r,n)-n,o-n))}),s}function FO(e,t){return BO(e,{from:0,to:e.content.size},t)}function WO(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function HO(e,t){const n=dO("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=CA(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,e=>{i.push(e)});const a=i.reverse().find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}(e,t):"mark"===n?SO(e,t):{}}function UO(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,o)=>{const i=[];if(e.ranges.length)e.forEach((e,t)=>{i.push({from:e,to:t})});else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach(({from:e,to:n})=>{const i=t.slice(o).map(e,-1),a=t.slice(o).map(n),s=t.invert().map(i,-1),l=t.invert().map(a);r.push({oldRange:{from:s,to:l},newRange:{from:i,to:a}})})}),function(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>{const r=t.filter((e,t)=>t!==n);return!r.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}(r)}function GO(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const o=IA(n.resolve(e),t.type);o&&r.push({mark:t,...o})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function $O(e,t){return t.nodes[e]||t.marks[e]||null}function VO(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function qO(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?DA(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>OA(e.attrs,n,{strict:!1}));let a=0;const s=[];if(o.forEach(({$from:t,$to:n})=>{const r=t.pos,o=n.pos;e.doc.nodesBetween(r,o,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);a+=i-n,s.push(...e.marks.map(e=>({mark:e,from:n,to:i})))})}),0===a)return!1;const l=s.filter(e=>!i||i.name===e.mark.type.name).filter(e=>OA(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=s.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=a}function YO(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function KO(e,t){const{nodeExtensions:n}=AO(t),r=n.find(t=>t.name===e);if(!r)return!1;const o=jO(EO(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function JO(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(JO(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function ZO(e){return e instanceof tL}function XO(e,t,n){const r=e.state.doc.content.size,o=FA(t,0,r),i=FA(n,0,r),a=e.coordsAtPos(o),s=e.coordsAtPos(i,-1),l=Math.min(a.top,s.top),c=Math.max(a.bottom,s.bottom),u=Math.min(a.left,s.left),d=Math.max(a.right,s.right),f={top:l,bottom:c,left:u,right:d,width:d-u,height:c-l,x:u,y:l};return{...f,toJSON:()=>f}}var QO=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:s}=i,l=DA(e,r.schema);if(o)if(a){const e=SO(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach(e=>{const o=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(o,i,(e,r)=>{const a=Math.max(r,o),s=Math.min(r+e.nodeSize,i);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))}):n.addMark(a,s,l.create(t))})});return function(e,t,n){var r;const{selection:o}=t;let i=null;if(BA(o)&&(i=o.$cursor),i){const t=null!=(r=e.storedMarks)?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:t,$to:r})=>{let o=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));o=t&&i}return!o}),o})}(r,n,l)},eP=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),tP=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=CA(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:e})=>!!BL(i,{...a,...t})(n)||e.clearNodes()).command(({state:e})=>BL(i,{...a,...t})(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nP=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=FA(e,0,n.content.size),o=tL.create(n,r);t.setSelection(o)}return!0},rP=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,i=QE.atStart(n).from,a=QE.atEnd(n).to,s=FA(r,i,a),l=FA(o,i,a),c=QE.create(n,s,l);t.setSelection(c)}return!0},oP=e=>({state:t,dispatch:n})=>{const r=CA(e,t.schema);return(o=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==o);if(!i)return!1;let a=i.startIndex;if(0==a)return!1;let s=i.parent,l=s.child(a-1);if(l.type!=o)return!1;if(t){let n=l.lastChild&&l.lastChild.type==s.type,r=X_.from(n?o.create():null),a=new oC(X_.from(o.create(null,X_.from(s.type.create(null,r)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new vE(c-(n?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0})(t,n);var o};function iP(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var aP=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:s,$to:l}=i,c=VO(o.extensionManager.attributes,s.node().type.name,s.node().attrs);if(i instanceof tL&&i.node.isBlock)return!(!s.parentOffset||!TE(a,s.pos)||(r&&(e&&iP(n,o.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),0));if(!s.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,d=0===s.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1)));let f=u&&d?[{type:d,attrs:c}]:void 0,p=TE(t.doc,t.mapping.map(s.pos),1,f);if(f||p||!TE(t.doc,t.mapping.map(s.pos),1,d?[{type:d}]:void 0)||(p=!0,f=d?[{type:d,attrs:c}]:void 0),r){if(p&&(i instanceof QE&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,f),d&&!u&&!s.parentOffset&&s.parent.type!==d)){const e=t.mapping.map(s.before()),n=t.doc.resolve(e);s.node(-1).canReplaceWith(n.index(),n.index()+1,d)&&t.setNodeMarkup(t.mapping.map(s.before()),d)}e&&iP(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return p},sP=(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var a;const s=CA(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==s)return!1;const f=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let e=X_.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=X_.from(l.node(t).copy(e));const o=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i={...VO(f,l.node().type.name,l.node().attrs),...t},c=(null==(a=s.contentMatch.defaultType)?void 0:a.createAndFill(i))||void 0;e=e.append(X_.from(s.createAndFill(null,c)||void 0));const u=l.before(l.depth-(r-1));n.replace(u,l.after(-o),new oC(e,4-r,0));let d=-1;n.doc.nodesBetween(u,n.doc.content.size,(e,t)=>{if(d>-1)return!1;e.isTextblock&&0===e.content.size&&(d=t+1)}),d>-1&&n.setSelection(QE.near(n.doc.resolve(d))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,h={...VO(f,d.type.name,d.attrs),...t},m={...VO(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:s,attrs:h},{type:p,attrs:m}]:[{type:s,attrs:h}];if(!TE(n.doc,l.pos,2))return!1;if(o){const{selection:e,storedMarks:t}=r,{splittableMarks:a}=i.extensionManager,s=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!s||!o)return!0;const c=s.filter(e=>a.includes(e.type.name));n.ensureMarks(c)}return!0},lP=(e,t)=>{const n=CO(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!ME(e.doc,n.pos)||(e.join(n.pos),!0)},cP=(e,t)=>{const n=CO(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!ME(e.doc,r)||(e.join(r),!0)},uP=(e,t,n,r={})=>({editor:o,tr:i,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=CA(e,a.schema),h=CA(t,a.schema),{selection:m,storedMarks:g}=a,{$from:y,$to:b}=m,v=y.blockRange(b),x=g||m.$to.parentOffset&&m.$from.marks();if(!v)return!1;const k=CO(e=>KO(e.type.name,d))(m);if(v.depth>=1&&k&&v.depth-k.depth<=1){if(k.node.type===p)return c.liftListItem(h);if(KO(k.node.type.name,d)&&p.validContent(k.node.content)&&s)return l().command(()=>(i.setNodeMarkup(k.pos,p),!0)).command(()=>lP(i,p)).command(()=>cP(i,p)).run()}return n&&x&&s?l().command(()=>{const e=u().wrapInList(p,r),t=x.filter(e=>f.includes(e.type.name));return i.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(p,r).command(()=>lP(i,p)).command(()=>cP(i,p)).run():l().command(()=>!!u().wrapInList(p,r)||c.clearNodes()).wrapInList(p,r).command(()=>lP(i,p)).command(()=>cP(i,p)).run()},dP=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=DA(e,r.schema);return qO(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},fP=(e,t,n={})=>({state:r,commands:o})=>{const i=CA(e,r.schema),a=CA(t,r.schema),s=aO(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?o.setNode(a,l):o.setNode(i,{...l,...n})},pP=(e,t={})=>({state:n,commands:r})=>{const o=CA(e,n.schema);return aO(n,o,t)?r.lift(o):r.wrapIn(o,t)},hP=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},mP=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},gP=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=DA(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!o)return!0;if(u&&a){let{from:e,to:t}=s;const r=null==(i=c.marks().find(e=>e.type===l))?void 0:i.attrs,o=IA(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else d.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},yP=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=dO("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=CA(e,r.schema)),"mark"===s&&(a=DA(e,r.schema)),o&&n.selection.ranges.forEach(e=>{const o=e.$from.pos,s=e.$to.pos;let l,c,u,d;n.selection.empty?r.doc.nodesBetween(o,s,(e,t)=>{i&&i===e.type&&(u=Math.max(t,o),d=Math.min(t+e.nodeSize,s),l=t,c=e)}):r.doc.nodesBetween(o,s,(e,r)=>{r<o&&i&&i===e.type&&(u=Math.max(r,o),d=Math.min(r+e.nodeSize,s),l=r,c=e),r>=o&&r<=s&&(i&&i===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach(i=>{if(a===i.type){const l=Math.max(r,o),c=Math.min(r+e.nodeSize,s);n.addMark(l,c,a.create({...i.attrs,...t}))}}))}),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...t}),a&&c.marks.length&&c.marks.forEach(e=>{a===e.type&&n.addMark(u,d,a.create({...e.attrs,...t}))}))}),!0)},bP=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i),s=a&&_E(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}(CA(e,n.schema),t)(n,r),vP=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i);if(!a)return!1;let s=r?n.tr:null;return!!function(e,t,n,r=null){let o=!1,i=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=a.resolve(t.start-2);i=new xC(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new xC(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let s=_E(i,n,r,t);return!!s&&(e&&function(e,t,n,r,o){let i=X_.empty;for(let e=n.length-1;e>=0;e--)i=X_.from(n[e].type.create(n[e].attrs,i));e.step(new vE(t.start-(r?2:0),t.end,t.start,t.end,new oC(i,0,0),n.length,!0));let a=0;for(let e=0;e<n.length;e++)n[e].type==o&&(a=e+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let n=t.startIndex,r=t.endIndex,o=!0;n<r;n++,o=!1)!o&&TE(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(n).nodeSize}(e,t,s,o,n),!0)}(s,a,e,t)&&(r&&r(s.scrollIntoView()),!0)}}(CA(e,n.schema),t)(n,r),xP=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},kP=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function wP(e){var t;const{editor:n,from:r,to:o,text:i,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let u=!1;const d=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,o,i)=>{var a,s;const l=(null==(s=(a=e.type.spec).toText)?void 0:s.call(a,{node:e,pos:t,parent:o,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+i;return a.forEach(e=>{if(u)return;const t=((e,t)=>{if(AA(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;const a=l.state.tr,c=mA({state:l.state,transaction:a}),f={from:r-(t[0].length-i.length),to:o},{commands:p,chain:h,can:m}=new gA({editor:n,state:c});null!==e.handler({state:c,range:f,match:t,commands:p,chain:h,can:m})&&a.steps.length&&(e.undoable&&a.setMeta(s,{transform:a,from:r,to:o,text:i}),l.dispatch(a),u=!0)}),u}function SP(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function _P(e,t){const n={...e};return SP(e)&&SP(t)&&Object.keys(t).forEach(r=>{SP(t[r])&&SP(e[r])?n[r]=_P(e[r],t[r]):n[r]=t[r]}),n}var CP=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...jO(EO(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...jO(EO(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>_P(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},EP=class e extends CP{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const i=o.find(e=>(null==e?void 0:e.type.name)===t.name);return i&&n.removeStoredMark(i),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},LP=class{constructor(e){this.find=e.find,this.handler=e.handler}};var TP=null;function MP(e){const{editor:t,rules:n}=e;let r,o=null,i=!1,a=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}const l=({state:e,from:n,to:o,rule:i,pasteEvt:a})=>{const l=e.tr,c=mA({state:e,transaction:l});if(function(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new gA({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,o,(e,t)=>{var f,p,h,m,g;if((null==(p=null==(f=e.type)?void 0:f.spec)?void 0:p.code)||!(e.isText||e.isTextblock||e.isInline))return;const y=null!=(g=null!=(m=null==(h=e.content)?void 0:h.size)?m:e.nodeSize)?g:0,b=Math.max(r,t),v=Math.min(o,t+y);if(b>=v)return;const x=((e,t,n)=>{if(AA(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(b-t,v-t,void 0,"ï¿¼"),i.find,a);x.forEach(e=>{if(void 0===e.index)return;const t=b+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},f=i.handler({state:n,range:o,match:e,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});d.push(f)})}),d.every(e=>null!==e)}({editor:t,state:c,from:Math.max(n-1,0),to:o.b-1,rule:i,pasteEvent:a,dropEvent:r})&&l.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}return s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}},c=n.map(e=>new hL({view(e){const n=n=>{var r;o=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,o&&(TP=t)},r=()=>{TP&&(TP=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(a=o===e.dom.parentElement,r=t,!a){const e=TP;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return s=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const o=t[0],c="paste"===o.getMeta("uiEvent")&&!i,u="drop"===o.getMeta("uiEvent")&&!a,d=o.getMeta("applyPasteRules"),f=!!d;if(!c&&!u&&!f)return;if(f){let{text:t}=d;"string"==typeof t||(t=TO(X_.from(t),r.schema));const{from:n}=d,o=n+t.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:o},pasteEvt:i})}const p=n.doc.content.findDiffStart(r.doc.content),h=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof p&&h&&p!==h.b?l({rule:e,state:r,from:p,to:h,pasteEvt:s}):void 0}}));return c}var jP=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=zO(e),this.schema=function(e,t){var n;const r=OO(e),{nodeExtensions:o,markExtensions:i}=AO(e),a=null==(n=o.find(e=>EO(e,"topNode")))?void 0:n.name,s=Object.fromEntries(o.map(n=>{const o=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=EO(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}},{}),s=DO({...a,content:jO(EO(n,"content",i)),marks:jO(EO(n,"marks",i)),group:jO(EO(n,"group",i)),inline:jO(EO(n,"inline",i)),atom:jO(EO(n,"atom",i)),selectable:jO(EO(n,"selectable",i)),draggable:jO(EO(n,"draggable",i)),code:jO(EO(n,"code",i)),whitespace:jO(EO(n,"whitespace",i)),linebreakReplacement:jO(EO(n,"linebreakReplacement",i)),defining:jO(EO(n,"defining",i)),isolating:jO(EO(n,"isolating",i)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=jO(EO(n,"parseHTML",i));l&&(s.parseDOM=l.map(e=>IO(e,o)));const c=EO(n,"renderHTML",i);c&&(s.toDOM=e=>c({node:e,HTMLAttributes:NO(e,o)}));const u=EO(n,"renderText",i);return u&&(s.toText=u),[n.name,s]})),l=Object.fromEntries(i.map(n=>{const o=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=EO(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}},{}),s=DO({...a,inclusive:jO(EO(n,"inclusive",i)),excludes:jO(EO(n,"excludes",i)),group:jO(EO(n,"group",i)),spanning:jO(EO(n,"spanning",i)),code:jO(EO(n,"code",i)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=jO(EO(n,"parseHTML",i));l&&(s.parseDOM=l.map(e=>IO(e,o)));const c=EO(n,"renderHTML",i);return c&&(s.toDOM=e=>c({mark:e,HTMLAttributes:NO(e,o)})),[n.name,s]}));return new WC({topNode:a,nodes:s,marks:l})}(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=EO(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:$O(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=RO([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:$O(t.name,this.schema)},r=[],o=EO(t,"addKeyboardShortcuts",n);let i={};if("mark"===t.type&&EO(t,"exitable",n)&&(i.ArrowRight=()=>EP.handleExit({editor:e,mark:t})),o){const t=Object.fromEntries(Object.entries(o()).map(([t,n])=>[t,()=>n({editor:e})]));i={...i,...t}}const a=new hL({props:{handleKeyDown:fA(i)}});r.push(a);const s=EO(t,"addInputRules",n);if(YO(t,e.options.enableInputRules)&&s){const t=s();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new hL({state:{init:()=>null,apply(e,o,i){const a=e.getMeta(r);if(a)return a;const s=e.getMeta("applyInputRules");return!!s&&setTimeout(()=>{let{text:e}=s;"string"==typeof e||(e=TO(X_.from(e),i.schema));const{from:o}=s,a=o+e.length;wP({editor:t,from:o,to:a,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,i,a)=>wP({editor:t,from:o,to:i,text:a,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:o}=e.state.selection;o&&wP({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&wP({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),o=Array.isArray(n)?n:[n];r.push(...o)}}const l=EO(t,"addPasteRules",n);if(YO(t,e.options.enablePasteRules)&&l){const t=l();if(t&&t.length){const n=MP({editor:e,rules:t});r.push(...n)}}const c=EO(t,"addProseMirrorPlugins",n);if(c){const e=c();r.push(...e)}return r});return t}get attributes(){return OO(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=AO(this.extensions);return Object.fromEntries(t.filter(e=>!!EO(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:CA(t.name,this.schema)},o=EO(t,"addNodeView",r);if(!o)return[];const i=o();return i?[t.name,(r,o,a,s,l)=>{const c=NO(r,n);return i({node:r,view:o,getPos:a,decorations:s,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]:[]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=AO(this.extensions);return Object.fromEntries(t.filter(e=>!!EO(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:DA(t.name,this.schema)},o=EO(t,"addMarkView",r);return o?[t.name,(r,i,a)=>{const s=NO(r,n);return o()({mark:r,view:i,inline:a,editor:e,extension:t,HTMLAttributes:s,updateAttributes:t=>{!function(e,t,n={}){const{state:r}=t,{doc:o,tr:i}=r,a=e;o.descendants((t,r)=>{const o=i.mapping.map(r),s=i.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach(e=>{if(e!==a)return!1;l=e}),!l)return;let c=!1;if(Object.keys(n).forEach(e=>{n[e]!==l.attrs[e]&&(c=!0)}),c){const t=e.type.create({...e.attrs,...n});i.removeMark(o,s,e.type),i.addMark(o,s,t)}}),i.docChanged&&t.view.dispatch(i)}(r,e,t)}})}]:[]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:$O(e.name,this.schema)};"mark"===e.type&&(null==(t=jO(EO(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name);const r=EO(e,"onBeforeCreate",n),o=EO(e,"onCreate",n),i=EO(e,"onUpdate",n),a=EO(e,"onSelectionUpdate",n),s=EO(e,"onTransaction",n),l=EO(e,"onFocus",n),c=EO(e,"onBlur",n),u=EO(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),s&&this.editor.on("transaction",s),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)})}};jP.resolve=zO,jP.sort=RO,jP.flatten=LO,hA({},{ClipboardTextSerializer:()=>OP,Commands:()=>PP,Delete:()=>NP,Drop:()=>IP,Editable:()=>DP,FocusEvents:()=>zP,Keymap:()=>BP,Paste:()=>FP,Tabindex:()=>WP,focusEventsPluginKey:()=>RP});var AP=class e extends CP{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},OP=AP.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new hL({key:new yL("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map(e=>e.$from.pos)),s=Math.max(...i.map(e=>e.$to.pos)),l=WO(n);return BO(r,{from:a,to:s},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),PP=AP.create({name:"commands",addCommands:()=>({...yA})}),NP=AP.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const i=()=>{var n,r,o,i;if(null!=(i=null==(o=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.filterTransaction)?void 0:o.call(r,e))?i:e.getMeta("y-sync$"))return;const a=_O(e.before,[e,...t]);UO(a).forEach(t=>{a.mapping.mapResult(t.oldRange.from).deletedAfter&&a.mapping.mapResult(t.oldRange.to).deletedBefore&&a.before.nodesBetween(t.oldRange.from,t.oldRange.to,(n,r)=>{const o=r+n.nodeSize-2,i=t.oldRange.from<=r&&o<=t.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:o,newFrom:a.mapping.map(r),newTo:a.mapping.map(o),deletedRange:t.oldRange,newRange:t.newRange,partial:!i,editor:this.editor,transaction:e,combinedTransform:a})})});const s=a.mapping;a.steps.forEach((t,n)=>{var r,o;if(t instanceof mE){const i=s.slice(n).map(t.from,-1),l=s.slice(n).map(t.to),c=s.invert().map(i,-1),u=s.invert().map(l),d=null==(r=a.doc.nodeAt(i-1))?void 0:r.marks.some(e=>e.eq(t.mark)),f=null==(o=a.doc.nodeAt(l))?void 0:o.marks.some(e=>e.eq(t.mark));this.editor.emit("delete",{type:"mark",mark:t.mark,from:t.from,to:t.to,deletedRange:{from:c,to:u},newRange:{from:i,to:l},partial:Boolean(f||d),editor:this.editor,transaction:e,combinedTransform:a})}})};null==(o=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.async)||o?setTimeout(i,0):i()}}),IP=AP.create({name:"drop",addProseMirrorPlugins(){return[new hL({key:new yL("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),DP=AP.create({name:"editable",addProseMirrorPlugins(){return[new hL({key:new yL("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RP=new yL("focusEvents"),zP=AP.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new hL({key:RP,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),BP=AP.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:o,$anchor:i}=n,{pos:a,parent:s}=i,l=i.parent.isTextblock&&a>0?t.doc.resolve(a-1):i,c=l.parent.type.spec.isolating,u=i.pos-i.parentOffset,d=c&&1===l.parent.childCount?u===i.pos:KE.atStart(r).from===a;return!(!o||!s.type.isTextblock||s.textContent.length||!d||d&&"paragraph"===i.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return HA()||oO()?o:r},addProseMirrorPlugins(){return[new hL({key:new yL("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:a,to:s}=t.selection,l=KE.atStart(t.doc).from,c=KE.atEnd(t.doc).to;if(i||a!==l||s!==c)return;if(!JO(n.doc))return;const u=n.tr,d=mA({state:n,transaction:u}),{commands:f}=new gA({editor:this.editor,state:d});return f.clearNodes(),u.steps.length?u:void 0}})]}}),FP=AP.create({name:"paste",addProseMirrorPlugins(){return[new hL({key:new yL("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),WP=AP.create({name:"tabindex",addProseMirrorPlugins(){return[new hL({key:new yL("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),HP=class e{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You canâ€™t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!o&&s.depth<=this.depth)return;const l=new e(s,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new e(s,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const o=Object.keys(t);return this.children.forEach(i=>{n&&r.length>0||(i.node.type.name===e&&o.every(e=>t[e]===i.node.attrs[e])&&r.push(i),n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},UP=class extends xP{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=WA(t,this.options.autofocus);this.editorState=fL.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',document.getElementsByTagName("head")[0].appendChild(r),r}(0,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=MO(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[DP,OP.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),PP,zP,BP,WP,IP,FP,NP].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new jP(n,this)}createCommandManager(){this.commandManager=new gA({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=kO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message)))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=kO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new Jj(e,{...this.options.editorProps,attributes:{role:"textbox",...null==(t=this.options.editorProps)?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),o=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),s=null==a?void 0:a.getMeta("focus"),l=null==a?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||i.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return HO(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return aO(e,null,n)||qO(e,null,n);const r=dO(t,e.schema);return"node"===r?aO(e,t,n):"mark"===r&&qO(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return TO(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return FO(this.state.doc,{blockSeparator:t,textSerializers:{...WO(this.schema),...n}})}get isEmpty(){return JO(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new HP(t,this)}get $doc(){return this.$pos(0)}};function GP(e){return new kP({find:e.find,handler:({state:t,range:n,match:r})=>{const o=jO(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:i}=t,a=r[r.length-1],s=r[0];if(a){const r=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(GO(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const u=n.from+r+a.length;i.addMark(n.from+r,u,e.type.create(o||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function $P(e){return new kP({find:e.find,handler:({state:t,range:n,match:r})=>{const o=jO(e.getAttributes,void 0,r)||{},{tr:i}=t,a=n.from;let s=n.to;const l=e.type.create(o);if(r[1]){let e=a+r[0].lastIndexOf(r[1]);e>s?e=s:s=e+r[1].length;const t=r[0][r[0].length-1];i.insertText(t,a+r[0].length-1),i.replaceWith(e,s,l)}else if(r[0]){const t=e.type.isInline?a:a-1;i.insert(t,e.type.create(o)).delete(i.mapping.map(a),i.mapping.map(s))}i.scrollIntoView()},undoable:e.undoable})}function VP(e){return new kP({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=jO(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function qP(e){return new kP({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=jO(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),s=a.doc.resolve(n.from).blockRange(),l=s&&_E(s,e.type,i);if(!l)return null;if(a.wrap(s,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:o}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter(e=>o.includes(e.type.name));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";o().updateAttributes(t,i).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&ME(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&a.join(n.from-1)},undoable:e.undoable})}var YP=class{constructor(e){var t,n,r,o,i;this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=e=>{if(!this.isResizing||!this.activeHandle)return;const t=e.clientX-this.startX,n=e.clientY-this.startY;this.handleResize(t,n)},this.handleTouchMove=e=>{if(!this.isResizing||!this.activeHandle)return;const t=e.touches[0];if(!t)return;const n=t.clientX-this.startX,r=t.clientY-this.startY;this.handleResize(n,r)},this.handleMouseUp=()=>{if(!this.isResizing)return;const e=this.element.offsetWidth,t=this.element.offsetHeight;this.onCommit(e,t),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=e=>{"Shift"===e.key&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=e=>{"Shift"===e.key&&(this.isShiftKeyPressed=!1)},this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(null==(t=e.options)?void 0:t.min)&&(this.minSize={...this.minSize,...e.options.min}),(null==(n=e.options)?void 0:n.max)&&(this.maxSize=e.options.max),(null==(r=null==e?void 0:e.options)?void 0:r.directions)&&(this.directions=e.options.directions),(null==(o=e.options)?void 0:o.preserveAspectRatio)&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(null==(i=e.options)?void 0:i.className)&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type===this.node.type&&(this.node=e,!this.onUpdate||this.onUpdate(e,t,n))}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),o=t.includes("left"),i=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),o&&(e.style.left="0"),i&&(e.style.right="0"),"top"!==t&&"bottom"!==t||(e.style.left="0",e.style.right="0"),"left"!==t&&"right"!==t||(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",t=>this.handleResizeStart(t,e)),t.addEventListener("touchstart",t=>this.handleResizeStart(t,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,(e=>"touches"in e)(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:o}=this.calculateNewDimensions(this.activeHandle,e,t),i=this.applyConstraints(r,o,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,o=this.startHeight;const i=e.includes("right"),a=e.includes("left"),s=e.includes("bottom"),l=e.includes("top");return i?r=this.startWidth+t:a&&(r=this.startWidth-t),s?o=this.startHeight+n:l&&(o=this.startHeight-n),"right"!==e&&"left"!==e||(r=this.startWidth+(i?t:-t)),"top"!==e&&"bottom"!==e||(o=this.startHeight+(s?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,o,e):{width:r,height:o}}applyConstraints(e,t,n){var r,o,i,a;if(!n){let n=Math.max(this.minSize.width,e),i=Math.max(this.minSize.height,t);return(null==(r=this.maxSize)?void 0:r.width)&&(n=Math.min(this.maxSize.width,n)),(null==(o=this.maxSize)?void 0:o.height)&&(i=Math.min(this.maxSize.height,i)),{width:n,height:i}}let s=e,l=t;return s<this.minSize.width&&(s=this.minSize.width,l=s/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,s=l*this.aspectRatio),(null==(i=this.maxSize)?void 0:i.width)&&s>this.maxSize.width&&(s=this.maxSize.width,l=s/this.aspectRatio),(null==(a=this.maxSize)?void 0:a.height)&&l>this.maxSize.height&&(l=this.maxSize.height,s=l*this.aspectRatio),{width:s,height:l}}applyAspectRatio(e,t,n){const r="top"===n||"bottom"===n;return"left"===n||"right"===n?{width:e,height:e/this.aspectRatio}:r?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function KP(e){if(!(null==e?void 0:e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,e=>(n.push(e),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const e=o.map(e=>e.trim().slice(1));t.class=e.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]),Array.from(r.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(([,e,r])=>{var o;const i=parseInt((null==(o=r.match(/__QUOTED_(\d+)__/))?void 0:o[1])||"0",10),a=n[i];a&&(t[e]=a.slice(1,-1))});const a=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return a&&a.split(/\s+/).filter(Boolean).forEach(e=>{e.match(/^[a-zA-Z][\w-]*$/)&&(t[e]=!0)}),t}function JP(e){if(!e||0===Object.keys(e).length)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(e=>t.push(`.${e}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([e,n])=>{"class"!==e&&"id"!==e&&(!0===n?t.push(e):!1!==n&&null!=n&&t.push(`${e}="${String(n)}"`))}),t.join(" ")}function ZP(e){const{nodeName:t,name:n,parseAttributes:r=KP,serializeAttributes:o=JP,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t;return{parseMarkdown:(e,n)=>{const r={...i,...e.attributes};return n.createNode(t,r,[])},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${l}(?:\\s|$)`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,o){const i=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),s=e.match(i);if(!s)return;const c=s[1]||"",u=r(c);return a.find(e=>!(e in u))?void 0:{type:t,raw:s[0],attributes:u}}},renderMarkdown:e=>{const t=(e=>{if(!s)return e;const t={};return s.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),n=o(t);return`:::${l}${n?` {${n}}`:""} :::`}}}function XP(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=KP,serializeAttributes:i=JP,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t;return{parseMarkdown:(e,n)=>{let o;if(r){const t=r(e);o="string"==typeof t?[{type:"text",text:t}]:t}else o="block"===s?n.parseChildren(e.tokens||[]):n.parseInline(e.tokens||[]);const i={...a,...e.attributes};return n.createNode(t,i,o)},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${c}`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,r){var i;const a=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),l=e.match(a);if(!l)return;const[u,d=""]=l,f=o(d);let p=1;const h=u.length;let m="";const g=/^:::([\w-]*)(\s.*)?/gm,y=e.slice(h);for(g.lastIndex=0;;){const n=g.exec(y);if(null===n)break;const o=n.index,a=n[1];if(!(null==(i=n[2])?void 0:i.endsWith(":::")))if(a)p+=1;else if(p-=1,0===p){const i=y.slice(0,o);m=i.trim();const a=e.slice(0,h+o+n[0].length);let l=[];if(m)if("block"===s)for(l=r.blockTokens(i),l.forEach(e=>{!e.text||e.tokens&&0!==e.tokens.length||(e.tokens=r.inlineTokens(e.text))});l.length>0;){const e=l[l.length-1];if("paragraph"!==e.type||e.text&&""!==e.text.trim())break;l.pop()}else l=r.inlineTokens(m);return{type:t,raw:a,attributes:f,content:m,tokens:l}}}}},renderMarkdown:(e,t)=>{const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),r=i(n),o=r?` {${r}}`:"",a=t.renderChildren(e.content||[],"\n\n");return`:::${c}${o}\n\n${a}\n\n:::`}}}function QP(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;null!==r;){const[,o,i,a]=r;t[o]=i||a,r=n.exec(e)}return t}function eN(e){return Object.entries(e).filter(([,e])=>null!=e).map(([e,t])=>`${e}="${t}"`).join(" ")}function tN(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=QP,serializeAttributes:i=eN,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,u=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(e,n)=>{const o={...a,...e.attributes};if(s)return n.createNode(t,o);const i=r?r(e):e.content||"";return i?n.createNode(t,o,[n.createTextNode(i)]):n.createNode(t,o,[])},markdownTokenizer:{name:t,level:"inline",start(e){const t=s?new RegExp(`\\[${u}\\s*[^\\]]*\\]`):new RegExp(`\\[${u}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${u}\\]`),n=e.match(t),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(e,n,r){const i=s?new RegExp(`^\\[${u}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${u}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${u}\\]`),a=e.match(i);if(!a)return;let l="",c="";if(s){const[,e]=a;c=e}else{const[,e,t]=a;c=e,l=t||""}const d=o(c.trim());return{type:t,raw:a[0],content:l.trim(),attributes:d}}},renderMarkdown:e=>{let t="";r?t=r(e):e.content&&e.content.length>0&&(t=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""));const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),o=i(n),a=o?` ${o}`:"";return s?`[${c}${a}]`:`[${c}${a}]${t}[/${c}]`}}}function nN(e,t,n){var r,o,i,a;const s=e.split("\n"),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<s.length;){const e=s[u],f=e.match(t.itemPattern);if(!f){if(l.length>0)break;if(""===e.trim()){u+=1;continue}return}const p=t.extractItemData(f),{indentLevel:h,mainContent:m}=p;c=`${c}${e}\n`;const g=[m];for(u+=1;u<s.length;){const e=s[u];if(""===e.trim()){const t=s.slice(u+1).findIndex(e=>""!==e.trim());if(-1===t)break;if(((null==(o=null==(r=s[u+1+t].match(/^(\s*)/))?void 0:r[1])?void 0:o.length)||0)>h){g.push(e),c=`${c}${e}\n`,u+=1;continue}break}if(!(((null==(a=null==(i=e.match(/^(\s*)/))?void 0:i[1])?void 0:a.length)||0)>h))break;g.push(e),c=`${c}${e}\n`,u+=1}let y;const b=g.slice(1);if(b.length>0){const e=b.map(e=>e.slice(h+d)).join("\n");e.trim()&&(y=t.customNestedParser?t.customNestedParser(e):n.blockTokens(e))}const v=t.createToken(p,y);l.push(v)}if(0!==l.length)return{items:l,raw:c.trim()}}function rN(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o="function"==typeof n?n(r):n,[i,...a]=e.content,s=[`${o}${t.renderChildren([i])}`];return a&&a.length>0&&a.forEach(e=>{const n=t.renderChildren([e]);if(n){const e=n.split("\n").map(e=>e?t.indent(e):"").join("\n");s.push(e)}}),s.join("\n")}hA({},{createAtomBlockMarkdownSpec:()=>ZP,createBlockMarkdownSpec:()=>XP,createInlineMarkdownSpec:()=>tN,parseAttributes:()=>KP,parseIndentedBlocks:()=>nN,renderNestedMarkdownContent:()=>rN,serializeAttributes:()=>JP});var oN=class e extends CP{constructor(){super(...arguments),this.type="node"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};function iN(e){return new LP({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=jO(e.getAttributes,void 0,r,o);if(!1===i||null===i)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const r=l.search(/\S/),o=n.from+l.indexOf(s),u=o+s.length;if(GO(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;u<n.to&&a.delete(u,n.to),o>n.from&&a.delete(n.from+r,o),c=n.from+r+s.length,a.addMark(n.from+r,c,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}var aN=o(5095),sN=o(9242),lN=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},cN=({contentComponent:e})=>{const t=(0,q_.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getServerSnapshot);return(0,Xe.jsx)(Xe.Fragment,{children:Object.values(t)})},uN=class extends r.Component{constructor(e){var t;super(e),this.editorContentRef=r.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:de.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{ref:lN(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&(0,Xe.jsx)(cN,{contentComponent:e.contentComponent})]})}},dN=(0,r.forwardRef)((e,t)=>{const n=r.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return r.createElement(uN,{key:n,innerRef:t,...e})}),fN=r.memo(dN),pN="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,hN=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}},mN="undefined"==typeof window,gN=mN||Boolean("undefined"!=typeof window&&window.next),yN=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?mN||gN?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDrop)?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null==(n=(t=this.options.current).onPaste)?void 0:n.call(t,...e)},onDelete:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDelete)?void 0:n.call(t,...e)}};return new UP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};var bN=(0,r.createContext)({editor:null}),vN=(bN.Consumer,()=>(0,r.useContext)(bN)),xN=(0,r.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}});r.forwardRef((e,t)=>{const{onDragStart:n}=(0,r.useContext)(xN),o=e.as||"div";return(0,Xe.jsx)(o,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}),r.createContext({markViewContentRef:()=>{}});const kN=["top","right","bottom","left"],wN=["start","end"],SN=kN.reduce((e,t)=>e.concat(t,t+"-"+wN[0],t+"-"+wN[1]),[]),_N=Math.min,CN=Math.max,EN=Math.round,LN=(Math.floor,e=>({x:e,y:e})),TN={left:"right",right:"left",bottom:"top",top:"bottom"},MN={start:"end",end:"start"};function jN(e,t,n){return CN(e,_N(t,n))}function AN(e,t){return"function"==typeof e?e(t):e}function ON(e){return e.split("-")[0]}function PN(e){return e.split("-")[1]}function NN(e){return"x"===e?"y":"x"}function IN(e){return"y"===e?"height":"width"}const DN=new Set(["top","bottom"]);function RN(e){return DN.has(ON(e))?"y":"x"}function zN(e){return NN(RN(e))}function BN(e,t,n){void 0===n&&(n=!1);const r=PN(e),o=zN(e),i=IN(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=$N(a)),[a,$N(a)]}function FN(e){return e.replace(/start|end/g,e=>MN[e])}const WN=["left","right"],HN=["right","left"],UN=["top","bottom"],GN=["bottom","top"];function $N(e){return e.replace(/left|right|bottom|top/g,e=>TN[e])}function VN(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function qN(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function YN(e,t,n){let{reference:r,floating:o}=e;const i=RN(t),a=zN(t),s=IN(a),l=ON(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[s]/2-o[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(PN(t)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1)}return p}async function KN(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=AN(t,e),h=VN(p),m=s[f?"floating"===d?"reference":"floating":d],g=qN(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),v=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},x=qN(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-x.top+h.top)/v.y,bottom:(x.bottom-g.bottom+h.bottom)/v.y,left:(g.left-x.left+h.left)/v.x,right:(x.right-g.right+h.right)/v.x}}function JN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ZN(e){return kN.some(t=>e[t]>=0)}function XN(e){const t=_N(...e.map(e=>e.left)),n=_N(...e.map(e=>e.top));return{x:t,y:n,width:CN(...e.map(e=>e.right))-t,height:CN(...e.map(e=>e.bottom))-n}}const QN=new Set(["left","top"]);function eI(){return"undefined"!=typeof window}function tI(e){return oI(e)?(e.nodeName||"").toLowerCase():"#document"}function nI(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function rI(e){var t;return null==(t=(oI(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function oI(e){return!!eI()&&(e instanceof Node||e instanceof nI(e).Node)}function iI(e){return!!eI()&&(e instanceof Element||e instanceof nI(e).Element)}function aI(e){return!!eI()&&(e instanceof HTMLElement||e instanceof nI(e).HTMLElement)}function sI(e){return!(!eI()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof nI(e).ShadowRoot)}const lI=new Set(["inline","contents"]);function cI(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=kI(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!lI.has(o)}const uI=new Set(["table","td","th"]);function dI(e){return uI.has(tI(e))}const fI=[":popover-open",":modal"];function pI(e){return fI.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const hI=["transform","translate","scale","rotate","perspective"],mI=["transform","translate","scale","rotate","perspective","filter"],gI=["paint","layout","strict","content"];function yI(e){const t=bI(),n=iI(e)?kI(e):e;return hI.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||mI.some(e=>(n.willChange||"").includes(e))||gI.some(e=>(n.contain||"").includes(e))}function bI(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const vI=new Set(["html","body","#document"]);function xI(e){return vI.has(tI(e))}function kI(e){return nI(e).getComputedStyle(e)}function wI(e){return iI(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function SI(e){if("html"===tI(e))return e;const t=e.assignedSlot||e.parentNode||sI(e)&&e.host||rI(e);return sI(t)?t.host:t}function _I(e){const t=SI(e);return xI(t)?e.ownerDocument?e.ownerDocument.body:e.body:aI(t)&&cI(t)?t:_I(t)}function CI(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=_I(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=nI(o);if(i){const e=EI(a);return t.concat(a,a.visualViewport||[],cI(o)?o:[],e&&n?CI(e):[])}return t.concat(o,CI(o,[],n))}function EI(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function LI(e){const t=kI(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=aI(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=EN(n)!==i||EN(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function TI(e){return iI(e)?e:e.contextElement}function MI(e){const t=TI(e);if(!aI(t))return LN(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=LI(t);let a=(i?EN(n.width):n.width)/r,s=(i?EN(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const jI=LN(0);function AI(e){const t=nI(e);return bI()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:jI}function OI(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=TI(e);let a=LN(1);t&&(r?iI(r)&&(a=MI(r)):a=MI(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==nI(e))&&t}(i,n,r)?AI(i):LN(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const e=nI(i),t=r&&iI(r)?nI(r):r;let n=e,o=EI(n);for(;o&&r&&t!==n;){const e=MI(o),t=o.getBoundingClientRect(),r=kI(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=a,n=nI(o),o=EI(n)}}return qN({width:u,height:d,x:l,y:c})}function PI(e,t){const n=wI(e).scrollLeft;return t?t.left+n:OI(rI(e)).left+n}function NI(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-PI(e,n),y:n.top+t.scrollTop}}const II=new Set(["absolute","fixed"]);function DI(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=nI(e),r=rI(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=bI();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}const c=PI(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-o);a<=25&&(i-=a)}else c<=25&&(i+=c);return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=rI(e),n=wI(e),r=e.ownerDocument.body,o=CN(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=CN(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+PI(e);const s=-n.scrollTop;return"rtl"===kI(r).direction&&(a+=CN(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(rI(e));else if(iI(t))r=function(e,t){const n=OI(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=aI(e)?MI(e):LN(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=AI(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return qN(r)}function RI(e,t){const n=SI(e);return!(n===t||!iI(n)||xI(n))&&("fixed"===kI(n).position||RI(n,t))}function zI(e,t,n){const r=aI(t),o=rI(t),i="fixed"===n,a=OI(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=LN(0);function c(){l.x=PI(o)}if(r||!r&&!i)if(("body"!==tI(t)||cI(o))&&(s=wI(t)),r){const e=OI(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?LN(0):NI(o,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function BI(e){return"static"===kI(e).position}function FI(e,t){if(!aI(e)||"fixed"===kI(e).position)return null;if(t)return t(e);let n=e.offsetParent;return rI(e)===n&&(n=n.ownerDocument.body),n}function WI(e,t){const n=nI(e);if(pI(e))return n;if(!aI(e)){let t=SI(e);for(;t&&!xI(t);){if(iI(t)&&!BI(t))return t;t=SI(t)}return n}let r=FI(e,t);for(;r&&dI(r)&&BI(r);)r=FI(r,t);return r&&xI(r)&&BI(r)&&!yI(r)?n:r||function(e){let t=SI(e);for(;aI(t)&&!xI(t);){if(yI(t))return t;if(pI(t))return null;t=SI(t)}return null}(e)||n}const HI={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=rI(r),s=!!t&&pI(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=LN(1);const u=LN(0),d=aI(r);if((d||!d&&!i)&&(("body"!==tI(r)||cI(a))&&(l=wI(r)),aI(r))){const e=OI(r);c=MI(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!a||d||i?LN(0):NI(a,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:rI,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?pI(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=CI(e,[],!1).filter(e=>iI(e)&&"body"!==tI(e)),o=null;const i="fixed"===kI(e).position;let a=i?SI(e):e;for(;iI(a)&&!xI(a);){const t=kI(a),n=yI(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&II.has(o.position)||cI(a)&&!n&&RI(e,a))?r=r.filter(e=>e!==a):o=t,a=SI(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],s=a[0],l=a.reduce((e,n)=>{const r=DI(t,n,o);return e.top=CN(r.top,e.top),e.right=_N(r.right,e.right),e.bottom=_N(r.bottom,e.bottom),e.left=CN(r.left,e.left),e},DI(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:WI,getElementRects:async function(e){const t=this.getOffsetParent||WI,n=this.getDimensions,r=await n(e.floating);return{reference:zI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=LI(e);return{width:t,height:n}},getScale:MI,isElement:iI,isRTL:function(e){return"rtl"===kI(e).direction}},UI=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=ON(n),s=PN(n),l="y"===RN(n),c=QN.has(a)?-1:1,u=i&&l?-1:1,d=AN(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},GI=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:a,placement:s,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:f=SN,autoAlignment:p=!0,...h}=AN(e,t),m=void 0!==d||f===SN?function(e,t,n){return(e?[...n.filter(t=>PN(t)===e),...n.filter(t=>PN(t)!==e)]:n.filter(e=>ON(e)===e)).filter(n=>!e||PN(n)===e||!!t&&FN(n)!==n)}(d||null,p,f):f,g=await KN(t,h),y=(null==(n=a.autoPlacement)?void 0:n.index)||0,b=m[y];if(null==b)return{};const v=BN(b,i,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(s!==b)return{reset:{placement:m[0]}};const x=[g[ON(b)],g[v[0]],g[v[1]]],k=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:b,overflows:x}],w=m[y+1];if(w)return{data:{index:y+1,overflows:k},reset:{placement:w}};const S=k.map(e=>{const t=PN(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),_=S.filter(e=>e[2].slice(0,PN(e[0])?2:3).every(e=>e<=0)),C=(null==(o=_[0])?void 0:o[0])||S[0][0];return C!==s?{data:{index:y+1,overflows:k},reset:{placement:C}}:{}}}},$I=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=AN(e,t),c={x:n,y:r},u=await KN(t,l),d=RN(ON(o)),f=NN(d);let p=c[f],h=c[d];if(i){const e="y"===f?"bottom":"right";p=jN(p+u["y"===f?"top":"left"],p,p-u[e])}if(a){const e="y"===d?"bottom":"right";h=jN(h+u["y"===d?"top":"left"],h,h-u[e])}const m=s.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[d]:a}}}}}},VI=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=AN(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const y=ON(o),b=RN(s),v=ON(s)===s,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),k=f||(v||!m?[$N(s)]:function(e){const t=$N(e);return[FN(e),t,FN(t)]}(s)),w="none"!==h;!f&&w&&k.push(...function(e,t,n,r){const o=PN(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?HN:WN:t?WN:HN;case"left":case"right":return t?UN:GN;default:return[]}}(ON(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(FN)))),i}(s,m,h,x));const S=[s,...k],_=await KN(t,g),C=[];let E=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&C.push(_[y]),d){const e=BN(o,a,x);C.push(_[e[0]],_[e[1]])}if(E=[...E,{placement:o,overflows:C}],!C.every(e=>e<=0)){var L,T;const e=((null==(L=i.flip)?void 0:L.index)||0)+1,t=S[e];if(t&&("alignment"!==d||b===RN(t)||E.every(e=>RN(e.placement)!==b||e.overflows[0]>0)))return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(T=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!n)switch(p){case"bestFit":{var M;const e=null==(M=E.filter(e=>{if(w){const t=RN(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:M[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},qI=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,{apply:l=()=>{},...c}=AN(e,t),u=await KN(t,c),d=ON(o),f=PN(o),p="y"===RN(o),{width:h,height:m}=i.floating;let g,y;"top"===d||"bottom"===d?(g=d,y=f===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=d,g="end"===f?"top":"bottom");const b=m-u.top-u.bottom,v=h-u.left-u.right,x=_N(m-u[g],b),k=_N(h-u[y],v),w=!t.middlewareData.shift;let S=x,_=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=v),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=b),w&&!f){const e=CN(u.left,0),t=CN(u.right,0),n=CN(u.top,0),r=CN(u.bottom,0);p?_=h-2*(0!==e||0!==t?e+t:CN(u.left,u.right)):S=m-2*(0!==n||0!==r?n+r:CN(u.top,u.bottom))}await l({...t,availableWidth:_,availableHeight:S});const C=await a.getDimensions(s.floating);return h!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}},YI=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=AN(e,t);switch(r){case"referenceHidden":{const e=JN(await KN(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ZN(e)}}}case"escaped":{const e=JN(await KN(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:ZN(e)}}}default:return{}}}}},KI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=AN(e,t)||{};if(null==c)return{};const d=VN(u),f={x:n,y:r},p=zN(o),h=IN(p),m=await a.getDimensions(c),g="y"===p,y=g?"top":"left",b=g?"bottom":"right",v=g?"clientHeight":"clientWidth",x=i.reference[h]+i.reference[p]-f[p]-i.floating[h],k=f[p]-i.reference[p],w=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let S=w?w[v]:0;S&&await(null==a.isElement?void 0:a.isElement(w))||(S=s.floating[v]||i.floating[h]);const _=x/2-k/2,C=S/2-m[h]/2-1,E=_N(d[y],C),L=_N(d[b],C),T=E,M=S-m[h]-L,j=S/2-m[h]/2+_,A=jN(T,j,M),O=!l.arrow&&null!=PN(o)&&j!==A&&i.reference[h]/2-(j<T?E:L)-m[h]/2<0,P=O?j<T?j-T:j-M:0;return{[p]:f[p]+P,data:{[p]:A,centerOffset:j-A-P,...O&&{alignmentOffset:P}},reset:O}}}),JI=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:l,y:c}=AN(e,t),u=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(r.reference))||[]),d=function(e){const t=e.slice().sort((e,t)=>e.y-t.y),n=[];let r=null;for(let e=0;e<t.length;e++){const o=t[e];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(e=>qN(XN(e)))}(u),f=qN(XN(u)),p=VN(s),h=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===d.length&&d[0].left>d[1].right&&null!=l&&null!=c)return d.find(e=>l>e.left-p.left&&l<e.right+p.right&&c>e.top-p.top&&c<e.bottom+p.bottom)||f;if(d.length>=2){if("y"===RN(n)){const e=d[0],t=d[d.length-1],r="top"===ON(n),o=e.top,i=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:o,bottom:i,left:a,right:s,width:s-a,height:i-o,x:a,y:o}}const e="left"===ON(n),t=CN(...d.map(e=>e.right)),r=_N(...d.map(e=>e.left)),o=d.filter(n=>e?n.left===r:n.right===t),i=o[0].top,a=o[o.length-1].bottom;return{top:i,bottom:a,left:r,right:t,width:t-r,height:a-i,x:r,y:i}}return f}},floating:r.floating,strategy:a});return o.reference.x!==h.reference.x||o.reference.y!==h.reference.y||o.reference.width!==h.reference.width||o.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},ZI=(e,t,n)=>{const r=new Map,o={platform:HI,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=YN(c,r,l),f=r,p={},h=0;for(let n=0;n<s.length;n++){const{name:i,fn:m}=s[n],{x:g,y,data:b,reset:v}=await m({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p={...p,[i]:{...p[i],...b}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(f=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):v.rects),({x:u,y:d}=YN(c,f,l))),n=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:p}})(e,t,{...o,platform:i})};var XI,QI;if("undefined"!=typeof WeakMap){let e=new WeakMap;XI=t=>e.get(t),QI=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;XI=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},QI=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}var eD=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,a=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:r,top:o,right:i,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(o,l),right:Math.max(r,s),bottom:Math.max(i,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<o;)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return XI(e)||QI(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){const t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[];let o=0,i=null;const a=[];for(let e=0,o=t*n;e<o;e++)r[e]=0;for(let s=0,l=0;s<n;s++){const c=e.child(s);l++;for(let e=0;;e++){for(;o<r.length&&0!=r[o];)o++;if(e==c.childCount)break;const u=c.child(e),{colspan:d,rowspan:f,colwidth:p}=u.attrs;for(let e=0;e<f;e++){if(e+s>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:l,n:f-e});break}const c=o+e*t;for(let e=0;e<d;e++){0==r[c+e]?r[c+e]=l:(i||(i=[])).push({type:"collision",row:s,pos:l,n:d-e});const n=p&&p[e];if(n){const r=(c+e)%t*2,o=a[r];null==o||o!=n&&1==a[r+1]?(a[r]=n,a[r+1]=1):o==n&&a[r+1]++}}}o+=d,l+=u.nodeSize}const u=(s+1)*t;let d=0;for(;o<u;)0==r[o++]&&d++;d&&(i||(i=[])).push({type:"missing",row:s,n:d}),l++}0!==t&&0!==n||(i||(i=[])).push({type:"zero_sized"});const s=new eD(t,n,r,i);let l=!1;for(let e=0;!l&&e<a.length;e+=2)null!=a[e]&&a[e+1]<n&&(l=!0);return l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const r=t[(o+n)%e.width*2];null==r||l.colwidth&&l.colwidth[n]==r||((s||(s=tD(l)))[n]=r)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}(s,a,e),s}(e))}};function tD(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function nD(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}function rD(e){const t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function oD(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function iD(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function aD(e,t,n){const r=e.node(-1),o=eD.get(r),i=e.start(-1),a=o.nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function sD(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(e=>e>0)||(r.colwidth=null)),r}new yL("selectingCells");var lD=class e extends KE{constructor(e,t=e){const n=e.node(-1),r=eD.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),s=r.cellsInRect(i).filter(e=>e!=t.pos-o);s.unshift(t.pos-o);const l=s.map(e=>{const t=n.nodeAt(e);if(!t)throw RangeError(`No cell with offset ${e} found`);const r=o+e+1;return new JE(a.resolve(r),a.resolve(r+t.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(oD(r)&&oD(o)&&iD(r,o)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,o):t&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return QE.between(r,o)}content(){const e=this.$anchorCell.node(-1),t=eD.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let i=n*t.width+r.left,s=r.left;s<r.right;s++,i++){const n=t.map[i];if(o[n])continue;o[n]=!0;const s=t.findCell(n);let l=e.nodeAt(n);if(!l)throw RangeError(`No cell with offset ${n} found`);const c=r.left-s.left,u=s.right-r.right;if(c>0||u>0){let e=l.attrs;if(c>0&&(e=sD(e,0,c)),u>0&&(e=sD(e,e.colspan-u,u)),s.left<r.left){if(l=l.type.createAndFill(e),!l)throw RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<r.top||s.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};l=s.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}a.push(l)}i.push(e.child(n).copy(X_.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new oC(X_.from(a),1,1)}replace(e,t=oC.empty){const n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:i,$to:a}=r[o],s=e.mapping.slice(n);e.replace(s.map(i.pos),s.map(a.pos),o?oC.empty:t)}const o=KE.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new oC(X_.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=eD.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<o.length;n++)e(t.nodeAt(o[n]),r+o[n])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=eD.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(t=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=eD.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);if(Math.min(r,o)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=eD.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(n=l.resolve(i+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(t=l.resolve(i+o.map[o.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new cD(this.$anchorCell.pos,this.$headCell.pos)}};lD.prototype.visible=!1,KE.jsonID("cell",lD);var cD=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&iD(t,n)?new lD(t,n):KE.near(n,1)}};function uD(e){const t=e.selection,n=function(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=function(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}(e),r=n.node(-1),o=n.start(-1),i=eD.get(r);return{...t instanceof lD?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function dD(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<r.length;e++){const o=t.table.nodeAt(r[e]);if(o&&o.type!==n.header_cell)return!1}return!0}function fD(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!rD(t))return!1;if(n){const r=nD(t.schema),o=uD(t),i=t.tr,a=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=a.map(e=>o.table.nodeAt(e));for(let e=0;e<a.length;e++)s[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[e],r.cell,s[e].attrs);if(0==i.steps.length)for(let e=0;e<a.length;e++)i.setNodeMarkup(o.tableStart+a[e],r.header_cell,s[e].attrs);n(i)}return!0}}(e):function(t,n){if(!rD(t))return!1;if(n){const r=nD(t.schema),o=uD(t),i=t.tr,a=dD("row",o,r),s=dD("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:o.map.height}:"row"==e?{left:l,top:0,right:o.map.width,bottom:1}:o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach(e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)}),n(i)}return!0}}function pD(e,t){const n=e.selection;if(!(n instanceof lD))return!1;if(t){const r=e.tr,o=nD(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new oC(o,0,0))}),r.docChanged&&t(r)}return!0}function hD(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function mD(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof lD)return hD(n,r,KE.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const a=yD(o,e,t);if(null==a)return!1;if("horiz"==e)return hD(n,r,KE.near(n.doc.resolve(i.head+t),t));{const o=n.doc.resolve(a),i=aD(o,e,t);let s;return s=i?KE.near(i,1):t<0?KE.near(n.doc.resolve(o.before(-1)),-1):KE.near(n.doc.resolve(o.after(-1)),1),hD(n,r,s)}}}function gD(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let a;if(i instanceof lD)a=i;else{const r=yD(o,e,t);if(null==r)return!1;a=new lD(n.doc.resolve(r))}const s=aD(a.$headCell,e,t);return!!s&&hD(n,r,new lD(a.$anchorCell,s))}}function yD(e,t,n){if(!(e.state.selection instanceof QE))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(o),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}new yL("fix-tables"),fD("row",{useDeprecatedLogic:!0}),fD("column",{useDeprecatedLogic:!0}),fD("cell",{useDeprecatedLogic:!0}),fA({ArrowLeft:mD("horiz",-1),ArrowRight:mD("horiz",1),ArrowUp:mD("vert",-1),ArrowDown:mD("vert",1),"Shift-ArrowLeft":gD("horiz",-1),"Shift-ArrowRight":gD("horiz",1),"Shift-ArrowUp":gD("vert",-1),"Shift-ArrowDown":gD("vert",1),Backspace:pD,"Mod-Backspace":pD,Delete:pD,"Mod-Delete":pD}),new yL("tableColumnResizing");var bD=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:o=60,shouldShow:i,appendTo:a,getReferencedVirtualElement:s,options:l}){var c;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:o,selection:i}=t,{empty:a}=i,s=!o.textBetween(n,r).length&&BA(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||a||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.editor.isDestroyed?this.destroy():this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,r,t)},this.updateDelay))},this.updateHandler=(e,t,n,r)=>{const{composing:o}=e;o||!t&&!n||(this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide())},this.transactionHandler=({transaction:e})=>{"updatePosition"===e.getMeta("bubbleMenu")&&this.updatePosition()},this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=o,this.appendTo=a,this.scrollTarget=null!=(c=null==l?void 0:l.scrollTarget)?c:window,this.getReferencedVirtualElement=s,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(VI("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push($I("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(UI("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(KI(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(qI("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(GI("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(YI("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(JI("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e;const{selection:t}=this.editor.state,n=null==(e=this.getReferencedVirtualElement)?void 0:e.call(this);if(n)return n;const r=XO(this.view,t.from,t.to);let o={getBoundingClientRect:()=>r,getClientRects:()=>[r]};if(t instanceof tL){let e=this.view.nodeDOM(t.from);const n=e.dataset.nodeViewWrapper?e:e.querySelector("[data-node-view-wrapper]");n&&(e=n),e&&(o={getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>[e.getBoundingClientRect()]})}if(t instanceof lD){const{$anchorCell:e,$headCell:n}=t,r=e?e.pos:n.pos,i=n?n.pos:e.pos,a=this.view.nodeDOM(r),s=this.view.nodeDOM(i);if(!a||!s)return;const l=a===s?a.getBoundingClientRect():function(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),o=Math.min(e.left,t.left),i=Math.max(e.right,t.right);return new DOMRect(o,n,i-o,r-n)}(a.getBoundingClientRect(),s.getBoundingClientRect());o={getBoundingClientRect:()=>l,getClientRects:()=>[l]}}return o}updatePosition(){const e=this.virtualElement;e&&ZI(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n})=>{this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const o=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,o,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos));return(null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:a}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},vD=e=>new hL({key:"string"==typeof e.pluginKey?new yL(e.pluginKey):e.pluginKey,view:t=>new bD({view:t,...e})}),xD=(AP.create({name:"bubbleMenu",addOptions:()=>({element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[vD({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}}),class{constructor({editor:e,element:t,view:n,options:r,appendTo:o,shouldShow:i}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:o}=n,i=1===r.depth,a=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent&&0===r.parent.childCount&&!this.getTextContent(r.parent);return!!(e.hasFocus()&&o&&i&&a&&this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(e,t,n,r)=>{const{composing:o}=e;o||!t&&!n||(this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide())},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.editor=e,this.element=t,this.view=n,this.appendTo=o,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return FO(e,{textSerializers:WO(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(VI("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push($I("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(UI("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(KI(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(qI("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(GI("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(YI("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(JI("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos));return null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:a})}updatePosition(){const{selection:e}=this.editor.state,t=XO(this.view,e.from,e.to);ZI({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n})=>{this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}}),kD=e=>new hL({key:"string"==typeof e.pluginKey?new yL(e.pluginKey):e.pluginKey,view:t=>new xD({view:t,...e})}),wD=AP.create({name:"floatingMenu",addOptions:()=>({element:null,options:{},pluginKey:"floatingMenu",appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[kD({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}}),SD=r.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:o,appendTo:i,shouldShow:a=null,getReferencedVirtualElement:s,options:l,children:c,...u},d)=>{const f=(0,r.useRef)(document.createElement("div"));"function"==typeof d?d(f.current):d&&(d.current=f.current);const{editor:p}=vN(),h=t||p,m={updateDelay:n,resizeDelay:o,appendTo:i,pluginKey:e,shouldShow:a,getReferencedVirtualElement:s,options:l},g=(0,r.useRef)(m);return g.current=m,(0,r.useEffect)(()=>{if(null==h?void 0:h.isDestroyed)return;if(!h)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const e=f.current;e.style.visibility="hidden",e.style.position="absolute";const t=vD({...g.current,editor:h,element:e});h.registerPlugin(t);const n=g.current.pluginKey;return()=>{h.unregisterPlugin(n),window.requestAnimationFrame(()=>{e.parentNode&&e.parentNode.removeChild(e)})}},[h]),(0,de.createPortal)((0,Xe.jsx)("div",{...u,children:c}),f.current)}),_D=r.forwardRef(({pluginKey:e="floatingMenu",editor:t,appendTo:n,shouldShow:o=null,options:i,children:a,...s},l)=>{const c=(0,r.useRef)(document.createElement("div"));"function"==typeof l?l(c.current):l&&(l.current=c.current);const{editor:u}=vN();return(0,r.useEffect)(()=>{const r=c.current;if(r.style.visibility="hidden",r.style.position="absolute",(null==t?void 0:t.isDestroyed)||(null==u?void 0:u.isDestroyed))return;const a=t||u;if(!a)return void console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");const s=kD({editor:a,element:r,pluginKey:e,appendTo:n,shouldShow:o,options:i});return a.registerPlugin(s),()=>{a.unregisterPlugin(e),window.requestAnimationFrame(()=>{r.parentNode&&r.parentNode.removeChild(r)})}},[t,u,n,e,o,i]),(0,de.createPortal)((0,Xe.jsx)("div",{...s,children:a}),c.current)}),CD=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const{children:n,...r}=null!=t?t:{};if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},ED=/^\s*>\s$/,LD=oN.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return CD("blockquote",{...PO(this.options.HTMLAttributes,e),children:CD("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(e=>{const r=t.renderChildren(e).split("\n").map(e=>`> ${e}`).join("\n");n.push(r)}),n.flatMap(e=>[e,"> "]).slice(0,-1).join("\n")},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[qP({find:ED,type:this.type})]}}),TD=LD,MD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,jD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,AD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,OD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,PD=EP.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return CD("strong",{...PO(this.options.HTMLAttributes,e),children:CD("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[GP({find:MD,type:this.type}),GP({find:AD,type:this.type})]},addPasteRules(){return[iN({find:jD,type:this.type}),iN({find:OD,type:this.type})]}}),ND=PD,ID=/(^|[^`])`([^`]+)`(?!`)$/,DD=/(^|[^`])`([^`]+)`(?!`)/g,RD=EP.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",PO(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[GP({find:ID,type:this.type})]},addPasteRules(){return[iN({find:DD,type:this.type})]}}),zD=/^```([a-z]+)?[\s\n]$/,BD=/^~~~([a-z]+)?[\s\n]$/,FD=oN.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;return[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",PO(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return!1===(null==(n=e.raw)?void 0:n.startsWith("```"))&&"indented"!==e.codeBlockStyle?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const o=(null==(n=e.attrs)?void 0:n.language)||"";return r=e.content?[`\`\`\`${o}`,t.renderChildren(e.content),"```"].join("\n"):`\`\`\`${o}\n\n\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:o}=r,{$from:i,empty:a}=o;if(i.parent.type!==this.type)return!1;const s=" ".repeat(n);return a?e.commands.insertContent(s):e.commands.command(({tr:e})=>{const{from:t,to:n}=o,i=r.doc.textBetween(t,n,"\n","\n").split("\n").map(e=>s+e).join("\n");return e.replaceWith(t,n,r.schema.text(i)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:o}=r,{$from:i,empty:a}=o;return i.parent.type===this.type&&(a?e.commands.command(({tr:e})=>{var t;const{pos:o}=i,a=i.start(),s=i.end(),l=r.doc.textBetween(a,s,"\n","\n").split("\n");let c=0,u=0;const d=o-a;for(let e=0;e<l.length;e+=1){if(u+l[e].length>=d){c=e;break}u+=l[e].length+1}const f=(null==(t=l[c].match(/^ */))?void 0:t[0])||"",p=Math.min(f.length,n);if(0===p)return!0;let h=a;for(let e=0;e<c;e+=1)h+=l[e].length+1;return e.delete(h,h+p),o-h<=p&&e.setSelection(QE.create(e.doc,h)),!0}):e.commands.command(({tr:e})=>{const{from:t,to:i}=o,a=r.doc.textBetween(t,i,"\n","\n").split("\n").map(e=>{var t;const r=(null==(t=e.match(/^ */))?void 0:t[0])||"",o=Math.min(r.length,n);return e.slice(o)}).join("\n");return e.replaceWith(t,i,r.schema.text(a)),!0}))},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith("\n\n");return!(!i||!a)&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;if(o.parentOffset!==o.parent.nodeSize-2)return!1;const a=o.after();return void 0!==a&&(r.nodeAt(a)?e.commands.command(({tr:e})=>(e.setSelection(KE.near(r.resolve(a))),!0)):e.commands.exitCode())}}},addInputRules(){return[VP({find:zD,type:this.type,getAttributes:e=>({language:e[1]})}),VP({find:BD,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new hL({key:new yL("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=null==o?void 0:o.mode;if(!n||!i)return!1;const{tr:a,schema:s}=e.state,l=s.text(n.replace(/\r\n?/g,"\n"));return a.replaceSelectionWith(this.type.create({language:i},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(QE.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),WD=oN.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n\n"):""}),HD=oN.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",PO(this.options.HTMLAttributes,e)]},renderText:()=>"\n",renderMarkdown:(e,t)=>t.indent("\n"),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,s=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&s&&i){const t=s.filter(e=>a.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),UD=oN.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,PO(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.level)?parseInt(e.attrs.level,10):1,o="#".repeat(r);return e.content?`${o} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>VP({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),GD=UD,$D=oN.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",PO(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!function(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof tL){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let o=r.depth;for(;o>=0;){const e=r.index(o);if(r.node(o).contentMatchAt(e).matchType(t))return!0;o-=1}return!1}(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,o=e();return ZO(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:e,tr:t,dispatch:n})=>{if(n){const{$to:n}=t.selection,r=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?t.setSelection(QE.create(t.doc,n.pos+1)):n.nodeAfter.isBlock?t.setSelection(tL.create(t.doc,n.pos)):t.setSelection(QE.create(t.doc,n.pos));else{const o=e.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,i=null==o?void 0:o.create();i&&(t.insert(r,i),t.setSelection(QE.create(t.doc,r+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$P({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}}),VD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,qD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,YD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,JD=EP.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",PO(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[GP({find:VD,type:this.type}),GP({find:YD,type:this.type})]},addPasteRules(){return[iN({find:qD,type:this.type}),iN({find:KD,type:this.type})]}});const ZD="numeric",XD="ascii",QD="alpha",eR="asciinumeric",tR="alphanumeric",nR="domain",rR="emoji",oR="scheme",iR="slashscheme",aR="whitespace";function sR(e,t){return e in t||(t[e]=[]),t[e]}function lR(e,t,n){t[ZD]&&(t[eR]=!0,t[tR]=!0),t[XD]&&(t[eR]=!0,t[QD]=!0),t[eR]&&(t[tR]=!0),t[QD]&&(t[tR]=!0),t[tR]&&(t[nR]=!0),t[rR]&&(t[nR]=!0);for(const r in t){const t=sR(r,n);t.indexOf(e)<0&&t.push(e)}}function cR(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}cR.groups={},cR.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){const r=t.jr[n][0],o=t.jr[n][1];if(o&&r.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||cR.groups,t&&t.j?o=t:(o=new cR(t),n&&r&&lR(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let t=0;t<i-1;t++)o=o.tt(e[t]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||cR.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const i=t;let a,s=o.go(e);if(s?(a=new cR,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new cR,i){if(r)if(a.t&&"string"==typeof a.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(a.t,r),n);lR(i,e,r)}else n&&lR(i,n,r);a.t=i}return o.j[e]=a,a}};const uR=(e,t,n,r,o)=>e.ta(t,n,r,o),dR=(e,t,n,r,o)=>e.tr(t,n,r,o),fR=(e,t,n,r,o)=>e.ts(t,n,r,o),pR=(e,t,n,r,o)=>e.tt(t,n,r,o),hR="WORD",mR="UWORD",gR="ASCIINUMERICAL",yR="ALPHANUMERICAL",bR="LOCALHOST",vR="TLD",xR="UTLD",kR="SCHEME",wR="SLASH_SCHEME",SR="NUM",_R="WS",CR="NL",ER="OPENBRACE",LR="CLOSEBRACE",TR="OPENBRACKET",MR="CLOSEBRACKET",jR="OPENPAREN",AR="CLOSEPAREN",OR="OPENANGLEBRACKET",PR="CLOSEANGLEBRACKET",NR="FULLWIDTHLEFTPAREN",IR="FULLWIDTHRIGHTPAREN",DR="LEFTCORNERBRACKET",RR="RIGHTCORNERBRACKET",zR="LEFTWHITECORNERBRACKET",BR="RIGHTWHITECORNERBRACKET",FR="FULLWIDTHLESSTHAN",WR="FULLWIDTHGREATERTHAN",HR="AMPERSAND",UR="APOSTROPHE",GR="ASTERISK",$R="AT",VR="BACKSLASH",qR="BACKTICK",YR="CARET",KR="COLON",JR="COMMA",ZR="DOLLAR",XR="DOT",QR="EQUALS",ez="EXCLAMATION",tz="HYPHEN",nz="PERCENT",rz="PIPE",oz="PLUS",iz="POUND",az="QUERY",sz="QUOTE",lz="FULLWIDTHMIDDLEDOT",cz="SEMI",uz="SLASH",dz="TILDE",fz="UNDERSCORE",pz="EMOJI",hz="SYM";var mz=Object.freeze({__proto__:null,ALPHANUMERICAL:yR,AMPERSAND:HR,APOSTROPHE:UR,ASCIINUMERICAL:gR,ASTERISK:GR,AT:$R,BACKSLASH:VR,BACKTICK:qR,CARET:YR,CLOSEANGLEBRACKET:PR,CLOSEBRACE:LR,CLOSEBRACKET:MR,CLOSEPAREN:AR,COLON:KR,COMMA:JR,DOLLAR:ZR,DOT:XR,EMOJI:pz,EQUALS:QR,EXCLAMATION:ez,FULLWIDTHGREATERTHAN:WR,FULLWIDTHLEFTPAREN:NR,FULLWIDTHLESSTHAN:FR,FULLWIDTHMIDDLEDOT:lz,FULLWIDTHRIGHTPAREN:IR,HYPHEN:tz,LEFTCORNERBRACKET:DR,LEFTWHITECORNERBRACKET:zR,LOCALHOST:bR,NL:CR,NUM:SR,OPENANGLEBRACKET:OR,OPENBRACE:ER,OPENBRACKET:TR,OPENPAREN:jR,PERCENT:nz,PIPE:rz,PLUS:oz,POUND:iz,QUERY:az,QUOTE:sz,RIGHTCORNERBRACKET:RR,RIGHTWHITECORNERBRACKET:BR,SCHEME:kR,SEMI:cz,SLASH:uz,SLASH_SCHEME:wR,SYM:hz,TILDE:dz,TLD:vR,UNDERSCORE:fz,UTLD:xR,UWORD:mR,WORD:hR,WS:_R});const gz=/[a-z]/,yz=/\p{L}/u,bz=/\p{Emoji}/u,vz=/\d/,xz=/\s/;let kz=null,wz=null;function Sz(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let o,i=e.charCodeAt(r),a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,o=[];let i=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,f=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,f=0,u=s):d>=0&&(d+=n[a].length,f++),c+=n[a].length,i+=n[a].length,a++;i-=d,a-=f,c-=d,o.push({t:u.t,v:t.slice(i-c,i),s:i-c,e:i})}return o}function _z(e,t,n,r,o){let i;const a=t.length;for(let n=0;n<a-1;n++){const a=t[n];e.j[a]?i=e.j[a]:(i=new cR(r),i.jr=o.slice(),e.j[a]=i),e=i}return i=new cR(n),i.jr=o.slice(),e.j[t[a-1]]=i,i}function Cz(e){const t=[],n=[];let r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}const Ez={defaultProtocol:"http",events:null,format:Tz,formatHref:Tz,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Lz(e,t=null){let n=Object.assign({},Ez);e&&(n=Object.assign(n,e instanceof Lz?e.o:e));const r=n.ignoreTags,o=[];for(let e=0;e<r.length;e++)o.push(r[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function Tz(e){return e}function Mz(e,t){this.t="token",this.v=e,this.tk=t}function jz(e,t){class n extends Mz{constructor(t,n){super(t,n),this.t=e}}for(const e in t)n.prototype[e]=t[e];return n.t=e,n}Lz.prototype={o:Ez,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let o=this.o[e];return o?("object"==typeof o?(o=n.t in o?o[n.t]:Ez[e],"function"==typeof o&&r&&(o=o(t,n))):"function"==typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},Mz.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"â€¦":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Ez.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),i=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:o,attributes:a,content:i,eventListeners:d}}};const Az=jz("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Oz=jz("text"),Pz=jz("nl"),Nz=jz("url",{isLink:!0,toHref(e=Ez.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==bR&&e[1].t===KR}}),Iz=e=>new cR(e);function Dz(e,t,n){const r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}const Rz="undefined"!=typeof console&&console&&console.warn||(()=>{}),zz={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Bz(e,t=!1){if(zz.initialized&&Rz(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');zz.customSchemes.push([e,t])}function Fz(e){return zz.initialized||function(){zz.scanner=function(e=[]){const t={};cR.groups=t;const n=new cR;null==kz&&(kz=Cz("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==wz&&(wz=Cz("ÎµÎ»1Ï…2Ð±Ð³1ÐµÐ»3Ð´ÐµÑ‚Ð¸4ÐµÑŽ2ÐºÐ°Ñ‚Ð¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5Ñ€Ð³3Ñ€ÑƒÑ2Ñ„2ÑÐ°Ð¹Ñ‚3Ñ€Ð±3ÑƒÐºÑ€3Ò›Ð°Ð·3Õ°Õ¡Õµ3×™×©×¨××œ5×§×•×3Ø§Ø¨ÙˆØ¸Ø¨ÙŠ5Ø±Ø§Ù…ÙƒÙˆ5Ù„Ø§Ø±Ø¯Ù†4Ø¨Ø­Ø±ÙŠÙ†5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙˆØ¯ÙŠØ©6Ø¹Ù„ÙŠØ§Ù†5Ù…ØºØ±Ø¨5Ù…Ø§Ø±Ø§Øª5ÛŒØ±Ø§Ù†5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙŠØªÙƒ3Ú¾Ø§Ø±Øª5ØªÙˆÙ†Ø³4Ø³ÙˆØ¯Ø§Ù†3Ø±ÙŠØ©5Ø´Ø¨ÙƒØ©4Ø¹Ø±Ø§Ù‚2Ø¨2Ù…Ø§Ù†4ÙÙ„Ø³Ø·ÙŠÙ†6Ù‚Ø·Ø±3ÙƒØ§Ø«ÙˆÙ„ÙŠÙƒ6ÙˆÙ…3Ù…ØµØ±2Ù„ÙŠØ³ÙŠØ§5ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§7Ù‚Ø¹4Ù‡Ù…Ø±Ø§Ù‡5Ù¾Ø§Ú©Ø³ØªØ§Ù†7Ú€Ø§Ø±Øª4à¤•à¥‰à¤®3à¤¨à¥‡à¤Ÿ3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥‹à¤¤5à¤¸à¤‚à¤—à¤ à¤¨5à¦¬à¦¾à¦‚à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®‡à®¨à¯à®¤à®¿à®¯à®¾6à®²à®™à¯à®•à¯ˆ6à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´‚5à¶½à¶‚à¶šà·4à¸„à¸­à¸¡3à¹„à¸—à¸¢3àº¥àº²àº§3áƒ’áƒ”2ã¿ã‚“ãª3ã‚¢ãƒžã‚¾ãƒ³4ã‚¯ãƒ©ã‚¦ãƒ‰4ã‚°ãƒ¼ã‚°ãƒ«4ã‚³ãƒ 2ã‚¹ãƒˆã‚¢3ã‚»ãƒ¼ãƒ«3ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³6ãƒã‚¤ãƒ³ãƒˆ4ä¸–ç•Œ2ä¸­ä¿¡1å›½1åœ‹1æ–‡ç½‘3äºšé©¬é€Š3ä¼ä¸š2ä½›å±±2ä¿¡æ¯2å¥åº·2å…«å¦2å…¬å¸1ç›Š2å°æ¹¾1ç£2å•†åŸŽ1åº—1æ ‡2å˜‰é‡Œ0å¤§é…’åº—5åœ¨çº¿2å¤§æ‹¿2å¤©ä¸»æ•™3å¨±ä¹2å®¶é›»2å¹¿ä¸œ2å¾®åš2æ…ˆå–„2æˆ‘çˆ±ä½ 3æ‰‹æœº2æ‹›è˜2æ”¿åŠ¡1åºœ2æ–°åŠ å¡2é—»2æ—¶å°š2æ›¸ç±2æœºæž„2æ·¡é©¬é”¡3æ¸¸æˆ2æ¾³é–€2ç‚¹çœ‹2ç§»åŠ¨2ç»„ç»‡æœºæž„4ç½‘å€1åº—1ç«™1ç»œ2è”é€š2è°·æ­Œ2è´­ç‰©2é€šè²©2é›†å›¢2é›»è¨Šç›ˆç§‘4é£žåˆ©æµ¦3é£Ÿå“2é¤åŽ…2é¦™æ ¼é‡Œæ‹‰3æ¸¯2ë‹·ë„·1ì»´2ì‚¼ì„±2í•œêµ­2")),pR(n,"'",UR),pR(n,"{",ER),pR(n,"}",LR),pR(n,"[",TR),pR(n,"]",MR),pR(n,"(",jR),pR(n,")",AR),pR(n,"<",OR),pR(n,">",PR),pR(n,"ï¼ˆ",NR),pR(n,"ï¼‰",IR),pR(n,"ã€Œ",DR),pR(n,"ã€",RR),pR(n,"ã€Ž",zR),pR(n,"ã€",BR),pR(n,"ï¼œ",FR),pR(n,"ï¼ž",WR),pR(n,"&",HR),pR(n,"*",GR),pR(n,"@",$R),pR(n,"`",qR),pR(n,"^",YR),pR(n,":",KR),pR(n,",",JR),pR(n,"$",ZR),pR(n,".",XR),pR(n,"=",QR),pR(n,"!",ez),pR(n,"-",tz),pR(n,"%",nz),pR(n,"|",rz),pR(n,"+",oz),pR(n,"#",iz),pR(n,"?",az),pR(n,'"',sz),pR(n,"/",uz),pR(n,";",cz),pR(n,"~",dz),pR(n,"_",fz),pR(n,"\\",VR),pR(n,"ãƒ»",lz);const r=dR(n,vz,SR,{[ZD]:!0});dR(r,vz,r);const o=dR(r,gz,gR,{[eR]:!0}),i=dR(r,yz,yR,{[tR]:!0}),a=dR(n,gz,hR,{[XD]:!0});dR(a,vz,o),dR(a,gz,a),dR(o,vz,o),dR(o,gz,o);const s=dR(n,yz,mR,{[QD]:!0});dR(s,gz),dR(s,vz,i),dR(s,yz,s),dR(i,vz,i),dR(i,gz),dR(i,yz,i);const l=pR(n,"\n",CR,{[aR]:!0}),c=pR(n,"\r",_R,{[aR]:!0}),u=dR(n,xz,_R,{[aR]:!0});pR(n,"ï¿¼",u),pR(c,"\n",l),pR(c,"ï¿¼",u),dR(c,xz,u),pR(u,"\r"),pR(u,"\n"),dR(u,xz,u),pR(u,"ï¿¼",u);const d=dR(n,bz,pz,{[rR]:!0});pR(d,"#"),dR(d,bz,d),pR(d,"ï¸",d);const f=pR(d,"â€");pR(f,"#"),dR(f,bz,d);const p=[[gz,a],[vz,o]],h=[[gz,null],[yz,s],[vz,i]];for(let e=0;e<kz.length;e++)_z(n,kz[e],vR,hR,p);for(let e=0;e<wz.length;e++)_z(n,wz[e],xR,mR,h);lR(vR,{tld:!0,ascii:!0},t),lR(xR,{utld:!0,alpha:!0},t),_z(n,"file",kR,hR,p),_z(n,"mailto",kR,hR,p),_z(n,"http",wR,hR,p),_z(n,"https",wR,hR,p),_z(n,"ftp",wR,hR,p),_z(n,"ftps",wR,hR,p),lR(kR,{scheme:!0,ascii:!0},t),lR(wR,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let t=0;t<e.length;t++){const r=e[t][0],o=e[t][1]?{[oR]:!0}:{[iR]:!0};r.indexOf("-")>=0?o[nR]=!0:gz.test(r)?vz.test(r)?o[eR]=!0:o[XD]=!0:o[ZD]=!0,fR(n,r,r,o)}return fR(n,"localhost",bR,{ascii:!0}),n.jd=new cR(hz),{start:n,tokens:Object.assign({groups:t},mz)}}(zz.customSchemes);for(let e=0;e<zz.tokenQueue.length;e++)zz.tokenQueue[e][1]({scanner:zz.scanner});zz.parser=function({groups:e}){const t=e.domain.concat([HR,GR,$R,VR,qR,YR,ZR,QR,tz,SR,nz,rz,oz,iz,uz,hz,dz,fz]),n=[UR,KR,JR,XR,ez,nz,az,sz,cz,OR,PR,ER,LR,MR,TR,jR,AR,NR,IR,DR,RR,zR,BR,FR,WR],r=[HR,UR,GR,VR,qR,YR,ZR,QR,tz,ER,LR,nz,rz,oz,iz,az,uz,hz,dz,fz],o=Iz(),i=pR(o,dz);uR(i,r,i),uR(i,e.domain,i);const a=Iz(),s=Iz(),l=Iz();uR(o,e.domain,a),uR(o,e.scheme,s),uR(o,e.slashscheme,l),uR(a,r,i),uR(a,e.domain,a);const c=pR(a,$R);pR(i,$R,c),pR(s,$R,c),pR(l,$R,c);const u=pR(i,XR);uR(u,r,i),uR(u,e.domain,i);const d=Iz();uR(c,e.domain,d),uR(d,e.domain,d);const f=pR(d,XR);uR(f,e.domain,d);const p=Iz(Az);uR(f,e.tld,p),uR(f,e.utld,p),pR(c,bR,p);const h=pR(d,tz);pR(h,tz,h),uR(h,e.domain,d),uR(p,e.domain,d),pR(p,XR,f),pR(p,tz,h);const m=pR(p,KR);uR(m,e.numeric,Az);const g=pR(a,tz),y=pR(a,XR);pR(g,tz,g),uR(g,e.domain,a),uR(y,r,i),uR(y,e.domain,a);const b=Iz(Nz);uR(y,e.tld,b),uR(y,e.utld,b),uR(b,e.domain,a),uR(b,r,i),pR(b,XR,y),pR(b,tz,g),pR(b,$R,c);const v=pR(b,KR),x=Iz(Nz);uR(v,e.numeric,x);const k=Iz(Nz),w=Iz();uR(k,t,k),uR(k,n,w),uR(w,t,k),uR(w,n,w),pR(b,uz,k),pR(x,uz,k);const S=pR(s,KR),_=pR(l,KR),C=pR(_,uz),E=pR(C,uz);uR(s,e.domain,a),pR(s,XR,y),pR(s,tz,g),uR(l,e.domain,a),pR(l,XR,y),pR(l,tz,g),uR(S,e.domain,k),pR(S,uz,k),pR(S,az,k),uR(E,e.domain,k),uR(E,t,k),pR(E,uz,k);const L=[[ER,LR],[TR,MR],[jR,AR],[OR,PR],[NR,IR],[DR,RR],[zR,BR],[FR,WR]];for(let e=0;e<L.length;e++){const[r,o]=L[e],i=pR(k,r);pR(w,r,i),pR(i,o,k);const a=Iz(Nz);uR(i,t,a);const s=Iz();uR(i,n),uR(a,t,a),uR(a,n,s),uR(s,t,a),uR(s,n,s),pR(a,o,k),pR(s,o,k)}return pR(o,bR,b),pR(o,CR,Pz),{start:o,tokens:mz}}(zz.scanner.tokens);for(let e=0;e<zz.pluginQueue.length;e++)zz.pluginQueue[e][1]({scanner:zz.scanner,parser:zz.parser});zz.initialized=!0}(),function(e,t,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let s=e,l=null,c=null,u=0,d=null,f=-1;for(;o<r&&!(l=s.go(n[o].t));)a.push(n[o++]);for(;o<r&&(c=l||s.go(n[o].t));)l=null,s=c,s.accepts()?(f=0,d=s):f>=0&&f++,o++,u++;if(f<0)o-=u,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(Dz(Oz,t,a)),a=[]),o-=f,u-=f;const e=d.t,r=n.slice(o-u,o);i.push(Dz(e,t,r))}}return a.length>0&&i.push(Dz(Oz,t,a)),i}(zz.parser.start,e,Sz(zz.scanner.start,e))}function Wz(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Lz(n),o=Fz(e),i=[];for(let e=0;e<o.length;e++){const n=o[e];!n.isLink||t&&n.t!==t||!r.check(n)||i.push(n.toFormattedObject(r))}return i}Fz.scan=Sz;var Hz="[\0- Â áš€á Žâ€€-\u2029âŸã€€]",Uz=new RegExp(Hz),Gz=new RegExp(`${Hz}$`),$z=new RegExp(Hz,"g");function Vz(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace($z,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var qz=EP.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{"string"!=typeof e?Bz(e.scheme,e.optionalSlashes):Bz(e)})},onDestroy(){cR.groups={},zz.scanner=null,zz.parser=null,zz.tokenQueue=[],zz.pluginQueue=[],zz.customSchemes=[],zz.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Vz(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!Vz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!Vz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",PO(this.options.HTMLAttributes,e),0]:["a",PO(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!Vz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!Vz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[iN({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,o=Wz(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!Vz(e,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(function(e){return new hL({key:new yL("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),i=t.some(e=>e.getMeta("preventAutolink"));if(!o||i)return;const{tr:a}=r;return UO(_O(n.doc,[...t])).forEach(({newRange:t})=>{const n=function(e,t){const n=[];return e.nodesBetween(t.from,t.to,(e,t)=>{(e=>e.isTextblock)(e)&&n.push({node:e,pos:t})}),n}(r.doc,t);let o,i;if(n.length>1)o=n[0],i=r.doc.textBetween(o.pos,o.pos+o.node.nodeSize,void 0," ");else if(n.length){const e=r.doc.textBetween(t.from,t.to," "," ");if(!Gz.test(e))return;o=n[0],i=r.doc.textBetween(o.pos,t.to,void 0," ")}if(o&&i){const t=i.split(Uz).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],l=o.pos+i.lastIndexOf(n);if(!n)return!1;const c=Fz(n).map(t=>t.toObject(e.defaultProtocol));if(!(1===(s=c).length?s[0].isLink:3===s.length&&s[1].isLink&&["()","[]"].includes(s[0].value+s[2].value)))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{GO(t.from,t.to,r.doc).some(t=>t.mark.type===e.type)||a.addMark(t.from,t.to,e.type.create({href:t.href}))})}var s}),a.steps.length?a:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!Vz(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&e.push(function(e){return new hL({key:new yL("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,i;if(0!==r.button)return!1;if(!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let e=r.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;a=t.find(e=>"A"===e.nodeName)}if(!a)return!1;const s=HO(t.state,e.type.name),l=null!=(o=null==a?void 0:a.href)?o:s.href,c=null!=(i=null==a?void 0:a.target)?i:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!a||!l||(window.open(l,c),0))}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new hL({key:new yL("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:o}=e,{state:i}=t,{selection:a}=i,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(e=>{l+=e.textContent});const c=Wz(l,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===l);return!(!l||!c||void 0!==o&&!o(c.href))&&e.editor.commands.setMark(e.type,{href:c.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),Yz=qz,Kz=Object.defineProperty,Jz="textStyle",Zz=/^\s*([-+*])\s$/,Xz=oN.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",PO(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>"list"!==e.type||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(Jz)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=qP({find:Zz,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=qP({find:Zz,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Jz),editor:this.editor})),[e]}}),Qz=oN.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",PO(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if("list_item"!==e.type)return[];let n=[];if(e.tokens&&e.tokens.length>0){const r=e.tokens.some(e=>"paragraph"===e.type);if(r)n=t.parseChildren(e.tokens);else{const r=e.tokens[0];if(r&&"text"===r.type&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){const r=e.tokens.slice(1),o=t.parseChildren(r);n.push(...o)}}else n=t.parseChildren(e.tokens)}}return 0===n.length&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>rN(e,t,e=>"bulletList"===e.parentType?"- ":"orderedList"===e.parentType?`${e.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)Kz(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>eB,getNextListDepth:()=>tB,handleBackspace:()=>iB,handleDelete:()=>lB,hasListBefore:()=>nB,hasListItemAfter:()=>cB,hasListItemBefore:()=>rB,listItemHasSubList:()=>oB,nextListIsDeeper:()=>aB,nextListIsHigher:()=>sB});var eB=(e,t)=>{const{$from:n}=t.selection,r=CA(e,t.schema);let o=null,i=n.depth,a=n.pos,s=null;for(;i>0&&null===s;)o=n.node(i),o.type===r?s=i:(i-=1,a-=1);return null===s?null:{$pos:t.doc.resolve(a),depth:s}},tB=(e,t)=>{const n=eB(e,t);if(!n)return!1;const[,r]=((e,t,n,r=20)=>{const o=e.doc.resolve(n);let i=r,a=null;for(;i>0&&null===a;){const e=o.node(i);(null==e?void 0:e.type.name)===t?a=e:i-=1}return[a,i]})(t,e,n.$pos.pos+4);return r},nB=(e,t,n)=>{const{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),i=e.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},rB=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return 0!==o.index()&&(null==(n=o.nodeBefore)?void 0:n.type.name)===e},oB=(e,t,n)=>{if(!n)return!1;const r=CA(e,t.schema);let o=!1;return n.descendants(e=>{e.type===r&&(o=!0)}),o},iB=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!aO(e.state,t)&&nB(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),o=[];r.node().descendants((e,n)=>{e.type.name===t&&o.push({node:e,pos:n})});const i=o.at(-1);if(!i)return!1;const a=e.state.doc.resolve(r.start()+i.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},a.end()).joinForward().run()}if(!aO(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=eB(t,e.state);if(!r)return!1;const o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=oB(t,e.state,o);return rB(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},aB=(e,t)=>{const n=tB(e,t),r=eB(e,t);return!(!r||!n)&&n>r.depth},sB=(e,t)=>{const n=tB(e,t),r=eB(e,t);return!(!r||!n)&&n<r.depth},lB=(e,t)=>{if(!aO(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const n=CO(e=>e.type.name===t)(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return o.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:o}=n;return!(!n.empty&&r.sameParent(o))&&(aB(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():sB(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},cB=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return o.index()!==o.parent.childCount-1&&(null==(n=o.nodeAfter)?void 0:n.type.name)===e},uB=AP.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&lB(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&lB(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&iB(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&iB(e,n,r)&&(t=!0)}),t}}}}),dB=/^(\s*)(\d+)\.\s+(.*)$/,fB=/^\s/;function pB(e,t,n){var r;const o=[];let i=0;for(;i<e.length;){const a=e[i];if(a.indent===t){const s=a.content.split("\n"),l=(null==(r=s[0])?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=s.slice(1).join("\n").trim();if(u){const e=n.blockTokens(u);c.push(...e)}let d=i+1;const f=[];for(;d<e.length&&e[d].indent>t;)f.push(e[d]),d+=1;if(f.length>0){const e=Math.min(...f.map(e=>e.indent)),t=pB(f,e,n);c.push({type:"list",ordered:!0,start:f[0].number,items:t,raw:f.map(e=>e.raw).join("\n")})}o.push({type:"list_item",raw:a.raw,tokens:c}),i=d}else i+=1}return o}var hB="textStyle",mB=/^(\d+)\.\s$/,gB=oN.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",PO(this.options.HTMLAttributes,n),0]:["ol",PO(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if("list"!==e.type||!e.ordered)return[];const n=e.start||1,r=e.items?function(e,t){return e.map(e=>{if("list_item"!==e.type)return t.parseChildren([e])[0];const n=[];return e.tokens&&e.tokens.length>0&&e.tokens.forEach(e=>{if("paragraph"===e.type||"list"===e.type||"blockquote"===e.type||"code"===e.type)n.push(...t.parseChildren([e]));else if("text"===e.type&&e.tokens){const r=t.parseChildren([e]);n.push({type:"paragraph",content:r})}else{const r=t.parseChildren([e]);r.length>0&&n.push(...r)}}),{type:"listItem",content:n}})}(e.items,t):[];return 1!==n?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=null==t?void 0:t.index;return void 0!==n?n:-1},tokenize:(e,t,n)=>{var r;const o=e.split("\n"),[i,a]=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n],i=o.match(dB);if(!i)break;const[,a,s,l]=i,c=a.length;let u=l,d=n+1;const f=[o];for(;d<e.length;){const t=e[d];if(t.match(dB))break;if(""===t.trim())f.push(t),u+="\n",d+=1;else{if(!t.match(fB))break;f.push(t),u+=`\n${t.slice(c+2)}`,d+=1}}t.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:f.join("\n")}),r=d,n=d}return[t,r]}(o);if(0===i.length)return;const s=pB(i,0,n);return 0!==s.length?{type:"list",ordered:!0,start:(null==(r=i[0])?void 0:r.number)||1,items:s,raw:o.slice(0,a).join("\n")}:void 0}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(hB)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=qP({find:mB,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=qP({find:mB,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(hB)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),yB=/^\s*(\[([( |x])?\])\s$/,bB=oN.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",PO(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;return rN(e,t,`- [${(null==(n=e.attrs)?void 0:n.checked)?"x":" "}] `)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=e=>{var t,n;s.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,s.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return c(e),i.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",e=>e.preventDefault()),s.addEventListener("change",t=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(s.checked=!s.checked);const{checked:o}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const r=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==r?void 0:r.attrs,checked:o}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,o)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{o.setAttribute(e,t)}),o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,i.append(s,a),o.append(i,l),Object.entries(t).forEach(([e,t])=>{o.setAttribute(e,t)}),{dom:o,contentDOM:l,update:e=>e.type===this.type&&(o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,c(e),!0)}}},addInputRules(){return[qP({find:yB,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),vB=oN.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",PO(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=null==(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:t.index;return void 0!==n?n:-1},tokenize(e,t,n){const r=e=>{const t=nN(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);return t?[{type:"taskList",raw:t.raw,items:t.items}]:n.blockTokens(e)},o=nN(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),xB=(AP.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(Xz.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(Qz.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(uB.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(gB.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(bB.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(vB.configure(this.options.taskList)),e}}),oN.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",PO(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return 1===n.length&&"image"===n[0].type?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>e&&Array.isArray(e.content)?t.renderChildren(e.content):"",addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})),kB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,wB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,SB=EP.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",PO(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[GP({find:kB,type:this.type})]},addPasteRules(){return[iN({find:wB,type:this.type})]}}),_B=oN.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),CB=EP.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",PO(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown:(e,t)=>`++${t.renderChildren(e)}++`,markdownTokenizer:{name:"underline",level:"inline",start:e=>e.indexOf("++"),tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const o=r[2].trim();return{type:"underline",raw:r[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),EB=CB;function LB(e={}){return new hL({view:t=>new TB(t,e)})}class TB{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,o=r.getBoundingClientRect(),i=o.width/r.offsetWidth,a=o.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let s=this.width/2*a;e={left:o.left,right:o.right,top:i-s,bottom:i+s}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;s=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-s)/i+"px",this.element.style.top=(e.top-l)/a+"px",this.element.style.width=(e.right-e.left)/i+"px",this.element.style.height=(e.bottom-e.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=OE(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class MB extends KE{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return MB.valid(n)?new MB(n):KE.near(n)}content(){return oC.empty}eq(e){return e instanceof MB&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new MB(e.resolve(t.pos))}getBookmark(){return new jB(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||AB(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||AB(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&MB.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let a=e.doc.resolve(r);if(MB.valid(a))return a}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!tL.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let a=e.doc.resolve(r);if(MB.valid(a))return a}return null}}}MB.prototype.visible=!1,MB.findFrom=MB.findGapCursorFrom,KE.jsonID("gapcursor",MB);class jB{constructor(e){this.pos=e}map(e){return new jB(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return MB.valid(t)?new MB(t):KE.near(t)}}function AB(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}const OB=fA({ArrowLeft:PB("horiz",-1),ArrowRight:PB("horiz",1),ArrowUp:PB("vert",-1),ArrowDown:PB("vert",1)});function PB(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof QE){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}let l=MB.findGapCursorFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new MB(l))),!0)}}function NB(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!MB.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&tL.isSelectable(e.state.doc.nodeAt(o.inside))||(e.dispatch(e.state.tr.setSelection(new MB(r))),0))}function IB(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof MB))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=X_.empty;for(let e=r.length-1;e>=0;e--)o=X_.from(r[e].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new oC(o,0,0));return i.setSelection(QE.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function DB(e){if(!(e.selection instanceof MB))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Ej.create(e.doc,[Sj.widget(e.selection.head,t,{key:"gapcursor"})])}var RB=200,zB=function(){};zB.prototype.append=function(e){return e.length?(e=zB.from(e),!this.length&&e||e.length<RB&&this.leafAppend(e)||this.length<RB&&e.leafPrepend(this)||this.appendInner(e)):this},zB.prototype.prepend=function(e){return e.length?zB.from(e).append(this):this},zB.prototype.appendInner=function(e){return new FB(this,e)},zB.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?zB.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},zB.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},zB.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},zB.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},zB.from=function(e){return e instanceof zB?e:e&&e.length?new BB(e):zB.empty};var BB=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=RB)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=RB)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(zB);zB.empty=new BB([]);var FB=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(zB);const WB=zB;class HB{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,a,s=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new UB(e.map));let t,o=e.step.map(n.slice(r));o&&s.maybeStep(o).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new UB(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,a=new HB(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:s,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new UB(e.mapping.maps[n],c,t);(l=s&&s.merge(u))&&(u=l,n?o.pop():a=a.slice(0,a.length-1)),o.push(u),t&&(i++,t=void 0),r||(s=u)}let l=i-n.depth;return l>$B&&(a=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(a,l),i-=l),new HB(a.append(o),i)}remapping(e,t){let n=new cE;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new HB(this.items.append(e.map(e=>new UB(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(e=>{e.selection&&a--},r);let s=t;this.items.forEach(t=>{let r=o.getMirror(--s);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(s+1,r));c&&a++,n.push(new UB(l,i,c))}else n.push(new UB(l))},r);let l=[];for(let e=t;e<i;e++)l.push(new UB(o.maps[e]));let c=this.items.slice(0,r).append(l).append(n),u=new HB(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=i.selection&&i.selection.map(t.slice(n));s&&o++;let l,c=new UB(a.invert(),e,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new HB(WB.from(r.reverse()),o)}}HB.empty=new HB(WB.empty,0);class UB{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new UB(t.getMap().invert(),t,this.selection)}}}class GB{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const $B=20;function VB(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,o)=>t.push(r,o));return t}function qB(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}let YB=!1,KB=null;function JB(e){let t=e.plugins;if(KB!=t){YB=!1,KB=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){YB=!0;break}}return YB}const ZB=new yL("history"),XB=new yL("closeHistory");function QB(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new hL({key:ZB,state:{init:()=>new GB(HB.empty,HB.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(ZB);if(i)return i.historyState;n.getMeta(XB)&&(e=new GB(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(ZB))return a.getMeta(ZB).redo?new GB(e.done.addTransform(n,void 0,r,JB(t)),e.undone,VB(n.mapping.maps),e.prevTime,e.prevComposition):new GB(e.done,e.undone.addTransform(n,void 0,r,JB(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new GB(e.done.rebased(n,o),e.undone.rebased(n,o),qB(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new GB(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),qB(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges)),s=a?qB(e.prevRanges,n.mapping):VB(n.mapping.maps);return new GB(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,JB(t)),HB.empty,s,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?tF:"historyRedo"==n?nF:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function eF(e,t){return(n,r)=>{let o=ZB.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=JB(t),o=ZB.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),s=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new GB(n?s:i.remaining,n?i.remaining:s,null,0,-1);return i.transform.setSelection(a).setMeta(ZB,{redo:n,historyState:l})}(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const tF=eF(!1,!0),nF=eF(!0,!0);eF(!1,!1),eF(!0,!1),AP.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new hL({key:new yL("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const o=this.options.limit;if(null==o||0===o)return void(e=!0);const i=this.storage.characters({node:r.doc});if(i>o){const t=0,n=i-o;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const a=r.tr.deleteRange(t,n);return e=!0,a}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=n)return!0;if(r>n&&o>n&&o<=r)return!0;if(r>n&&o>n&&o>r)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,a=i-(o-n),s=i;return e.deleteRange(a,s),!(this.storage.characters({node:e.doc})>n)}})]}});var rF=AP.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[LB(this.options)]}}),oF=(AP.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new hL({key:new yL("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=t,i=[];if(!n||!r)return Ej.create(e,[]);let a=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(!e.isText)return o>=t&&o<=t+e.nodeSize-1&&void(a+=1)});let s=0;return e.descendants((e,t)=>!e.isText&&(o>=t&&o<=t+e.nodeSize-1&&(s+=1,"deepest"===this.options.mode&&a-s>0||"shallowest"===this.options.mode&&s>1?"deepest"===this.options.mode:void i.push(Sj.node(t,t+e.nodeSize,{class:this.options.className}))))),Ej.create(e,i)}}})]}}),AP.create({name:"gapCursor",addProseMirrorPlugins:()=>[new hL({props:{decorations:DB,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&MB.valid(n)?new MB(n):null,handleClick:NB,handleKeyDown:OB,handleDOMEvents:{beforeinput:IB}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=jO(EO(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}}));function iF({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}AP.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something â€¦",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new hL({key:new yL("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((e,t)=>{const n=r>=t&&r<=t+e.nodeSize,a=!e.isLeaf&&JO(e);if((n||!this.options.showOnlyCurrent)&&a){const r=[this.options.emptyNodeClass];i&&r.push(this.options.emptyEditorClass);const a=Sj.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});o.push(a)}return this.options.includeChildren}),Ej.create(e,o)}}})]}}),AP.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new hL({key:new yL("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||ZO(n.selection)||e.view.dragging?null:Ej.create(n.doc,[Sj.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});var aF=AP.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;const t=new yL(this.name),n=(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new hL({key:t,appendTransaction:(e,r,o)=>{const{doc:i,tr:a,schema:s}=o,l=t.getState(o),c=i.content.size,u=s.nodes[n];if(l)return a.insert(c,u.create())},state:{init:(e,t)=>!iF({node:t.tr.doc.lastChild,types:r}),apply:(e,t)=>e.docChanged?!iF({node:e.doc.lastChild,types:r}):t}})]}}),sF=AP.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>tF(e,t),redo:()=>({state:e,dispatch:t})=>nF(e,t)}),addProseMirrorPlugins(){return[QB(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),lF=AP.create({name:"starterKit",addExtensions(){var e,t,n,r;const o=[];return!1!==this.options.bold&&o.push(PD.configure(this.options.bold)),!1!==this.options.blockquote&&o.push(LD.configure(this.options.blockquote)),!1!==this.options.bulletList&&o.push(Xz.configure(this.options.bulletList)),!1!==this.options.code&&o.push(RD.configure(this.options.code)),!1!==this.options.codeBlock&&o.push(FD.configure(this.options.codeBlock)),!1!==this.options.document&&o.push(WD.configure(this.options.document)),!1!==this.options.dropcursor&&o.push(rF.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&o.push(oF.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&o.push(HD.configure(this.options.hardBreak)),!1!==this.options.heading&&o.push(UD.configure(this.options.heading)),!1!==this.options.undoRedo&&o.push(sF.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&o.push($D.configure(this.options.horizontalRule)),!1!==this.options.italic&&o.push(JD.configure(this.options.italic)),!1!==this.options.listItem&&o.push(Qz.configure(this.options.listItem)),!1!==this.options.listKeymap&&o.push(uB.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&o.push(qz.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&o.push(gB.configure(this.options.orderedList)),!1!==this.options.paragraph&&o.push(xB.configure(this.options.paragraph)),!1!==this.options.strike&&o.push(SB.configure(this.options.strike)),!1!==this.options.text&&o.push(_B.configure(this.options.text)),!1!==this.options.underline&&o.push(CB.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&o.push(aF.configure(null==(r=this.options)?void 0:r.trailingNode)),o}}),cF=lF,uF=Xz,dF=Qz,fF=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,pF=oN.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",PO(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,o,i,a;const s=null!=(n=null==(t=e.attrs)?void 0:t.src)?n:"",l=null!=(o=null==(r=e.attrs)?void 0:r.alt)?o:"",c=null!=(a=null==(i=e.attrs)?void 0:i.title)?a:"";return c?`![${l}](${s} "${c}")`:`![${l}](${s})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||"undefined"==typeof document||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:o,getPos:i,HTMLAttributes:a})=>{const s=document.createElement("img");Object.entries(a).forEach(([e,t])=>{if(null!=t)switch(e){case"width":case"height":break;default:s.setAttribute(e,t)}}),s.src=a.src;const l=new YP({element:s,node:o,getPos:i,onResize:(e,t)=>{s.style.width=`${e}px`,s.style.height=`${t}px`},onCommit:(e,t)=>{const n=i();void 0!==n&&this.editor.chain().setNodeSelection(n).updateAttributes(this.name,{width:e,height:t}).run()},onUpdate:(e,t,n)=>e.type===o.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:!0===r}}),c=l.dom;return c.style.visibility="hidden",c.style.pointerEvents="none",s.onload=()=>{c.style.visibility="",c.style.pointerEvents=""},l}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[$P({find:fF,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),hF=pF,mF=AP.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(e=>e),toggleTextAlign:e=>({editor:t,commands:n})=>!!this.options.alignments.includes(e)&&(t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function gF(e){return gF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gF(e)}function yF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yF(Object(n),!0).forEach(function(t){vF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vF(e,t,n){return(t=function(e){var t=function(e){if("object"!=gF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xF=hF.extend({addAttributes:function(){var e;return bF(bF({},null===(e=this.parent)||void 0===e?void 0:e.call(this)),{},{float:{default:"none",parseHTML:function(e){return e.getAttribute("data-float")||"none"},renderHTML:function(e){return{"data-float":e.float||"none"}}}})},addProseMirrorPlugins:function(){return[new hL({view:function(e){var t=function(){e.dom.querySelectorAll("img[data-float]").forEach(function(e){var t=e.getAttribute("data-float")||"none",n=e.closest("[data-resize-container]");n&&n.getAttribute("data-float")!==t&&n.setAttribute("data-float",t)})},n=function(){return requestAnimationFrame(t)};n();var r=new MutationObserver(n);return r.observe(e.dom,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-float"]}),{update:n,destroy:function(){r.disconnect()}}}})]}}),kF=[cF.configure({orderedList:!1,bulletList:{},blockquote:{},heading:!1,code:!1,codeBlock:!1}),EB,ND,Yz.configure({openOnClick:!1,autolink:!0}),uF,dF,TD,wD,mF.configure({types:["paragraph","heading"],defaultAlignment:"left"}),GD.configure({levels:[1,2,3],HTMLAttributes:{class:"richtext-heading"}}),xF.configure({inline:!0,HTMLAttributes:{class:"richtext-image"},resize:{enabled:!0,alwaysPreserveAspectRatio:!0}}),rF.configure({color:"gold",class:"richtext-dropcursor"})],wF=o(5922),SF={};SF.styleTagTransform=Be(),SF.setAttributes=Ie(),SF.insert=Pe().bind(null,"head"),SF.domAPI=Ae(),SF.insertStyleElement=Re(),Me()(wF.A,SF),wF.A&&wF.A.locals&&wF.A.locals;var _F=new Map;_F.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),_F.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),_F.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),r.createElement("path",{d:"M40,116H168a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),r.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M168,180H40a8,8,0,0,0,0,16H168a8,8,0,0,0,0-16Z"}))}),_F.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),_F.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),_F.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var CF=function(e,t){return Ge(e,t,_F)},EF=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:CF}))});EF.displayName="TextAlignLeft";const LF=EF;var TF=new Map;TF.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),TF.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),TF.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),r.createElement("path",{d:"M216,100H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M216,180H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))}),TF.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),TF.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),TF.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var MF=function(e,t){return Ge(e,t,TF)},jF=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:MF}))});jF.displayName="TextAlignRight";const AF=jF;var OF=new Map;OF.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),OF.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),OF.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),r.createElement("path",{d:"M216,100H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M216,180H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))}),OF.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),OF.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),OF.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var PF=function(e,t){return Ge(e,t,OF)},NF=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:PF}))});NF.displayName="TextAlignJustify";const IF=NF;var DF=new Map;DF.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),DF.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),DF.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),r.createElement("path",{d:"M64,100a8,8,0,0,0,0,16H192a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),r.createElement("path",{d:"M192,180H64a8,8,0,0,0,0,16H192a8,8,0,0,0,0-16Z"}))}),DF.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),DF.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),DF.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var RF=function(e,t){return Ge(e,t,DF)},zF=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:RF}))});zF.displayName="TextAlignCenter";const BF=zF;var FF=new Map;FF.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),FF.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),FF.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))}),FF.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),FF.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),FF.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var WF=function(e,t){return Ge(e,t,FF)},HF=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:WF}))});HF.displayName="Plus";const UF=HF;var GF=new Map;GF.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("circle",{cx:"156",cy:"100",r:"16"}))}),GF.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184V56a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8Z",opacity:"0.2"}),r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"156",cy:"100",r:"12"}))}),GF.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M168,100h0a12,12,0,0,1-12,12,12,12,0,0,1-12-12,12,12,0,0,1,24,0Zm64-44V184h0v16a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V168h0V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,164.7V56H40v92.7L76.7,112a16.1,16.1,0,0,1,22.6,0L144,156.7,164.7,136a16.1,16.1,0,0,1,22.6,0Z"}))}),GF.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("circle",{cx:"156",cy:"100",r:"10"}))}),GF.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("circle",{cx:"156",cy:"100",r:"8"}))}),GF.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"156",cy:"100",r:"12"}))});var $F=function(e,t){return Ge(e,t,GF)},VF=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:$F}))});VF.displayName="Image";const qF=VF;function YF(e){return YF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YF(e)}function KF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KF(Object(n),!0).forEach(function(t){ZF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZF(e,t,n){return(t=function(e){var t=function(e){if("object"!=YF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=YF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||QF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QF(e,t){if(e){if("string"==typeof e)return eW(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eW(e,t):void 0}}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}st().setAppElement("#root");var tW={type:"doc",content:[{type:"paragraph"}]};function nW(e){return e?"text"===e.type?e.text||"":e.content&&Array.isArray(e.content)?e.content.map(nW).join(" "):"":""}const rW=function(e){var t,n=e.value,o=e.editable,i=e.onChange,a=e.onMoveUp,s=e.onMoveDown,l=e.onDelete,c=e.addBlock,u=e.className,d=void 0===u?"":u,f=e.bubbleMenu,p=void 0===f||f,h=e.floatingMenu,m=void 0===h||h,g=e.singleLine,y=void 0!==g&&g,b=e.inline,v=void 0!==b&&b,x=e.placeholder,k=e.requestFocus,w=e.isDM,S=e.onKeyDown,_=e.insertBlocksAfter,C=XF((0,r.useState)(!1),2),E=C[0],L=C[1],T=XF((0,r.useState)(void 0),2),M=T[0],j=T[1],A=XF((0,r.useState)(!1),2),O=A[0],P=A[1],N=(0,r.useRef)(null),I=(0,r.useMemo)(function(){var e=null!=n&&n.rich?n.rich:tW;return null!=n&&n.rich&&e.content&&console.log("[RichTextBlock] Rendering TipTap doc with ".concat(e.content.length," nodes")),e},[null==n?void 0:n.rich]),D=function(e){var t,r;if(o&&"function"==typeof i){var a=e.getJSON(),s=((null===(t=e.getText)||void 0===t?void 0:t.call(e))||"").replace(/\u00A0/g," ").replace(/\s+/g," ").trim(),l=JF(JF({},n||{}),{},{type:"rich",hidden:null!==(r=null==n?void 0:n.hidden)&&void 0!==r&&r,rich:a,plainText:s});delete l.content,delete l.text,delete l.marks,i(l)}},R=function(e={},t=[]){const n=(0,r.useRef)(e);n.current=e;const[o]=(0,r.useState)(()=>new yN(n)),i=(0,q_.useSyncExternalStore)(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,r.useDebugValue)(i),(0,r.useEffect)(o.onRender(t)),function(e){var t;const[n]=(0,r.useState)(()=>new hN(e.editor)),o=(0,sN.useSyncExternalStoreWithSelector)(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:aN);pN(()=>n.watch(e.editor),[e.editor,n]),(0,r.useDebugValue)(o)}({editor:i,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),i}({extensions:kF,content:I,editable:o,editorProps:{attributes:JF({class:"rt-content".concat(v?" rt-inline":"")},x?{"data-placeholder":x}:{}),handleKeyDown:function(e,t){if(y&&"Enter"===t.key)return t.preventDefault(),!0;if("function"==typeof S)try{S(t)}catch(e){}return!1},handlePaste:function(e,t,r){if(!_)return!1;var o=function(e){if(!e.content||!Array.isArray(e.content))return null;var t,n=[],r=null,o=[],i=!1,a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=QF(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.content);try{for(a.s();!(t=a.n()).done;){var s=t.value;i||"blockquote"!==s.type?i?o.push(s):n.push(s):(r=s,i=!0)}}catch(e){a.e(e)}finally{a.f()}return r?{before:{type:"doc",content:n},quote:{type:"doc",content:[r]},after:{type:"doc",content:o}}:null}(r);if(!o)return!1;var a,s=o.before,l=o.quote,c=o.after,u=s.content&&s.content.length>0?s:{type:"doc",content:[{type:"paragraph"}]},d=[];return l&&d.push({type:"rich",rich:l,plainText:nW(l),hidden:!1}),c&&c.content&&c.content.length>0&&d.push({type:"rich",rich:c,plainText:nW(c),hidden:!1}),i&&i(JF(JF({},n||{}),{},{type:"rich",rich:u,plainText:nW(u),hidden:null!==(a=null==n?void 0:n.hidden)&&void 0!==a&&a})),d.length>0&&_(d),!0}},onCreate:function(e){var t=e.editor;try{var n=t.view.dom;if(n){var r=0===t.getText().trim().length;n.setAttribute("data-empty",r?"true":"false"),x&&w&&n.setAttribute("data-placeholder",x)}D(t)}catch(e){}},onUpdate:function(e){var t=e.editor;try{var n=t.view.dom;if(n){var r=0===t.getText().trim().length;n.setAttribute("data-empty",r?"true":"false"),x&&w&&n.setAttribute("data-placeholder",x)}D(t)}catch(e){}}},[o]),z=XF((0,r.useState)(0),2)[1];if((0,r.useEffect)(function(){if(R){var e=function(){return z(function(e){return e+1})};return R.on("selectionUpdate",e),R.on("transaction",e),function(){R.off("selectionUpdate",e),R.off("transaction",e)}}},[R]),(0,r.useEffect)(function(){if(R&&k){var e=setTimeout(function(){try{R.chain().focus("end").run()}catch(e){}},0);return function(){return clearTimeout(e)}}},[R,k]),(0,r.useEffect)(function(){if(M&&R){var e=lu.resolveAssetUrl(M);R.chain().focus().setImage({src:e}).run(),j(void 0)}},[M]),(0,r.useEffect)(function(){if(O){var e=function(e){var t=N.current;t&&!t.contains(e.target)&&P(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}},[O]),!R)return null;var B,F,W=function(){var e;if(!R)return null;var t=R.state,n=t.selection,r=t.schema.nodes.image;if(!r)return null;if(n instanceof tL&&(null===(e=n.node)||void 0===e?void 0:e.type)===r)return n.from;var o=n.$from,i=o.nodeBefore;if(i&&i.type===r)return o.pos-i.nodeSize;var a=o.nodeAfter;if(a&&a.type===r)return o.pos;var s=null,l=Math.max(0,n.from-5),c=Math.min(t.doc.content.size,n.to+5);return t.doc.nodesBetween(l,c,function(e,t){return e.type!==r||(s=t,!1)}),s},H=function(e){if(R){var t=R.state,n=R.view,r=t.schema.nodes.image;if(r){var o=W();if(null!=o){var i=t.doc.nodeAt(o);if(i){var a=JF(JF({},i.attrs),{},{float:e}),s=t.tr.setNodeMarkup(o,r,a,i.marks);n.dispatch(s),R.commands.focus();try{D(R),R.commands.blur();var l=n.nodeDOM(o),c="IMG"===(null==l?void 0:l.nodeName)?l:null==l?void 0:l.querySelector("img");null==c||c.setAttribute("data-float",e),R.commands.focus()}catch(e){console.error("Error setting image float:",e)}}}}}},U=o&&(null==n?void 0:n.hidden);return(0,Xe.jsxs)("div",{className:"rt-block ".concat(d," ").concat(U?"rt-hidden":""),children:[o&&(0,Xe.jsxs)(Xe.Fragment,{children:[!1!==p&&w&&(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(SD,{className:"rt-bubble-menu-image",editor:R,pluginKey:"image-float-menu",shouldShow:function(){return null!=W()},children:(0,Xe.jsx)("div",{className:"rt-image-float",style:{display:"flex"},children:(F=null!==(B=function(){if(!R)return{};var e=W();if(null==e)return{};var t=R.state.doc.nodeAt(e);return(null==t?void 0:t.attrs)||{}}().float)&&void 0!==B?B:"none",(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("button",{className:"left"===F?"active":"",onClick:function(){return H("left")},children:(0,Xe.jsx)(LF,{})}),(0,Xe.jsx)("button",{className:"right"===F?"active":"",onClick:function(){return H("right")},children:(0,Xe.jsx)(AF,{})}),(0,Xe.jsx)("button",{className:"none"===F?"active":"",onClick:function(){return H("none")},children:(0,Xe.jsx)(IF,{})})]}))})}),(0,Xe.jsx)(SD,{className:"rt-bubble-menu",editor:R,pluginKey:"common",shouldShow:function(e){var t,n=e.editor,r=e.state.selection;return!(r instanceof tL&&"image"===(null===(t=r.node)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.name)||n.isActive("image")||r.empty)},children:(0,Xe.jsxs)("div",{className:"btns",children:[(0,Xe.jsxs)("div",{className:"rt-mode",ref:N,children:[(0,Xe.jsx)("button",{type:"button",className:"rt-mode__btn",onClick:function(){return P(function(e){return!e})},children:function(){var e;if(null!=R&&null!==(e=R.schema)&&void 0!==e&&null!==(e=e.nodes)&&void 0!==e&&e.heading&&R.isActive("heading")){var t,n=null===(t=R.getAttributes("heading"))||void 0===t?void 0:t.level;return n?"Heading ".concat(n):"Heading"}return R.isActive("orderedList")?"Numbered list":R.isActive("bulletList")?"Bullet list":R.isActive("blockquote")?"Quote":"Normal text"}()}),O&&(0,Xe.jsxs)("div",{className:"rt-mode-menu",children:[(0,Xe.jsx)("div",{className:"rt-menu-section",children:"TURN INTO"}),(0,Xe.jsx)("div",{className:"rt-menu-row",children:(0,Xe.jsx)("button",{className:R.isActive("paragraph")?"active":"",onClick:function(){R.chain().focus().setParagraph().run(),P(!1)},children:"Normal text"})}),(null==R||null===(t=R.schema)||void 0===t||null===(t=t.nodes)||void 0===t?void 0:t.heading)&&(0,Xe.jsxs)("div",{className:"rt-menu-row",children:[(0,Xe.jsx)("span",{style:{opacity:.7,marginRight:6},children:"Heading"}),[1,2,3,4,5,6].map(function(e){return(0,Xe.jsx)("button",{className:R.isActive("heading",{level:e})?"active":"",onClick:function(){!function(e){var t;null!=R&&null!==(t=R.schema)&&void 0!==t&&null!==(t=t.nodes)&&void 0!==t&&t.heading&&R.chain().focus().command(function(t){var n=t.commands;return"function"==typeof n.setHeading?(n.setHeading({level:e}),!0):"function"==typeof n.toggleHeading?(n.toggleHeading({level:e}),!0):"function"!=typeof n.setNode||(n.setNode("heading",{level:e}),!0)}).run()}(e),P(!1)},children:e},e)})]}),(0,Xe.jsx)("div",{className:"rt-menu-row",children:(0,Xe.jsx)("button",{className:R.isActive("orderedList")?"active":"",onClick:function(){R.chain().focus().toggleOrderedList().run(),P(!1)},children:"Numbered List"})}),(0,Xe.jsx)("div",{className:"rt-menu-row",children:(0,Xe.jsx)("button",{className:R.isActive("bulletList")?"active":"",onClick:function(){R.chain().focus().toggleBulletList().run(),P(!1)},children:"Bullet List"})}),(0,Xe.jsx)("div",{className:"rt-menu-section",children:"WRAP IN"}),(0,Xe.jsx)("div",{className:"rt-menu-row",children:(0,Xe.jsx)("button",{className:R.isActive("blockquote")?"active":"",onClick:function(){R.chain().focus().toggleBlockquote().run(),P(!1)},children:"Quote"})}),(0,Xe.jsx)("div",{className:"rt-menu-row",children:(0,Xe.jsx)("button",{className:null!=n&&n.hidden?"active":"",onClick:function(){i&&i(JF(JF({},n||{}),{},{type:"rich",hidden:!(null!=n&&n.hidden)})),P(!1)},children:"Secret"})})]})]}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleBold().run()},className:R.isActive("bold")?"active":"",children:(0,Xe.jsx)("b",{children:"B"})}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleItalic().run()},className:R.isActive("italic")?"active":"",children:(0,Xe.jsx)("i",{children:"I"})}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleUnderline().run()},className:R.isActive("underline")?"active":"",children:(0,Xe.jsx)("u",{children:"U"})}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("left").run()},className:R.isActive({textAlign:"left"})?"active":"",children:(0,Xe.jsx)(LF,{})}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("center").run()},className:R.isActive({textAlign:"center"})?"active":"",children:(0,Xe.jsx)(BF,{})}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("right").run()},className:R.isActive({textAlign:"right"})?"active":"",children:(0,Xe.jsx)(AF,{})}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("justify").run()},className:R.isActive({textAlign:"justify"})?"active":"",children:(0,Xe.jsx)(IF,{})})]})})]}),!1!==m&&w&&(0,Xe.jsx)(_D,{className:"rt-float",editor:R,children:(0,Xe.jsxs)("div",{className:"btns",children:[(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().setParagraph().run()},className:R.isActive("paragraph")?"active":"",children:"P"}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleBlockquote().run()},className:R.isActive("blockquote")?"active":"",children:"â€œ â€"}),(0,Xe.jsx)("button",{onClick:function(){return R.chain().focus().toggleBulletList().run()},className:R.isActive("bulletList")?"active":"",children:"â€¢ List"})]})}),toolbar&&w&&(0,Xe.jsxs)("div",{className:"rt-toolbar",children:[(0,Xe.jsxs)("div",{className:"rt-add-block",children:[(0,Xe.jsx)(UF,{size:24,type:"button",className:"add-block-btn","aria-label":"Add block below",onClick:c}),(0,Xe.jsx)(qF,{size:24,type:"button",className:"add-block-btn","aria-label":"Add image",onClick:function(){R&&L(!0)}})]}),(0,Xe.jsxs)("div",{className:"rt-sideTools",children:[a&&(0,Xe.jsx)("button",{title:"Move up",onClick:a,children:"â†‘"}),s&&(0,Xe.jsx)("button",{title:"Move down",onClick:s,children:"â†“"}),l&&(0,Xe.jsx)("button",{title:"Delete",onClick:l,children:"âœ•"})]})]})]}),(0,Xe.jsx)(fN,{editor:R}),(0,Xe.jsx)(xf,{isOpen:E,onClose:function(){return L(!1)},onSelect:function(e){j(e.url),L(!1)}})]})};function oW(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return iW(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(iW(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,iW(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,iW(d,"constructor",c),iW(c,"constructor",l),l.displayName="GeneratorFunction",iW(c,o,"GeneratorFunction"),iW(d),iW(d,o,"Generator"),iW(d,r,function(){return this}),iW(d,"toString",function(){return"[object Generator]"}),(oW=function(){return{w:i,m:f}})()}function iW(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}iW=function(e,t,n,r){function i(t,n){iW(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},iW(e,t,n,r)}function aW(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function sW(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){aW(i,r,o,a,s,"next",e)}function s(e){aW(i,r,o,a,s,"throw",e)}a(void 0)})}}function lW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cW(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cW(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var uW=o(1687),dW={};dW.styleTagTransform=Be(),dW.setAttributes=Ie(),dW.insert=Pe().bind(null,"head"),dW.domAPI=Ae(),dW.insertStyleElement=Re(),Me()(uW.A,dW),uW.A&&uW.A.locals&&uW.A.locals;var fW=new Map;fW.set("bold",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),fW.set("duotone",function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),r.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),fW.set("fill",function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))}),fW.set("light",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),fW.set("thin",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),fW.set("regular",function(e){return r.createElement(r.Fragment,null,r.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var pW=function(e,t){return Ge(e,t,fW)},hW=(0,r.forwardRef)(function(e,t){return r.createElement(qe,Object.assign({ref:t},e,{renderPath:pW}))});hW.displayName="CheckCircle";const mW=hW,gW=function(){return(0,Xe.jsxs)("div",{className:"aetheriumDivider",children:[(0,Xe.jsx)("div",{className:"divider-line"}),(0,Xe.jsx)("div",{className:"aetherium-logo",children:(0,Xe.jsx)("img",{src:He,alt:"Aetherium Logo"})}),(0,Xe.jsx)("div",{className:"divider-line"})]})},yW=function(e,t,n){(0,r.useLayoutEffect)(function(){var n=null!=t?t:document.getElementById(e);if(n){n.style.height="0px";var r=n.scrollHeight;n.style.height=r+"px"}},[t,e,n])};function bW(e){return bW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bW(e)}function vW(e){return function(e){if(Array.isArray(e))return MW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||TW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xW(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return kW(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(kW(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,kW(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,kW(d,"constructor",c),kW(c,"constructor",l),l.displayName="GeneratorFunction",kW(c,o,"GeneratorFunction"),kW(d),kW(d,o,"Generator"),kW(d,r,function(){return this}),kW(d,"toString",function(){return"[object Generator]"}),(xW=function(){return{w:i,m:f}})()}function kW(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}kW=function(e,t,n,r){function i(t,n){kW(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},kW(e,t,n,r)}function wW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wW(Object(n),!0).forEach(function(t){_W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _W(e,t,n){return(t=function(e){var t=function(e){if("object"!=bW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bW(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function EW(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){CW(i,r,o,a,s,"next",e)}function s(e){CW(i,r,o,a,s,"throw",e)}a(void 0)})}}function LW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||TW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TW(e,t){if(e){if("string"==typeof e)return MW(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MW(e,t):void 0}}function MW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}st().setAppElement("#root");var jW={type:"doc",content:[{type:"paragraph"}]};const AW=function(e){var t,n,o,i,a=e.isDM,s=J(),l=function(){let{matches:e}=r.useContext($),t=e[e.length-1];return t?t.params:{}}(),c=l.type,u=l.id,d=(0,r.useRef)(!1),f=Su(function(e){return e.createPage}),p=Su(function(e){return e.updatePage}),h=Su(function(e){return e.getPage}),m=Su(function(e){return e.replacePageInCache}),g=Su(function(e){return e.loadTimeSystem}),y=Su(function(e){return e.data.timeSystem.data}),b=Su(function(e){return e.data.groups.data}),v=Su(function(e){return e.loadGroups}),x=Su(function(e){return e.createEvent}),k=Su(function(e){return e.updateEvent}),w=LW((0,r.useState)(!1),2),S=w[0],_=w[1],C=(0,r.useRef)(null),E=LW((0,r.useState)(0),2),L=E[0],T=E[1],M=LW((0,r.useState)(0),2),j=M[0],A=M[1],O=(0,r.useRef)(null),P=(0,r.useRef)(null),N=(0,r.useRef)(null);(0,r.useEffect)(function(){return function(){O.current&&cancelAnimationFrame(O.current)}},[]);var I=function(){return"".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2,8))},D=function(){return{id:I(),type:"rich",hidden:!1,plainText:""}},R=function(e){var t;return e?"image"===e.type?{id:e.id||I(),type:"image",url:e.url,hidden:!!e.hidden}:{id:e.id||I(),type:"rich",hidden:!!e.hidden,rich:null!==(t=e.rich)&&void 0!==t?t:jW,plainText:"string"==typeof e.plainText?e.plainText:""}:D()},z=LW((0,r.useState)(function(){return{type:c,title:"",bannerUrl:"",blocks:[D()],hidden:!1,draft:!0,sessionDate:"",worldDate:null}}),2),B=z[0],F=z[1];yW("title-input",P.current,B.title||""),yW("subtitle-input",N.current,B.subtitle||"");var W=LW((0,r.useState)(null),2),H=W[0],U=W[1],G=LW((0,r.useState)(!1),2),V=G[0],q=G[1];r.useEffect(function(){if(null!==H){var e=setTimeout(function(){return U(null)},250);return function(){return clearTimeout(e)}}},[H]),r.useEffect(function(){if(u){var e=!0;return EW(xW().m(function t(){var n,r;return xW().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,q(!0),t.n=1,h(u);case 1:if(n=t.v,e){t.n=2;break}return t.a(2);case 2:r=Array.isArray(null==n?void 0:n.blocks)&&n.blocks.length>0?n.blocks.map(R):[D()],F(function(e){return SW(SW(SW({},e),n),{},{blocks:r})});case 3:return t.p=3,e&&q(!1),t.f(3);case 4:return t.a(2)}},t,null,[[0,,3,4]])}))(),function(){e=!1}}},[u,h]),(0,r.useEffect)(function(){"campaign"===c&&(y||g(),b&&0!==b.length||v())},[c]);var Y=(0,r.useCallback)(function(){var e=EW(xW().m(function e(t){var n,r,o,i,a,l;return xW().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=(null!==(n=t.title)&&void 0!==n?n:"").trim()){e.n=1;break}return e.a(2);case 1:if(o={title:r,subtitle:t.subtitle,bannerUrl:t.bannerUrl,assetId:t.assetId,bannerThumbUrl:t.bannerThumbUrl,blocks:t.blocks,hidden:t.hidden,draft:t.draft,sessionDate:t.sessionDate,worldDate:t.worldDate,type:c},!u){e.n=6;break}return e.p=2,e.n=3,p(SW({_id:u},o));case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2);case 6:if(!d.current){e.n=7;break}return e.a(2);case 7:return d.current=!0,i=Gd.loading("Savingâ€¦",{id:"page-save"}),e.p=8,e.n=9,f(o);case 9:a=e.v,Gd.success("Saved",{id:i,duration:1200}),null!=a&&a._id&&s("/lore/".concat(c,"/").concat(a._id),{replace:!0}),e.n=11;break;case 10:throw e.p=10,l=e.v,d.current=!1,Gd.error((null==l?void 0:l.message)||"Save failed",{id:i,duration:2500}),l;case 11:return e.a(2)}},e,null,[[8,10],[2,4]])}));return function(t){return e.apply(this,arguments)}}(),[u,c,f,p,s]),K=function(e,t,n){var o,i,a,s="number"==typeof n?{idleMs:n}:n||{},l=null!==(o=s.idleMs)&&void 0!==o?o:5e3,c=null===(i=s.immediateFirst)||void 0===i||i,u=null!==(a=s.disabled)&&void 0!==a&&a,d=lW(r.useState(!1),2),f=d[0],p=d[1],h=lW(r.useState(null),2),m=h[0],g=h[1],y=lW(r.useState(null),2),b=y[0],v=y[1],x=r.useRef(e),k=r.useRef(JSON.stringify(e)),w=r.useRef(JSON.stringify(e)),S=r.useRef(null),_=r.useRef(!1),C=r.useRef(!1),E=r.useRef(!1);r.useEffect(function(){x.current=e},[e]);var L=r.useCallback(function(){null!=S.current&&(window.clearTimeout(S.current),S.current=null)},[]),T=r.useRef(sW(oW().m(function e(){return oW().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}))),M=r.useCallback(function(){u||(L(),_.current=!0,S.current=window.setTimeout(sW(oW().m(function e(){return oW().w(function(e){for(;;)switch(e.n){case 0:return S.current=null,e.n=1,T.current();case 1:_.current=!1;case 2:return e.a(2)}},e)})),l))},[L,u,l]);return r.useEffect(function(){T.current=sW(oW().m(function e(){var n,r;return oW().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!u){e.n=1;break}return e.a(2);case 1:if((n=k.current)!==w.current){e.n=2;break}return e.a(2);case 2:if(!C.current){e.n=3;break}return E.current=!0,e.a(2);case 3:return e.p=3,C.current=!0,p(!0),v(null),e.n=4,Promise.resolve(t(x.current));case 4:w.current=n,g(Date.now()),e.n=6;break;case 5:e.p=5,r=e.v,v((null==r?void 0:r.message)||"Autosave failed");case 6:return e.p=6,C.current=!1,p(!1),E.current&&(E.current=!1,M()),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}))},[u,t,M]),r.useEffect(function(){if(!u){var t=JSON.stringify(e);t!==k.current&&(k.current=t,_.current||(_.current=!0,c&&T.current()),M())}},[e,u,c,M]),r.useEffect(function(){return function(){L();var e=k.current;if(!u&&e!==w.current)try{var n=t(x.current);n&&"function"==typeof n.then&&n.catch(function(){})}catch(e){}}},[L,u,t]),{isSaving:f,lastSavedAt:m,error:b}}(B,Y,{idleMs:2500}),Z=K.isSaving,X=K.lastSavedAt,Q=K.error,ee=function(e,t){F(function(n){var r=Array.isArray(n.blocks)?vW(n.blocks):[],o=e+t;if(o<0||o>=r.length)return n;var i=LW(r.splice(e,1),1)[0];return r.splice(o,0,i),SW(SW({},n),{},{blocks:r})}),U(function(n){return n===e?e+t:n})},te=function(){var e=EW(xW().m(function e(){var t,n;return xW().w(function(e){for(;;)switch(e.p=e.n){case 0:if(F(function(e){return SW(SW({},e),{},{bannerUrl:""})}),!u){e.n=4;break}return e.p=1,e.n=2,p({_id:u,bannerUrl:""});case 2:t=e.v,m(t),Gd.success("Banner removed"),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to remove banner",n),Gd.error("Failed to remove banner");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),ne=function(e,t){var n,r,o=null==e||null===(n=e.eras)||void 0===n?void 0:n.find(function(e){return e.id===t.eraId}),i=(null==o?void 0:o.abbreviation)||"",a=null==e||null===(r=e.months)||void 0===r||null===(r=r[t.monthIndex])||void 0===r?void 0:r.name;return"number"==typeof t.day&&a?"".concat(function(e){var t=e%100;if(t>=11&&t<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}}(t.day)," ").concat(a," ").concat(String(t.year)).concat(i?", ".concat(i):""):a?"".concat(a," ").concat(String(t.year)).concat(i?", ".concat(i):""):"".concat(String(t.year)).concat(i?", ".concat(i):"")},re=function(){var e=EW(xW().m(function e(){var t,n,r,o,i,a,s,l,u,d,f;return xW().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,p({_id:B._id,draft:!1});case 1:if(t=e.v,F(function(e){return SW(SW({},e),{},{draft:!1})}),t&&m(t),"campaign"!==c||null==B||!B.worldDate){e.n=13;break}return n=B.worldDate,r=(null==t?void 0:t._id)||(null==B?void 0:B._id),e.p=2,e.n=3,lu.getEvents();case 3:if(o=e.v,i=o.find(function(e){return e.pageId===r}),!i){e.n=5;break}return e.n=4,k({_id:i._id,hidden:!1});case 4:return Gd.success("Page published and event revealed"),e.a(2);case 5:e.n=7;break;case 6:e.p=6,u=e.v,console.error("Failed to check for existing event",u);case 7:if(a=b&&b.length?b[0]._id:void 0,s=null==b?void 0:b.find(function(e){return/campaign|session/i.test(e.name)}),s&&(a=s._id),a){e.n=8;break}return Gd(function(e){return(0,Xe.jsx)("div",{children:"Published. No groups available to create a timeline event."})}),Gd.success("Page published"),e.a(2);case 8:return l=y?ne(y,n):String(n.year),e.p=9,e.n=10,x({title:B.title||"Session",groupId:a,startDate:l,startEraId:n.eraId,startYear:n.year,startMonthIndex:n.monthIndex,startDay:n.day,detailLevel:"Day",description:B.subtitle||"",pageId:r});case 10:Gd.success("Page published and event created"),e.n=12;break;case 11:e.p=11,d=e.v,console.error("Failed to create event for page",d),Gd.success("Page published (event not created)");case 12:e.n=14;break;case 13:Gd.success("Page published");case 14:e.n=16;break;case 15:e.p=15,f=e.v,console.error("Failed to publish page",f),Gd.error("Failed to publish page");case 16:return e.a(2)}},e,null,[[9,11],[2,6],[0,15]])}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=EW(xW().m(function e(){var t,n;return xW().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,p({_id:B._id,draft:!0});case 1:t=e.v,F(function(e){return SW(SW({},e),{},{draft:!0})}),t&&m(t),Gd.success("Page unpublished (linked events hidden)"),e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to unpublish page",n),Gd.error("Failed to unpublish page");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return(0,Xe.jsxs)("div",{className:"loreDetail offset-container",style:{background:"url(".concat(B.bannerUrl?lu.resolveAssetUrl(B.bannerUrl):"transparent",")")},children:[(0,Xe.jsx)("div",{className:"bgLayer",style:{filter:"grayscale(".concat(j,") blur(").concat(L,"px)")}}),(0,Xe.jsx)("div",{className:"overlay"}),a&&(0,Xe.jsx)("button",{className:"icon_square-btn publish-toggle-btn",onClick:null!=B&&B.draft?re:oe,title:null!=B&&B.draft?"Publish":"Unpublish",style:{opacity:.6},children:null!=B&&B.draft?(0,Xe.jsx)(mW,{size:24,weight:"bold"}):(0,Xe.jsx)(Kf,{size:24,weight:"bold"})}),V&&(0,Xe.jsx)("div",{style:{padding:16,opacity:.7},children:"Loadingâ€¦"}),(0,Xe.jsxs)("div",{className:"overflow-container",ref:C,onScroll:function(){var e=C.current;if(e){var t=e.scrollTop,n=Math.min(1,t/1200),r=12*n;O.current&&cancelAnimationFrame(O.current),O.current=requestAnimationFrame(function(){T(r),A(n)})}},children:[(0,Xe.jsxs)("div",{className:"contentContainer",children:[(0,Xe.jsx)("h1",{className:"pageTitle",children:a?(0,Xe.jsxs)(Xe.Fragment,{children:[B.bannerUrl?(0,Xe.jsxs)("div",{className:"banner-icon loaded",onClick:te,children:[(0,Xe.jsx)(qF,{size:32}),(0,Xe.jsx)("span",{children:"REMOVE BANNER"})]}):(0,Xe.jsxs)("div",{className:"banner-icon loaded",onClick:function(){return _(!0)},children:[(0,Xe.jsx)(qF,{size:32}),(0,Xe.jsx)("span",{children:"ADD BANNER"})]}),(0,Xe.jsx)("textarea",{className:"richTextBlock richTextBlock--title",value:B.title,placeholder:"New Title",onChange:function(e){return t=e.target.value,void F(function(e){return SW(SW({},e),{},{title:t})});var t},id:"title-input"},"page-title")]}):(0,Xe.jsx)("h1",{children:B.title||"New Title"})}),(0,Xe.jsx)("div",{className:"campaignWorldDate",children:(0,Xe.jsx)(hp,{ts:y,format:"yearMonthDay",positionAbove:!0,value:B.worldDate?{eraId:B.worldDate.eraId,year:String(null!==(t=B.worldDate.year)&&void 0!==t?t:""),monthIndex:String(null!==(n=B.worldDate.monthIndex)&&void 0!==n?n:"0"),day:String(null!==(o=B.worldDate.day)&&void 0!==o?o:"1")}:null,onChange:function(e){F(function(t){return SW(SW({},t),{},{worldDate:e?{eraId:e.eraId,year:parseInt(e.year||"0",10)||0,monthIndex:parseInt(e.monthIndex||"0",10)||0,day:parseInt(e.day||"1",10)||1}:null})})}})}),(0,Xe.jsx)(gW,{}),(0,Xe.jsx)("h4",{className:"pageSubtitle",children:a?(0,Xe.jsx)("textarea",{className:"richTextBlock richTextBlock--subtitle",value:B.subtitle,placeholder:"Subtitle",onChange:function(e){return t=e.target.value,void F(function(e){return SW(SW({},e),{},{subtitle:t})});var t},id:"subtitle-input"},"page-title"):B.subtitle?(0,Xe.jsx)("h4",{children:B.subtitle||""}):null}),"campaign"===c&&(B.sessionDate||a)&&(0,Xe.jsx)("div",{className:"dateWrapper",children:a?(0,Xe.jsx)(Eb,{value:B.sessionDate||null,onChange:function(e){return F(function(t){return SW(SW({},t),{},{sessionDate:e||""})})},placeholder:"Select session date"}):(0,Xe.jsx)("span",{className:"sessionDate",children:B.sessionDate?B.sessionDate:"N/A"})}),(0,Xe.jsx)("div",{className:"blocks",children:null==B||null===(i=B.blocks)||void 0===i?void 0:i.map(function(e,t){return!a&&e.hidden?null:"image"===e.type?(0,Xe.jsx)("div",{className:"imageBlock ".concat(a&&e.hidden?"rt-hidden":""),children:(0,Xe.jsx)("img",{src:e.url,alt:""})},e.id||t):(0,Xe.jsx)(rW,{className:"richTextBlock",value:SW(SW({},e),{},{type:"rich"}),editable:a,floatingMenu:!1,onChange:function(e){return n=t,r=e,void F(function(e){var t=SW({},e),o=Array.isArray(t.blocks)?vW(t.blocks):[];return o[n]=R(r),t.blocks=o,t});var n,r},onMoveUp:a?function(){return ee(t,-1)}:void 0,onMoveDown:a?function(){return ee(t,1)}:void 0,onDelete:a?function(){return e=t,void F(function(t){var n=Array.isArray(t.blocks)?vW(t.blocks):[];return n.splice(e,1),SW(SW({},t),{},{blocks:n})});var e}:void 0,placeholder:a?"Add your content here...":"",requestFocus:H===t,isDM:a,addBlock:function(){return function(e){F(function(t){var n=SW({},t),r=Array.isArray(n.blocks)?vW(n.blocks):[],o=e+1;return r.splice(o,0,D()),n.blocks=r,n}),U(e+1)}(t)},insertBlocksAfter:function(e){F(function(n){var r=SW({},n),o=vW(r.blocks||[]);return o.splice.apply(o,[t+1,0].concat(vW(e.map(function(e){return SW({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,6)),hidden:!1},e)})))),r.blocks=o,r})}},e.id||t)})})]}),a&&"campaign"===c&&(0,Xe.jsxs)("div",{className:"metaFields",style:{margin:"8px 0 16px"},children:[(0,Xe.jsx)(gW,{}),(0,Xe.jsxs)("div",{className:"saveStatus",children:[Z?"Savingâ€¦":X?"Last saved at: ".concat(new Date(X).toLocaleTimeString()):null,Q?(0,Xe.jsxs)("span",{className:"error",children:[" â€¢ ",Q]}):null]})]})]}),(0,Xe.jsx)(xf,{isOpen:S,onClose:function(){return _(!1)},onSelect:function(e){F(function(t){return SW(SW({},t),{},{bannerUrl:e.url,bannerThumbUrl:e.thumb_url,assetId:e._id})}),_(!1)}})]})},OW=function(){var e=(0,r.useRef)(null);return(0,r.useEffect)(function(){var t=e.current;if(t){var n=function(){var e=t.contentDocument;if(e){var n=e.querySelector("svg");if(n){var r=n.svgatorPlayer;r&&r.play()}}};return t.addEventListener("load",n),function(){t.removeEventListener("load",n)}}},[]),(0,Xe.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0e1117 0%, #1b1f2a 100%)",position:"relative",overflow:"hidden"},children:(0,Xe.jsx)("object",{ref:e,data:o(3206),type:"image/svg+xml",style:{width:"500px",height:"500px",pointerEvents:"none"}})})};function PW(e){return PW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PW(e)}function NW(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return IW(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,l=e,f.n=n,a}};function p(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(IW(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,IW(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,IW(d,"constructor",c),IW(c,"constructor",l),l.displayName="GeneratorFunction",IW(c,o,"GeneratorFunction"),IW(d),IW(d,o,"Generator"),IW(d,r,function(){return this}),IW(d,"toString",function(){return"[object Generator]"}),(NW=function(){return{w:i,m:f}})()}function IW(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}IW=function(e,t,n,r){function i(t,n){IW(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},IW(e,t,n,r)}function DW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DW(Object(n),!0).forEach(function(t){zW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zW(e,t,n){return(t=function(e){var t=function(e){if("object"!=PW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=PW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==PW(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function FW(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){BW(i,r,o,a,s,"next",e)}function s(e){BW(i,r,o,a,s,"throw",e)}a(void 0)})}}function WW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HW=function(){Y(),J(),Su(function(e){return e.user});var e=Su(function(e){return e.setUser}),t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WW(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WW(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)({connected:!1,expired:!1,checking:!1}),2),n=t[0],o=t[1];(0,r.useEffect)(function(){var t=new URL(window.location.href),n=t.searchParams.get("token"),r=t.hash?new URLSearchParams(t.hash.replace(/^#/,"")).get("token"):null,o=n||r,i=function(){if(n&&t.searchParams.delete("token"),r){var e=new URLSearchParams(t.hash.replace(/^#/,""));e.delete("token");var o=e.toString();t.hash=o?"#".concat(o):""}var i=t.pathname+(t.search?"?".concat(t.searchParams.toString()):"")+t.hash;window.history.replaceState(null,"",i)},a=function(){var t=FW(NW().m(function t(n){var r,o;return NW().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,localStorage.setItem("token",n),t.n=1,lu.getCurrentUser();case 1:(r=t.v)&&e(RW(RW({},r),{},{token:n})),t.n=3;break;case 2:t.p=2,o=t.v,console.error("Failed to hydrate user from token",o),localStorage.removeItem("token"),e(null);case 3:return t.p=3,i(),t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(e){return t.apply(this,arguments)}}();if(o)a(o);else{var s=localStorage.getItem("token");s&&FW(NW().m(function t(){var n;return NW().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,lu.getCurrentUser();case 1:(n=t.v)&&e(RW(RW({},n),{},{token:s})),t.n=3;break;case 2:t.p=2,t.v,localStorage.removeItem("token"),e(null);case 3:return t.a(2)}},t,null,[[0,2]])}))()}},[e]);var i=Su(function(e){return e.loadGroups}),a=Su(function(e){return e.loadEvents}),s=Su(function(e){return e.loadTimeSystem}),l=Su(function(e){return e.loadAssets}),c=Su(function(e){return e.logout}),u=Su(function(e){return e.isDM}),d=Su(function(e){return e.isLoggedIn});return(0,r.useEffect)(function(){i(),a(),s(),l()},[i,a,s]),(0,r.useEffect)(function(){var e=function(){c()};return window.addEventListener("app:unauthorized",e),function(){return window.removeEventListener("app:unauthorized",e)}},[c]),(0,r.useEffect)(function(){d()&&u()&&(o(function(e){return RW(RW({},e),{},{checking:!0})}),lu.checkGoogleTokenStatus().then(function(t){t.connected&&(t.expired||!1===t.needsReauth)?lu.refreshGoogleToken().then(function(t){t.success&&t.token?(localStorage.setItem("token",t.token),lu.getCurrentUser().then(function(n){n&&e(RW(RW({},n),{},{token:t.token}))}),o({connected:!0,expired:!1,checking:!1})):t.needsReauth&&o({connected:!1,expired:!0,checking:!1})}).catch(function(){o({connected:!1,expired:!0,checking:!1})}):o({connected:t.connected,expired:t.expired,checking:!1})}).catch(function(){o({connected:!1,expired:!0,checking:!1})}))},[d,u,e]),(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)("div",{className:"loginContainer home-appear ",children:[d()&&u()&&!n.checking&&n.expired&&!n.connected&&(0,Xe.jsx)("div",{className:"googleStatus",title:"Google Docs connection lost. Click to reconnect.",children:(0,Xe.jsxs)("button",{className:"reconnectButton",onClick:function(e){e.stopPropagation(),window.location.href="".concat(lu.getBaseUrl(),"/auth/google")},title:"Reconnect Google Docs",children:[(0,Xe.jsx)("span",{style:{color:"#ff9800"},children:"âš "})," ","Reconnect"]})}),(0,Xe.jsxs)("button",{className:"loginButton",title:d()?"Logout":"Login with Google",onClick:function(){d()?c():window.location.href="".concat(lu.getBaseUrl(),"/auth/google")},children:[" ",(0,Xe.jsxs)("span",{className:"loginButtonWrapper",children:[d()?"Logout":"DM Login",(0,Xe.jsx)("span",{className:"icon_square-btn",children:d()?(0,Xe.jsx)(H_,{}):(0,Xe.jsx)(V_,{})})]})]})]}),(0,Xe.jsx)("div",{className:"appContent",children:(0,Xe.jsxs)(ce,{children:[(0,Xe.jsx)(se,{path:"/",element:(0,Xe.jsx)(nt,{})}),(0,Xe.jsx)(se,{path:"/campaign",element:(0,Xe.jsx)(rt,{})}),(0,Xe.jsx)(se,{path:"/timeline",element:(0,Xe.jsx)(Zy,{})}),(0,Xe.jsx)(se,{path:"/test-svg",element:(0,Xe.jsx)(OW,{})}),(0,Xe.jsx)(se,{path:"/lore",element:(0,Xe.jsx)(z_,{})}),(0,Xe.jsx)(se,{path:"/lore/:type/new",element:(0,Xe.jsx)(AW,{isDM:u()})}),(0,Xe.jsx)(se,{path:"/lore/:type/:id",element:(0,Xe.jsx)(AW,{isDM:u()})})]})}),(0,Xe.jsx)(Qe,{}),(0,Xe.jsx)(Xy,{})]})};const UW=function(){return(0,Xe.jsx)(xe,{children:(0,Xe.jsx)(HW,{})})};var GW=o(6523),$W={};$W.styleTagTransform=Be(),$W.setAttributes=Ie(),$W.insert=Pe().bind(null,"head"),$W.domAPI=Ae(),$W.insertStyleElement=Re(),Me()(GW.A,$W),GW.A&&GW.A.locals&&GW.A.locals;var VW=o(2462),qW={};qW.styleTagTransform=Be(),qW.setAttributes=Ie(),qW.insert=Pe().bind(null,"head"),qW.domAPI=Ae(),qW.insertStyleElement=Re(),Me()(VW.A,qW),VW.A&&VW.A.locals&&VW.A.locals;var YW=document.getElementById("root");YW&&(0,a.H)(YW).render((0,Xe.jsx)(UW,{}))})()})();