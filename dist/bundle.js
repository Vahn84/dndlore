/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n={312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(1720))&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},411:(e,t,n)=>{var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},582:(e,t,n)=>{"use strict";e.exports=n.p+"0994ced5097592f31d4c.woff"},668:(e,t,n)=>{"use strict";e.exports=n.p+"041a2a164f59d1a23099.eot"},834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,o=((r=n(411))&&r.__esModule?r:{default:r}).default,i=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM,t.default=i},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},1020:(e,t,n)=>{"use strict";var r=n(6540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1345:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1426:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-bulk876ed27f8e2e7a34c58a.svg"},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1682:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(8275),n.b),p=a()(o());p.i(s.A),p.i(l.A),p.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var f=u()(d);p.push([e.id,`.history{position:relative;display:block;min-height:100%;height:100%;max-height:100%;color:#e2e8f0;overflow:hidden;background-image:url(${f});background-size:cover;background-position:center}`,""]);const h=p},1687:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.loreDetail{background-size:cover !important;background-position:center center !important}.loreDetail .bgLayer{position:absolute;inset:0;background:inherit;background-size:cover;background-position:center;pointer-events:none;filter:blur(0px);transform:translate3d(0, -1rem, 0);will-change:filter;z-index:0}.loreDetail.offset-container{height:auto;min-height:100%;min-height:100vh;position:relative;margin-top:0;padding-bottom:2rem;padding-top:0}.loreDetail .overflow-container{position:absolute;top:130px;left:0;right:0;bottom:0;width:100%;overflow-y:auto;overscroll-behavior-y:contain;-webkit-overflow-scrolling:touch;scroll-padding-top:16px}.loreDetail .contentContainer{max-width:700px;margin:0 auto;overflow:visible;position:relative;padding-bottom:2rem}.loreDetail .contentContainer .pageTitle{margin:50vh 0 0 0;position:relative;text-align:center}.loreDetail .contentContainer .pageTitle h1{font-size:2.5rem;color:#e2e8f0}.loreDetail .contentContainer .pageTitle textarea{text-align:center;resize:none}.loreDetail .contentContainer .pageTitle:focus-within input,.loreDetail .contentContainer .pageTitle textarea{outline:none}.loreDetail .contentContainer .pageTitle:hover .banner-icon{opacity:.5}.loreDetail .contentContainer .pageTitle .banner-icon{position:absolute;top:-2.5rem;left:50%;transform:translateX(-50%);cursor:pointer;color:#d5d5d5;opacity:0;display:flex;align-items:center;justify-content:center}.loreDetail .contentContainer .pageTitle .banner-icon span{margin-left:.5rem}.loreDetail .contentContainer .pageTitle .banner-icon.loaded{color:#997e43}.loreDetail .contentContainer .pageTitle .banner-icon:hover{opacity:.8}.loreDetail .contentContainer .pageSubtitle{position:relative;text-align:center;margin:0}.loreDetail .contentContainer .pageSubtitle:focus-within input,.loreDetail .contentContainer .pageSubtitle textarea{outline:none}.loreDetail .contentContainer .pageSubtitle textarea{text-align:center;resize:none;height:30px}.loreDetail .contentContainer .pageSubtitle h4{font-size:1.2rem;color:#997e43;font-weight:400}.loreDetail .contentContainer .dateWrapper{display:flex;justify-content:center;align-items:center;color:#d5d5d5;font-family:"Montserrat",sans-serif;font-weight:700;font-weight:300;font-size:.65rem;gap:.5rem}.loreDetail .contentContainer .dateWrapper .dateWrappedIcon{opacity:.8}.loreDetail .contentContainer .dateWrapper .datepick{flex:0 1 auto;min-width:200px}.loreDetail .contentContainer .dateWrapper .datepick .datepick__inputWrap .modal__input.datepill{font-family:"Montserrat",sans-serif;font-weight:700;font-weight:300;font-size:.65rem;text-align:center;padding:.4rem 2rem;background:rgba(0,0,0,.2);border:1px solid hsla(0,0%,100%,.1)}.loreDetail .contentContainer .dateWrapper .datepick .datepick__inputWrap .modal__input.datepill::placeholder{color:#bababa;opacity:.6}.loreDetail .contentContainer .dateWrapper .datepick .datepick__inputWrap .datepill__icon{left:.5rem;opacity:.7}.loreDetail .contentContainer .dateWrapper .sessionDate{font-family:"Montserrat",sans-serif;font-weight:700;font-weight:300;font-size:.65rem}.loreDetail .contentContainer .dateWrapper input[type=date]{font-family:"Montserrat",sans-serif;font-weight:700;width:auto;outline:none;font-weight:300;font-size:.65rem;background:rgba(0,0,0,0);border:none;color:#bababa;text-align:center;position:relative}.loreDetail .contentContainer .richTextBlock--title{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-transform:uppercase;background:rgba(0,0,0,0);border:none;color:#e2e8f0;font-size:larger;width:100%;padding:0}.loreDetail .contentContainer .richTextBlock--subtitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;background:rgba(0,0,0,0);border:none;color:#997e43;font-size:1.2rem;width:100%;padding:0;text-transform:uppercase}.loreDetail .contentContainer .publishRow{margin-top:.5rem;display:flex;justify-content:center}.loreDetail .contentContainer .publishBtn{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.loreDetail .contentContainer .publishBtn .icon{font-size:1rem;display:flex}.loreDetail .contentContainer .publishBtn .icon.iconly-Hide:before{padding-top:1px}.loreDetail .contentContainer .publishBtn span{display:flex}.loreDetail .contentContainer .publishBtn{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.loreDetail .contentContainer .publishBtn:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.loreDetail .contentContainer .publishBtn{margin-top:.5rem}.loreDetail .contentContainer .blocks{margin-top:1.5rem}.loreDetail .contentContainer .blocks .blockRow{position:relative;display:flex;align-items:flex-start;gap:8px;width:100%}.loreDetail .contentContainer .blocks .blockRow+.blockRow{margin-top:8px}.loreDetail .contentContainer .blocks .blockRow .blockRow__add{display:flex;justify-content:center;align-items:center;position:relative;width:22px;height:22px;border-radius:6px;color:#d5d5d5;background:rgba(0,0,0,0);border:none;box-shadow:none;line-height:1;opacity:0;cursor:pointer;transition:opacity .15s ease,background .15s ease,border-color .15s ease}.loreDetail .contentContainer .blocks .blockRow .blockRow__add:hover{background:#494949;color:#e2e8f0}.loreDetail .contentContainer .blocks .richTextBlock{font-family:"Crimson Text",sans-serif;width:100%;position:relative}.loreDetail .contentContainer .blocks .richTextBlock.rt-hidden .rt-content{border:2px dashed #a855f7;padding:1rem;border-radius:6px;background:rgba(168,85,247,.2)}.loreDetail .contentContainer .blocks .richTextBlock.rt-hidden .rt-content::before{content:"Secret";color:#a855f7;font-size:.9rem;font-weight:600;margin-bottom:.5rem}.loreDetail .contentContainer .blocks .richTextBlock .rt-content{position:relative;outline:none;font-size:1.1rem;line-height:1.2}.loreDetail .contentContainer .blocks .richTextBlock .rt-content[data-empty=true][data-placeholder]::before{content:attr(data-placeholder);position:absolute;pointer-events:none;opacity:.5;color:#494949}.loreDetail .contentContainer .blocks .richTextBlock .rt-content p,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h1,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h2,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h3,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h4,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h5,.loreDetail .contentContainer .blocks .richTextBlock .rt-content h6,.loreDetail .contentContainer .blocks .richTextBlock .rt-content blockquote,.loreDetail .contentContainer .blocks .richTextBlock .rt-content ul{color:#e2e8f0;outline:none;margin:0}.loreDetail .contentContainer .blocks .richTextBlock .rt-content blockquote{background:rgba(230,217,190,.2);padding:1rem;color:#bababa;margin:1rem 0;border-radius:6px;border:1px solid #997e43}.loreDetail .contentContainer .blocks .richTextBlock .rt-content blockquote p{color:#e2e8f0}.loreDetail .contentContainer .blocks .richTextBlock .rt-content p{color:#e2e8f0}.loreDetail .contentContainer .blocks .richTextBlock:hover .rt-toolbar{opacity:1}.saveStatus{font-family:"Montserrat",sans-serif;font-weight:300;font-size:.65rem;color:#bababa;text-align:center}.saveStatus .error{color:#a855f7}.campaignWorldDate{position:relative}.campaignWorldDate .datepick{display:flex;justify-content:center}.campaignWorldDate .datepick .datepill__icon{display:none}.campaignWorldDate .datepick input{width:auto;background:rgba(0,0,0,0);border:none;padding:0 !important;height:20px;color:#d5d5d5;text-align:center;cursor:pointer}.campaignWorldDate .datepick input::placeholder{color:#bababa}',""]);const u=c},1720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6540),a=h(i),s=h(n(961)),l=h(n(5556)),c=h(n(9090)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6462)),d=n(834),p=h(d),f=n(1345);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",b=d.canUseDOM&&void 0!==s.default.createPortal,v=function(e){return document.createElement(e)},k=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(e){return e()}var w=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!b&&s.default.unmountComponentAtNode(o.node);var e=x(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=k()(o,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=v("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:x(e.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=v("div")),k()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(p.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(p.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},w.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(w),t.default=w},1769:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.timeline{position:relative;top:0;margin:0 auto;height:calc(100% - 130px);margin-top:130px;overflow:auto;padding:0}.timelineHeader{position:fixed;margin-top:20px;width:100%;height:30px;display:flex;justify-content:space-between;align-items:center;opacity:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards;padding:0 1rem;z-index:4}.actions{display:flex;gap:.5rem}.actionButton{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:4px;cursor:pointer;font-size:.9rem}.toolbox{display:flex;gap:.5rem}.toolboxButton{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-transform:uppercase;display:flex;align-items:center;gap:.4rem;border:none;color:#e2e8f0;font-size:.7rem;cursor:pointer}.toolboxButton.hide{display:none}.groupFilter{display:flex;gap:.5rem;flex-wrap:wrap}.pill{font-family:"Montserrat",sans-serif;font-weight:400;border:1px solid #494949;border-radius:9999px;padding:.25rem .75rem;font-size:.8rem;cursor:pointer;color:#e2e8f0;background:rgba(0,0,0,0);transition:background .2s,color .2s}.pill.active{background:#e2e8f0;color:#0e0f0f;border-color:#0e0f0f}.timeline-wrapper{margin-top:70px}.virtuoso-timeline div[data-testid=virtuoso-item-list]{padding-bottom:3rem !important}.timeline-event-wrapper{max-width:1060px;margin:0 auto;opacity:0;padding-top:10px;position:relative;z-index:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards}.timeline-event-wrapper:has(.contextMenu.open){z-index:100}.event{position:relative}.event:last-child .line{bottom:50%}.line{position:absolute;left:90px;top:16px;bottom:-2rem;width:2px;background-color:#494949;z-index:0}.row{display:flex;align-items:stretch;height:170px}.date{width:90px;text-align:right;padding-right:.5rem;height:100%;flex:.1}.date .year{font-weight:600}.date .diff{font-size:.75rem;color:#bababa}.marker{position:relative}.marker .diamond{left:4px;top:4px;z-index:1;display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.marker .diamond .diamond-line{width:1px;margin-top:.5rem;margin-bottom:.5rem;height:100%;background-color:#d5d5d5}.cardWrapper{flex:.75;margin-left:1rem;position:relative;overflow:visible}.cardWrapper .card{position:relative;background-color:rgba(30,41,59,.8);border-radius:8px;color:#e2e8f0;overflow:visible;display:flex;width:100%;background-size:cover;background-position:center;border:1px solid #0e0f0f;transition:border .2s ease,box-shadow .2s ease;height:100%}.cardWrapper .card::after{content:"";position:absolute;left:0;right:0;bottom:0px;height:40%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));z-index:2;pointer-events:none;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.cardWrapper .card:hover{border:1px solid #fff}.cardWrapper .card .cardBg{width:100%;position:absolute;top:0;left:0;z-index:1;height:100%;background-size:cover;background-position:center center;border-radius:8px;opacity:.5}.info{position:relative;z-index:3;padding:1rem;flex:1;display:flex;flex-direction:column;justify-content:space-between}.groupLabel{align-self:flex-start;background-color:var(--group-color, rgb(73, 73, 73));color:#0e0f0f;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;border:1px solid}.title_wrapper{display:flex;flex-direction:row;gap:.7rem;align-items:center;padding-right:3rem}.title_wrapper .icon_square-btn{height:45px;width:45px}.title_wrapper .icon_square-btn:hover{background:rgba(0,0,0,0);color:#d5d5d5}.title_wrapper .title_subtitle_wrapper{display:flex;flex-direction:column}.title{margin:0;font-size:1.1rem;font-weight:600;padding-right:30px}.subtitle{font-size:.8rem;color:#bababa;margin-top:.25rem;padding-right:30px}.description{font-size:.75rem;color:#d5d5d5;margin-top:.5rem;line-height:1.4}.editButton{background:none;border:none;color:#60a5fa;font-size:.75rem;cursor:pointer;padding:0}.editRow{position:absolute;bottom:15px;right:20px;display:flex;justify-content:flex-end;z-index:4;height:30px;width:30px;align-self:flex-end}.menuButton{display:none;background:none;border:none;color:#e2e8f0;font-size:1.1rem;cursor:pointer;padding:.8rem .6rem;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s ease;height:100%;width:100%}.menuButton:hover{display:flex;background:hsla(0,0%,100%,.12)}.menuButton:focus-visible{outline:2px solid #d0b373;outline-offset:2px}.contextMenu{position:absolute;top:-12rem;right:-10rem;background:#1b1d1f;border:1px solid #997e43;border-radius:8px;min-width:180px;padding:.25rem 0;box-shadow:0 0 10px rgba(0,0,0,.2);z-index:10;display:none;flex-direction:column;z-index:100}.contextMenu.open{display:flex}.contextMenu .menuItem{padding:.55rem .9rem;font-size:.85rem;color:#e2e8f0;cursor:pointer;white-space:nowrap;transition:background .2s ease}.contextMenu .menuItem:hover{background:hsla(0,0%,100%,.1)}.contextMenu .separator{height:1px;background:hsla(0,0%,100%,.12);margin:.25rem 0}.contextMenu .submenu{position:relative}.contextMenu .submenu::after{content:"â€º";position:absolute;right:10px}.contextMenu .submenu-list{display:none;position:absolute;top:-1px;left:100%;background:#1e293b;border:1px solid #494949;border-radius:8px;min-width:160px;padding:.25rem 0;box-shadow:0 6px 16px rgba(0,0,0,.45);z-index:10}.contextMenu .submenu:hover .submenu-list{display:block}.card.menu-open{border:1px solid #fff;box-shadow:0 0 10px hsla(0,0%,100%,.35)}.image{width:35%;background-size:cover;background-position:center}.floating-button{position:fixed;bottom:2rem;left:2rem;background:#d0b373;color:#0e0f0f;border:none;padding:.6rem 1rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:600;cursor:pointer;display:flex;width:3rem;height:3rem;font-size:1.5rem;align-items:center;justify-content:center;transition:background-color .3s ease,color .3s ease}.floating-button:hover{background-color:#997e43;color:#e2e8f0}@keyframes wrapperFromTopToBottom{0%{transform:translateY(100%)}100%{transform:translateY(0);opacity:1}}.timeline-event-wrapper.menu-open{z-index:3000}.card.menu-open{z-index:3100}.contextMenu{z-index:3200}',""]);const u=c},1890:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-light40a279e5b45f6be0b987.svg"},1948:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(3123),n.b),p=a()(o());p.i(s.A),p.i(l.A),p.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var f=u()(d);p.push([e.id,`input[type=number]{appearance:textfield;-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.datepick{position:relative}.datepick__label{font-size:.8rem;gap:.4rem;display:block}.datepick__inputWrap{position:relative}.datepick__inputWrap .modal__input.datepill{position:relative;padding-left:2rem;cursor:pointer}.datepick__inputWrap .modal__input.datepill:focus{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}.datepick__inputWrap:focus-within .datepill__icon svg{color:#d0b373}.datepick__inputWrap .datepill__icon{display:flex;justify-content:center;align-items:center;position:absolute;width:25px;height:25px;top:.5rem;font-size:1rem;color:#d5d5d5;left:.3rem}.datepick__inputWrap .datepill__icon-end{display:flex;justify-content:center;align-items:center;position:absolute;width:25px;height:25px;top:.4rem;font-size:1rem;color:#d5d5d5;right:.4rem;background:none;border:none;cursor:pointer}.datepick__inputWrap .datepill__icon-end:hover{color:#d5d5d5}.datepick__inputWrap .datepill__icon-end{width:30px;height:30px}.datepick__inputWrap.session-datepicker{display:flex;justify-content:center;align-items:center}.datepick__inputWrap.session-datepicker .modal__input.datepill{background-color:rgba(0,0,0,0) !important;margin:0;padding:0 !important;height:20px;border:0 !important;width:70px !important}.datepick__inputWrap.is-disabled{opacity:.6;pointer-events:none}.datefield,.modal__select.datepill{display:flex;align-items:center;gap:.5rem;width:100%;text-align:left;padding:.625rem .75rem;border-radius:10px;background:#1b1d1f;border:1px solid #494949;line-height:1.25;transition:border-color .15s ease,box-shadow .15s ease}.datefield:hover,.modal__select.datepill:hover{border-color:#bababa}.datefield:focus-visible,.modal__select.datepill:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.datefield__icon{display:inline-flex;opacity:.9}.dp-pop{position:absolute;top:calc(100% + 8px);left:50%;transform:translateX(-50%);font-size:.8rem;background:#1b1d1f;border-radius:8px;z-index:3}.dp-pop__panel{background:#1b1d1f;border:1px solid #494949;border-radius:12px;box-shadow:0 12px 28px rgba(0,0,0,.45);padding:12px;min-width:360px;max-width:420px;display:grid;grid-template-rows:auto auto 1fr;gap:10px}.dp-pop__panel .dp-pop__head{display:flex;justify-content:center}.dp-pop__panel .dp-pop__head .dp-pop__navbtn{background:rgba(0,0,0,0);border:none;color:#d5d5d5;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:4px}.dp-pop__panel .dp-pop__head .dp-pop__navbtn:hover{color:#d0b373}.dp-pop__panel .dp-pop__head .dp-pop__headmain{display:flex;font-size:.6rem;align-items:flex-start;gap:.4rem}.dp-pop__panel .dp-pop__head .dp-pop__headmain input,.dp-pop__panel .dp-pop__head .dp-pop__headmain select{background:rgba(0,0,0,.3);color:#d5d5d5;font-size:.6rem;border:1px solid #494949;text-align:center;margin-top:0;border-radius:6px;padding:6px 12px;width:auto;height:100%}.dp-pop__panel .dp-pop__head .dp-pop__headmain input:focus,.dp-pop__panel .dp-pop__head .dp-pop__headmain select:focus{outline:none;border-color:#d0b373}.dp-pop__panel .dp-pop__head .dp-pop__headmain select{appearance:none;background-image:url(${f});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}.dp-pop__panel .dp-pop__head .dp-pop__headmain select:focus{appearance:none;background-image:url(${f});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}.dp-pop__grid{display:grid;grid-template-columns:repeat(7, 1fr);gap:6px}.dp-pop__grid .dp-pop__weekcell{text-align:center;color:#bababa;font-size:.7rem;font-weight:600;padding:4px 0}.dp-pop__toolbar{display:flex;align-items:center;justify-content:space-between;gap:8px}.dp-pop__nav{display:inline-flex;align-items:center;gap:6px}.dp-pop__nav button{appearance:none;border:1px solid #494949;background:rgba(0,0,0,0);border-radius:8px;width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,border-color .15s ease,box-shadow .15s ease}.dp-pop__nav button:hover{background:hsla(0,0%,100%,.1);border-color:#bababa}.dp-pop__nav button:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.dp-pop__selectors{display:inline-flex;align-items:center;gap:8px}.dp-pop__panel select{appearance:none;border-radius:10px;padding:.5rem 1.9rem .5rem .75rem;font:inherit;line-height:1.25;color:inherit;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease;background-repeat:no-repeat;background-position:right .6rem center;background-size:12px 12px;background-image:none}.dp-pop__panel select:hover{border-color:#bababa}.dp-pop__panel select:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.dp-pop__caption{text-align:center;font-weight:600;letter-spacing:.2px}.dp-pop__dow{display:contents}.dp-pop__dow>*{text-align:center;font-size:.75rem;font-weight:600;opacity:.7;padding:4px 0 6px;text-transform:uppercase}.dp-pop__daybtn,.dp-pop__day{appearance:none;border:1px solid rgba(0,0,0,0);background:rgba(0,0,0,0);border-radius:8px;width:40px;height:36px;line-height:36px;display:inline-flex;align-items:center;justify-content:center;font:inherit;color:#d5d5d5;cursor:pointer;transition:background .12s ease,border-color .12s ease,box-shadow .12s ease;font-size:.85rem}.dp-pop__daybtn:hover,.dp-pop__day:hover{background:hsla(0,0%,100%,.1);border-color:#494949}.dp-pop__daybtn:focus-visible,.dp-pop__day:focus-visible{outline:none;box-shadow:0 0 0 2px #d0b373}.dp-pop__daybtn.is-outside,.dp-pop__day.is-outside{opacity:.3;color:#bababa}.dp-pop__daybtn.is-disabled,.dp-pop__day.is-disabled,.dp-pop__daybtn[disabled]{opacity:.25;pointer-events:none}.dp-pop__daybtn.is-selected,.dp-pop__day.is-selected,.dp-pop__daybtn[aria-current=date]{background:#997e43;color:#0e0f0f;border-color:#d0b373;font-weight:600}@media(max-width: 420px){.dp-pop__grid button,.dp-pop__day{width:36px;height:32px;line-height:32px}}`,""]);const h=p},1954:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".tsm__overlay{background-color:rgba(0,0,0,.6) !important;z-index:1000 !important}.tsm__content{top:50% !important;left:50% !important;right:auto !important;bottom:auto !important;transform:translate(-50%, -50%) !important;background-color:#1e293b !important;border:1px solid #334155 !important;border-radius:8px !important;padding:1rem 0 !important;width:640px !important;max-height:90vh !important;overflow:hidden !important;color:#f0f4fc !important;display:flex !important}.tsm__nav{width:180px;border-right:1px solid #334155;padding:1rem;background:#0e0f0f}.tsm__title{margin:.5 0rem;font-size:1rem}.tsm__navlist{display:flex;flex-direction:column;gap:.5rem}.tsm__navbtn{text-align:left;background:rgba(0,0,0,0);border:none;color:#f0f4fc;padding:.5rem;border-radius:4px;cursor:pointer}.tsm__navbtn.is-active{background:#334155}.tsm__body{flex:1;padding:0 1rem;overflow-y:auto}.tsm__sectionTitle{margin:0 0 1rem}.tsm__help{font-size:.8rem;color:#94a3b8}.tsm__grid{display:flex;flex-wrap:wrap;gap:1rem}.tsm__field{flex:0 0 45%}.tsm__label{font-size:.85rem;display:block}.tsm__input,.tsm__select{width:100%;margin-top:.25rem;color:#f0f4fc;background:rgba(0,0,0,0);border-radius:6px;border:1px dashed #1b1d1f;padding:.5rem}.tsm__input--flex{flex:1}.tsm__input--num{width:60px}.tsm__input--abbr{width:60px}.tsm__input--year{width:80px}.tsm__checkrow{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.tsm__list{margin-top:.5rem}.tsm__listItem{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;padding:.5rem;background:#0f1724;border-radius:4px;border:1px solid #334155}.tsm__handle{cursor:grab;color:#94a3b8}.tsm__index{width:24px;color:#cbd5e1}.tsm__btn{padding:.4rem .8rem;border:none;border-radius:4px;cursor:pointer}.tsm__btn--primary{background:#2563eb;color:#fff}.tsm__btn--muted{background:#334155;color:#f0f4fc}.tsm__iconbtn{background:none;border:none;font-size:1rem;cursor:pointer}.tsm__iconbtn--danger{color:#ef4444}.tsm__formats{display:flex;gap:2rem;flex-wrap:wrap}.tsm__formatsCol{flex:0 0 300px}.tsm__formatsCol--codes{flex:1;min-width:200px}.tsm__subtitle{font-size:.9rem;margin:0}.tsm__example{font-size:.8rem;color:#94a3b8;margin-top:.25rem}.tsm__label--spaced{margin-top:.5rem;display:block}.tsm__codes{font-size:.8rem;color:#94a3b8;line-height:1.4}.tsm__actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:1rem;padding-bottom:1rem}",""]);const u=c},2162:(e,t,n)=>{"use strict";var r=n(6540),o=n(9888),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var f=a(e,d[0],d[1]);return l(function(){p.hasValue=!0,p.value=f},[f]),u(f),f}},2310:(e,t,n)=>{"use strict";e.exports=n.p+"6c3492a36854b6cfbb69.ttf"},2411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return[].slice.call(t.querySelectorAll("*"),0).reduce(function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])},[]).filter(a)};var n="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var o=window.getComputedStyle(e),i=o.getPropertyValue("display");return t?i!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,o):i===n}catch(e){return console.warn("Failed to inspect element style"),!1}}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&function(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}(e,!n)}e.exports=t.default},2462:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(3123),n.b),p=new URL(n(4269),n.b),f=a()(o());f.i(s.A),f.i(l.A),f.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var h=u()(d),m=u()(p);f.push([e.id,`.navBar{position:fixed;left:0;right:0;align-items:center;z-index:1000;display:flex;justify-content:center;align-items:center}.navBar .brand{display:flex;flex-direction:column;align-items:center}.navBar .brand .brand-logo{max-height:200px;width:auto;transition:all 1s ease-in-out}.navBar.other{padding:.5rem 1rem;border-bottom:1px solid #887d05;animation:fromBottomToTop .4s ease-out forwards;height:130px}.navBar.other .brand .brand-logo{max-height:100px;width:auto;transition:all .1s ease-in-out}.navBar.is-home{padding:1.5rem 1rem;background:rgba(0,0,0,0);animation:fromTopToBottom 1s ease-out forwards;height:260px}.navBar.is-home .brand .brand-logo{max-height:200px;width:auto}.navLink{text-decoration:none;font-weight:600;color:#e2e8f0;transition:color .2s;width:160px;transition:all .2s ease}.navLink:hover{color:#d0b373}.navLink.active{color:#d0b373}.navLink.active:hover{color:#bababa}.navLink.is-home{font-size:1.5rem;width:200px}.navLink.other{font-size:1rem}.brand .treeIcon{line-height:1}.brand .name{font-family:"serif";letter-spacing:.05em;color:#d0b373;font-weight:700}.brand.is-home .treeIcon{font-size:3rem}.brand.other .treeIcon{font-size:1.8rem}.brand.is-home .name{font-size:2.5rem}.brand.other .name{font-size:1.4rem}.backLink{position:absolute;top:50%;left:1rem;transform:translateY(-50%);text-decoration:none;font-family:"Montserrat",sans-serif;font-weight:200;color:#e2e8f0;display:flex;transition:all .2s ease}.backLink:hover{color:#d0b373}@keyframes fromTopToBottom{0%{top:0px}100%{top:calc(100% - 260px)}}@keyframes fromBottomToTop{0%{top:calc(100% - 260px)}100%{top:0px;border-width:100%;border-opacity:1}}.lore-create-fab{position:fixed;bottom:2rem;left:2rem;z-index:1000}.lcfab__surface{position:fixed;bottom:2rem;left:2rem;background:#d0b373;color:#0e0f0f;border:none;padding:.6rem 1rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:600;cursor:pointer;display:flex;width:3rem;height:3rem;font-size:1.5rem;align-items:center;justify-content:center;transition:background-color .3s ease,color .3s ease}.lcfab__surface:hover{background-color:#d0b373;color:#0e0f0f}.lcfab__surface{font-family:"Montserrat",sans-serif;font-weight:400;transition:all .3s cubic-bezier(0.2, 0.7, 0.2, 1);outline:none}.lcfab__surface .lcfab__plus{display:flex;justify-content:center;align-items:center;position:absolute;height:100%;width:100%;transition:all .2s ease;outline:none}.lcfab__surface .lcfab__content{opacity:0;pointer-events:none;transition:all .2s ease;outline:none;width:100%}.lcfab__surface .lcfab__content .lcfab__content_wrapper{display:flex;align-items:flex-start;gap:10px;justify-content:flex-start;flex-direction:column;width:100%}.lcfab__surface .lcfab__content .lcfab__content_wrapper--option{font-family:"Montserrat",sans-serif;font-weight:300;display:flex;align-items:center;justify-content:flex-start;font-size:.9rem;text-transform:uppercase}.lcfab__surface .lcfab__content .lcfab__content_wrapper--option-icon{margin-right:.3rem}.lcfab__surface[data-open=true]{width:190px;height:145px;box-shadow:0 18px 40px rgba(0,0,0,.55)}.lcfab__surface[data-open=true]:hover{background:#d0b373}.lcfab__surface[data-open=true] .lcfab__plus{opacity:0;pointer-events:none}.lcfab__surface[data-open=true] .lcfab__content{opacity:1;pointer-events:auto}.lcfab__surface[data-open=true] .lcfab__content .lcfab__content_wrapper--option{width:100%}.lcfab__surface[data-open=true] .lcfab__content .lcfab__content_wrapper--option:hover{font-weight:600}.lcfab__modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:1100;display:flex;align-items:center;justify-content:center;padding:16px}.lcfab__modal__card{background:#d0b373;color:#0e0f0f;border-radius:8px;min-width:280px;max-width:92vw;box-shadow:0 20px 50px rgba(0,0,0,.5);padding:14px;border:1px solid #997e43}.lcfab__modal__title{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;font-size:1.2rem;margin-bottom:8px}.lcfab__modal__label{font-family:"Montserrat",sans-serif;font-weight:300;font-size:.85rem;opacity:.9;margin:6px 0 4px;display:block}.lcfab__modal__input{width:100%;background:#fff;color:#111;border:1px solid #997e43;border-radius:4px;padding:8px 10px;outline:none}.lcfab__modal__check{display:flex;align-items:center;gap:8px;margin-top:8px;font-family:"Montserrat",sans-serif;font-weight:300}.lcfab__modal__actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}.lcfab__modal__actions .modal__btn{padding:6px 10px;border-radius:4px;border:1px solid #997e43;background:#0e0f0f;color:#e2e8f0}.lcfab__modal__actions .modal__btn.primary{background:#997e43;color:#111}.sr-only{position:absolute !important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}*{box-sizing:border-box}body,html,#root{font-family:"Montserrat",sans-serif;font-weight:400;max-width:100%;max-height:100%;min-height:100%;height:100%;background:#1b1d1f}.btn-primary{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.btn-primary .icon{font-size:1rem;display:flex}.btn-primary .icon.iconly-Hide:before{padding-top:1px}.btn-primary span{display:flex}.btn-primary{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.btn-primary:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.btn-muted{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.btn-muted .icon{font-size:1rem;display:flex}.btn-muted .icon.iconly-Hide:before{padding-top:1px}.btn-muted span{display:flex}.btn-muted{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.btn-muted:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.btn-muted{background-color:#1b1d1f;color:#bababa}.btn-muted:hover{background-color:rgb(50.7413793103,54.5,58.2586206897);color:#e2e8f0}.loginContainer{position:fixed;top:.5rem;right:1rem;z-index:1001;display:flex;align-items:center;gap:.75rem}.loginButton{background:rgba(0,0,0,0);border:none;color:#bababa;font-size:1.5rem;cursor:pointer}.googleStatus{display:flex;align-items:center;gap:.5rem;font-size:.9rem;color:#bababa;background:rgba(0,0,0,.3);padding:.4rem .75rem;border-radius:8px;backdrop-filter:blur(10px)}.googleStatus .reconnectButton{background:rgba(0,0,0,0);border:none;color:#bababa;cursor:pointer;display:flex;align-items:center;gap:.35rem;font-size:.85rem;padding:.25rem .5rem;border-radius:4px;transition:all .2s}.googleStatus .reconnectButton:hover{background:rgba(255,152,0,.1);color:#ff9800}.appContent{max-width:100%;max-height:100%;margin:0 auto;min-height:100%;height:100%}.appContent.other{overflow:hidden}.appContent.home{padding-top:2rem}.offset-container{position:relative;top:0;margin:0 auto;height:calc(100% - 130px - 30px);margin-top:130px;overflow:auto;padding:0 1rem}.overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.85) 80%)}.rounded-button{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.rounded-button .icon{font-size:1rem;display:flex}.rounded-button .icon.iconly-Hide:before{padding-top:1px}.rounded-button span{display:flex}.rounded-button{background-color:#1b1d1f;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease}.rounded-button:hover{background-color:hsl(41.2903225806,49.7326203209%,-26.6666666667%)}.form-label{font-size:.8rem;gap:.4rem;display:block}.form-label.color-picker{flex-direction:column;display:flex;gap:0;height:53px}.form-label.color-picker .form-input{height:34px}.checkbox-wrapper{display:flex;gap:.5rem;align-items:center;justify-content:flex-start;margin-top:1rem;padding-inline:2px}.checkbox-wrapper .input-checkbox{display:none}.checkbox-wrapper .input-checkbox,.checkbox-wrapper .input-checkbox:after,.checkbox-wrapper .input-checkbox:before,.checkbox-wrapper .input-checkbox *,.checkbox-wrapper .input-checkbox *:after,.checkbox-wrapper .input-checkbox *:before,.checkbox-wrapper .input-checkbox+.input-checkbox-btn{box-sizing:border-box}.checkbox-wrapper .input-checkbox::-moz-selection,.checkbox-wrapper .input-checkbox:after::-moz-selection,.checkbox-wrapper .input-checkbox:before::-moz-selection,.checkbox-wrapper .input-checkbox *::-moz-selection,.checkbox-wrapper .input-checkbox *:after::-moz-selection,.checkbox-wrapper .input-checkbox *:before::-moz-selection,.checkbox-wrapper .input-checkbox+.input-checkbox-btn::-moz-selection,.checkbox-wrapper .input-checkbox::selection,.checkbox-wrapper .input-checkbox:after::selection,.checkbox-wrapper .input-checkbox:before::selection,.checkbox-wrapper .input-checkbox *::selection,.checkbox-wrapper .input-checkbox *:after::selection,.checkbox-wrapper .input-checkbox *:before::selection,.checkbox-wrapper .input-checkbox+.input-checkbox-btn::selection{background:none}.checkbox-wrapper .input-checkbox+.input-checkbox-btn{outline:0;display:block;width:2.3em;height:.6em;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox-wrapper .input-checkbox+.input-checkbox-btn:after,.checkbox-wrapper .input-checkbox+.input-checkbox-btn:before{position:absolute;display:block;content:"";width:1rem;height:1rem;top:-3px}.checkbox-wrapper .input-checkbox+.input-checkbox-btn:after{left:0}.checkbox-wrapper .input-checkbox+.input-checkbox-btn:before{display:none}.checkbox-wrapper .input-checkbox:checked+.input-checkbox-btn:after{left:1.5em}.checkbox-wrapper .input-checkbox-light+.input-checkbox-btn{background:#f0f0f0;border-radius:2em;padding:2px;transition:all .4s ease}.checkbox-wrapper .input-checkbox-light+.input-checkbox-btn:after{border-radius:50%;background:#fff;transition:all .2s ease}.checkbox-wrapper .input-checkbox-light:checked+.input-checkbox-btn{background:#d0b373}.form-input{font-family:"Montserrat",sans-serif;font-weight:400;width:100%;margin-top:.25rem;color:#d5d5d5;background:#0e0f0f;border-radius:6px;padding:.5rem;border:1px solid #0e0f0f;font-size:.75rem}.form-input:focus,.form-input:focus-visible{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}.icon__hover{transition:all .2s ease-in-out}.icon__hover.dim_on_hover:hover{opacity:.3}.icon__hover.gold_on_hover:hover{color:#d0b373}.draggable__list{margin-top:.5rem;display:flex;flex-direction:column;gap:.5rem}.draggable__list .draggable__listItem{display:flex;align-items:center;gap:.75rem;padding:.5rem .75rem;border-radius:10px;background:#0e0f0f;border:1px solid #0e0f0f;transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}.draggable__list .draggable__listItem:hover{border-color:#0e0f0f}.draggable__list .draggable__listItem:focus-within{border-color:#997e43;box-shadow:none;background:#1b1d1f}.draggable__handle{width:18px;height:18px;display:inline-block;flex:0 0 18px;color:#94a3b8;opacity:.8;cursor:grab;background-image:radial-gradient(currentColor 1px, transparent 1px);background-size:4px 4px;background-position:0 0}.draggable__index{width:28px;text-align:center;color:#cbd5e1;font-variant-numeric:tabular-nums}.draggable__input,.draggable__select{width:100%;padding:.4rem .55rem;background:rgba(0,0,0,0);color:#f0f4fc;border:1px solid rgba(0,0,0,0);border-radius:8px;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease}.draggable__input:focus,.draggable__select:focus{border-color:rgba(0,0,0,0);box-shadow:none;background:rgba(0,0,0,0)}.draggable__input--num{width:64px;text-align:right}.draggable__input--year{width:80px;text-align:right}.draggable__btn{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.draggable__btn .icon{font-size:1rem;display:flex}.draggable__btn .icon.iconly-Hide:before{padding-top:1px}.draggable__btn span{display:flex}.draggable__btn{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.draggable__btn:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.draggable__btn--muted{border-radius:6px;padding:.5rem 1rem;border:none;cursor:pointer}.draggable__btn--muted .icon{font-size:1rem;display:flex}.draggable__btn--muted .icon.iconly-Hide:before{padding-top:1px}.draggable__btn--muted span{display:flex}.draggable__btn--muted{background-color:#d0b373;color:#0e0f0f;font-weight:bold;transition:background-color .3s ease;margin-top:1rem}.draggable__btn--muted:hover{background-color:rgb(50.9090909091,40.3636363636,17.0909090909);color:#e2e8f0}.draggable__btn--muted{background-color:#1b1d1f;color:#bababa}.draggable__btn--muted:hover{background-color:rgb(50.7413793103,54.5,58.2586206897);color:#e2e8f0}.draggable__iconbtn{background:none;border:none;font-size:1rem;cursor:pointer;color:#94a3b8;padding:.2rem .35rem;border-radius:6px;transition:background .15s ease,color .15s ease}.draggable__iconbtn:hover{background:rgba(148,163,184,.12);color:#e2e8f0}.draggable__iconbtn--danger{color:#997e43}.draggable__iconbtn--danger:hover{color:#d0b373}.ReactModalPortal{top:0;left:0;position:fixed;z-index:5000}.modal__overlay{background-color:rgba(0,0,0,.6);z-index:1000;position:fixed;width:100%;height:100%}.modal__content{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background-color:rgba(14,15,15,.8);border:1px solid #997e43;border-radius:8px;max-width:90%;min-height:80vh;min-width:600px;max-height:90vh;overflow:hidden;color:#f0f4fc;display:flex;backdrop-filter:blur(2px)}.modal__content--asset_mngr{min-width:80vw}.modal__content--event{min-width:360px;overflow:visible;max-width:400px;min-height:60vh}.modal__content--event .modal__body{overflow:visible;padding:0}.modal__content--event .modal__body .modal__body_content{padding:0}.modal__content--event .modal__body .modal__body_content .bannerPreview{position:relative;height:170px;background-color:rgba(0,0,0,0);color:#e2e8f0;overflow:visible;display:flex;width:100%;background-size:cover;background-position:center center;flex-wrap:wrap;justify-content:center;align-items:center;border-radius:6px}.modal__content--event .modal__body .modal__body_content .bannerPreview::after{content:"";position:absolute;left:0;right:0;bottom:-1px;height:40%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));z-index:2;pointer-events:none}.modal__content--event .modal__body .modal__body_content .bannerPreview .trash-btn,.modal__content--event .modal__body .modal__body_content .bannerPreview .icon_square-btn{background:rgba(14,15,15,.8);border:none;font-size:1rem;cursor:pointer;color:#d5d5d5;width:35px;height:35px;display:flex;justify-content:center;align-items:center;border-radius:6px;transition:background .15s ease,color .15s ease}.modal__content--event .modal__body .modal__body_content .bannerPreview .trash-btn:hover,.modal__content--event .modal__body .modal__body_content .bannerPreview .icon_square-btn:hover{background:#997e43;color:#e2e8f0}.modal__content--event .modal__body .modal__body_content .bannerPreview .icon_square-btn{background:rgba(0,0,0,0);border:#d5d5d5 1px solid;padding:0 9px}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__assets_manager{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;align-self:flex-end;margin-top:2rem}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__assets_manager button{padding:.5rem 1rem;background:rgba(0,0,0,0);color:#494949;border:1px dashed;border-radius:4px}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__title_wrapper{font-size:.9rem;padding-inline:2px;align-self:flex-end;width:100%;position:relative;z-index:3;flex:100%;display:flex;padding:.5rem;padding-left:.9rem}.modal__content--event .modal__body .modal__body_content .bannerPreview .modal__title_wrapper .modal__input{background:rgba(0,0,0,0);border:none}.modal__content--event .modal__body .modal__body_content .modal__form_wrapper{padding:1rem}.modal__body{flex:1;padding:1rem;overflow-y:auto;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.modal__body .modal__body_content{width:100%;height:100%;padding:1rem}.modal__body .modal__body_content .modal__form_wrapper{display:flex;flex-direction:column;gap:.75rem}.modal__body .modal__body_content .modal__title_actions{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.modal__body .modal__body_content .modal__title_actions .modal__actions{display:flex;align-items:center;justify-content:flex-end;gap:.5rem}.modal__body .modal__body_content .modal__field{display:flex;align-items:center}.modal__body .modal__body_content .modal__field:hover{border-color:#0e0f0f}.modal__body .modal__body_content .modal__field .modal__checkrow{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.modal__body .modal__body_content .modal__input,.modal__body .modal__body_content .modal__select{font-family:"Montserrat",sans-serif;font-weight:400;width:100%;margin-top:.25rem;color:#d5d5d5;background:#0e0f0f;border-radius:6px;padding:.5rem;border:1px solid #0e0f0f;font-size:.75rem}.modal__body .modal__body_content .modal__input:focus,.modal__body .modal__body_content .modal__input:focus-visible,.modal__body .modal__body_content .modal__select:focus,.modal__body .modal__body_content .modal__select:focus-visible{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}.modal__body .modal__body_content .modal__input.modal__input--flex,.modal__body .modal__body_content .modal__select.modal__input--flex{flex:1}.modal__body .modal__body_content .modal__input.modal__input--num,.modal__body .modal__body_content .modal__select.modal__input--num{width:60px}.modal__body .modal__body_content .modal__input.modal__input--abbr,.modal__body .modal__body_content .modal__select.modal__input--abbr{width:60px}.modal__body .modal__body_content .modal__input.modal__input--year,.modal__body .modal__body_content .modal__select.modal__input--year{width:80px}.modal__body .modal__actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:1rem;padding-bottom:1rem;align-self:flex-end}.columns_layout{display:flex;flex-direction:row}.columns_layout .columns_wrapper{display:flex;flex-direction:row;gap:4rem}.columns_layout .columns_wrapper .column{display:flex;flex-direction:column}.icon_square-btn{background:rgba(14,15,15,.8);border:none;font-size:1rem;cursor:pointer;color:#d5d5d5;width:35px;height:35px;display:flex;justify-content:center;align-items:center;border-radius:6px;transition:background .15s ease,color .15s ease}.icon_square-btn:hover{background:#997e43;color:#e2e8f0}.icon_square-btn{background:rgba(0,0,0,0);border:#d5d5d5 1px solid;padding:0 9px}.aetheriumDivider{display:flex;flex-direction:row;align-items:center}.aetheriumDivider .aetherium-logo{height:auto}.aetheriumDivider .aetherium-logo img{width:40px;height:auto;margin:0}.aetheriumDivider .divider-line{flex:.5;height:1px;width:100%;background:#997e43}input,select{font-family:"Montserrat",sans-serif;font-weight:400;width:100%;margin-top:.25rem;color:#d5d5d5;background:#0e0f0f;border-radius:6px;padding:.5rem;border:1px solid #0e0f0f;font-size:.75rem}input:focus,input:focus-visible,select:focus,select:focus-visible{border-color:#997e43;box-shadow:none;background:rgba(0,0,0,0);outline:none}select{appearance:none;background-image:url(${h});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}select:focus{appearance:none;background-image:url(${h});background-repeat:no-repeat;background-position:right 10px center;background-size:20px}.home{position:relative;min-height:100%;height:100%;max-height:100%;color:#e2e8f0;text-align:center;overflow:hidden;background-image:url(${m});background-size:cover;background-position:center}.home .heroContent{position:relative;top:40%;transform:translateY(-40%);padding:0 2rem}.home .heroTitle{font-size:2.5rem;margin-bottom:1rem;font-weight:700}.home .heroSubtitle{font-size:1.1rem;max-width:40rem;margin:0 auto;color:#d5d5d5}.timeline{position:relative;top:0;margin:0 auto;height:calc(100% - 130px);margin-top:130px;overflow:auto;padding:0}.timelineHeader{position:fixed;margin-top:20px;width:100%;height:30px;display:flex;justify-content:space-between;align-items:center;opacity:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards;padding:0 1rem;z-index:4}.actions{display:flex;gap:.5rem}.actionButton{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:4px;cursor:pointer;font-size:.9rem}.toolbox{display:flex;gap:.5rem}.toolboxButton{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;text-transform:uppercase;display:flex;align-items:center;gap:.4rem;border:none;color:#e2e8f0;font-size:.7rem;cursor:pointer}.toolboxButton.hide{display:none}.groupFilter{display:flex;gap:.5rem;flex-wrap:wrap}.pill{font-family:"Montserrat",sans-serif;font-weight:400;border:1px solid #494949;border-radius:9999px;padding:.25rem .75rem;font-size:.8rem;cursor:pointer;color:#e2e8f0;background:rgba(0,0,0,0);transition:background .2s,color .2s}.pill.active{background:#e2e8f0;color:#0e0f0f;border-color:#0e0f0f}.timeline-wrapper{margin-top:70px}.virtuoso-timeline div[data-testid=virtuoso-item-list]{padding-bottom:3rem !important}.timeline-event-wrapper{max-width:1060px;margin:0 auto;opacity:0;padding-top:10px;position:relative;z-index:0;animation-name:wrapperFromTopToBottom;animation-duration:.5s;animation-delay:.8s;animation-fill-mode:forwards}.timeline-event-wrapper:has(.contextMenu.open){z-index:100}.event{position:relative}.event:last-child .line{bottom:50%}.line{position:absolute;left:90px;top:16px;bottom:-2rem;width:2px;background-color:#494949;z-index:0}.row{display:flex;align-items:stretch;height:170px}.date{width:90px;text-align:right;padding-right:.5rem;height:100%;flex:.1}.date .year{font-weight:600}.date .diff{font-size:.75rem;color:#bababa}.marker{position:relative}.marker .diamond{left:4px;top:4px;z-index:1;display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.marker .diamond .diamond-line{width:1px;margin-top:.5rem;margin-bottom:.5rem;height:100%;background-color:#d5d5d5}.cardWrapper{flex:.75;margin-left:1rem;position:relative;overflow:visible}.cardWrapper .card{position:relative;background-color:rgba(30,41,59,.8);border-radius:8px;color:#e2e8f0;overflow:visible;display:flex;width:100%;background-size:cover;background-position:center;border:1px solid #0e0f0f;transition:border .2s ease,box-shadow .2s ease;height:100%}.cardWrapper .card::after{content:"";position:absolute;left:0;right:0;bottom:0px;height:40%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.9));z-index:2;pointer-events:none;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.cardWrapper .card:hover{border:1px solid #fff}.cardWrapper .card .cardBg{width:100%;position:absolute;top:0;left:0;z-index:1;height:100%;background-size:cover;background-position:center center;border-radius:8px;opacity:.5}.info{position:relative;z-index:3;padding:1rem;flex:1;display:flex;flex-direction:column;justify-content:space-between}.groupLabel{align-self:flex-start;background-color:var(--group-color, rgb(73, 73, 73));color:#0e0f0f;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;border:1px solid}.title_wrapper{display:flex;flex-direction:row;gap:.7rem;align-items:center;padding-right:3rem}.title_wrapper .icon_square-btn{height:45px;width:45px}.title_wrapper .icon_square-btn:hover{background:rgba(0,0,0,0);color:#d5d5d5}.title_wrapper .title_subtitle_wrapper{display:flex;flex-direction:column}.title{margin:0;font-size:1.1rem;font-weight:600;padding-right:30px}.subtitle{font-size:.8rem;color:#bababa;margin-top:.25rem;padding-right:30px}.description{font-size:.75rem;color:#d5d5d5;margin-top:.5rem;line-height:1.4}.editButton{background:none;border:none;color:#60a5fa;font-size:.75rem;cursor:pointer;padding:0}.editRow{position:absolute;bottom:15px;right:20px;display:flex;justify-content:flex-end;z-index:4;height:30px;width:30px;align-self:flex-end}.menuButton{display:none;background:none;border:none;color:#e2e8f0;font-size:1.1rem;cursor:pointer;padding:.8rem .6rem;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s ease;height:100%;width:100%}.menuButton:hover{display:flex;background:hsla(0,0%,100%,.12)}.menuButton:focus-visible{outline:2px solid #d0b373;outline-offset:2px}.contextMenu{position:absolute;top:-12rem;right:-10rem;background:#1b1d1f;border:1px solid #997e43;border-radius:8px;min-width:180px;padding:.25rem 0;box-shadow:0 0 10px rgba(0,0,0,.2);z-index:10;display:none;flex-direction:column;z-index:100}.contextMenu.open{display:flex}.contextMenu .menuItem{padding:.55rem .9rem;font-size:.85rem;color:#e2e8f0;cursor:pointer;white-space:nowrap;transition:background .2s ease}.contextMenu .menuItem:hover{background:hsla(0,0%,100%,.1)}.contextMenu .separator{height:1px;background:hsla(0,0%,100%,.12);margin:.25rem 0}.contextMenu .submenu{position:relative}.contextMenu .submenu::after{content:"â€º";position:absolute;right:10px}.contextMenu .submenu-list{display:none;position:absolute;top:-1px;left:100%;background:#1e293b;border:1px solid #494949;border-radius:8px;min-width:160px;padding:.25rem 0;box-shadow:0 6px 16px rgba(0,0,0,.45);z-index:10}.contextMenu .submenu:hover .submenu-list{display:block}.card.menu-open{border:1px solid #fff;box-shadow:0 0 10px hsla(0,0%,100%,.35)}.image{width:35%;background-size:cover;background-position:center}.floating-button{position:fixed;bottom:2rem;left:2rem;background:#d0b373;color:#0e0f0f;border:none;padding:.6rem 1rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);font-weight:600;cursor:pointer;display:flex;width:3rem;height:3rem;font-size:1.5rem;align-items:center;justify-content:center;transition:background-color .3s ease,color .3s ease}.floating-button:hover{background-color:#997e43;color:#e2e8f0}@keyframes wrapperFromTopToBottom{0%{transform:translateY(100%)}100%{transform:translateY(0);opacity:1}}.timeline-event-wrapper.menu-open{z-index:3000}.card.menu-open{z-index:3100}.contextMenu{z-index:3200}`,""]);const g=f},2551:(e,t,n)=>{"use strict";var r=n(6540),o=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P,R=Object.assign;function B(e){if(void 0===P)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return F(e.type,!1);case 11:return F(e.type.render,!1);case 1:return F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ie(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function Ce(e){if(e=ko(e)){if("function"!=typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=wo(t),we(e.stateNode,e.type,t))}}function _e(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Oe(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Le(){}var Me=!1;function je(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==Se||null!==Ee)&&(Le(),Oe())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Ne=!1}function De(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Pe=!1,Re=null,Be=!1,ze=null,Fe={onError:function(e){Pe=!0,Re=e}};function We(e,t,n,r,o,i,a,s,l){Pe=!1,Re=null,De.apply(Fe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $e(e){if(He(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return $e(o),e;if(a===r)return $e(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Je=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function kt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,wt,St,Et,Ct,_t=!1,Ot=[],Tt=null,Lt=null,Mt=null,jt=new Map,At=new Map,Nt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Pt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=ko(t))&&wt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Rt(e){var t=vo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ko(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Ft(){_t=!1,null!==Tt&&Bt(Tt)&&(Tt=null),null!==Lt&&Bt(Lt)&&(Lt=null),null!==Mt&&Bt(Mt)&&(Mt=null),jt.forEach(zt),At.forEach(zt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return Wt(t,e)}if(0<Ot.length){Wt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Wt(Tt,e),null!==Lt&&Wt(Lt,e),null!==Mt&&Wt(Mt,e),jt.forEach(t),At.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Nt.shift()}var Ut=k.ReactCurrentBatchConfig,$t=!0;function Vt(e,t,n,r){var o=vt,i=Ut.transition;Ut.transition=null;try{vt=1,qt(e,t,n,r)}finally{vt=o,Ut.transition=i}}function Gt(e,t,n,r){var o=vt,i=Ut.transition;Ut.transition=null;try{vt=4,qt(e,t,n,r)}finally{vt=o,Ut.transition=i}}function qt(e,t,n,r){if($t){var o=Yt(e,t,n,r);if(null===o)$r(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,r,o),!0;case"dragenter":return Lt=Pt(Lt,e,t,n,r,o),!0;case"mouseover":return Mt=Pt(Mt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return jt.set(i,Pt(jt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,At.set(i,Pt(At.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==o;){var i=ko(o);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&$r(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=vo(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=R({},cn,{view:0,detail:0}),pn=on(dn),fn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),mn=on(R({},fn,{dataTransfer:0})),gn=on(R({},dn,{relatedTarget:0})),yn=on(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),kn=on(R({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var _n=R({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(_n),Tn=on(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=on(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Mn=on(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=R({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(jn),Nn=[9,13,27,32],In=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Pn=u&&"TextEvent"in window&&!Dn,Rn=u&&(!In||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){Br(e,0)}function Yn(e){if(q(xo(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Qn=Xn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Vn(t,qn,e,xe(e)),je(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==K(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Cr("animationend"),Or=Cr("animationiteration"),Tr=Cr("animationstart"),Lr=Cr("transitionend"),Mr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Mr.set(e,t),l(t,[e])}for(var Nr=0;Nr<jr.length;Nr++){var Ir=jr[Nr];Ar(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Ar(_r,"onAnimationEnd"),Ar(Or,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(We.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=Re;Pe=!1,Re=null,Be||(Be=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Rr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Rr(o,s,c),i=l}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Wr]){e[Wr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Pr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Fr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Jt(t)){case 1:var o=Vt;break;case 4:o=Gt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=vo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}je(function(){var r=i,o=xe(n),a=[];e:{var s=Mr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case _r:case Or:case Tr:l=yn;break;case Lr:l=Mn;break;case"scroll":l=pn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=!!(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=Ae(h,p))&&u.push(Vr(h,m,f))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!vo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vo(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:xo(l),f=null==c?s:xo(c),(s=new u(m,h+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,vo(o)===r&&((u=new u(p,h+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=qr(f))h++;for(f=0,m=p;m;m=qr(m))f++;for(;0<h-f;)u=qr(u),h--;for(;0<f-h;)p=qr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=qr(u),p=qr(p)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?xo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if($n(s))if(Zn)g=ar;else{g=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xo(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,kr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(a,n,o)}var b;if(In)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Rn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(b=en()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Hn=!0)),0<(y=Gr(r,v)).length&&(v=new kn(v,e,null,n,o),a.push({event:v,listeners:y}),(b||null!==(b=Wn(n)))&&(v.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!In&&Fn(e,t)?(e=en(),Xt=Qt=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Gr(r,"onBeforeInput")).length&&(o=new kn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=b)}Br(a,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ae(e,n))&&r.unshift(Vr(e,i,o)),null!=(i=Ae(e,t))&&r.push(Vr(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ae(n,i))&&a.unshift(Vr(n,l,s)):o||null!=(l=Ae(n,i))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Xr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,ho="__reactProps$"+po,mo="__reactContainer$"+po,go="__reactEvents$"+po,yo="__reactListeners$"+po,bo="__reactHandles$"+po;function vo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function ko(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wo(e){return e[ho]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function _o(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Oo(e,t){Eo++,So[Eo]=e.current,e.current=t}var To={},Lo=Co(To),Mo=Co(!1),jo=To;function Ao(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!=e.childContextTypes}function Io(){_o(Mo),_o(Lo)}function Do(e,t,n){if(Lo.current!==To)throw Error(i(168));Oo(Lo,t),Oo(Mo,n)}function Po(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,U(e)||"Unknown",o));return R({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,jo=Lo.current,Oo(Lo,e),Oo(Mo,Mo.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Po(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,_o(Mo),_o(Lo),Oo(Lo,e)):_o(Mo),Oo(Mo,n)}var zo=null,Fo=!1,Wo=!1;function Ho(e){null===zo?zo=[e]:zo.push(e)}function Uo(){if(!Wo&&null!==zo){Wo=!0;var e=0,t=vt;try{var n=zo;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Fo=!1}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),qe(Xe,Uo),t}finally{vt=t,Wo=!1}}return null}var $o=[],Vo=0,Go=null,qo=0,Ko=[],Yo=0,Jo=null,Zo=1,Qo="";function Xo(e,t){$o[Vo++]=qo,$o[Vo++]=Go,Go=e,qo=t}function ei(e,t,n){Ko[Yo++]=Zo,Ko[Yo++]=Qo,Ko[Yo++]=Jo,Jo=e;var r=Zo;e=Qo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Qo=i+e}else Zo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Xo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=$o[--Vo],$o[Vo]=null,qo=$o[--Vo],$o[Vo]=null;for(;e===Jo;)Jo=Ko[--Yo],Ko[Yo]=null,Qo=Ko[--Yo],Ko[Yo]=null,Zo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=k.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function ki(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&vi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case w:return(t=Bc(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case w:return n.key===o?u(e,t,n,r):null;case A:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);bi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);bi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),ii&&Xo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Xo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Xo(o,m),c}function g(o,s,l,c){var u=D(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(o,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(o,m),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(o,m),ii&&Xo(o,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=p(o,b.value,c))&&(s=a(b,s,g),null===d?u=b:d.sibling=b,d=b);return ii&&Xo(o,g),u}for(m=r(o,m);!b.done;g++,b=l.next())null!==(b=h(m,o,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(o,e)}),ii&&Xo(o,g),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===A&&vi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Dc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Ic(a.type,a.key,a.props,null,r.mode,l)).ref=yi(r,i,a),l.return=r,r=l)}return s(r);case w:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bc(a,r.mode,l)).return=r,r=i}return s(r);case A:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(D(a))return g(r,i,a,l);bi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Rc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var xi=ki(!0),wi=ki(!1),Si=Co(null),Ei=null,Ci=null,_i=null;function Oi(){_i=Ci=Ei=null}function Ti(e){var t=Si.current;_o(Si),e._currentValue=t}function Li(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mi(e,t){Ei=e,_i=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function ji(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ei)throw Error(i(308));Ci=e,Ei.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Ai=null;function Ni(e){null===Ai?Ai=[e]:Ai.push(e)}function Ii(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Tl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Di(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Di(e,n)}function Wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var o=e.updateQueue;Pi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,d,p):h))break e;d=R({},d,p);break e;case 2:Pi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Pl|=a,e.lanes=a,e.memoizedState=d}}function $i(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Vi={},Gi=Co(Vi),qi=Co(Vi),Ki=Co(Vi);function Yi(e){if(e===Vi)throw Error(i(174));return e}function Ji(e,t){switch(Oo(Ki,t),Oo(qi,e),Oo(Gi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(Gi),Oo(Gi,t)}function Zi(){_o(Gi),_o(qi),_o(Ki)}function Qi(e){Yi(Ki.current);var t=Yi(Gi.current),n=le(t,e.type);t!==n&&(Oo(qi,e),Oo(Gi,n))}function Xi(e){qi.current===e&&(_o(Gi),_o(qi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=k.ReactCurrentDispatcher,ia=k.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,pa=0,fa=0;function ha(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Xa:es,e=n(r,o),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Qa,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==pa;return pa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function va(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function ka(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,sa.lanes|=d,Pl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Pl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(vs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ea(e,t){var n=sa,r=va(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,vs=!0),r=r.queue,Pa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,ja(9,_a.bind(null,n,r,o,t),void 0,null),null===Ll)throw Error(i(349));30&aa||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&La(e)}function Oa(e,t,n){return n(function(){Ta(t)&&La(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function La(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Ma(e){var t=ba();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return va().memoizedState}function Na(e,t,n,r){var o=ba();sa.flags|=e,o.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var o=va();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=ja(t,n,i,r))}sa.flags|=e,o.memoizedState=ja(1|t,n,i,r)}function Da(e,t){return Na(8390656,8,e,t)}function Pa(e,t){return Ia(2048,8,e,t)}function Ra(e,t){return Ia(4,2,e,t)}function Ba(e,t){return Ia(4,4,e,t)}function za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!=n?n.concat([e]):null,Ia(4,4,za.bind(null,t,e),n)}function Wa(){}function Ha(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Pl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function Va(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{vt=n,ia.transition=r}}function Ga(){return va().memoizedState}function qa(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e)?Ja(t,n):null!==(n=Ii(e,t,n,r))&&(nc(n,e,r,ec()),Za(n,t,r))}function Ka(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ja(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ii(e,t,o,r))&&(nc(n,e,r,o=ec()),Za(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qa={readContext:ji,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Xa={readContext:ji,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:ji,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Na(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Ma,useDebugValue:Wa,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Va.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ba();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ll)throw Error(i(349));30&aa||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Da(Oa.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Ll.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:ji,useCallback:Ha,useContext:ji,useEffect:Pa,useImperativeHandle:Fa,useInsertionEffect:Ra,useLayoutEffect:Ba,useMemo:Ua,useReducer:xa,useRef:Aa,useState:function(){return xa(ka)},useDebugValue:Wa,useDeferredValue:function(e){return $a(va(),la.memoizedState,e)},useTransition:function(){return[xa(ka)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:ji,useCallback:Ha,useContext:ji,useEffect:Pa,useImperativeHandle:Fa,useInsertionEffect:Ra,useLayoutEffect:Ba,useMemo:Ua,useReducer:wa,useRef:Aa,useState:function(){return wa(ka)},useDebugValue:Wa,useDeferredValue:function(e){var t=va();return null===la?t.memoizedState=e:$a(t,la.memoizedState,e)},useTransition:function(){return[wa(ka)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nc(t,e,o,r),Wi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nc(t,e,o,r),Wi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Fi(e,o,r))&&(nc(t,e,r,n),Wi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function as(e,t,n){var r=!1,o=To,i=t.contextType;return"object"==typeof i&&null!==i?i=ji(i):(o=No(t)?jo:Lo.current,i=(r=null!=(r=t.contextTypes))?Ao(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ri(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=ji(i):(i=No(t)?jo:Lo.current,o.context=Ao(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Ui(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Vl=r),ds(0,t)},n}function hs(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e)}var bs=k.ReactCurrentOwner,vs=!1;function ks(e,t,n,r){t.child=null===e?wi(t,null,n,r):xi(t,e.child,n,r)}function xs(e,t,n,r,o){n=n.render;var i=t.ref;return Mi(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||vs?(ii&&n&&ti(t),t.flags|=1,ks(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o))}function ws(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return $s(e,t,o)}return t.flags|=1,(e=Nc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,$s(e,t,o);131072&e.flags&&(vs=!0)}}return _s(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oo(Nl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Oo(Nl,Al),Al|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oo(Nl,Al),Al|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oo(Nl,Al),Al|=r;return ks(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,o){var i=No(n)?jo:Lo.current;return i=Ao(t,i),Mi(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||vs?(ii&&r&&ti(t),t.flags|=1,ks(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o))}function Os(e,t,n,r,o){if(No(n)){var i=!0;Ro(t)}else i=!1;if(Mi(t,o),null===t.stateNode)Us(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?ji(c):Ao(t,c=No(n)?jo:Lo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Pi=!1;var p=t.memoizedState;a.state=p,Ui(t,r,a,o),l=t.memoizedState,s!==r||p!==l||Mo.current||Pi?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Pi||is(t,n,s,r,p,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?ji(l):Ao(t,l=No(n)?jo:Lo.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&ss(t,a,r,l),Pi=!1,p=t.memoizedState,a.state=p,Ui(t,r,a,o);var h=t.memoizedState;s!==d||p!==h||Mo.current||Pi?("function"==typeof f&&(rs(t,n,f,r),h=t.memoizedState),(c=Pi||is(t,n,c,r,p,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,o)}function Ts(e,t,n,r,o,i){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&Bo(t,n,!1),$s(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):ks(e,t,s,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Ji(e,t.containerInfo)}function Ms(e,t,n,r,o){return hi(),mi(o),t.flags|=256,ks(e,t,n,r),t.child}var js,As,Ns,Is,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oo(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Pc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Dc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=Ds,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Pc({mode:"visible",children:r.children},o,0,null),(a=Dc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&xi(t,e.child,null,s),t.child.memoizedState=Ps(s),t.memoizedState=Ds,a);if(!(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(r=Ll)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Di(e,o),nc(r,e,o,-1))}return mc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ko[Yo++]=Zo,Ko[Yo++]=Qo,Ko[Yo++]=Jo,Zo=e.id,Qo=e.overflow,Jo=t),(t=Bs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Nc(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ps(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,o}return e=(s=e.child).sibling,o=Nc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=Pc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Li(e.return,t,n)}function Ws(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ks(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oo(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ws(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Us(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return No(t.type)&&Io(),Gs(t),null;case 3:return r=t.stateNode,Zi(),_o(Mo),_o(Lo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),As(e,t),Gs(t),null;case 5:Xi(t);var o=Yi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=Yi(Gi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[ho]=a,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":oe(r,a),zr("invalid",r)}for(var l in be(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),X(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[ho]=r,js(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":J(e,r),o=Y(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=R({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(a in be(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"==typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Is(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi(Gi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Gs(t),null;case 13:if(_o(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))fi(),hi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Zi(),As(e,t),null===e&&Hr(t.stateNode.containerInfo),Gs(t),null;case 10:return Ti(t.type._context),Gs(t),null;case 19:if(_o(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Il||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oo(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Hl&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Gs(t),null}else 2*Ze()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,Oo(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Al)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Io(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),_o(Mo),_o(Lo),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(_o(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(ea),null;case 4:return Zi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}js=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ns=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(Gi.current);var i,a=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),a=[];break;case"select":o=R({},o,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fo],delete t[ho],delete t[go],delete t[yo],delete t[bo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Js||Xs(n,t);case 6:var r=ul,o=dl;ul=null,pl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ht(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,pl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Js&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Js&&(Xs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pl(e,t,n),Js=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),ve(l,s);var u=ve(l,a);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];"style"===d?ge(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):v(o,d,p,u)}switch(l){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Wl=Ze())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,ml(t,e),Js=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Qs=e,d=e.child;null!==d;){for(p=Qs=d;null!==Qs;){switch(h=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xs(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Xs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(p);continue}}null!==h?(h.return=f,Qs=h):xl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){Ec(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),yl(e),4&r&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qs=e,vl(e,t,n)}function vl(e,t,n){for(var r=!!(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ys;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=a,(Js=l)&&!c)for(Qs=o;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?wl(o):null!==l?(l.return=a,Qs=l):wl(o);for(;null!==i;)Qs=i,vl(i,t,n),i=i.sibling;Qs=o,Ys=s,Js=c}kl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Qs=i):kl(e)}}function kl(e){for(;null!==Qs;){var t=Qs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$i(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$i(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(i(163))}Js||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,El=Math.ceil,Cl=k.ReactCurrentDispatcher,_l=k.ReactCurrentOwner,Ol=k.ReactCurrentBatchConfig,Tl=0,Ll=null,Ml=null,jl=0,Al=0,Nl=Co(0),Il=0,Dl=null,Pl=0,Rl=0,Bl=0,zl=null,Fl=null,Wl=0,Hl=1/0,Ul=null,$l=!1,Vl=null,Gl=null,ql=!1,Kl=null,Yl=0,Jl=0,Zl=null,Ql=-1,Xl=0;function ec(){return 6&Tl?Ze():-1!==Ql?Ql:Ql=Ze()}function tc(e){return 1&e.mode?2&Tl&&0!==jl?jl&-jl:null!==gi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type):1}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(i(185));yt(e,n,r),2&Tl&&e===Ll||(e===Ll&&(!(2&Tl)&&(Rl|=n),4===Il&&sc(e,jl)),rc(e,r),1===n&&0===Tl&&!(1&t.mode)&&(Hl=Ze()+500,Fo&&Uo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Ll?jl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fo=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),ao(function(){!(6&Tl)&&Uo()}),n=null;else{switch(kt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,Xl=0,6&Tl)throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=pt(e,e===Ll?jl:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var a=hc();for(Ll===e&&jl===t||(Ul=null,Hl=Ze()+500,pc(e,t));;)try{bc();break}catch(t){fc(e,t)}Oi(),Cl.current=a,Tl=o,null!==Ml?t=0:(Ll=null,jl=0,t=Il)}if(0!==t){if(2===t&&0!==(o=ht(e))&&(r=o,t=ic(e,o)),1===t)throw n=Dl,pc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gc(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Dl,pc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Fl,Ul);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Wl+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Fl,Ul),t);break}xc(e,Fl,Ul);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Fl,Ul),r);break}xc(e,Fl,Ul);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ac(t)),e}function ac(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Bl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Tl)throw Error(i(327));wc();var t=pt(e,0);if(!(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Dl,pc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Ul),rc(e,Ze()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Ze()+500,Fo&&Uo())}}function uc(e){null!==Kl&&0===Kl.tag&&!(6&Tl)&&wc();var t=Tl;Tl|=1;var n=Ol.transition,r=vt;try{if(Ol.transition=null,vt=1,e)return e()}finally{vt=r,Ol.transition=n,!(6&(Tl=t))&&Uo()}}function dc(){Al=Nl.current,_o(Nl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Io();break;case 3:Zi(),_o(Mo),_o(Lo),ra();break;case 5:Xi(r);break;case 4:Zi();break;case 13:case 19:_o(ea);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ll=e,Ml=e=Nc(e.current,null),jl=Al=t,Il=0,Dl=null,Bl=Rl=Pl=0,Fl=zl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ai=null}return e}function fc(e,t){for(;;){var n=Ml;try{if(Oi(),oa.current=Qa,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,pa=0,_l.current=null,null===n||null===n.return){Il=1,Dl=t,Ml=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&ms(a,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=gs(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Il&&(Il=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,fs(0,c,t));break e;case 1:l=c;var b=a.type,v=a.stateNode;if(!(128&a.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Gl&&Gl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}kc(n)}catch(e){t=e,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function hc(){var e=Cl.current;return Cl.current=Qa,null===e?Qa:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Ll||!(268435455&Pl)&&!(268435455&Rl)||sc(Ll,jl)}function gc(e,t){var n=Tl;Tl|=2;var r=hc();for(Ll===e&&jl===t||(Ul=null,pc(e,t));;)try{yc();break}catch(t){fc(e,t)}if(Oi(),Tl=n,Cl.current=r,null!==Ml)throw Error(i(261));return Ll=null,jl=0,Il}function yc(){for(;null!==Ml;)vc(Ml)}function bc(){for(;null!==Ml&&!Ye();)vc(Ml)}function vc(e){var t=Sl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?kc(e):Ml=t,_l.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Il=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=qs(n,t,Al)))return void(Ml=n);if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Il&&(Il=5)}function xc(e,t,n){var r=vt,o=Ol.transition;try{Ol.transition=null,vt=1,function(e,t,n,r){do{wc()}while(null!==Kl);if(6&Tl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Ll&&(Ml=Ll=null,jl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ql||(ql=!0,Lc(tt,function(){return wc(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Ol.transition,Ol.transition=null;var s=vt;vt=1;var l=Tl;Tl|=4,_l.current=null,function(e,t){if(eo=$t,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++u===o&&(l=s),f===a&&++d===r&&(c=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},$t=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(to),$t=!!eo,to=eo=null,e.current=n,bl(n,e,o),Je(),Tl=l,vt=s,Ol.transition=a}else e.current=n;if(ql&&(ql=!1,Kl=e,Yl=o),0===(a=e.pendingLanes)&&(Gl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if($l)throw $l=!1,e=Vl,Vl=null,e;!!(1&Yl)&&0!==e.tag&&wc(),1&(a=e.pendingLanes)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Uo()}(e,t,n,r)}finally{Ol.transition=o,vt=r}return null}function wc(){if(null!==Kl){var e=kt(Yl),t=Ol.transition,n=vt;try{if(Ol.transition=null,vt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,6&Tl)throw Error(i(331));var o=Tl;for(Tl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(16&Qs.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Qs=p;else for(;null!==Qs;){var f=(d=Qs).sibling,h=d.return;if(il(d),d===u){Qs=null;break}if(null!==f){f.return=h,Qs=f;break}Qs=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(2048&(a=Qs).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Qs=b;break e}Qs=a.return}}var v=e.current;for(Qs=v;null!==Qs;){var k=(s=Qs).child;if(2064&s.subtreeFlags&&null!==k)k.return=s,Qs=k;else e:for(s=v;null!==Qs;){if(2048&(l=Qs).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(Tl=o,Uo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{vt=n,Ol.transition=t}}return!1}function Sc(e,t,n){e=Fi(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fi(t,e=hs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(jl&n)===n&&(4===Il||3===Il&&(130023424&jl)===jl&&500>Ze()-Wl?pc(e,0):Bl|=n),rc(e,t)}function _c(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Di(e,t))&&(yt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Lc(e,t){return qe(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Mc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Ac(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Dc(n.children,o,a,t);case E:s=8,o|=8;break;case C:return(e=jc(12,n,t,2|o)).elementType=C,e.lanes=a,e;case L:return(e=jc(13,n,t,o)).elementType=L,e.lanes=a,e;case M:return(e=jc(19,n,t,o)).elementType=M,e.lanes=a,e;case N:return Pc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case O:s=9;break e;case T:s=11;break e;case j:s=14;break e;case A:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Pc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=jc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Wc(e){if(!e)return To;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Po(e,n,t)}return t}function Hc(e,t,n,r,o,i,a,s,l){return(e=Fc(n,r,!0,e,0,i,0,s,l)).context=Wc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=null!=t?t:null,Fi(n,i,o),e.current.lanes=o,yt(e,o,r),rc(e,r),e}function Uc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(o,t,a))&&(nc(e,o,a,i),Wi(e,o,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mo.current)vs=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),hi();break;case 5:Qi(t);break;case 1:No(t.type)&&Ro(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Oo(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oo(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Oo(ea,1&ea.current),null!==(e=$s(e,t,n))?e.sibling:null);Oo(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oo(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return $s(e,t,n)}(e,t,n);vs=!!(131072&e.flags)}else vs=!1,ii&&1048576&t.flags&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var o=Ao(t,Lo.current);Mi(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(a=!0,Ro(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ri(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ks(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ac(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=ns(r,e),o){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,_s(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Os(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ls(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Bi(e,t),Ui(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ms(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=$s(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Rs(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Oo(Si,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Mo.current){t=$s(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Li(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Li(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ks(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Mi(t,n),r=r(o=ji(o)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),ws(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Us(e,t),t.tag=1,No(r)?(e=!0,Ro(t)):e=!1,Mi(t,n),as(t,r,o),ls(t,r,o,n),Ts(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var qc="function"==typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=$c(a);s.call(e)}}Uc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=$c(a);i.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[mo]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=$c(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mo]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc(function(){Uc(t,l,n,r)}),l}(n,t,e,o,r);return $c(a)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Uc(null,e,null,null)}),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Rt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ze()),!(6&Tl)&&(Hl=Ze()+500,Uo()))}break;case 13:uc(function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Di(e,134217728);null!==t&&nc(t,e,134217728,ec()),Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);null!==n&&nc(n,e,t,ec()),Gc(e,t)}},Et=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=wo(r);if(!o)throw Error(i(90));q(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Le=uc;var eu={usingClientEntryPoint:!1,Events:[ko,xo,wo,_e,Oe,cc]},tu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",o=qc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=qc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2610:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,".assetmgr{display:flex;flex-direction:column;height:100%}.assetmgr__bar{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.assetmgr__title{font-weight:700}.assetmgr__muted{color:#bababa;margin-left:.5rem}.assetmgr__file{display:none}.assetmgr__layout{display:grid;grid-template-columns:1fr 320px;gap:1rem;height:calc(100% - 2rem)}.assetmgr__grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(210px, 1fr));gap:.75rem;align-content:start}.assetmgr__card{background:#0e0f0f;border:1px solid #0e0f0f;border-radius:10px;color:inherit;text-align:left;padding:0;cursor:pointer;display:flex;flex-direction:column;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease}.assetmgr__card:hover{border-color:#1b1d1f}.assetmgr__card.is-selected{border-color:#997e43;box-shadow:0 0 0 2px rgba(255,215,128,.25)}.assetmgr__thumbWrap{position:relative;width:100%;padding-top:56%;overflow:hidden;border-top-left-radius:10px;border-top-right-radius:10px}.assetmgr__thumb{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.assetmgr__meta{padding:.5rem .6rem;display:flex;align-items:center}.assetmgr__name{font-size:.85rem;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.assetmgr__sidebar{border-left:1px solid #0e0f0f;padding-left:1rem;display:flex;align-items:stretch}.assetmgr__empty{margin:auto;display:flex;flex-direction:column;align-items:center;gap:.75rem}.assetmgr__icon{font-size:2rem;color:#bababa}.assetmgr__details{display:flex;flex-direction:column;gap:.75rem;width:100%}.assetmgr__preview{background:#0e0f0f;border:1px solid #0e0f0f;border-radius:8px;padding:.25rem}.assetmgr__previewImg{display:block;width:100%;height:auto;border-radius:6px}.assetmgr__actions{display:flex;gap:.5rem;justify-content:center;align-items:center;display:flex;flex-direction:row}.assetmgr__upload{justify-content:center;align-items:center;display:flex;flex-direction:column}",""]);const u=c},2694:(e,t,n)=>{"use strict";var r=n(6925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},2799:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,p=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;n=h("react.element"),r=h("react.portal"),o=h("react.fragment"),i=h("react.strict_mode"),a=h("react.profiler"),s=h("react.provider"),l=h("react.context"),c=h("react.forward_ref"),u=h("react.suspense"),d=h("react.suspense_list"),p=h("react.memo"),f=h("react.lazy"),h("react.block"),h("react.server.block"),h("react.fundamental"),h("react.debug_trace_mode"),h("react.legacy_hidden")}t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case p:case s:return e;default:return t}}case r:return t}}}(e)===l}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function w(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===v||e.$$typeof===k||e.$$typeof===y)},t.typeOf=x},3123:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9L12 15L18 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="rgb%28255,255,255%29"/></svg>'},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},3761:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-Brokenca20f96a70c5c0b59591.svg"},3893:(e,t,n)=>{"use strict";e.exports=n.p+"64d0e2aa2c14b462b79a.eot"},4146:(e,t,n)=>{"use strict";var r=n(3404),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(i[y]||r&&r[y]||m&&m[y]||s&&s[y])){var b=p(n,y);try{c(t,y,b)}catch(e){}}}}return t}},4169:(e,t,n)=>{"use strict";e.exports=n.p+"085c3c5da0121aee4847.ttf"},4269:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/aetherium_bgee2384a6674e08f45530.png"},4363:(e,t,n)=>{"use strict";e.exports=n(2799)},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},4517:(e,t,n)=>{"use strict";n.d(t,{A:()=>q});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(9844),l=n(4417),c=n.n(l),u=new URL(n(668),n.b),d=new URL(n(5526),n.b),p=new URL(n(2310),n.b),f=new URL(n(1890),n.b),h=new URL(n(6375),n.b),m=new URL(n(4655),n.b),g=new URL(n(4169),n.b),y=new URL(n(3761),n.b),b=new URL(n(3893),n.b),v=new URL(n(6621),n.b),k=new URL(n(4799),n.b),x=new URL(n(9727),n.b),w=new URL(n(6204),n.b),S=new URL(n(582),n.b),E=new URL(n(8198),n.b),C=new URL(n(1426),n.b),_=a()(o());_.i(s.A);var O=c()(u),T=c()(u,{hash:"?#iefix"}),L=c()(d),M=c()(p),j=c()(f,{hash:"#Iconly-light"}),A=c()(h),N=c()(h,{hash:"?#iefix"}),I=c()(m),D=c()(g),P=c()(y,{hash:"#Iconly-Broken"}),R=c()(b),B=c()(b,{hash:"?#iefix"}),z=c()(v),F=c()(k),W=c()(x,{hash:"#Iconly-Bold"}),H=c()(w),U=c()(w,{hash:"?#iefix"}),$=c()(S),V=c()(E),G=c()(C,{hash:"#Iconly-bulk"});_.push([e.id,`@font-face{font-family:iconly;font-style:normal;font-weight:200;src:url(${O});src:url(${T}) format("embedded-opentype"),url(${L}) format("woff"),url(${M}) format("truetype"),url(${j}) format("svg")}@font-face{font-family:iconly;font-style:normal;font-weight:normal;src:url(${A});src:url(${N}) format("embedded-opentype"),url(${I}) format("woff"),url(${D}) format("truetype"),url(${P}) format("svg")}@font-face{font-family:iconly;font-style:normal;font-weight:700;src:url(${R});src:url(${B}) format("embedded-opentype"),url(${z}) format("woff"),url(${F}) format("truetype"),url(${W}) format("svg")}@font-face{font-family:iconly;font-style:normal;font-weight:900;src:url(${H});src:url(${U}) format("embedded-opentype"),url(${$}) format("woff"),url(${V}) format("truetype"),url(${G}) format("svg")}[class^=iconly-],[class*=iconly-]{font-family:"iconly" !important;speak:never;font-style:normal;font-variant:normal;text-transform:none;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icli{font-weight:200}.icbr{font-weight:normal}.icbo{font-weight:700}.icbu{font-weight:900}.iconly-Activity:before{content:"î¤€"}.iconly-Add-User:before{content:"î¤"}.iconly-Arrow-Down:before{content:"î¤‚"}.iconly-Arrow-Down-2:before{content:"î¤ƒ"}.iconly-Arrow-Down-3:before{content:"î¤„"}.iconly-Arrow-Down-Circle:before{content:"î¤…"}.iconly-Arrow-Down-Square:before{content:"î¤†"}.iconly-Arrow-Left:before{content:"î¤‡"}.iconly-Arrow-Left-2:before{content:"î¤ˆ"}.iconly-Arrow-Left-3:before{content:"î¤‰"}.iconly-Arrow-Left-Circle:before{content:"î¤Š"}.iconly-Arrow-Left-Square:before{content:"î¤‹"}.iconly-Arrow-Right:before{content:"î¤Œ"}.iconly-Arrow-Right-2:before{content:"î¤"}.iconly-Arrow-Right-3:before{content:"î¤Ž"}.iconly-Arrow-Right-Circle:before{content:"î¤"}.iconly-Arrow-Right-Square:before{content:"î¤"}.iconly-Arrow-Up:before{content:"î¤‘"}.iconly-Arrow-Up-2:before{content:"î¤’"}.iconly-Arrow-Up-3:before{content:"î¤“"}.iconly-Arrow-Up-Circle:before{content:"î¤”"}.iconly-Arrow-Up-Square:before{content:"î¤•"}.iconly-Bag:before{content:"î¤–"}.iconly-Bag-2:before{content:"î¤—"}.iconly-Bookmark:before{content:"î¤˜"}.iconly-Buy:before{content:"î¤™"}.iconly-Calendar:before{content:"î¤š"}.iconly-Call:before{content:"î¤›"}.iconly-Call-Missed:before{content:"î¤œ"}.iconly-Call-Silent:before{content:"î¤"}.iconly-Calling:before{content:"î¤ž"}.iconly-Camera:before{content:"î¤Ÿ"}.iconly-Category:before{content:"î¤ "}.iconly-Chart:before{content:"î¤¡"}.iconly-Chat:before{content:"î¤¢"}.iconly-Close-Square:before{content:"î¤£"}.iconly-Danger:before{content:"î¤¤"}.iconly-Delete:before{content:"î¤¥"}.iconly-Discount:before{content:"î¤¦"}.iconly-Discovery:before{content:"î¤§"}.iconly-Document:before{content:"î¤¨"}.iconly-Download:before{content:"î¤©"}.iconly-Edit:before{content:"î¤ª"}.iconly-Edit-Square:before{content:"î¤«"}.iconly-Filter:before{content:"î¤¬"}.iconly-Filter-2:before{content:"î¤­"}.iconly-Folder:before{content:"î¤®"}.iconly-Game:before{content:"î¤¯"}.iconly-Graph:before{content:"î¤°"}.iconly-Heart:before{content:"î¤±"}.iconly-Hide:before{content:"î¤²"}.iconly-Home:before{content:"î¤³"}.iconly-Image:before{content:"î¤´"}.iconly-Image-2:before{content:"î¤µ"}.iconly-Info-Circle:before{content:"î¤¶"}.iconly-Info-Square:before{content:"î¤·"}.iconly-Location:before{content:"î¤¸"}.iconly-Lock:before{content:"î¤¹"}.iconly-Login:before{content:"î¤º"}.iconly-Logout:before{content:"î¤»"}.iconly-Message:before{content:"î¤¼"}.iconly-More-Circle:before{content:"î¤½"}.iconly-More-Square:before{content:"î¤¾"}.iconly-Notification:before{content:"î¤¿"}.iconly-Paper:before{content:"î¥€"}.iconly-Paper-Download:before{content:"î¥"}.iconly-Paper-Fail:before{content:"î¥‚"}.iconly-Paper-Negative:before{content:"î¥ƒ"}.iconly-Paper-Plus:before{content:"î¥„"}.iconly-Paper-Upload:before{content:"î¥…"}.iconly-Password:before{content:"î¥†"}.iconly-Play:before{content:"î¥‡"}.iconly-Plus:before{content:"î¥ˆ"}.iconly-Profile:before{content:"î¥‰"}.iconly-Scan:before{content:"î¥Š"}.iconly-Search:before{content:"î¥‹"}.iconly-Send:before{content:"î¥Œ"}.iconly-Setting:before{content:"î¥"}.iconly-Shield-Done:before{content:"î¥Ž"}.iconly-Shield-Fail:before{content:"î¥"}.iconly-Show:before{content:"î¥"}.iconly-Star:before{content:"î¥‘"}.iconly-Swap:before{content:"î¥’"}.iconly-Tick-Square:before{content:"î¥“"}.iconly-Ticket:before{content:"î¥”"}.iconly-Ticket-Star:before{content:"î¥•"}.iconly-Time-Circle:before{content:"î¥–"}.iconly-Time-Square:before{content:"î¥—"}.iconly-Unlock:before{content:"î¥˜"}.iconly-Upload:before{content:"î¥™"}.iconly-User2:before{content:"î¥š"}.iconly-User3:before{content:"î¥›"}.iconly-Video:before{content:"î¥œ"}.iconly-Voice:before{content:"î¥"}.iconly-Voice-2:before{content:"î¥ž"}.iconly-Volume-Down:before{content:"î¥Ÿ"}.iconly-Volume-Off:before{content:"î¥ "}.iconly-Volume-Up:before{content:"î¥¡"}.iconly-Wallet:before{content:"î¥¢"}.iconly-Work:before{content:"î¥£"}`,""]);const q=_},4655:(e,t,n)=>{"use strict";e.exports=n.p+"53fd4281d77d75bfd0f3.woff"},4799:(e,t,n)=>{"use strict";e.exports=n.p+"6f06110df00423c9fa6d.ttf"},4838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)o(e,n[t]);var i=document.body;for(var a in r)o(i,r[a]);n={},r={}},t.log=function(){};var n={},r={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),o.add(e)});var o,i},t.remove=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&o.remove(e)});var o,i}},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},5095:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var a=i[o];if(!("_owner"===a&&t.$$typeof||e(t[a],n[a])))return!1}return!0}return t!=t&&n!=n}},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var k=v.prototype=new b;k.constructor=v,m(k,y.prototype),k.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,x(a)?(o="",null!=e&&(o=e.replace(O,"$&/")+"/"),L(a,t,o,"",function(e){return e})):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+T(s=e[c],c);l+=L(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=L(s=s.value,t,o,u=i+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],o=0;return L(e,r,"","",function(e){return t.call(n,e,o++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},I={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},5475:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".linkLike{background:none;border:none;color:#8ab4ff;cursor:pointer;padding:0;text-decoration:underline}.modal__content--page-picker{max-width:500px;max-height:600px;padding:0}.page-picker{display:flex;flex-direction:column;height:100%}.page-picker__header{display:flex;align-items:center;gap:.5rem;padding:1rem 1.25rem;border-bottom:1px solid hsla(0,0%,100%,.1)}.page-picker__header h3{margin:0;font-size:1.1rem;font-weight:600}.page-picker__loading{font-size:.85rem;opacity:.6}.page-picker__search{width:100%;padding:.75rem 1rem;margin:.75rem 1.25rem;margin-bottom:.5rem;background:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,100%,.1);border-radius:6px;color:#fff;font-size:.95rem;max-width:calc(100% - 2.5rem)}.page-picker__search:focus{outline:none;border-color:rgba(138,180,255,.5);background:hsla(0,0%,100%,.08)}.page-picker__search::placeholder{color:hsla(0,0%,100%,.4)}.page-picker__list{flex:1;overflow-y:auto;padding:.5rem .75rem;min-height:250px;max-height:400px}.page-picker__item{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem .75rem;background:none;border:none;border-radius:6px;color:#fff;text-align:left;cursor:pointer;transition:background .15s}.page-picker__item:hover{background:hsla(0,0%,100%,.08)}.page-picker__item:active{background:hsla(0,0%,100%,.12)}.page-picker__icon{display:flex;align-items:center;justify-content:center;width:32px;height:32px;font-size:1.2rem;color:rgba(138,180,255,.8);flex-shrink:0}.page-picker__title{font-size:.95rem;flex:1}.page-picker__empty{padding:2rem 1rem;text-align:center;color:hsla(0,0%,100%,.4);font-size:.9rem}.page-picker__footer{padding:1rem 1.25rem;border-top:1px solid hsla(0,0%,100%,.1);display:flex;justify-content:flex-end}",""]);const s=a},5526:(e,t,n)=>{"use strict";e.exports=n.p+"271ca46482613b8fb8ea.woff"},5556:(e,t,n)=>{e.exports=n(2694)()},5781:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=n(4417),u=n.n(c),d=new URL(n(4269),n.b),p=a()(o());p.i(s.A),p.i(l.A),p.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]);var f=u()(d);p.push([e.id,`.home{position:relative;min-height:100%;height:100%;max-height:100%;color:#e2e8f0;text-align:center;overflow:hidden;background-image:url(${f});background-size:cover;background-position:center}.home .heroContent{position:relative;top:40%;transform:translateY(-40%);padding:0 2rem}.home .heroTitle{font-size:2.5rem;margin-bottom:1rem;font-weight:700}.home .heroSubtitle{font-size:1.1rem;max-width:40rem;margin:0 auto;color:#d5d5d5}`,""]);const h=p},5922:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.rt-bubble-menu,.rt-bubble-menu-image{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:6px 8px;display:inline-flex;align-items:center;gap:8px;user-select:none}.rt-bubble-menu--hidden,.rt-bubble-menu-image--hidden{display:none}.rt-bubble-menu .btns,.rt-bubble-menu-image .btns{display:inline-flex;align-items:center;gap:6px}.rt-bubble-menu select,.rt-bubble-menu .rt-select,.rt-bubble-menu-image select,.rt-bubble-menu-image .rt-select{appearance:none;background:#0e0f0f;color:inherit;border:1px solid #494949;border-radius:10px;padding:6px 10px;font:inherit;line-height:1;cursor:pointer}.rt-bubble-menu .rt-mode,.rt-bubble-menu-image .rt-mode{position:relative}.rt-bubble-menu .rt-mode__btn,.rt-bubble-menu-image .rt-mode__btn{appearance:none;background:#1b1d1f;color:inherit;border-radius:6px;padding:6px 10px;font:inherit;line-height:1;cursor:pointer;min-width:120px;text-align:left}.rt-bubble-menu .rt-mode-menu,.rt-bubble-menu-image .rt-mode-menu{position:absolute;top:calc(100% + 6px);left:0;background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:6px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:10px;min-width:220px;z-index:1000}.rt-bubble-menu .rt-mode-menu::before,.rt-bubble-menu-image .rt-mode-menu::before{content:"";position:absolute;top:-6px;left:14px;width:10px;height:10px;background:#494949;border-top:1px solid #494949;border-left:1px solid #494949;transform:rotate(45deg)}.rt-bubble-menu .rt-menu-section,.rt-bubble-menu-image .rt-menu-section{font-size:12px;opacity:.6;margin:4px 0 6px}.rt-bubble-menu .rt-menu-row,.rt-bubble-menu-image .rt-menu-row{display:flex;align-items:center;gap:6px;padding:4px 0}.rt-bubble-menu .rt-menu-row>span,.rt-bubble-menu-image .rt-menu-row>span{font-size:12px;opacity:.7}.rt-bubble-menu .rt-menu-row button,.rt-bubble-menu-image .rt-menu-row button{appearance:none;background:rgba(0,0,0,0);color:inherit;border:1px solid rgba(0,0,0,0);padding:6px 8px;border-radius:6px;cursor:pointer;transition:background .12s ease,border-color .12s ease;width:100%;text-align:left;justify-content:flex-start}.rt-bubble-menu .rt-menu-row button:hover,.rt-bubble-menu-image .rt-menu-row button:hover{background:#1b1d1f;border-color:#494949}.rt-bubble-menu .rt-menu-row button.active,.rt-bubble-menu-image .rt-menu-row button.active{background:color-mix(in srgb, rgb(208, 179, 115) 18%, transparent);border-color:color-mix(in srgb, rgb(208, 179, 115) 55%, rgb(73, 73, 73));color:#0b0b0b;font-weight:700}.rt-bubble-menu button,.rt-bubble-menu-image button{appearance:none;border:1px solid rgba(0,0,0,0);background:rgba(0,0,0,0);color:inherit;width:32px;height:32px;border-radius:6px;display:grid;place-items:center;cursor:pointer;transition:background .12s ease,border-color .12s ease,transform .06s ease}.rt-bubble-menu button:hover,.rt-bubble-menu-image button:hover{background:#1b1d1f;border-color:#494949}.rt-bubble-menu button:active,.rt-bubble-menu-image button:active{transform:translateY(1px)}.rt-bubble-menu button.active,.rt-bubble-menu-image button.active{background:color-mix(in srgb, rgb(208, 179, 115) 18%, transparent);border-color:color-mix(in srgb, rgb(208, 179, 115) 55%, rgb(73, 73, 73));color:#0b0b0b;font-weight:700}.rt-bubble-menu button:disabled,.rt-bubble-menu-image button:disabled{opacity:.45;cursor:not-allowed}.rt-bubble-menu .rt-divider,.rt-bubble-menu-image .rt-divider{width:1px;height:22px;background:#494949;margin:0 4px}.rt-bubble-menu:after,.rt-bubble-menu-image:after{content:"";position:absolute;inset-inline:0;margin-inline:auto;bottom:-6px;width:10px;height:10px;background:#1b1d1f;border-right:1px solid #494949;border-bottom:1px solid #494949;transform:rotate(45deg)}.rt-float{background:#1b1d1f;color:#e2e8f0;border:1px solid #494949;border-radius:6px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:6px 8px}.rt-toolbar{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end;margin-bottom:.3rem;opacity:0;position:absolute;top:-25px;z-index:10;width:100%}.rt-toolbar .rt-add-block{display:flex;gap:.5rem}.rt-toolbar .add-block-btn{display:flex;justify-content:center;align-items:center;position:relative;padding:.3rem;border-radius:3px;width:24px;border-radius:3px;color:#d5d5d5;background:#494949;border:none;box-shadow:none;line-height:1;cursor:pointer;transition:opacity .15s ease,background .15s ease,border-color .15s ease}.rt-toolbar .add-block-btn:hover{background:#0e0f0f}.rt-toolbar .rt-sideTools{justify-content:flex-end;display:flex;gap:.5rem}.rt-toolbar .rt-sideTools button{background:#494949;border:none;color:#d5d5d5;padding:.3rem;border-radius:3px;width:24px;cursor:pointer}.rt-toolbar .rt-sideTools button:hover{background:#0e0f0f}.richtext-dropcursor{color:#d0b373}p img{max-width:100%;height:auto}div[data-node=image] div{max-width:100%}div[data-node=image] div img{max-width:100%;height:auto}.rt-content [data-resize-container]{position:relative;display:inline-flex;align-items:flex-start;justify-content:flex-start}.rt-content [data-resize-wrapper]{position:relative;display:inline-block;line-height:0}.rt-content [data-resize-handle]{position:absolute;width:12px;height:12px;border-radius:50%;background:#c49f17;border:2px solid #0f1116;box-shadow:0 0 0 1px rgba(0,0,0,.35);z-index:5;pointer-events:auto;opacity:.95;font-size:0;line-height:0}.rt-content [data-resize-handle=top]{top:-6px;left:50%;transform:translate(-50%, -50%);cursor:ns-resize}.rt-content [data-resize-handle=bottom]{bottom:-6px;right:0;cursor:ns-resize}.rt-content [data-resize-handle=left]{left:-6px;top:50%;transform:translate(-50%, -50%);cursor:ew-resize}.rt-content [data-resize-handle=right]{right:-6px;top:50%;transform:translate(50%, -50%);cursor:ew-resize}.rt-content [data-resize-container] [data-resize-handle]{display:none}.rt-content [data-resize-container]:hover [data-resize-handle],.rt-content [data-resize-container].ProseMirror-selectednode [data-resize-handle],.rt-content [data-resize-container] img.ProseMirror-selectednode+[data-resize-handle]{display:block}.ProseMirror p div:has(.float-left){float:left;margin-right:5px}.ProseMirror p div:has(.float-right){float:right;margin-left:5px}.ProseMirror p div:has(.float-none){float:none;margin:0}.rt-content [data-resize-container][data-float=left]{float:left;margin:.5rem;margin-right:1rem;margin-top:.7rem;margin-left:0}.rt-content [data-resize-container][data-float=right]{float:right;margin:.5rem;margin-left:1rem;margin-top:.7rem;margin-right:0}.rt-content [data-resize-container][data-float=none]{float:none;margin:0}',""]);const u=c},6204:(e,t,n)=>{"use strict";e.exports=n.p+"27ec0d8f53ae8f6cc374.eot"},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},6375:(e,t,n)=>{"use strict";e.exports=n.p+"ea9c1d594ac9cda959b6.eot"},6462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a&&(a.removeAttribute?a.removeAttribute("aria-hidden"):null!=a.length?a.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(a).forEach(function(e){return e.removeAttribute("aria-hidden")})),a=null},t.log=function(){},t.assertNodeList=s,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);s(n,t),t=n}return a=t||a},t.validateElement=l,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=l(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.setAttribute("aria-hidden","true")}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=l(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.removeAttribute("aria-hidden")}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){a=null};var r,o=(r=n(9771))&&r.__esModule?r:{default:r},i=n(834),a=null;function s(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){var t=e||a;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},6523:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"",""]);const s=a},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},6621:(e,t,n)=>{"use strict";e.exports=n.p+"77d938db69c858a9a936.woff"},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(n.length){var r=void 0,a=t.shiftKey,s=n[0],l=n[n.length-1],c=i();if(e===c){if(!a)return;r=l}if(l!==c||a||(r=s),s===c&&a&&(r=l),r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var d=n.indexOf(c);if(d>-1&&(d+=a?-1:1),void 0===(r=n[d]))return t.preventDefault(),void(r=a?l:s).focus();t.preventDefault(),r.focus()}}else t.preventDefault()};var r,o=(r=n(2411))&&r.__esModule?r:{default:r};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?i(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},7305:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.loreHome{background-size:cover !important;background-position:center center !important}.loreHome .bgLayer{position:absolute;inset:0;background:inherit;background-size:cover;background-position:center;pointer-events:none;filter:blur(0px);transform:translateZ(0);will-change:filter;z-index:0}.loreHome.offset-container{height:auto;min-height:100%;min-height:100vh;position:relative;margin-top:0;padding-bottom:2rem;padding-top:0}.loreHome .overflow-container{position:absolute;top:130px;left:0;right:0;bottom:0;width:100%;overflow-y:auto;overscroll-behavior-y:contain;-webkit-overflow-scrolling:touch;scroll-padding-top:16px}.loreHome .contentContainer{max-width:1000px;margin:0 auto;overflow:visible;position:relative;padding:2rem}.loreTitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;font-size:2.5rem;margin:0 0 .5rem 0;text-align:center;color:#e2e8f0;text-transform:uppercase}.loreSubtitle{font-family:"Montserrat",sans-serif;font-weight:300;font-size:1rem;color:#bababa;margin-bottom:3rem;text-align:center}.loreColumns{display:grid;grid-template-columns:250px 1fr;gap:2rem;align-items:start}.categoriesColumn{position:sticky;top:2rem}.pagesColumn{min-height:400px}.columnTitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;font-size:1rem;margin-bottom:1.5rem;color:#997e43;text-transform:uppercase}.categoriesList{display:flex;flex-direction:column;gap:.5rem}.categoryCard{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;background:rgba(0,0,0,0);border:none;padding:.75rem 1rem;cursor:pointer;transition:all .2s ease;color:#d5d5d5;text-align:left;font-size:.9rem;text-transform:uppercase;position:relative}.categoryCard::before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background:rgba(0,0,0,0);transition:background .2s ease}.categoryCard:hover{color:#e2e8f0;padding-left:1.25rem}.categoryCard.active{color:#d0b373;padding-left:1.25rem}.categoryCard.active::before{background:#d0b373}.categoryCard .label{font-size:.9rem}.loadingText,.emptyText{font-family:"Montserrat",sans-serif;font-weight:300;text-align:center;color:#bababa;padding:2rem}.pageList{list-style:none;padding:0;margin:0;display:flex;gap:1rem;flex-direction:column}.pageListItem{cursor:pointer;flex:1;min-height:150px;height:150px}.pageCard{position:relative;background:rgba(14,15,15,.8);border-radius:8px;overflow:hidden;display:flex;flex-direction:column;height:150px;transition:all .2s ease;border:1px solid #0e0f0f;align-items:flex-end;justify-content:flex-end}.pageCard:hover{border-color:#d0b373}.pageCard:hover .meta{max-height:150px}.pageCard:hover .meta .pageExcerpt{opacity:1;transform:translateY(0)}.pageCard .thumb{width:100%;height:100%;background-size:cover;background-position:center;object-fit:cover;position:absolute}.pageCard .meta{position:relative;padding:.75rem;justify-content:flex-start;align-self:flex-end;width:100%;background:rgba(14,15,15,.8);display:flex;flex-direction:column;max-height:55px;overflow:hidden;transition:max-height 300ms ease;will-change:max-height}.pageCard .meta .deleteBtn{position:absolute;bottom:.5rem;right:.5rem;background:rgba(0,0,0,.6);border:1px solid hsla(0,0%,100%,.2);border-radius:6px;padding:.35rem;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#d5d5d5;transition:all .2s ease;opacity:0;transform:translateY(4px)}.pageCard .meta .deleteBtn:hover{background:rgba(168,85,247,.3);border-color:#a855f7;color:#a855f7}.pageCard .meta .deleteBtn:active{transform:translateY(4px) scale(0.95)}.pageCard .meta:hover .deleteBtn{opacity:1;transform:translateY(0)}.pageCard .pageTitle{font-family:"Montserrat",sans-serif;font-weight:700;margin:0;font-size:1rem;color:#e2e8f0}.pageCard .pageSubtitle{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;margin:0;font-size:.8rem;color:#997e43}.pageCard .pageExcerpt{font-family:"Crimson Text",sans-serif;font-weight:400;margin:.3rem 0 0 0;font-size:1rem;color:#d5d5d5;opacity:0;transform:translateY(4px);transition:opacity 220ms ease,transform 220ms ease}.pageCard .pageExcerpt .moreIndicator{font-family:"Montserrat",sans-serif;font-weight:700;letter-spacing:.2em;color:#997e43;font-size:.7rem;cursor:pointer}.draftBadge{position:absolute;display:flex;align-items:center;justify-content:center;height:30px;top:.3rem;margin-top:.25rem;padding:.1rem .5rem;background:#0e0f0f;color:#d0b373;border-top-left-radius:4px;border-bottom-left-radius:4px;font-size:.7rem;font-weight:600}.modal__btn{padding:8px 16px;border-radius:6px;border:1px solid #494949;background:#0e0f0f;color:#e2e8f0;cursor:pointer;transition:all .2s ease;font-size:.9rem}.modal__btn:hover{background:#1b1d1f;border-color:#d5d5d5}.modal__btn.cancel{background:rgba(0,0,0,0);color:#d5d5d5}.modal__btn.cancel:hover{background:hsla(0,0%,100%,.05);color:#e2e8f0}.modal__btn.delete{background:rgba(168,85,247,.2);border-color:#a855f7;color:#a855f7}.modal__btn.delete:hover{background:#a855f7;color:#0e0f0f}@media(max-width: 768px){.loreColumns{grid-template-columns:1fr;gap:1.5rem}.categoriesColumn{position:static}.categoriesList{flex-direction:row;flex-wrap:wrap}.categoryCard.active{padding-left:1rem}.categoryCard::before{display:none}}',""]);const u=c},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,N(w);else{var t=r(u);null!==t&&I(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,b(_),_=-1),h=!0;var i=f;try{for(k(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!L());){var a=p.callback;if("function"==typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(c)&&o(c),k(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&I(x,d.startTime-n),l=!1}return l}finally{p=null,f=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,_=-1,O=5,T=-1;function L(){return!(t.unstable_now()-T<O)}function M(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"==typeof v)S=function(){v(M)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=M,S=function(){A.postMessage(null)}}else S=function(){y(M,0)};function N(e){C=e,E||(E=!0,S())}function I(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,N(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,I(x,i-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,N(w))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[i,a],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}i=a=null,s=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(s.length);for(var e=[i,a],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,o=(r=n(9628))&&r.__esModule?r:{default:r},i=void 0,a=void 0,s=[];function l(){0!==s.length&&s[s.length-1].focusContent()}o.default.subscribe(function(e,t){i||a||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",l),(a=i.cloneNode()).addEventListener("focus",l)),(s=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(i.parentElement&&i.parentElement.removeChild(i),a.parentElement&&a.parentElement.removeChild(a))})},7791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){i=[]},t.log=function(){},t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==i.length&&(t=i.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var r,o=(r=n(2411))&&r.__esModule?r:{default:r},i=[],a=null,s=!1;function l(){s=!0}function c(){if(s){if(s=!1,!a)return;setTimeout(function(){a.contains(document.activeElement)||((0,o.default)(a)[0]||a).focus()},0)}}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},8198:(e,t,n)=>{"use strict";e.exports=n.p+"2c366a82a5f6b0233fa9.ttf"},8275:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/aetherium_coming_of_elves687a1d3ca30d04f70eb0.png"},8493:(e,t,n)=>{"use strict";var r=n(6540),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},9090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6540),s=g(n(5556)),l=m(n(7791)),c=g(n(7067)),u=m(n(6462)),d=m(n(4838)),p=n(834),f=g(p),h=g(n(9628));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(7727);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=0,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName,a=e.parentSelector,s=a&&a().ownerDocument||document;i&&d.remove(s.body,i),o&&d.remove(s.getElementsByTagName("html")[0],o),r&&b>0&&0==(b-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},function(){n.openAnimationFrame=requestAnimationFrame(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,r){return n[e+"-"+r]=t[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName,i=e.parentSelector,a=i&&i().ownerDocument||document;o&&d.add(a.body,o),r&&d.add(a.getElementsByTagName("html")[0],r),n&&(b+=1,u.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,i=e.defaultStyles,a=e.children,s=n?{}:i.content,l=o?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,a);return this.props.overlayElement(c,d)}}]),t}(a.Component);v.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},v.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(f.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(f.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=v,e.exports=t.default},9242:(e,t,n)=>{"use strict";e.exports=n(2162)},9628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(n){return n(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},9632:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4517),l=n(9844),c=a()(o());c.i(s.A),c.i(l.A),c.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),c.push([e.id,'.navBar{position:fixed;left:0;right:0;align-items:center;z-index:1000;display:flex;justify-content:center;align-items:center}.navBar .brand{display:flex;flex-direction:column;align-items:center}.navBar .brand .brand-logo{max-height:200px;width:auto;transition:all 1s ease-in-out}.navBar.other{padding:.5rem 1rem;border-bottom:1px solid #887d05;animation:fromBottomToTop .4s ease-out forwards;height:130px}.navBar.other .brand .brand-logo{max-height:100px;width:auto;transition:all .1s ease-in-out}.navBar.is-home{padding:1.5rem 1rem;background:rgba(0,0,0,0);animation:fromTopToBottom 1s ease-out forwards;height:260px}.navBar.is-home .brand .brand-logo{max-height:200px;width:auto}.navLink{text-decoration:none;font-weight:600;color:#e2e8f0;transition:color .2s;width:160px;transition:all .2s ease}.navLink:hover{color:#d0b373}.navLink.active{color:#d0b373}.navLink.active:hover{color:#bababa}.navLink.is-home{font-size:1.5rem;width:200px}.navLink.other{font-size:1rem}.brand .treeIcon{line-height:1}.brand .name{font-family:"serif";letter-spacing:.05em;color:#d0b373;font-weight:700}.brand.is-home .treeIcon{font-size:3rem}.brand.other .treeIcon{font-size:1.8rem}.brand.is-home .name{font-size:2.5rem}.brand.other .name{font-size:1.4rem}.backLink{position:absolute;top:50%;left:1rem;transform:translateY(-50%);text-decoration:none;font-family:"Montserrat",sans-serif;font-weight:200;color:#e2e8f0;display:flex;transition:all .2s ease}.backLink:hover{color:#d0b373}@keyframes fromTopToBottom{0%{top:0px}100%{top:calc(100% - 260px)}}@keyframes fromBottomToTop{0%{top:calc(100% - 260px)}100%{top:0px;border-width:100%;border-opacity:1}}',""]);const u=c},9727:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Iconly-Boldc0510fb2a8df5a276722.svg"},9771:e=>{"use strict";e.exports=function(){}},9844:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'[class^=iconlyBulk-],[class*=" iconlyBulk-"]{font-family:"iconly" !important;speak:never;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;font-weight:900;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconlyBulk-Arrow-Down .path1:before{content:"î¤€";opacity:.4}.iconlyBulk-Arrow-Down .path2:before{content:"î¤";margin-left:-1em}.iconlyBulk-User2 .path1:before{content:"î¤‚"}.iconlyBulk-User2 .path2:before{content:"î¤ƒ";margin-left:-1em;opacity:.4}.iconlyBulk-User2 .path3:before{content:"î¤„";margin-left:-1em;opacity:.4}.iconlyBulk-User2 .path4:before{content:"î¤…";margin-left:-1em}.iconlyBulk-User3 .path1:before{content:"î¤†"}.iconlyBulk-User3 .path2:before{content:"î¤‡";margin-left:-1em;opacity:.4}.iconlyBulk-User3 .path3:before{content:"î¤ˆ";margin-left:-1em;opacity:.4}.iconlyBulk-User3 .path4:before{content:"î¤‰";margin-left:-1em}.iconlyBulk-User3 .path5:before{content:"î¤Š";margin-left:-1em;opacity:.4}.iconlyBulk-User3 .path6:before{content:"î¤‹";margin-left:-1em}.iconlyBulk-Activity .path1:before{content:"î¤Œ"}.iconlyBulk-Activity .path2:before{content:"î¤";margin-left:-1em;opacity:.4}.iconlyBulk-Add-User .path1:before{content:"î¤Ž"}.iconlyBulk-Add-User .path2:before{content:"î¤";margin-left:-1em}.iconlyBulk-Add-User .path3:before{content:"î¤";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Down-2 .path1:before{content:"î¤‘"}.iconlyBulk-Arrow-Down-2 .path2:before{content:"î¤’";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Down-3 .path1:before{content:"î¤“";opacity:.4}.iconlyBulk-Arrow-Down-3 .path2:before{content:"î¤”";margin-left:-1em}.iconlyBulk-Arrow-Down-Circle .path1:before{content:"î¤•";opacity:.4}.iconlyBulk-Arrow-Down-Circle .path2:before{content:"î¤–";margin-left:-1em}.iconlyBulk-Arrow-Down-Square .path1:before{content:"î¤—";opacity:.4}.iconlyBulk-Arrow-Down-Square .path2:before{content:"î¤˜";margin-left:-1em}.iconlyBulk-Arrow-Left-2 .path1:before{content:"î¤™"}.iconlyBulk-Arrow-Left-2 .path2:before{content:"î¤š";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Left-3 .path1:before{content:"î¤›";opacity:.4}.iconlyBulk-Arrow-Left-3 .path2:before{content:"î¤œ";margin-left:-1em}.iconlyBulk-Arrow-Left-Circle .path1:before{content:"î¤";opacity:.4}.iconlyBulk-Arrow-Left-Circle .path2:before{content:"î¤ž";margin-left:-1em}.iconlyBulk-Arrow-Left-Square .path1:before{content:"î¤Ÿ";opacity:.4}.iconlyBulk-Arrow-Left-Square .path2:before{content:"î¤ ";margin-left:-1em}.iconlyBulk-Arrow-Left .path1:before{content:"î¤¡";opacity:.4}.iconlyBulk-Arrow-Left .path2:before{content:"î¤¢";margin-left:-1em}.iconlyBulk-Arrow-Right-2 .path1:before{content:"î¤£"}.iconlyBulk-Arrow-Right-2 .path2:before{content:"î¤¤";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Right-3 .path1:before{content:"î¤¥";opacity:.4}.iconlyBulk-Arrow-Right-3 .path2:before{content:"î¤¦";margin-left:-1em}.iconlyBulk-Arrow-Right-Circle .path1:before{content:"î¤§";opacity:.4}.iconlyBulk-Arrow-Right-Circle .path2:before{content:"î¤¨";margin-left:-1em}.iconlyBulk-Arrow-Right-Square .path1:before{content:"î¤©";opacity:.4}.iconlyBulk-Arrow-Right-Square .path2:before{content:"î¤ª";margin-left:-1em}.iconlyBulk-Arrow-Right .path1:before{content:"î¤«";opacity:.4}.iconlyBulk-Arrow-Right .path2:before{content:"î¤¬";margin-left:-1em}.iconlyBulk-Arrow-Up-2 .path1:before{content:"î¤­"}.iconlyBulk-Arrow-Up-2 .path2:before{content:"î¤®";margin-left:-1em;opacity:.4}.iconlyBulk-Arrow-Up-3 .path1:before{content:"î¤¯";opacity:.4}.iconlyBulk-Arrow-Up-3 .path2:before{content:"î¤°";margin-left:-1em}.iconlyBulk-Arrow-Up-Circle .path1:before{content:"î¤±";opacity:.4}.iconlyBulk-Arrow-Up-Circle .path2:before{content:"î¤²";margin-left:-1em}.iconlyBulk-Arrow-Up-Square .path1:before{content:"î¤³";opacity:.4}.iconlyBulk-Arrow-Up-Square .path2:before{content:"î¤´";margin-left:-1em}.iconlyBulk-Arrow-Up .path1:before{content:"î¤µ";opacity:.4}.iconlyBulk-Arrow-Up .path2:before{content:"î¤¶";margin-left:-1em}.iconlyBulk-Bag-2 .path1:before{content:"î¤·";opacity:.4}.iconlyBulk-Bag-2 .path2:before{content:"î¤¸";margin-left:-1em}.iconlyBulk-Bag .path1:before{content:"î¤¹"}.iconlyBulk-Bag .path2:before{content:"î¤º";margin-left:-1em;opacity:.4}.iconlyBulk-Bookmark .path1:before{content:"î¤»";opacity:.4}.iconlyBulk-Bookmark .path2:before{content:"î¤¼";margin-left:-1em}.iconlyBulk-Buy .path1:before{content:"î¤½";opacity:.4}.iconlyBulk-Buy .path2:before{content:"î¤¾";margin-left:-1em}.iconlyBulk-Calendar .path1:before{content:"î¤¿"}.iconlyBulk-Calendar .path2:before{content:"î¥€";margin-left:-1em;opacity:.4}.iconlyBulk-Calendar .path3:before{content:"î¥";margin-left:-1em}.iconlyBulk-Calendar .path4:before{content:"î¥‚";margin-left:-1em}.iconlyBulk-Call-Missed .path1:before{content:"î¥ƒ"}.iconlyBulk-Call-Missed .path2:before{content:"î¥„";margin-left:-1em;opacity:.4}.iconlyBulk-Call-Silent .path1:before{content:"î¥…"}.iconlyBulk-Call-Silent .path2:before{content:"î¥†";margin-left:-1em}.iconlyBulk-Call-Silent .path3:before{content:"î¥‡";margin-left:-1em;opacity:.4}.iconlyBulk-Call:before{content:"î¥ˆ"}.iconlyBulk-Calling .path1:before{content:"î¥‰";opacity:.4}.iconlyBulk-Calling .path2:before{content:"î¥Š";margin-left:-1em;opacity:.4}.iconlyBulk-Calling .path3:before{content:"î¥‹";margin-left:-1em}.iconlyBulk-Camera .path1:before{content:"î¥Œ"}.iconlyBulk-Camera .path2:before{content:"î¥";margin-left:-1em;opacity:.4}.iconlyBulk-Category .path1:before{content:"î¥Ž";opacity:.4}.iconlyBulk-Category .path2:before{content:"î¥";margin-left:-1em}.iconlyBulk-Chart .path1:before{content:"î¥";opacity:.4}.iconlyBulk-Chart .path2:before{content:"î¥‘";margin-left:-1em}.iconlyBulk-Chart .path3:before{content:"î¥’";margin-left:-1em}.iconlyBulk-Chart .path4:before{content:"î¥“";margin-left:-1em}.iconlyBulk-Chat .path1:before{content:"î¥”";opacity:.4}.iconlyBulk-Chat .path2:before{content:"î¥•";margin-left:-1em}.iconlyBulk-Close-Square .path1:before{content:"î¥–";opacity:.4}.iconlyBulk-Close-Square .path2:before{content:"î¥—";margin-left:-1em}.iconlyBulk-Danger .path1:before{content:"î¥˜";opacity:.4}.iconlyBulk-Danger .path2:before{content:"î¥™";margin-left:-1em}.iconlyBulk-Delete .path1:before{content:"î¥š";opacity:.4}.iconlyBulk-Delete .path2:before{content:"î¥›";margin-left:-1em}.iconlyBulk-Discount .path1:before{content:"î¥œ";opacity:.4}.iconlyBulk-Discount .path2:before{content:"î¥";margin-left:-1em}.iconlyBulk-Discovery .path1:before{content:"î¥ž";opacity:.4}.iconlyBulk-Discovery .path2:before{content:"î¥Ÿ";margin-left:-1em}.iconlyBulk-Document .path1:before{content:"î¥ ";opacity:.4}.iconlyBulk-Document .path2:before{content:"î¥¡";margin-left:-1em}.iconlyBulk-Download .path1:before{content:"î¥¢";opacity:.4}.iconlyBulk-Download .path2:before{content:"î¥£";margin-left:-1em}.iconlyBulk-Edit-Square .path1:before{content:"î¥¤";opacity:.4}.iconlyBulk-Edit-Square .path2:before{content:"î¥¥";margin-left:-1em}.iconlyBulk-Edit .path1:before{content:"î¥¦";opacity:.4}.iconlyBulk-Edit .path2:before{content:"î¥§";margin-left:-1em}.iconlyBulk-Edit .path3:before{content:"î¥¨";margin-left:-1em;opacity:.4}.iconlyBulk-Filter-2 .path1:before{content:"î¥©"}.iconlyBulk-Filter-2 .path2:before{content:"î¥ª";margin-left:-1em;opacity:.4}.iconlyBulk-Filter .path1:before{content:"î¥«";opacity:.4}.iconlyBulk-Filter .path2:before{content:"î¥¬";margin-left:-1em;opacity:.4}.iconlyBulk-Filter .path3:before{content:"î¥­";margin-left:-1em}.iconlyBulk-Filter .path4:before{content:"î¥®";margin-left:-1em}.iconlyBulk-Folder .path1:before{content:"î¥¯";opacity:.4}.iconlyBulk-Folder .path2:before{content:"î¥°";margin-left:-1em}.iconlyBulk-Game .path1:before{content:"î¥±";opacity:.4}.iconlyBulk-Game .path2:before{content:"î¥²";margin-left:-1em}.iconlyBulk-Graph .path1:before{content:"î¥³"}.iconlyBulk-Graph .path2:before{content:"î¥´";margin-left:-1em;opacity:.4}.iconlyBulk-Heart .path1:before{content:"î¥µ";opacity:.4}.iconlyBulk-Heart .path2:before{content:"î¥¶";margin-left:-1em}.iconlyBulk-Heart .path3:before{content:"î¥·";margin-left:-1em}.iconlyBulk-Hide .path1:before{content:"î¥¸";opacity:.4}.iconlyBulk-Hide .path2:before{content:"î¥¹";margin-left:-1em}.iconlyBulk-Home:before{content:"î¥º"}.iconlyBulk-Image-2 .path1:before{content:"î¥»"}.iconlyBulk-Image-2 .path2:before{content:"î¥¼";margin-left:-1em;opacity:.4}.iconlyBulk-Image-2 .path3:before{content:"î¥½";margin-left:-1em}.iconlyBulk-Image .path1:before{content:"î¥¾";opacity:.4}.iconlyBulk-Image .path2:before{content:"î¥¿";margin-left:-1em}.iconlyBulk-Info-Circle .path1:before{content:"î¦€";opacity:.4}.iconlyBulk-Info-Circle .path2:before{content:"î¦";margin-left:-1em}.iconlyBulk-Info-Square .path1:before{content:"î¦‚";opacity:.4}.iconlyBulk-Info-Square .path2:before{content:"î¦ƒ";margin-left:-1em}.iconlyBulk-Location .path1:before{content:"î¦„"}.iconlyBulk-Location .path2:before{content:"î¦…";margin-left:-1em;opacity:.4}.iconlyBulk-Lock .path1:before{content:"î¦†"}.iconlyBulk-Lock .path2:before{content:"î¦‡";margin-left:-1em;opacity:.4}.iconlyBulk-Login .path1:before{content:"î¦ˆ";opacity:.4}.iconlyBulk-Login .path2:before{content:"î¦‰";margin-left:-1em}.iconlyBulk-Logout .path1:before{content:"î¦Š";opacity:.4}.iconlyBulk-Logout .path2:before{content:"î¦‹";margin-left:-1em}.iconlyBulk-Message .path1:before{content:"î¦Œ";opacity:.4}.iconlyBulk-Message .path2:before{content:"î¦";margin-left:-1em}.iconlyBulk-More-Circle .path1:before{content:"î¦Ž";opacity:.4}.iconlyBulk-More-Circle .path2:before{content:"î¦";margin-left:-1em}.iconlyBulk-More-Square .path1:before{content:"î¦";opacity:.4}.iconlyBulk-More-Square .path2:before{content:"î¦‘";margin-left:-1em}.iconlyBulk-Notification .path1:before{content:"î¦’"}.iconlyBulk-Notification .path2:before{content:"î¦“";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Download .path1:before{content:"î¦”";opacity:.4}.iconlyBulk-Paper-Download .path2:before{content:"î¦•";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Download .path3:before{content:"î¦–";margin-left:-1em}.iconlyBulk-Paper-Fail .path1:before{content:"î¦—";opacity:.4}.iconlyBulk-Paper-Fail .path2:before{content:"î¦˜";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Fail .path3:before{content:"î¦™";margin-left:-1em}.iconlyBulk-Paper-Negative .path1:before{content:"î¦š";opacity:.4}.iconlyBulk-Paper-Negative .path2:before{content:"î¦›";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Negative .path3:before{content:"î¦œ";margin-left:-1em}.iconlyBulk-Paper-Plus .path1:before{content:"î¦";opacity:.4}.iconlyBulk-Paper-Plus .path2:before{content:"î¦ž";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Plus .path3:before{content:"î¦Ÿ";margin-left:-1em}.iconlyBulk-Paper-Upload .path1:before{content:"î¦ ";opacity:.4}.iconlyBulk-Paper-Upload .path2:before{content:"î¦¡";margin-left:-1em;opacity:.4}.iconlyBulk-Paper-Upload .path3:before{content:"î¦¢";margin-left:-1em}.iconlyBulk-Paper .path1:before{content:"î¦£";opacity:.4}.iconlyBulk-Paper .path2:before{content:"î¦¤";margin-left:-1em;opacity:.4}.iconlyBulk-Paper .path3:before{content:"î¦¥";margin-left:-1em}.iconlyBulk-Password .path1:before{content:"î¦¦";opacity:.4}.iconlyBulk-Password .path2:before{content:"î¦§";margin-left:-1em}.iconlyBulk-Play .path1:before{content:"î¦¨";opacity:.4}.iconlyBulk-Play .path2:before{content:"î¦©";margin-left:-1em}.iconlyBulk-Plus .path1:before{content:"î¦ª";opacity:.4}.iconlyBulk-Plus .path2:before{content:"î¦«";margin-left:-1em}.iconlyBulk-Profile .path1:before{content:"î¦¬"}.iconlyBulk-Profile .path2:before{content:"î¦­";margin-left:-1em;opacity:.4}.iconlyBulk-Scan .path1:before{content:"î¦®";opacity:.4}.iconlyBulk-Scan .path2:before{content:"î¦¯";margin-left:-1em}.iconlyBulk-Search .path1:before{content:"î¦°"}.iconlyBulk-Search .path2:before{content:"î¦±";margin-left:-1em;opacity:.4}.iconlyBulk-Send .path1:before{content:"î¦²"}.iconlyBulk-Send .path2:before{content:"î¦³";margin-left:-1em;opacity:.4}.iconlyBulk-Setting .path1:before{content:"î¦´"}.iconlyBulk-Setting .path2:before{content:"î¦µ";margin-left:-1em;opacity:.4}.iconlyBulk-Shield-Done .path1:before{content:"î¦¶";opacity:.4}.iconlyBulk-Shield-Done .path2:before{content:"î¦·";margin-left:-1em}.iconlyBulk-Shield-Fail .path1:before{content:"î¦¸";opacity:.4}.iconlyBulk-Shield-Fail .path2:before{content:"î¦¹";margin-left:-1em}.iconlyBulk-Show .path1:before{content:"î¦º";opacity:.4}.iconlyBulk-Show .path2:before{content:"î¦»";margin-left:-1em}.iconlyBulk-Star .path1:before{content:"î¦¼";opacity:.4}.iconlyBulk-Star .path2:before{content:"î¦½";margin-left:-1em}.iconlyBulk-Swap .path1:before{content:"î¦¾";opacity:.4}.iconlyBulk-Swap .path2:before{content:"î¦¿";margin-left:-1em}.iconlyBulk-Swap .path3:before{content:"î§€";margin-left:-1em;opacity:.4}.iconlyBulk-Swap .path4:before{content:"î§";margin-left:-1em}.iconlyBulk-Tick-Square .path1:before{content:"î§‚";opacity:.4}.iconlyBulk-Tick-Square .path2:before{content:"î§ƒ";margin-left:-1em}.iconlyBulk-Ticket-Star .path1:before{content:"î§„";opacity:.4}.iconlyBulk-Ticket-Star .path2:before{content:"î§…";margin-left:-1em}.iconlyBulk-Ticket .path1:before{content:"î§†";opacity:.4}.iconlyBulk-Ticket .path2:before{content:"î§‡";margin-left:-1em}.iconlyBulk-Time-Circle .path1:before{content:"î§ˆ";opacity:.4}.iconlyBulk-Time-Circle .path2:before{content:"î§‰";margin-left:-1em}.iconlyBulk-Time-Square .path1:before{content:"î§Š";opacity:.4}.iconlyBulk-Time-Square .path2:before{content:"î§‹";margin-left:-1em}.iconlyBulk-Unlock .path1:before{content:"î§Œ";opacity:.4}.iconlyBulk-Unlock .path2:before{content:"î§";margin-left:-1em}.iconlyBulk-Upload .path1:before{content:"î§Ž";opacity:.4}.iconlyBulk-Upload .path2:before{content:"î§";margin-left:-1em}.iconlyBulk-Video .path1:before{content:"î§";opacity:.4}.iconlyBulk-Video .path2:before{content:"î§‘";margin-left:-1em}.iconlyBulk-Voice-2 .path1:before{content:"î§’"}.iconlyBulk-Voice-2 .path2:before{content:"î§“";margin-left:-1em;opacity:.4}.iconlyBulk-Voice .path1:before{content:"î§”";opacity:.4}.iconlyBulk-Voice .path2:before{content:"î§•";margin-left:-1em}.iconlyBulk-Volume-Down .path1:before{content:"î§–"}.iconlyBulk-Volume-Down .path2:before{content:"î§—";margin-left:-1em;opacity:.4}.iconlyBulk-Volume-Off .path1:before{content:"î§˜";opacity:.4}.iconlyBulk-Volume-Off .path2:before{content:"î§™";margin-left:-1em}.iconlyBulk-Volume-Up .path1:before{content:"î§š"}.iconlyBulk-Volume-Up .path2:before{content:"î§›";margin-left:-1em;opacity:.4}.iconlyBulk-Volume-Up .path3:before{content:"î§œ";margin-left:-1em;opacity:.4}.iconlyBulk-Wallet .path1:before{content:"î§"}.iconlyBulk-Wallet .path2:before{content:"î§ž";margin-left:-1em;opacity:.4}.iconlyBulk-Wallet .path3:before{content:"î§Ÿ";margin-left:-1em}.iconlyBulk-Work .path1:before{content:"î§ ";opacity:.4}.iconlyBulk-Work .path2:before{content:"î§¡";margin-left:-1em}.iconlyBulk-Work .path3:before{content:"î§¢";margin-left:-1em}',""]);const s=a},9888:(e,t,n)=>{"use strict";e.exports=n(8493)},9982:(e,t,n)=>{"use strict";e.exports=n(7463)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e](i,i.exports,o),i.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>n[e]);return a.default=()=>n,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",o.b="undefined"!=typeof document&&document.baseURI||self.location.href,o.nc=void 0,(()=>{"use strict";var e={};o.r(e),o.d(e,{hasBrowserEnv:()=>Ul,hasStandardBrowserEnv:()=>Vl,hasStandardBrowserWebWorkerEnv:()=>Gl,navigator:()=>$l,origin:()=>ql});var t,n=o(6540),r=o.t(n,2),i=o(5338);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null==e)throw new Error(t)}function c(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var h;function m(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let o=L(("string"==typeof t?f(t):t).pathname||"/",n);if(null==o)return null;let i=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e){let t=T(o);a=_(i[e],t,r)}return a}(e,t,n,!1)}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=N([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),g(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:C(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of y(e.path))o(e,t,n);else o(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=y(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const b=/^:[\w-]+$/,v=3,k=2,x=1,w=10,S=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=S),t&&(r+=k),n.filter(e=>!E(e)).reduce((e,t)=>e+(b.test(t)?v:""===t?x:w),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let e=0;e<r.length;++e){let s=r[e],l=e===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=O({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c),d=s.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=O({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:N([i,u.pathname]),pathnameBase:I(N([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=N([i,u.pathnameBase]))}return a}function O(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function A(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=f(e):(o=a({},e),l(!o.pathname||!o.pathname.includes("?"),M("?","pathname","search",o)),l(!o.pathname||!o.pathname.includes("#"),M("#","pathname","hash",o)),l(!o.search||!o.search.includes("#"),M("#","search","hash",o)));let i,s=""===e||""===o.pathname,c=s?"/":o.pathname;if(null==c)i=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?f(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:D(r),hash:P(o)}}(o,i),d=c&&"/"!==c&&c.endsWith("/"),p=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!p||(u.pathname+="/"),u}const N=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",P=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const R=["post","put","patch","delete"],B=(new Set(R),["get",...R]);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}new Set(B),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const F=n.createContext(null),W=n.createContext(null),H=n.createContext(null),U=n.createContext(null),$=n.createContext({outlet:null,matches:[],isDataRoute:!1}),V=n.createContext(null);function G(){return null!=n.useContext(U)}function q(){return G()||l(!1),n.useContext(U).location}function K(e){n.useContext(H).static||n.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=n.useContext($);return e?function(){let{router:e}=function(){let e=n.useContext(F);return e||l(!1),e}(ne.UseNavigateStable),t=oe(re.UseNavigateStable),r=n.useRef(!1);K(()=>{r.current=!0});let o=n.useCallback(function(n,o){void 0===o&&(o={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,z({fromRouteId:t},o)))},[e,t]);return o}():function(){G()||l(!1);let e=n.useContext(F),{basename:t,future:r,navigator:o}=n.useContext(H),{matches:i}=n.useContext($),{pathname:a}=q(),s=JSON.stringify(j(i,r.v7_relativeSplatPath)),c=n.useRef(!1);K(()=>{c.current=!0});let u=n.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"==typeof n)return void o.go(n);let i=A(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:N([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)},[t,o,s,a,e]);return u}()}function J(e,t){let{relative:r}=void 0===t?{}:t,{future:o}=n.useContext(H),{matches:i}=n.useContext($),{pathname:a}=q(),s=JSON.stringify(j(i,o.v7_relativeSplatPath));return n.useMemo(()=>A(e,JSON.parse(s),a,"path"===r),[e,s,a,r])}function Z(e,r,o,i){G()||l(!1);let{navigator:a}=n.useContext(H),{matches:s}=n.useContext($),c=s[s.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,h=q();if(r){var g;let e="string"==typeof r?f(r):r;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||l(!1),p=e}else p=h;let y=p.pathname||"/",b=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=m(e,{pathname:b}),k=function(e,t,r,o){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===o&&(o=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=o)&&a.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=s.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(r&&o&&o.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((e,o,i)=>{let a,l=!1,p=null,f=null;var h;r&&(a=c&&o.route.id?c[o.route.id]:void 0,p=o.route.errorElement||X,u&&(d<0&&0===i?(ie[h="route-fallback"]||(ie[h]=!0),l=!0,f=null):d===i&&(l=!0,f=o.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=a?p:l?f:o.route.Component?n.createElement(o.route.Component,null):o.route.element?o.route.element:e,n.createElement(te,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?n.createElement(ee,{location:r.location,revalidation:r.revalidation,component:p,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:N([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:N([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,o,i);return r&&k?n.createElement(U.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},k):k}function Q(){let e=function(){var e;let t=n.useContext(V),r=function(){let e=n.useContext(W);return e||l(!1),e}(re.UseRouteError),o=oe(re.UseRouteError);return void 0!==t?t:null==(e=r.errors)?void 0:e[o]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:o},r):null,null)}const X=n.createElement(Q,null);class ee extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement($.Provider,{value:this.props.routeContext},n.createElement(V.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function te(e){let{routeContext:t,match:r,children:o}=e,i=n.useContext(F);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement($.Provider,{value:t},o)}var ne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ne||{}),re=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(re||{});function oe(e){let t=function(){let e=n.useContext($);return e||l(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||l(!1),r.route.id}const ie={};function ae(e){l(!1)}function se(e){let{basename:r="/",children:o=null,location:i,navigationType:a=t.Pop,navigator:s,static:c=!1,future:u}=e;G()&&l(!1);let d=r.replace(/^\/*/,"/"),p=n.useMemo(()=>({basename:d,navigator:s,static:c,future:z({v7_relativeSplatPath:!1},u)}),[d,u,s,c]);"string"==typeof i&&(i=f(i));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:b="default"}=i,v=n.useMemo(()=>{let e=L(h,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:b},navigationType:a}},[d,h,m,g,y,b,a]);return null==v?null:n.createElement(H.Provider,{value:p},n.createElement(U.Provider,{children:o,value:v}))}function le(e){let{children:t,location:n}=e;return Z(ce(t),n)}function ce(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,(e,o)=>{if(!n.isValidElement(e))return;let i=[...t,o];if(e.type===n.Fragment)return void r.push.apply(r,ce(e.props.children,i));e.type!==ae&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ce(e.props.children,i)),r.push(a)}),r}r.startTransition,new Promise(()=>{}),n.Component;var ue=o(961),de=o.t(ue,2);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function he(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const me=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ge=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Lg){}const ye=n.createContext({isTransitioning:!1});new Map;const be=r.startTransition;function ve(e){let{basename:r,children:o,future:i,window:c}=e,f=n.useRef();null==f.current&&(f.current=function(e){return void 0===e&&(e={}),function(e,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,f=i.history,h=t.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function b(){h=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:h,location:k.location,delta:n})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(a({},f.state,{idx:g}),""));let k={get action(){return h},get location(){return e(i,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(s,b),m=e,()=>{i.removeEventListener(s,b),m=null}},createHref:e=>n(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let o=d(k.location,e,n);r&&r(o,e),g=y()+1;let a=u(o,g),s=k.createHref(o);try{f.pushState(a,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(s)}c&&m&&m({action:h,location:k.location,delta:1})},replace:function(e,n){h=t.Replace;let o=d(k.location,e,n);r&&r(o,e),g=y();let i=u(o,g),a=k.createHref(o);f.replaceState(i,"",a),c&&m&&m({action:h,location:k.location,delta:0})},go:e=>f.go(e)};return k}(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return d("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:p(t)},null,e)}({window:c,v5Compat:!0}));let h=f.current,[m,g]=n.useState({action:h.action,location:h.location}),{v7_startTransition:y}=i||{},b=n.useCallback(e=>{y&&be?be(()=>g(e)):g(e)},[g,y]);return n.useLayoutEffect(()=>h.listen(b),[h,b]),n.useEffect(()=>{return null==(e=i)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[i]),n.createElement(se,{basename:r,children:o,location:m.location,navigationType:m.action,navigator:h,future:i})}de.flushSync,r.useId;const ke="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=n.forwardRef(function(e,t){let r,{onClick:o,relative:i,reloadDocument:a,replace:s,state:c,target:u,to:d,preventScrollReset:f,viewTransition:h}=e,m=fe(e,me),{basename:g}=n.useContext(H),y=!1;if("string"==typeof d&&xe.test(d)&&(r=d,ke))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=L(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(e){}let b=function(e,t){let{relative:r}=void 0===t?{}:t;G()||l(!1);let{basename:o,navigator:i}=n.useContext(H),{hash:a,pathname:s,search:c}=J(e,{relative:r}),u=s;return"/"!==o&&(u="/"===s?o:N([o,s])),i.createHref({pathname:u,search:c,hash:a})}(d,{relative:i}),v=function(e,t){let{target:r,replace:o,state:i,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=Y(),u=q(),d=J(e,{relative:s});return n.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let n=void 0!==o?o:p(u)===p(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,o,i,r,e,a,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:h});return n.createElement("a",pe({},m,{href:r||b,onClick:y||a?o:function(e){o&&o(e),e.defaultPrevented||v(e)},ref:t,target:u}))}),Se=n.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:a=!1,style:s,to:c,viewTransition:u,children:d}=e,p=fe(e,ge),f=J(c,{relative:p.relative}),h=q(),m=n.useContext(W),{navigator:g,basename:y}=n.useContext(H),b=null!=m&&function(e,t){void 0===t&&(t={});let r=n.useContext(ye);null==r&&l(!1);let{basename:o}=function(){let e=n.useContext(F);return e||l(!1),e}(Ee.useViewTransitionState),i=J(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=L(r.currentLocation.pathname,o)||r.currentLocation.pathname,s=L(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=O(i.pathname,s)||null!=O(i.pathname,a)}(f)&&!0===u,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,k=h.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(k=k.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&y&&(x=L(x,y)||x);const w="/"!==v&&v.endsWith("/")?v.length-1:v.length;let S,E=k===v||!a&&k.startsWith(v)&&"/"===k.charAt(w),C=null!=x&&(x===v||!a&&x.startsWith(v)&&"/"===x.charAt(v.length)),_={isActive:E,isPending:C,isTransitioning:b},T=E?r:void 0;S="function"==typeof i?i(_):[i,E?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M="function"==typeof s?s(_):s;return n.createElement(we,pe({},p,{"aria-current":T,className:S,ref:t,style:M,to:c,viewTransition:u}),"function"==typeof d?d(_):d)});var Ee,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));var _e=o(5072),Oe=o.n(_e),Te=o(7825),Le=o.n(Te),Me=o(7659),je=o.n(Me),Ae=o(5056),Ne=o.n(Ae),Ie=o(540),De=o.n(Ie),Pe=o(1113),Re=o.n(Pe),Be=o(9632),ze={};ze.styleTagTransform=Re(),ze.setAttributes=Ne(),ze.insert=je().bind(null,"head"),ze.domAPI=Le(),ze.insertStyleElement=De(),Oe()(Be.A,ze),Be.A&&Be.A.locals&&Be.A.locals;const Fe=o.p+"static/media/aetherium-logo3281a70471a0dd1de1fc.webp";var We=(0,n.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),He=function(e,t,n){var r=n.get(e);return r?r(t):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function Ue(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var $e=(0,n.forwardRef)(function(e,t){var r=e.alt,o=e.color,i=e.size,a=e.weight,s=e.mirrored,l=e.children,c=e.renderPath,u=Ue(e,["alt","color","size","weight","mirrored","children","renderPath"]),d=(0,n.useContext)(We),p=d.color,f=void 0===p?"currentColor":p,h=d.size,m=d.weight,g=void 0===m?"regular":m,y=d.mirrored,b=void 0!==y&&y,v=Ue(d,["color","size","weight","mirrored"]);return n.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=i?i:h,height:null!=i?i:h,fill:null!=o?o:f,viewBox:"0 0 256 256",transform:s||b?"scale(-1, 1)":void 0},v,u),!!r&&n.createElement("title",null,r),l,n.createElement("rect",{width:"256",height:"256",fill:"none"}),c(null!=a?a:g,null!=o?o:f))});$e.displayName="IconBase";const Ve=$e;var Ge=new Map;Ge.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ge.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("polygon",{points:"160 208 80 128 160 48 160 208",opacity:"0.2"}),n.createElement("polygon",{points:"160 208 80 128 160 48 160 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ge.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M163.1,40.6a8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,160,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,168,208V48A8,8,0,0,0,163.1,40.6Z"}))}),Ge.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ge.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ge.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var qe=function(e,t){return He(e,t,Ge)},Ke=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:qe}))});Ke.displayName="CaretLeft";const Ye=Ke;var Je=o(4848);const Ze=function(){var e=q(),t="/"===e.pathname,n=e.pathname.split("/").filter(Boolean),r=n[0],o=n[1],i=n.length>=2&&"lore"===r,a=o?"/".concat(r,"?category=").concat(o):"/".concat(r),s="lore"===r?"Back to Wikilore":"Back to History",l=t?"navBar is-home":"navBar other";return(0,Je.jsxs)("nav",{className:l,children:[i&&!t&&(0,Je.jsxs)(Se,{to:a,className:"backLink ".concat(t?"is-home":"other"),"aria-label":s,children:[(0,Je.jsx)(Ye,{size:18,weight:"thin"}),(0,Je.jsx)("span",{children:"BACK"})]}),(0,Je.jsx)(Se,{to:"/history",style:{textAlign:"right"},className:function(e){var n=e.isActive,r="navLink ".concat(t?"is-home":"other");return n?"".concat(r," active"):r},children:"TIMELINE"}),(0,Je.jsx)(Se,{to:"/",className:"navLink brand ".concat(t?"is-home":"other"),children:(0,Je.jsx)("img",{className:"brand-logo",src:Fe,alt:"Aetherium Logo"})}),(0,Je.jsx)(Se,{to:"/lore",className:function(e){var n=e.isActive,r="navLink ".concat(t?"is-home":"other");return n?"".concat(r," active"):r},children:"WIKILORE"})]})};var Qe=o(5781),Xe={};Xe.styleTagTransform=Re(),Xe.setAttributes=Ne(),Xe.insert=je().bind(null,"head"),Xe.domAPI=Le(),Xe.insertStyleElement=De(),Oe()(Qe.A,Xe),Qe.A&&Qe.A.locals&&Qe.A.locals;const et=function(){return(0,Je.jsxs)("div",{className:"",children:[(0,Je.jsx)("div",{className:"overlay"}),(0,Je.jsx)("div",{className:"heroContent"})]})},tt=function(){return(0,Je.jsxs)("div",{style:{paddingTop:"5rem",paddingBottom:"5rem",textAlign:"center"},children:[(0,Je.jsx)("h2",{style:{color:"#e2e8f0",fontSize:"2rem",marginBottom:"1rem"},children:"Campaign"}),(0,Je.jsx)("p",{style:{color:"#94a3b8",fontSize:"1rem",maxWidth:"30rem",margin:"0 auto"},children:"Questa sezione non Ã¨ ancora stata implementata. Torna piÃ¹ tardi per gestire le tue campagne."})]})};var nt=o(1769),rt={};rt.styleTagTransform=Re(),rt.setAttributes=Ne(),rt.insert=je().bind(null,"head"),rt.domAPI=Le(),rt.insertStyleElement=De(),Oe()(nt.A,rt),nt.A&&nt.A.locals&&nt.A.locals;var ot=o(312),it=o.n(ot);function at(e,t){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},at(e,t)}function st(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,at(e,t)}function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(null,arguments)}function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function ut(e,t,n){return(t=function(e){var t=function(e){if("object"!=ct(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ct(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach(function(t){ut(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ft(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ht="function"==typeof Symbol&&Symbol.observable||"@@observable",mt=function(){return Math.random().toString(36).substring(7).split("").join(".")},gt={INIT:"@@redux/INIT"+mt(),REPLACE:"@@redux/REPLACE"+mt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mt()}};function yt(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(ft(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(ft(1));return n(yt)(e,t)}if("function"!=typeof e)throw new Error(ft(2));var o=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(ft(3));return i}function d(e){if("function"!=typeof e)throw new Error(ft(4));if(l)throw new Error(ft(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(ft(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(ft(7));if(void 0===e.type)throw new Error(ft(8));if(l)throw new Error(ft(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return p({type:gt.INIT}),(r={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(ft(10));o=e,p({type:gt.REPLACE})}})[ht]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(ft(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[ht]=function(){return this},e},r}function bt(e,t){return function(){return t(e.apply(this,arguments))}}function vt(e,t){if("function"==typeof e)return bt(e,t);if("object"!=typeof e||null===e)throw new Error(ft(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=bt(o,t))}return n}function kt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var xt=n.createContext(null),wt=function(e){e()},St=function(){return wt},Et={notify:function(){},get:function(){return[]}};function Ct(e,t){var n,r=Et;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=St(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Et)},getListeners:function(){return r}};return a}var _t="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;const Ot=function(e){var t=e.store,r=e.context,o=e.children,i=(0,n.useMemo)(function(){var e=Ct(t);return{store:t,subscription:e}},[t]),a=(0,n.useMemo)(function(){return t.getState()},[t]);_t(function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[i,a]);var s=r||xt;return n.createElement(s.Provider,{value:i},o)};function Tt(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var Lt=o(4146),Mt=o.n(Lt),jt=o(4363),At=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Nt=["reactReduxForwardedRef"],It=[],Dt=[null,null];function Pt(e,t){var n=e[1];return[t.payload,n+1]}function Rt(e,t,n){_t(function(){return e.apply(void 0,t)},n)}function Bt(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function zt(e,t,n,r,o,i,a,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,n,p=t.getState();try{e=r(p,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Ft=function(){return[null,0]};function Wt(e,t){void 0===t&&(t={});var r=t,o=r.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,a=r.methodName,s=void 0===a?"connectAdvanced":a,l=r.renderCountProp,c=void 0===l?void 0:l,u=r.shouldHandleStateChanges,d=void 0===u||u,p=r.storeKey,f=void 0===p?"store":p,h=(r.withRef,r.forwardRef),m=void 0!==h&&h,g=r.context,y=void 0===g?xt:g,b=Tt(r,At),v=y;return function(t){var r=t.displayName||t.name||"Component",o=i(r),a=lt({},b,{getDisplayName:i,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:o,wrappedComponentName:r,WrappedComponent:t}),l=b.pure,u=l?n.useMemo:function(e){return e()};function p(r){var o=(0,n.useMemo)(function(){var e=r.reactReduxForwardedRef,t=Tt(r,Nt);return[r.context,e,t]},[r]),i=o[0],s=o[1],l=o[2],c=(0,n.useMemo)(function(){return i&&i.Consumer&&(0,jt.isContextConsumer)(n.createElement(i.Consumer,null))?i:v},[i,v]),p=(0,n.useContext)(c),f=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(p)&&Boolean(p.store);var h=f?r.store:p.store,m=(0,n.useMemo)(function(){return function(t){return e(t.dispatch,a)}(h)},[h]),g=(0,n.useMemo)(function(){if(!d)return Dt;var e=Ct(h,f?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[h,f,p]),y=g[0],b=g[1],k=(0,n.useMemo)(function(){return f?p:lt({},p,{subscription:y})},[f,p,y]),x=(0,n.useReducer)(Pt,It,Ft),w=x[0][0],S=x[1];if(w&&w.error)throw w.error;var E=(0,n.useRef)(),C=(0,n.useRef)(l),_=(0,n.useRef)(),O=(0,n.useRef)(!1),T=u(function(){return _.current&&l===C.current?_.current:m(h.getState(),l)},[h,w,l]);Rt(Bt,[C,E,O,l,T,_,b]),Rt(zt,[d,h,y,m,C,E,O,_,b,S],[h,y,m]);var L=(0,n.useMemo)(function(){return n.createElement(t,lt({},T,{ref:s}))},[s,t,T]);return(0,n.useMemo)(function(){return d?n.createElement(c.Provider,{value:k},L):L},[c,L,k])}var h=l?n.memo(p):p;if(h.WrappedComponent=t,h.displayName=p.displayName=o,m){var g=n.forwardRef(function(e,t){return n.createElement(h,lt({},e,{reactReduxForwardedRef:t}))});return g.displayName=o,g.WrappedComponent=t,Mt()(g,t)}return Mt()(h,t)}}function Ht(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ut(e,t){if(Ht(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Ht(e[n[o]],t[n[o]]))return!1;return!0}function $t(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function Vt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Gt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Vt(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=Vt(o),o=r(t,n)),o},r}}const qt=[function(e){return"function"==typeof e?Gt(e):void 0},function(e){return e?void 0:$t(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?$t(function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)}):void 0}],Kt=[function(e){return"function"==typeof e?Gt(e):void 0},function(e){return e?void 0:$t(function(){return{}})}];function Yt(e,t,n){return lt({},n,e,t)}const Jt=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Yt}}];var Zt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Qt(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Xt(e,t,n,r,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;return function(o,h){return f?function(o,f){var h,m,g=!d(f,a),y=!u(o,i,f,a);return i=o,a=f,g&&y?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):y?(h=e(i,a),m=!p(h,s),s=h,m&&(c=n(s,l,a)),c):c}(o,h):(s=e(i=o,a=h),l=t(r,a),c=n(s,l,a),f=!0,c)}}function en(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=Tt(t,Zt),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?Xt:Qt)(a,s,l,e,i)}var tn=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function nn(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function rn(e,t){return e===t}function on(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Wt:n,o=t.mapStateToPropsFactories,i=void 0===o?Kt:o,a=t.mapDispatchToPropsFactories,s=void 0===a?qt:a,l=t.mergePropsFactories,c=void 0===l?Jt:l,u=t.selectorFactory,d=void 0===u?en:u;return function(e,t,n,o){void 0===o&&(o={});var a=o,l=a.pure,u=void 0===l||l,p=a.areStatesEqual,f=void 0===p?rn:p,h=a.areOwnPropsEqual,m=void 0===h?Ut:h,g=a.areStatePropsEqual,y=void 0===g?Ut:g,b=a.areMergedPropsEqual,v=void 0===b?Ut:b,k=Tt(a,tn),x=nn(e,i,"mapStateToProps"),w=nn(t,s,"mapDispatchToProps"),S=nn(n,c,"mergeProps");return r(d,lt({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:w,initMergeProps:S,pure:u,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:v},k))}}const an=on();var sn;function ln(e,t){var r=(0,n.useState)(function(){return{inputs:t,result:e()}})[0],o=(0,n.useRef)(!0),i=(0,n.useRef)(r),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs)),s=a?i.current:{inputs:t,result:e()};return(0,n.useEffect)(function(){o.current=!1,i.current=s},[s]),s.result}sn=ue.unstable_batchedUpdates,wt=sn;var cn=ln,un=function(e,t){return ln(function(){return e},t)},dn=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},pn=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},fn=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},hn={top:0,right:0,bottom:0,left:0},mn=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?hn:n,o=e.border,i=void 0===o?hn:o,a=e.padding,s=void 0===a?hn:a,l=dn(pn(t,r)),c=dn(fn(t,i)),u=dn(fn(c,s));return{marginBox:l,borderBox:dn(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},gn=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},yn=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return mn({borderBox:l,border:i,margin:a,padding:s})},bn=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),yn(e,t)},vn=function(e,t){var n={top:gn(t.marginTop),right:gn(t.marginRight),bottom:gn(t.marginBottom),left:gn(t.marginLeft)},r={top:gn(t.paddingTop),right:gn(t.paddingRight),bottom:gn(t.paddingBottom),left:gn(t.paddingLeft)},o={top:gn(t.borderTopWidth),right:gn(t.borderRightWidth),bottom:gn(t.borderBottomWidth),left:gn(t.borderLeftWidth)};return mn({borderBox:e,margin:n,padding:r,border:o})},kn=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return vn(t,n)},xn=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function wn(e,t){return e===t||!(!xn(e)||!xn(t))}function Sn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}const En=function(e,t){var n;void 0===t&&(t=Sn);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},Cn=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function _n(e,t){}function On(){}function Tn(e,t,n){var r=t.map(function(t){var r,o,i=(r=n,o=t.options,lt({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}});return function(){r.forEach(function(e){e()})}}_n.bind(null,"warn"),_n.bind(null,"error");function Ln(e){this.message=e}function Mn(e,t){if(!e)throw new Ln("Invariant failed")}Ln.prototype.toString=function(){return this.message};var jn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=On,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Ln&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}st(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Tn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Ln))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(n.Component),An=function(e){return e+1},Nn=function(e,t){var n=e.droppableId===t.droppableId,r=An(e.index),o=An(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},In=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Dn=function(e){return"\n  The item has returned to its starting position\n  of "+An(e.index)+"\n"},Pn=function(e){return"\n  You have lifted an item in position "+An(e.source.index)+"\n"},Rn=function(e){var t=e.destination;if(t)return Nn(e.source,t);var n=e.combine;return n?In(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Bn=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Dn(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Nn(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+In(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Dn(e.source)+"\n  "},zn={x:0,y:0},Fn=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Wn=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Hn=function(e,t){return e.x===t.x&&e.y===t.y},Un=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},$n=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Vn=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Gn=function(e,t){return Math.min.apply(Math,t.map(function(t){return Vn(e,t)}))},qn=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Kn=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Yn=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Jn=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=dn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):dn(e)},Zn=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?Kn(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?lt({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Jn(a,o)}},Qn=function(e,t){e.frame||Mn(!1);var n=e.frame,r=Wn(t,n.scroll.initial),o=Un(r),i=lt({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return lt({},e,{frame:i,subject:Zn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Xn(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function er(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function tr(e,t){if(e.find)return e.find(t);var n=er(e,t);return-1!==n?e[n]:void 0}function nr(e){return Array.prototype.slice.call(e)}var rr=En(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),or=En(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ir=En(function(e){return Xn(e)}),ar=En(function(e){return Xn(e)}),sr=En(function(e,t){var n=ar(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return n});function lr(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function cr(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ur=En(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),dr=function(e,t){return e.descriptor.droppableId===t.descriptor.id},pr={point:zn,value:0},fr={invisible:{},visible:{},all:[]},hr={displaced:fr,displacedBy:pr,at:null},mr=function(e,t){return function(n){return e<=n&&n<=t}},gr=function(e){var t=mr(e.top,e.bottom),n=mr(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||a&&i||s&&o}},yr=function(e){var t=mr(e.top,e.bottom),n=mr(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},br={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},vr={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},kr=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:zn;return Kn(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},xr=function(e){return kr(lt({},e,{isVisibleThroughFrameFn:yr}))};function wr(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return dn(pn(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!kr(lt({},{target:s,destination:n,viewport:o,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:gr})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e},{all:[],visible:{},invisible:{}})}function Sr(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:fr,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function Er(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=dr(t,r);if(null==s)return Sr({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=tr(n,function(e){return e.descriptor.index===s});if(!u)return Sr({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=ur(t,n),p=n.indexOf(u);return{displaced:wr({afterDragging:d.slice(p),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Cr(e,t){return Boolean(t.effected[e])}var _r=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Or=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Tr=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return $n(t.line,n.marginBox[t.end]+_r(t,r),Or(t,n.marginBox,r))},Lr=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return $n(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Or(t,n.marginBox,r))},Mr=function(e,t){var n=e.frame;return n?Fn(t,n.scroll.diff.displacement):t},jr=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=sr(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return $n(t.line,n.contentBox[t.start]+_r(t,r),Or(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=r[d];if(Cr(d,i))return Lr({axis:l,moveRelativeTo:p.page,isMoving:s});var f=yn(p.page,u.point);return Lr({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Cr(h.descriptor.id,i)){var m=yn(h.page,Un(i.displacedBy.point));return Tr({axis:l,moveRelativeTo:m,isMoving:s})}return Tr({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=cr(n);o||Mn(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Cr(r,n)?i?zn:Un(o.point):i?o.point:zn}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Fn(a,s)}({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Mr(n,t):t},Ar=function(e,t){var n=Wn(t,e.scroll.initial),r=Un(n);return{frame:dn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Nr(e,t){return e.map(function(e){return t[e]})}var Ir=function(e){var t,n,r=e.pageBorderBoxCenter,o=e.draggable,i=(t=e.viewport,n=r,Fn(t.scroll.diff.displacement,n)),a=Wn(i,o.page.borderBox.center);return Fn(o.client.borderBox.center,a)},Dr=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=Wn(r,t.page.borderBox.center),c={target:Kn(t.page.borderBox,l),destination:n,withDroppableDisplacement:i,viewport:o};return s?function(e){return kr(lt({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=mr(e.top,e.bottom),r=mr(e.left,e.right);return function(e){return t===br?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):xr(c)},Pr=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=sr(r.descriptor.id,o),d=dr(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!lr(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return lt({},i,{at:t})}var s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=ur(n,o);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=er(c,function(e){return e.descriptor.id===l});-1===u&&Mn(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||Mn(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:Er({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,o=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=r.draggableId,a=n[i].descriptor.index;return Cr(i,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:Er({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}({isMovingForward:t,isInHomeList:d,draggable:n,draggables:o,destination:r,insideDestination:u,previousImpact:i,viewport:a,afterCritical:c});if(!p)return null;var f=jr({impact:p,draggable:n,droppable:r,draggables:o,afterCritical:c});if(Dr({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ir({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:p,scrollJumpRequest:null};var h=Wn(f,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=Ar(n,Fn(n.scroll.current,i)),s=r.frame?Qn(r,Fn(r.frame.scroll.current,i)):r,l=t.displaced,c=wr({afterDragging:Nr(l.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=wr({afterDragging:Nr(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},p={},f=[l,c,u];return l.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?p[e]=t:d[e]=!0}),lt({},t,{displaced:{all:l.all,invisible:d,visible:p}})}({impact:p,viewport:a,destination:r,draggables:o,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},Rr=function(e){var t=e.subject.active;return t||Mn(!1),t},Br=function(e,t){var n=e.page.borderBox.center;return Cr(e.descriptor.id,t)?Wn(n,t.displacedBy.point):n},zr=function(e,t){var n=e.page.borderBox;return Cr(e.descriptor.id,t)?Kn(n,Un(t.displacedBy.point)):n},Fr=En(function(e,t){var n=t[e.line];return{value:n,point:$n(e.line,n)}}),Wr=function(e,t){return lt({},e,{scroll:lt({},e.scroll,{max:t})})},Hr=function(e,t,n){var r=e.frame;dr(t,e)&&Mn(!1),e.subject.withPlaceholder&&Mn(!1);var o=Fr(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return $n(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=sr(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-o;return i<=0?null:$n(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return lt({},e,{subject:Zn({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=i?Fn(r.scroll.max,i):r.scroll.max,l=Wr(r,s);return lt({},e,{subject:Zn({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},Ur=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},$r=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Ur(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?Pr({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=mr(a[s.start],a[s.end]),c=ir(o).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return gr(i.frame)(Rr(e))}).filter(function(e){var n=Rr(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]}).filter(function(e){var t=Rr(e),n=mr(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])}).sort(function(e,n){var r=Rr(e)[s.crossAxisStart],o=Rr(n)[s.crossAxisStart];return t?r-o:o-r}).filter(function(e,t,n){return Rr(e)[s.crossAxisStart]===Rr(n[0])[s.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter(function(e){return mr(Rr(e)[s.start],Rr(e)[s.end])(n[s.line])});return 1===u.length?u[0]:u.length>1?u.sort(function(e,t){return Rr(e)[s.start]-Rr(t)[s.start]})[0]:c.sort(function(e,t){var r=Gn(n,Yn(Rr(e))),o=Gn(n,Yn(Rr(t)));return r!==o?r-o:Rr(e)[s.start]-Rr(t)[s.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var u=sr(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.afterCritical,i=e.insideDestination.filter(function(e){return xr({target:zr(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var i=Vn(t,Mr(r,Br(e,o))),a=Vn(t,Mr(r,Br(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index});return i[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:fr,displacedBy:pr,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=jr({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=dr(o,a)?a:Hr(a,o,i);return Dr({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(p=n.descriptor.index,n.descriptor.id===o.descriptor.id||f?p:p+1);return Er({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:Fr(a.axis,o.displaceBy),last:fr,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var f=jr({impact:p,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Ir({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:p,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Vr(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Gr(e){var t=mr(e.top,e.bottom),n=mr(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var qr=function(e,t){return dn(Kn(e,t))};function Kr(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Yr=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=qr(n.page.borderBox,t),c=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=ir(r).filter(function(e){if(!e.isEnabled)return!1;var n=e.subject.active;if(!n)return!1;if(!function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}(t,n))return!1;if(Gr(n)(t.center))return!0;var r=e.axis,o=n.center[r.crossAxisLine],i=t[r.crossAxisStart],a=t[r.crossAxisEnd],s=mr(n[r.crossAxisStart],n[r.crossAxisEnd]),l=s(i),c=s(a);return!l&&!c||(l?i<o:a>o)});return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,o=n.map(function(e){var n=e.axis,o=$n(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Vn(r,o)}}).sort(function(e,t){return t.distance-e.distance});return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}({pageBorderBox:l,draggable:n,droppables:o});if(!c)return hr;var u=o[c],d=sr(u.descriptor.id,r),p=function(e,t){var n=e.frame;return n?qr(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Fr(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],p=tr(ur(t,i),function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=Cr(t,a),l=Kr({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o});return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Fr(r.axis,n.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:tr(ur(n,o),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Cr(t,s),o=Kr({displaced:i,id:t});return r?o?p<=n:d<n-u:o?p<=n+u:d<n}),inHomeList:dr(n,r)});return Er({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},Jr=function(e,t){var n;return lt({},e,((n={})[t.descriptor.id]=t,n))},Zr=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,s=o||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Wn(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Fn(t.initial.client.borderBoxCenter,u)},p={selection:Fn(d.selection,s.scroll.current),borderBoxCenter:Fn(d.borderBoxCenter,s.scroll.current),offset:Fn(d.offset,s.scroll.diff.value)},f={client:d,page:p};if("COLLECTING"===t.phase)return lt({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var h=l.draggables[t.critical.draggable.id],m=i||Yr({pageOffset:p.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.impact,i=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Ur(t),i=Ur(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||Mn(!1);var n=e.frame;if(!n)return lt({},e,{subject:Zn({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Mn(!1);var o=Wr(n,r);return lt({},e,{subject:Zn({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return Jr(r,s)}({previousImpact:e.previousImpact,impact:o,droppables:r}),a=Ur(o);if(!a)return i;var s=r[a];if(dr(t,s))return i;if(s.subject.withPlaceholder)return i;var l=Hr(s,t,n);return Jr(i,l)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return lt({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},Qr=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map(function(e){return t[e]})}(a.all,r);return lt({},t,{displaced:wr({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a})})},Xr=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=jr({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Ir({pageBorderBoxCenter:s,draggable:n,viewport:i})},eo=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Mn(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Ur(o);u||Mn(!1);var d=l[u],p=Qr({impact:o,viewport:i,destination:d,draggables:s}),f=Xr({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Zr({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},to=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Fr(n.axis,t.displaceBy),a=sr(n.descriptor.id,r),s=a.indexOf(t);-1===s&&Mn(!1);var l,c=a.slice(s+1),u=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:wr({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},no=function(e){return"SNAP"===e.movementMode},ro=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Jr(e.droppables,t)}}(e.dimensions,t);return!no(e)||n?Zr({state:e,dimensions:r}):eo({state:e,dimensions:r})};function oo(e){return e.isDragging&&"SNAP"===e.movementMode?lt({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var io={phase:"IDLE",completed:null,shouldFlush:!1},ao=function(e,t){if(void 0===e&&(e=io),"FLUSH"===t.type)return lt({},io,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Mn(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:o,borderBoxCenter:l.client.borderBox.center,offset:zn},d={client:u,page:{selection:Fn(u.selection,i.scroll.initial),borderBoxCenter:Fn(u.selection,i.scroll.initial),offset:Fn(u.selection,i.scroll.diff.value)}},p=ir(a.droppables).every(function(e){return!e.isFixedOnPage}),f=to({draggable:l,home:c,draggables:a.draggables,viewport:i}),h=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:f.afterCritical,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Mn(!1),lt({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Mn(!1),function(e){var t=e.state,n=e.published,r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return Qn(n,e.scroll)}),o=lt({},t.dimensions.droppables,{},rr(r)),i=or(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Mn(!1),t}(n[t]),a=i.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=yn(t.client,n),i=bn(o,r);return lt({},t,{placeholder:lt({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Fn(o,a),initialWindowScroll:r.scroll.initial});return s})}({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=lt({},t.dimensions.draggables,{},i);n.removals.forEach(function(e){delete a[e]});var s={droppables:o,draggables:a},l=Ur(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=to({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=p.impact,h=p.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=Yr({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),y=lt({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?y:lt({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Vr(e)||Mn(!1);var m=t.payload.client;return Hn(m,e.current.client.selection)?e:Zr({state:e,clientSelection:m,impact:no(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return oo(e);if("COLLECTING"===e.phase)return oo(e);Vr(e)||Mn(!1);var g=t.payload,y=g.id,b=g.newScroll,v=e.dimensions.droppables[y];if(!v)return e;var k=Qn(v,b);return ro(e,k,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Vr(e)||Mn(!1);var x=t.payload,w=x.id,S=x.isEnabled,E=e.dimensions.droppables[w];E||Mn(!1),E.isEnabled===S&&Mn(!1);var C=lt({},E,{isEnabled:S});return ro(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Vr(e)||Mn(!1);var _=t.payload,O=_.id,T=_.isCombineEnabled,L=e.dimensions.droppables[O];L||Mn(!1),L.isCombineEnabled===T&&Mn(!1);var M=lt({},L,{isCombineEnabled:T});return ro(e,M,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Vr(e)||Mn(!1),e.isWindowScrollAllowed||Mn(!1);var j=t.payload.newScroll;if(Hn(e.viewport.scroll.current,j))return oo(e);var A=Ar(e.viewport,j);return no(e)?eo({state:e,viewport:A}):Zr({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Vr(e))return e;var N=t.payload.maxScroll;if(Hn(N,e.viewport.scroll.max))return e;var I=lt({},e.viewport,{scroll:lt({},e.viewport.scroll,{max:N})});return lt({phase:"DRAGGING"},e,{viewport:I})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Mn(!1);var D=$r({state:e,type:t.type});return D?Zr({state:e,impact:D.impact,clientSelection:D.clientSelection,scrollJumpRequest:D.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var P=t.payload.reason;return"COLLECTING"!==e.phase&&Mn(!1),lt({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:P})}if("DROP_ANIMATE"===t.type){var R=t.payload,B=R.completed,z=R.dropDuration,F=R.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Mn(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:z,newHomeClientOffset:F,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},so=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},lo=function(){return{type:"COLLECTION_STARTING",payload:null}},co=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},uo=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},po=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},fo=function(e){return{type:"MOVE",payload:e}},ho=function(){return{type:"MOVE_UP",payload:null}},mo=function(){return{type:"MOVE_DOWN",payload:null}},go=function(){return{type:"MOVE_RIGHT",payload:null}},yo=function(){return{type:"MOVE_LEFT",payload:null}},bo=function(e){return{type:"DROP_COMPLETE",payload:e}},vo=function(e){return{type:"DROP",payload:e}},ko="cubic-bezier(.2,1,.1,1)",xo=0,wo=.7,So=.75,Eo="0.2s cubic-bezier(0.2, 0, 0, 1)",Co={fluid:"opacity "+Eo,snap:"transform "+Eo+", opacity "+Eo,drop:function(e){var t=e+"s "+ko;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Eo,placeholder:"height "+Eo+", width "+Eo+", margin "+Eo},_o=function(e){return Hn(e,zn)?null:"translate("+e.x+"px, "+e.y+"px)"},Oo=_o,To=.33,Lo=.55-To,Mo=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&Mn(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&Mn(!1);var a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:lt({},r,{displaced:fr}),didDropInsideDroppable:!0}:{impact:Qr({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,p=d?lr(u):null,f=d?cr(u):null,h={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:i,mode:o.movementMode,destination:p,combine:f},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=Ur(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=Xr({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return Wn(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),y={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:u};if(!Hn(o.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.reason,n=Vn(e.current,e.destination);if(n<=0)return To;if(n>=1500)return.55;var r=To+Lo*(n/1500);return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:o.current.client.offset,destination:g,reason:i});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:g,dropDuration:b,completed:y}})}else n(bo({completed:y}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},jo=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var Ao=function(e){var t=function(e){var t,n=e.onWindowScroll,r=Cn(function(){n(jo())}),o=(t=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||t()}}),i=On;function a(){return i!==On}return{start:function(){a()&&Mn(!1),i=Tn(window,[o])},stop:function(){a()||Mn(!1),r.cancel(),i(),i=On},isActive:a}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},No=function(e,t){t()},Io=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Do=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Po=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout(function(){return function(e){var t=er(n,function(t){return t.timerId===e});-1===t&&Mn(!1),n.splice(t,1)[0].callback()}(t)}),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}),o=null,i=function(n){o||Mn(!1),o=null,No(0,function(){return Do(e().onDragEnd,n,t,Bn)})};return{beforeCapture:function(t,n){o&&Mn(!1),No(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){o&&Mn(!1),No(0,function(){var r=e().onBeforeDragStart;r&&r(Io(t,n))})},start:function(n,i){o&&Mn(!1);var a=Io(n,i);o={mode:i,lastCritical:n,lastLocation:a.source,lastCombine:null},r.add(function(){No(0,function(){return Do(e().onDragStart,a,t,Pn)})})},update:function(n,i){var a=lr(i),s=cr(i);o||Mn(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,o.lastCritical);l&&(o.lastCritical=n);var c=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.droppableId===t.droppableId&&e.index===t.index}(o.lastLocation,a);c&&(o.lastLocation=a);var u=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(o.lastCombine,s);if(u&&(o.lastCombine=s),l||c||u){var d=lt({},Io(n,o.mode),{combine:s,destination:a});r.add(function(){No(0,function(){return Do(e().onDragUpdate,d,t,Rn)})})}},flush:function(){o||Mn(!1),r.flush()},drop:i,abort:function(){if(o){var e=lt({},Io(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Ro=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Mn(!1),e.dispatch(bo({completed:r.completed}))}else t(n)}}},Bo=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=Tn(window,[i])})}}}},zo=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(vo({reason:r.reason})))}}}},Fo=kt,Wo=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Wn({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Ho=function(){var e=document.documentElement;return e||Mn(!1),e},Uo=function(){var e=Ho();return Wo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function $o(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Vo,Go=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame(function(){o=null;var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map(function(e){return t.draggable.getById(e).getDimension(zn)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(s).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},n.publish(u)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||Mn(!1);var o=n.critical.draggable;"ADDITION"===t.type&&$o(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&$o(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||Mn(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||Mn(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||Mn(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&Mn(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,o=function(){var e=jo(),t=Uo(),n=e.y,r=e.x,o=Ho(),i=o.clientWidth,a=o.clientHeight;return{frame:dn({top:n,left:r,right:r+i,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:zn,displacement:zn}}}}(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(e){return e.getDimension(i)});return{dimensions:{draggables:or(l),droppables:rr(s)},critical:t,viewport:o}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}};return i},qo=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Ko=function(e){window.scrollBy(e.x,e.y)},Yo=En(function(e){return ir(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),Jo=function(e){return Math.pow(e,2)},Zo=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},Qo=360,Xo=1200,ei=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=Zo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*Jo(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=Xo,o=Date.now()-n;if(o>=Xo)return e;if(o<Qo)return 1;var i=Zo({startOfRange:Qo,endOfRange:r,current:o}),a=e*Jo(i);return Math.ceil(a)}(i,r),1):i},ti=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,o);return n[o.end]<n[o.start]?ei({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*ei({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},ni=qn(function(e){return 0===e?0:e}),ri=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=ti({container:n,distanceToEdges:a,dragStartTime:t,axis:br,shouldUseTimeDampening:i}),l=ti({container:n,distanceToEdges:a,dragStartTime:t,axis:vr,shouldUseTimeDampening:i}),c=ni({x:l,y:s});if(Hn(c,zn))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Hn(u,zn)?null:u:null},oi=qn(function(e){return 0===e?0:e>0?1:-1}),ii=(Vo=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=Fn(t,r),i={x:Vo(o.x,n.x),y:Vo(o.y,n.y)};return Hn(i,zn)?null:i}),ai=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=oi(r),a=ii({max:o,current:n,change:i});return!a||0!==i.x&&0===a.x||0!==i.y&&0===a.y},si=function(e,t){return ai({current:e.scroll.current,max:e.scroll.max,change:t})},li=function(e,t){var n=e.frame;return!!n&&ai({current:n.scroll.current,max:n.scroll.max,change:t})},ci=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.shouldUseTimeDampening,i=ri({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return i&&si(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=tr(Yo(t),function(t){return t.frame||Mn(!1),Gr(t.frame.pageMarginBox)(e)});return n}(t,r);return i}({center:a,destination:Ur(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=ri({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&li(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},ui=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var o=e.scrollJumpRequest;if(o){var i=Ur(e.impact);i||Mn(!1);var a=function(e,t){if(!li(e,t))return t;var r=function(e,t){var n=e.frame;return n&&li(e,t)?ii({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Wn(t,r);return n(e.descriptor.id,o),Wn(t,o)}(e.dimensions.droppables[i],o);if(a){var s=e.viewport,l=function(e,t,n){if(!e)return n;if(!si(t,n))return n;var o=function(e,t){if(!si(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return ii({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Wn(n,o);return r(i),Wn(n,i)}(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=Fn(e.current.client.selection,n);t({client:r})}(e,l)}}}},di="data-rbd",pi=function(){var e=di+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),fi=function(){var e=di+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),hi=function(){var e=di+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),mi={contextId:di+"-scroll-container-context-id"},gi=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},yi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,bi=function(){var e=document.querySelector("head");return e||Mn(!1),e},vi=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var ki=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function xi(e){return e instanceof ki(e).HTMLElement}function wi(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Mn(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Xn(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||Mn(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Xn(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Si=n.createContext(null),Ei=function(){var e=document.body;return e||Mn(!1),e},Ci={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},_i=0,Oi={separator:"::"};function Ti(e,t){return void 0===t&&(t=Oi),cn(function(){return""+e+t.separator+_i++},[t.separator,e])}var Li=n.createContext(null);function Mi(e){var t=(0,n.useRef)(e);return(0,n.useEffect)(function(){t.current=e}),t}var ji,Ai,Ni=((ji={})[13]=!0,ji[9]=!0,ji),Ii=function(e){Ni[e.keyCode]&&e.preventDefault()},Di=function(){var e="visibilitychange";return"undefined"==typeof document?e:tr([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}(),Pi={type:"IDLE"};function Ri(){}var Bi=((Ai={})[34]=!0,Ai[33]=!0,Ai[36]=!0,Ai[35]=!0,Ai);var zi={type:"IDLE"},Fi={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Wi(e,t){if(null==t)return!1;if(Boolean(Fi[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Wi(e,t.parentElement)}function Hi(e,t){var n=t.target;return!!xi(n)&&Wi(e,n)}var Ui=function(e){return dn(e.getBoundingClientRect()).center},$i=function(){var e="matches";return"undefined"==typeof document?e:tr([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function Vi(e,t){return null==e?null:e[$i](t)?e:Vi(e.parentElement,t)}function Gi(e,t){return e.closest?e.closest(t):Vi(e,t)}function qi(e){e.preventDefault()}function Ki(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function Yi(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&!!i.options.isEnabled&&!!qo(n.getState(),o)}var Ji=[function(e){var t=(0,n.useRef)(Pi),r=(0,n.useRef)(On),o=cn(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};r.current(),u(o,i)}}}}}},[e]),i=cn(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),a=un(function(){r.current=Tn(window,[i,o],{passive:!1,capture:!0})},[i,o]),s=un(function(){"IDLE"!==t.current.type&&(t.current=Pi,r.current(),a())},[a]),l=un(function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=un(function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t,n,i=e.button,a=e.clientX,s=e.clientY;if(0===i){var l={x:a,y:s},c=r();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(l);if("PENDING"!==c.type&&Mn(!1),t=c.point,n=l,Math.abs(n.x-t.x)>=5||Math.abs(n.y-t.y)>=5){e.preventDefault();var u=c.actions.fluidLift(l);o({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Ii(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Mn(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Di,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=Tn(window,e,{capture:!0,passive:!1})},[l,s]),u=un(function(e,n){"IDLE"!==t.current.type&&Mn(!1),t.current={type:"PENDING",point:n,actions:e},c()},[c]);yi(function(){return a(),function(){r.current()}},[a])},function(e){var t=(0,n.useRef)(Ri),r=cn(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=Tn(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Bi[r.keyCode]?r.preventDefault():Ii(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Di,fn:n}]}(s,l),{capture:!0,passive:!1})}}}function l(){a||Mn(!1),a=!1,t.current(),o()}}}},[e]),o=un(function(){t.current=Tn(window,[r],{passive:!1,capture:!0})},[r]);yi(function(){return o(),function(){t.current()}},[o])},function(e){var t=(0,n.useRef)(zi),r=(0,n.useRef)(On),o=un(function(){return t.current},[]),i=un(function(e){t.current=e},[]),a=cn(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};r.current(),p(o,a)}}}}}},[e]),s=un(function(){r.current=Tn(window,[a],{capture:!0,passive:!1})},[a]),l=un(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(zi),r.current(),s())},[s,i]),c=un(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),u=un(function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},n=Tn(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Mn(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Di,fn:t}]}(t),e),i=Tn(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Di,fn:t}]}(t),e);r.current=function(){n(),i()}},[c,o,l]),d=un(function(){var e=o();"PENDING"!==e.type&&Mn(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})},[o,i]),p=un(function(e,t){"IDLE"!==o().type&&Mn(!1);var n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()},[u,o,i,d]);yi(function(){return s(),function(){r.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(zi))}},[o,s,i]),yi(function(){return Tn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function Zi(e){var t=e.contextId,r=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Ji:[],i||[]),l=(0,n.useState)(function(){return function(){var e=null;function t(){e||Mn(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Mn(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],c=un(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);yi(function(){var e=r.getState();return r.subscribe(function(){var t=r.getState();c(e,t),e=t})},[l,r,c]),yi(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=un(function(e){return Yi({lockAPI:l,registry:o,store:r,draggableId:e})},[l,o,r]),d=un(function(e,n,i){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!Yi({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var l=o.draggable.getById(i),c=function(e,t){var n="["+fi.contextId+'="'+e+'"]',r=tr(nr(document.querySelectorAll(n)),function(e){return e.getAttribute(fi.id)===t});return r&&xi(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&Hi(c,s))return null;var u=t.claim(a||On),d="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var h=function(e,t){Ki({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=Tn(window,[{eventName:"click",fn:qi,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(vo({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Mn(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",lt({isActive:function(){return Ki({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}var g={isActive:function(){return Ki({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=Cn(function(e){h(function(){return fo({client:e})})});return lt({},m({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(ho)},moveRight:function(){return h(go)},moveDown:function(){return h(mo)},moveLeft:function(){return h(yo)}};return m({liftActionArgs:{id:i,clientSelection:Ui(c),movementMode:"SNAP"},cleanup:On,actions:e})},abort:function(){Ki({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return g}({lockAPI:l,registry:o,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})},[t,l,o,r]),p=un(function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof ki(n).Element))return null;var o=function(e){return"["+pi.contextId+'="'+e+'"]'}(e),i=Gi(r,o);return i&&xi(i)?i:null}(e,t);return n?n.getAttribute(pi.draggableId):null}(t,e)},[t]),f=un(function(e){var t=o.draggable.findById(e);return t?t.options:null},[o.draggable]),h=un(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))},[l,r]),m=un(l.isClaimed,[l]),g=cn(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}},[u,d,p,f,h,m]),y=0;y<s.length;y++)s[y](g)}function Qi(e){return e.current||Mn(!1),e.current}function Xi(e){var t=e.contextId,r=e.setCallbacks,o=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,s=(0,n.useRef)(null),l=Mi(e),c=un(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),u=function(e){var t=cn(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),r=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),lt(e.style,Ci),Ei().appendChild(e),function(){setTimeout(function(){var t=Ei();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)})}},[t]),un(function(e){var t=r.current;t&&(t.textContent=e)},[])}(t),d=function(e){var t=e.contextId,r=e.text,o=Ti("hidden-text",{separator:"-"}),i=cn(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e},[o,t]);return(0,n.useEffect)(function(){var e=document.createElement("div");return e.id=i,e.textContent=r,e.style.display="none",Ei().appendChild(e),function(){var t=Ei();t.contains(e)&&t.removeChild(e)}},[i,r]),i}({contextId:t,text:a}),p=function(e,t){var r=cn(function(){return function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(pi.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Co.outOfTheWay+";\n    ",{selector:o(fi.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(hi.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:gi(a,"always"),resting:gi(a,"resting"),dragging:gi(a,"dragging"),dropAnimating:gi(a,"dropAnimating"),userCancel:gi(a,"userCancel")}}(e)},[e]),o=(0,n.useRef)(null),i=(0,n.useRef)(null),a=un(En(function(e){var t=i.current;t||Mn(!1),t.textContent=e}),[]),s=un(function(e){var t=o.current;t||Mn(!1),t.textContent=e},[]);yi(function(){(o.current||i.current)&&Mn(!1);var n=vi(t),l=vi(t);return o.current=n,i.current=l,n.setAttribute(di+"-always",e),l.setAttribute(di+"-dynamic",e),bi().appendChild(n),bi().appendChild(l),s(r.always),a(r.resting),function(){var e=function(e){var t=e.current;t||Mn(!1),bi().removeChild(t),e.current=null};e(o),e(i)}},[t,s,a,r.always,r.resting,e]);var l=un(function(){return a(r.dragging)},[a,r.dragging]),c=un(function(e){a("DROP"!==e?r.userCancel:r.dropAnimating)},[a,r.dropAnimating,r.userCancel]),u=un(function(){i.current&&a(r.resting)},[a,r.resting]);return cn(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u])}(t,i),f=un(function(e){Qi(s).dispatch(e)},[]),h=cn(function(){return vt({publishWhileDragging:so,updateDroppableScroll:co,updateDroppableIsEnabled:uo,updateDroppableIsCombineEnabled:po,collectionStarting:lo},f)},[f]),m=function(){var e=cn(wi,[]);return(0,n.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),g=cn(function(){return Go(m,h)},[m,h]),y=cn(function(){return function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollDroppable,n=Cn(e.scrollWindow),r=Cn(t),o=null,i=function(e){o||Mn(!1);var t=o,i=t.shouldUseTimeDampening,a=t.dragStartTime;ci({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:i})};return{start:function(e){o&&Mn(!1);var t=Date.now(),n=!1,r=function(){n=!0};ci({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){o&&(n.cancel(),r.cancel(),o=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),i=ui({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}}(lt({scrollWindow:Ko,scrollDroppable:g.scrollDroppable},vt({move:fo},f)))},[g.scrollDroppable,f]),b=function(e){var t=(0,n.useRef)({}),r=(0,n.useRef)(null),o=(0,n.useRef)(null),i=(0,n.useRef)(!1),a=un(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),s=un(function(t){var n=function(e,t){var n="["+pi.contextId+'="'+e+'"]',r=nr(document.querySelectorAll(n));if(!r.length)return null;var o=tr(r,function(e){return e.getAttribute(pi.draggableId)===t});return o&&xi(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=un(function(e,t){r.current===e&&(r.current=t)},[]),c=un(function(){o.current||i.current&&(o.current=requestAnimationFrame(function(){o.current=null;var e=r.current;e&&s(e)}))},[s]),u=un(function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(pi.draggableId)===e&&(r.current=e)},[]);return yi(function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}},[]),cn(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l])}(t),v=cn(function(){return function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return yt(ao,Fo(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ft(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(o)});return r=kt.apply(void 0,i)(n.dispatch),pt(pt({},n),{},{dispatch:r})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(bo({completed:c.completed})),"IDLE"!==n().phase&&Mn(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}})}else t(o)}}}}(n),Mo,Ro,Bo,zo,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&Mn(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),Ao,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Po(i,a))))}({announce:u,autoScroller:y,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:p})},[u,y,g,b,c,p]);s.current=v;var k=un(function(){var e=Qi(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),x=un(function(){var e=Qi(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);r(cn(function(){return{isDragging:x,tryAbort:k}},[x,k]));var w=un(function(e){return qo(Qi(s).getState(),e)},[]),S=un(function(){return Vr(Qi(s).getState())},[]),E=cn(function(){return{marshal:g,focus:b,contextId:t,canLift:w,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:m}},[t,g,d,b,w,S,m]);return Zi({contextId:t,store:v,registry:m,customSensors:o,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,n.useEffect)(function(){return k},[k]),n.createElement(Li.Provider,{value:E},n.createElement(Ot,{context:Si,store:v},e.children))}var ea=0;function ta(e){var t=cn(function(){return""+ea++},[]),r=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return n.createElement(jn,null,function(o){return n.createElement(Xi,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var na=function(e){return function(t){return e===t}},ra=na("scroll"),oa=na("auto"),ia=(na("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),aa=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return ia(n,ra)||ia(n,oa)}(t)?t:e(t.parentElement)},sa=function(e){return{x:e.scrollLeft,y:e.scrollTop}},la=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},ca={passive:!1},ua={passive:!0},da=function(e){return e.shouldPublishImmediately?ca:ua};function pa(e){var t=(0,n.useContext)(e);return t||Mn(!1),t}var fa=function(e){return e&&e.env.closestScrollable||null};function ha(){}var ma={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},ga=n.memo(function(e){var t=(0,n.useRef)(null),r=un(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),o=e.animate,i=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,n.useState)("open"===e.animate),c=l[0],u=l[1];(0,n.useEffect)(function(){return c?"open"!==o?(r(),u(!1),ha):t.current?ha:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):ha},[o,c,r]);var d=un(function(e){"height"===e.propertyName&&(i(),"close"===o&&a())},[o,a,i]),p=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?ma:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Co.placeholder:null}}({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return n.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}),ya=n.createContext(null),ba=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return st(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(n.PureComponent),va=function(e,t){return t?Co.drop(t.duration):e?Co.snap:Co.fluid},ka=function(e,t){return e?t?xo:wo:null};function xa(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,o=e.dropping,i=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(o),l=s?function(e,t){var n=_o(e);return n?t?n+" scale("+So+")":n:null}(n,i):Oo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:va(a,o),transform:l,opacity:ka(i,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:Oo((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function wa(e){e.preventDefault()}var Sa=function(e,t){return e===t},Ea=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Ca(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var _a={mapped:{type:"SECONDARY",offset:zn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ca(null)}},Oa=an(function(){var e,t,n,r=(e=En(function(e,t){return{x:e,y:t}}),t=En(function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=En(function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}}),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Ur(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=r.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=Ea(h),y=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:r.dropDuration,curve:ko,moveTo:r.newHomeClientOffset,opacity:y?xo:null,scale:y?So:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:b,draggingOver:g,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,y,b)}}}return null}),o=function(){var e=En(function(e,t){return{x:e,y:t}}),t=En(Ca),n=En(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(zn,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=cr(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=Un(a.displacedBy.point),p=e(d.x,d.y);return n(p,u,!0)}if(l)return r(u);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||_a}},{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:Si,pure:!0,areStatePropsEqual:Sa})(function(e){var t=(0,n.useRef)(null),r=un(function(e){t.current=e},[]),o=un(function(){return t.current},[]),i=pa(Li),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=pa(ya),u=c.type,d=c.droppableId,p=cn(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),f=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,y=e.canDragInteractiveElements,b=e.isClone,v=e.mapped,k=e.dropAnimationFinished;b||function(e){var t=Ti("draggable"),r=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=cn(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}},[a,l,s]),u=un(function(e){var t=i();return t||Mn(!1),function(e,t,n){void 0===n&&(n=zn);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=vn(o,r),a=bn(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(r,t,e)},[r,i]),d=cn(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),p=(0,n.useRef)(d),f=(0,n.useRef)(!0);yi(function(){return o.draggable.register(p.current),function(){return o.draggable.unregister(p.current)}},[o.draggable]),yi(function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,o.draggable.update(d,e)}},[d,o.draggable])}(cn(function(){return{descriptor:p,registry:l,getDraggableRef:o,canDragInteractiveElements:y,shouldRespectForcePress:g,isEnabled:m}},[p,l,o,y,g,m]));var x=cn(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:wa}:null},[a,s,h,m]),w=un(function(e){"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&k()},[k,v]),S=cn(function(){var e=xa(v),t="DRAGGING"===v.type&&v.dropping?w:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:x}},[a,x,h,v,w,r]),E=cn(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return f(S,v.snapshot,E)});function Ta(e){return pa(ya).isUsingCloneFor!==e.draggableId||e.isClone?n.createElement(Oa,e):null}function La(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return n.createElement(Ta,lt({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:o}))}var Ma=function(e,t){return e===t.droppable.type},ja=function(e,t){return t.draggables[e.draggable.id]},Aa={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Mn(!1),document.body}},Na=an(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=lt({},e,{shouldAnimatePlaceholder:!1}),n=En(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=En(function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!Ma(a,c))return t;var u=ja(c,n.dimensions),d=Ur(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!Ma(a,p.critical))return t;var f=ja(p.critical,n.dimensions);return r(i,s,Ea(p.result)===i,Ur(p.impact)===i,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!Ma(a,h.critical))return t;var m=Ur(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),y=h.critical.droppable.id===i;return m?g?e:t:y?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Si,pure:!0,areStatePropsEqual:Sa})(function(e){var t=(0,n.useContext)(Li);t||Mn(!1);var r=t.contextId,o=t.isMovementAllowed,i=(0,n.useRef)(null),a=(0,n.useRef)(null),s=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,p=e.ignoreContainerClipping,f=e.isDropDisabled,h=e.isCombineEnabled,m=e.snapshot,g=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,v=un(function(){return i.current},[]),k=un(function(e){i.current=e},[]),x=(un(function(){return a.current},[]),un(function(e){a.current=e},[])),w=un(function(){o()&&y({maxScroll:Uo()})},[o,y]);!function(e){var t=(0,n.useRef)(null),r=pa(Li),o=Ti("droppable"),i=r.registry,a=r.marshal,s=Mi(e),l=cn(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=(0,n.useRef)(l),u=cn(function(){return En(function(e,n){t.current||Mn(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)})},[l.id,a]),d=un(function(){var e=t.current;return e&&e.env.closestScrollable?sa(e.env.closestScrollable):zn},[]),p=un(function(){var e=d();u(e.x,e.y)},[d,u]),f=cn(function(){return Cn(p)},[p]),h=un(function(){var e=t.current,n=fa(e);e&&n||Mn(!1),e.scrollOptions.shouldPublishImmediately?p():f()},[f,p]),m=un(function(e,n){t.current&&Mn(!1);var o=s.current,i=o.getDroppableRef();i||Mn(!1);var a=function(e){return{closestScrollable:aa(e),isFixedOnPage:la(e)}}(i),c={ref:i,descriptor:l,env:a,scrollOptions:n};t.current=c;var u=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=kn(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=pn({top:r,right:a,bottom:i,left:o},n.border);return mn({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=bn(u,o),p=function(){if(!c)return null;var e=kn(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:bn(e,o),scroll:sa(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Wo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:zn,displacement:zn}}}}(),u="vertical"===i?br:vr;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Zn({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:p});return f}({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(mi.contextId,r.contextId),d.addEventListener("scroll",h,da(c.scrollOptions))),u},[r.contextId,l,h,s]),g=un(function(){var e=t.current,n=fa(e);return e&&n||Mn(!1),sa(n)},[]),y=un(function(){var e=t.current;e||Mn(!1);var n=fa(e);t.current=null,n&&(f.cancel(),n.removeAttribute(mi.contextId),n.removeEventListener("scroll",h,da(e.scrollOptions)))},[h,f]),b=un(function(e){var n=t.current;n||Mn(!1);var r=fa(n);r||Mn(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),v=cn(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:y,scroll:b}},[y,m,g,b]),k=cn(function(){return{uniqueId:o,descriptor:l,callbacks:v}},[v,l,o]);yi(function(){return c.current=k.descriptor,i.droppable.register(k),function(){t.current&&y(),i.droppable.unregister(k)}},[v,l,y,k,a,i.droppable]),yi(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),yi(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:p,getDroppableRef:v});var S=n.createElement(ba,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,o=e.data,i=e.animate;return n.createElement(ga,{placeholder:o,onClose:t,innerRef:x,animate:i,contextId:r,onTransitionEnd:w})}),E=cn(function(){return{innerRef:k,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,S,k]),C=g?g.dragging.draggableId:null,_=cn(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);return n.createElement(ya.Provider,{value:_},s(E,m),function(){if(!g)return null;var e=g.dragging,t=g.render,r=n.createElement(Ta,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return ue.createPortal(r,b())}())});Na.defaultProps=Aa;const Ia=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,o,i);return i},Da=e=>e,Pa=e=>{const t=(e=>e?Ia(e):Ia)(e),r=e=>function(e,t=Da){const r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},Ra=new Map,Ba=e=>{const t=Ra.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},za=e=>{var t,n;if(!e)return;const r=e.split("\n"),o=r.findIndex(e=>e.includes("api.setState"));if(o<0)return;const i=(null==(t=r[o+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(i))?void 0:n[1]},Fa=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)};function Wa(e,t){let n;try{n=e()}catch(e){return}const r={getItem:e=>{var r;const o=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(o):o(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)};return r}const Ha=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Ha(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>Ha(t)(e)}}};var Ua=Symbol.for("immer-nothing"),$a=Symbol.for("immer-draftable"),Va=Symbol.for("immer-state");function Ga(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qa=Object.getPrototypeOf;function Ka(e){return!!e&&!!e[Va]}function Ya(e){return!!e&&(Qa(e)||Array.isArray(e)||!!e[$a]||!!e.constructor?.[$a]||rs(e)||is(e))}var Ja=Object.prototype.constructor.toString(),Za=new WeakMap;function Qa(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;let r=Za.get(n);return void 0===r&&(r=Function.toString.call(n),Za.set(n,r)),r===Ja}function Xa(e,t,n=!0){0===es(e)?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function es(e){const t=e[Va];return t?t.type_:Array.isArray(e)?1:rs(e)?2:is(e)?3:0}function ts(e,t){return 2===es(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ns(e,t,n){const r=es(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function rs(e){return e instanceof Map}function is(e){return e instanceof Set}function as(e){return e.copy_||e.base_}function ss(e,t){if(rs(e))return new Map(e);if(is(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Qa(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Va];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(qa(e),t)}{const t=qa(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function ls(e,t=!1){return us(e)||Ka(e)||!Ya(e)||(es(e)>1&&Object.defineProperties(e,{set:cs,add:cs,clear:cs,delete:cs}),Object.freeze(e),t&&Object.values(e).forEach(e=>ls(e,!0))),e}var cs={value:function(){Ga(2)}};function us(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var ds,ps={};function fs(e){const t=ps[e];return t||Ga(0),t}function hs(){return ds}function ms(e,t){t&&(fs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gs(e){ys(e),e.drafts_.forEach(vs),e.drafts_=null}function ys(e){e===ds&&(ds=e.parent_)}function bs(e){return ds={drafts_:[],parent_:ds,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vs(e){const t=e[Va];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ks(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Va].modified_&&(gs(t),Ga(4)),Ya(e)&&(e=xs(t,e),t.parent_||Ss(t,e)),t.patches_&&fs("Patches").generateReplacementPatches_(n[Va].base_,e,t.patches_,t.inversePatches_)):e=xs(t,n,[]),gs(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ua?e:void 0}function xs(e,t,n){if(us(t))return t;const r=e.immer_.shouldUseStrictIteration(),o=t[Va];if(!o)return Xa(t,(r,i)=>ws(e,o,t,r,i,n),r),t;if(o.scope_!==e)return t;if(!o.modified_)return Ss(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const t=o.copy_;let i=t,a=!1;3===o.type_&&(i=new Set(t),t.clear(),a=!0),Xa(i,(r,i)=>ws(e,o,t,r,i,n,a),r),Ss(e,t,!1),n&&e.patches_&&fs("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function ws(e,t,n,r,o,i,a){if(null==o)return;if("object"!=typeof o&&!a)return;const s=us(o);if(!s||a){if(Ka(o)){const a=xs(e,o,i&&t&&3!==t.type_&&!ts(t.assigned_,r)?i.concat(r):void 0);if(ns(n,r,a),!Ka(a))return;e.canAutoFreeze_=!1}else a&&n.add(o);if(Ya(o)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===o&&s)return;xs(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!(rs(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Ss(e,o)}}}function Ss(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ls(t,n)}var Es={get(e,t){if(t===Va)return e;const n=as(e);if(!ts(n,t))return function(e,t,n){const r=Os(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Ya(r)?r:r===_s(e.base_,t)?(Ls(e),e.copy_[t]=Ms(r,e)):r},has:(e,t)=>t in as(e),ownKeys:e=>Reflect.ownKeys(as(e)),set(e,t,n){const r=Os(as(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=_s(as(e),t),a=r?.[Va];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((o=n)===(i=r)?0!==o||1/o==1/i:o!=o&&i!=i)&&(void 0!==n||ts(e.base_,t)))return!0;Ls(e),Ts(e)}var o,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==_s(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ls(e),Ts(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=as(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ga(11)},getPrototypeOf:e=>qa(e.base_),setPrototypeOf(){Ga(12)}},Cs={};function _s(e,t){const n=e[Va];return(n?as(n):e)[t]}function Os(e,t){if(!(t in e))return;let n=qa(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=qa(n)}}function Ts(e){e.modified_||(e.modified_=!0,e.parent_&&Ts(e.parent_))}function Ls(e){e.copy_||(e.copy_=ss(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ms(e,t){const n=rs(e)?fs("MapSet").proxyMap_(e,t):is(e)?fs("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:hs(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Es;n&&(o=[r],i=Cs);const{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:hs()).drafts_.push(n),n}function js(e){if(!Ya(e)||us(e))return e;const t=e[Va];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ss(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ss(e,!0);return Xa(n,(e,t)=>{ns(n,e,js(t))},r),t&&(t.finalized_=!1),n}Xa(Es,(e,t)=>{Cs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Cs.deleteProperty=function(e,t){return Cs.set.call(this,e,t,void 0)},Cs.set=function(e,t,n){return Es.set.call(this,e[0],t,n,e[0])};var As=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,e=>t.call(this,e,...o))}}let r;if("function"!=typeof t&&Ga(6),void 0!==n&&"function"!=typeof n&&Ga(7),Ya(e)){const o=bs(this),i=Ms(e,void 0);let a=!0;try{r=t(i),a=!1}finally{a?gs(o):ys(o)}return ms(o,n),ks(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Ua&&(r=void 0),this.autoFreeze_&&ls(r,!0),n){const t=[],o=[];fs("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}Ga(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;Ya(e)||Ga(8),Ka(e)&&(Ka(t=e)||Ga(10),e=js(t));const n=bs(this),r=Ms(e,void 0);return r[Va].isManual_=!0,ys(n),r}finishDraft(e,t){const n=e&&e[Va];n&&n.isManual_||Ga(9);const{scope_:r}=n;return ms(r,t),ks(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=fs("Patches").applyPatches_;return Ka(e)?r(e,t):this.produce(e,e=>r(e,t))}},Ns=As.produce;function Is(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ds}=Object.prototype,{getPrototypeOf:Ps}=Object,{iterator:Rs,toStringTag:Bs}=Symbol,zs=(Fs=Object.create(null),e=>{const t=Ds.call(e);return Fs[t]||(Fs[t]=t.slice(8,-1).toLowerCase())});var Fs;const Ws=e=>(e=e.toLowerCase(),t=>zs(t)===e),Hs=e=>t=>typeof t===e,{isArray:Us}=Array,$s=Hs("undefined");function Vs(e){return null!==e&&!$s(e)&&null!==e.constructor&&!$s(e.constructor)&&Ks(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gs=Ws("ArrayBuffer"),qs=Hs("string"),Ks=Hs("function"),Ys=Hs("number"),Js=e=>null!==e&&"object"==typeof e,Zs=e=>{if("object"!==zs(e))return!1;const t=Ps(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Bs in e||Rs in e)},Qs=Ws("Date"),Xs=Ws("File"),el=Ws("Blob"),tl=Ws("FileList"),nl=Ws("URLSearchParams"),[rl,ol,il,al]=["ReadableStream","Request","Response","Headers"].map(Ws);function sl(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),Us(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Vs(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function ll(e,t){if(Vs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const cl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ul=e=>!$s(e)&&e!==cl,dl=(pl="undefined"!=typeof Uint8Array&&Ps(Uint8Array),e=>pl&&e instanceof pl);var pl;const fl=Ws("HTMLFormElement"),hl=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ml=Ws("RegExp"),gl=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};sl(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)},yl=Ws("AsyncFunction"),bl=(vl="function"==typeof setImmediate,kl=Ks(cl.postMessage),vl?setImmediate:kl?(xl=`axios@${Math.random()}`,wl=[],cl.addEventListener("message",({source:e,data:t})=>{e===cl&&t===xl&&wl.length&&wl.shift()()},!1),e=>{wl.push(e),cl.postMessage(xl,"*")}):e=>setTimeout(e));var vl,kl,xl,wl;const Sl="undefined"!=typeof queueMicrotask?queueMicrotask.bind(cl):"undefined"!=typeof process&&process.nextTick||bl,El={isArray:Us,isArrayBuffer:Gs,isBuffer:Vs,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ks(e.append)&&("formdata"===(t=zs(e))||"object"===t&&Ks(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gs(e.buffer),t},isString:qs,isNumber:Ys,isBoolean:e=>!0===e||!1===e,isObject:Js,isPlainObject:Zs,isEmptyObject:e=>{if(!Js(e)||Vs(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:rl,isRequest:ol,isResponse:il,isHeaders:al,isUndefined:$s,isDate:Qs,isFile:Xs,isBlob:el,isRegExp:ml,isFunction:Ks,isStream:e=>Js(e)&&Ks(e.pipe),isURLSearchParams:nl,isTypedArray:dl,isFileList:tl,forEach:sl,merge:function e(){const{caseless:t,skipUndefined:n}=ul(this)&&this||{},r={},o=(o,i)=>{const a=t&&ll(r,i)||i;Zs(r[a])&&Zs(o)?r[a]=e(r[a],o):Zs(o)?r[a]=e({},o):Us(o)?r[a]=o.slice():n&&$s(o)||(r[a]=o)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&sl(arguments[e],o);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(sl(t,(t,r)=>{n&&Ks(t)?e[r]=Is(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Ps(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:zs,kindOfTest:Ws,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Us(e))return e;let t=e.length;if(!Ys(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Rs]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:fl,hasOwnProperty:hl,hasOwnProp:hl,reduceDescriptors:gl,freezeMethods:e=>{gl(e,(t,n)=>{if(Ks(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ks(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Us(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ll,global:cl,isContextDefined:ul,isSpecCompliantForm:function(e){return!!(e&&Ks(e.append)&&"FormData"===e[Bs]&&e[Rs])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Js(e)){if(t.indexOf(e)>=0)return;if(Vs(e))return e;if(!("toJSON"in e)){t[r]=e;const o=Us(e)?[]:{};return sl(e,(e,t)=>{const i=n(e,r+1);!$s(i)&&(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:yl,isThenable:e=>e&&(Js(e)||Ks(e))&&Ks(e.then)&&Ks(e.catch),setImmediate:bl,asap:Sl,isIterable:e=>null!=e&&Ks(e[Rs])};function Cl(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}El.inherits(Cl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:El.toJSONObject(this.config),code:this.code,status:this.status}}});const _l=Cl.prototype,Ol={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ol[e]={value:e}}),Object.defineProperties(Cl,Ol),Object.defineProperty(_l,"isAxiosError",{value:!0}),Cl.from=(e,t,n,r,o,i)=>{const a=Object.create(_l);El.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Cl.call(a,s,l,n,r,o),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Tl=Cl;function Ll(e){return El.isPlainObject(e)||El.isArray(e)}function Ml(e){return El.endsWith(e,"[]")?e.slice(0,-2):e}function jl(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ml(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Al=El.toFlatObject(El,{},null,function(e){return/^is[A-Z]/.test(e)}),Nl=function(e,t,n){if(!El.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=El.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!El.isUndefined(t[e])})).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&El.isSpecCompliantForm(t);if(!El.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(El.isDate(e))return e.toISOString();if(El.isBoolean(e))return e.toString();if(!s&&El.isBlob(e))throw new Tl("Blob is not supported. Use a Buffer instead.");return El.isArrayBuffer(e)||El.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(El.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(El.isArray(e)&&function(e){return El.isArray(e)&&!e.some(Ll)}(e)||(El.isFileList(e)||El.endsWith(n,"[]"))&&(s=El.toArray(e)))return n=Ml(n),s.forEach(function(e,r){!El.isUndefined(e)&&null!==e&&t.append(!0===a?jl([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!Ll(e)||(t.append(jl(o,n,i),l(e)),!1)}const u=[],d=Object.assign(Al,{defaultVisitor:c,convertValue:l,isVisitable:Ll});if(!El.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!El.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),El.forEach(n,function(n,i){!0===(!(El.isUndefined(n)||null===n)&&o.call(t,n,El.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Il(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Dl(e,t){this._pairs=[],e&&Nl(e,this,t)}const Pl=Dl.prototype;Pl.append=function(e,t){this._pairs.push([e,t])},Pl.toString=function(e){const t=e?function(t){return e.call(this,t,Il)}:Il;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Rl=Dl;function Bl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zl(e,t,n){if(!t)return e;const r=n&&n.encode||Bl;El.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):El.isURLSearchParams(t)?t.toString():new Rl(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Fl=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){El.forEach(this.handlers,function(t){null!==t&&e(t)})}},Wl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hl={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Rl,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ul="undefined"!=typeof window&&"undefined"!=typeof document,$l="object"==typeof navigator&&navigator||void 0,Vl=Ul&&(!$l||["ReactNative","NativeScript","NS"].indexOf($l.product)<0),Gl="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ql=Ul&&window.location.href||"http://localhost",Kl={...e,...Hl},Yl=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&El.isArray(r)?r.length:i,s?(El.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&El.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&El.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(El.isFormData(e)&&El.isFunction(e.entries)){const n={};return El.forEachEntry(e,(e,r)=>{t(function(e){return El.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null},Jl={transitional:Wl,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=El.isObject(e);if(o&&El.isHTMLForm(e)&&(e=new FormData(e)),El.isFormData(e))return r?JSON.stringify(Yl(e)):e;if(El.isArrayBuffer(e)||El.isBuffer(e)||El.isStream(e)||El.isFile(e)||El.isBlob(e)||El.isReadableStream(e))return e;if(El.isArrayBufferView(e))return e.buffer;if(El.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Nl(e,new Kl.classes.URLSearchParams,{visitor:function(e,t,n,r){return Kl.isNode&&El.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=El.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Nl(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(El.isString(e))try{return(0,JSON.parse)(e),El.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Jl.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(El.isResponse(e)||El.isReadableStream(e))return e;if(e&&El.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(e){if(n){if("SyntaxError"===e.name)throw Tl.from(e,Tl.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kl.classes.FormData,Blob:Kl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};El.forEach(["delete","get","head","post","put","patch"],e=>{Jl.headers[e]={}});const Zl=Jl,Ql=El.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xl=Symbol("internals");function ec(e){return e&&String(e).trim().toLowerCase()}function tc(e){return!1===e||null==e?e:El.isArray(e)?e.map(tc):String(e)}function nc(e,t,n,r,o){return El.isFunction(r)?r.call(this,t,n):(o&&(t=n),El.isString(t)?El.isString(r)?-1!==t.indexOf(r):El.isRegExp(r)?r.test(t):void 0:void 0)}class rc{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=ec(t);if(!o)throw new Error("header name must be a non-empty string");const i=El.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=tc(e))}const i=(e,t)=>El.forEach(e,(e,n)=>o(e,n,t));if(El.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(El.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Ql[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(El.isObject(e)&&El.isIterable(e)){let n,r,o={};for(const t of e){if(!El.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?El.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=ec(e)){const n=El.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(El.isFunction(t))return t.call(this,e,n);if(El.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ec(e)){const n=El.findKey(this,e);return!(!n||void 0===this[n]||t&&!nc(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=ec(e)){const o=El.findKey(n,e);!o||t&&!nc(0,n[o],o,t)||(delete n[o],r=!0)}}return El.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!nc(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return El.forEach(this,(r,o)=>{const i=El.findKey(n,o);if(i)return t[i]=tc(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=tc(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return El.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&El.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Xl]=this[Xl]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ec(e);t[r]||(function(e,t){const n=El.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return El.isArray(e)?e.forEach(r):r(e),this}}rc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),El.reduceDescriptors(rc.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),El.freezeMethods(rc);const oc=rc;function ic(e,t){const n=this||Zl,r=t||n,o=oc.from(r.headers);let i=r.data;return El.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function ac(e){return!(!e||!e.__CANCEL__)}function sc(e,t,n){Tl.call(this,null==e?"canceled":e,Tl.ERR_CANCELED,t,n),this.name="CanceledError"}El.inherits(sc,Tl,{__CANCEL__:!0});const lc=sc;function cc(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Tl("Request failed with status code "+n.status,[Tl.ERR_BAD_REQUEST,Tl.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const uc=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},i-s)))},()=>n&&a(n)]}(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},dc=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},pc=e=>(...t)=>El.asap(()=>e(...t)),fc=Kl.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kl.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kl.origin),Kl.navigator&&/(msie|trident)/i.test(Kl.navigator.userAgent)):()=>!0,hc=Kl.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];El.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),El.isString(r)&&a.push("path="+r),El.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function mc(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const gc=e=>e instanceof oc?{...e}:e;function yc(e,t){t=t||{};const n={};function r(e,t,n,r){return El.isPlainObject(e)&&El.isPlainObject(t)?El.merge.call({caseless:r},e,t):El.isPlainObject(t)?El.merge({},t):El.isArray(t)?t.slice():t}function o(e,t,n,o){return El.isUndefined(t)?El.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!El.isUndefined(t))return r(void 0,t)}function a(e,t){return El.isUndefined(t)?El.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(gc(e),gc(t),0,!0)};return El.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||o,a=i(e[r],t[r],r);El.isUndefined(a)&&i!==s||(n[r]=a)}),n}const bc=e=>{const t=yc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:s}=t;if(t.headers=a=oc.from(a),t.url=zl(mc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),El.isFormData(n))if(Kl.hasStandardBrowserEnv||Kl.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(El.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&a.set(e,n)})}if(Kl.hasStandardBrowserEnv&&(r&&El.isFunction(r)&&(r=r(t)),r||!1!==r&&fc(t.url))){const e=o&&i&&hc.read(i);e&&a.set(o,e)}return t},vc="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=bc(e);let o=r.data;const i=oc.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=oc.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());cc(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Tl("Request aborted",Tl.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",o=new Tl(r,Tl.ERR_NETWORK,e,m);o.event=t||null,n(o),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Wl;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Tl(t,o.clarifyTimeoutError?Tl.ETIMEDOUT:Tl.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&El.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),El.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=uc(f,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,c]=uc(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new lc(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Kl.protocols.indexOf(y)?n(new Tl("Unsupported protocol "+y+":",Tl.ERR_BAD_REQUEST,e)):m.send(o||null)})},kc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Tl?t:new lc(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,o(new Tl(`timeout ${t} of ms exceeded`,Tl.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:s}=r;return s.unsubscribe=()=>El.asap(a),s}},xc=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},wc=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*xc(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},{isFunction:Sc}=El,Ec=(({Request:e,Response:t})=>({Request:e,Response:t}))(El.global),{ReadableStream:Cc,TextEncoder:_c}=El.global,Oc=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Tc=e=>{e=El.merge.call({skipUndefined:!0},Ec,e);const{fetch:t,Request:n,Response:r}=e,o=t?Sc(t):"function"==typeof fetch,i=Sc(n),a=Sc(r);if(!o)return!1;const s=o&&Sc(Cc),l=o&&("function"==typeof _c?(c=new _c,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=i&&s&&Oc(()=>{let e=!1;const t=new n(Kl.origin,{body:new Cc,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&s&&Oc(()=>El.isReadableStream(new r("").body)),p={stream:d&&(e=>e.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Tl(`Response type '${e}' is not supported`,Tl.ERR_NOT_SUPPORT,n)})});return async e=>{let{url:o,method:a,data:s,signal:c,cancelToken:f,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:b,withCredentials:v="same-origin",fetchOptions:k}=bc(e),x=t||fetch;y=y?(y+"").toLowerCase():"text";let w=kc([c,f&&f.toAbortSignal()],h),S=null;const E=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(g&&u&&"get"!==a&&"head"!==a&&0!==(C=await(async(e,t)=>{const r=El.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(El.isBlob(e))return e.size;if(El.isSpecCompliantForm(e)){const t=new n(Kl.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return El.isArrayBufferView(e)||El.isArrayBuffer(e)?e.byteLength:(El.isURLSearchParams(e)&&(e+=""),El.isString(e)?(await l(e)).byteLength:void 0)})(t):r})(b,s))){let e,t=new n(o,{method:"POST",body:s,duplex:"half"});if(El.isFormData(s)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=dc(C,uc(pc(g)));s=wc(t.body,65536,e,n)}}El.isString(v)||(v=v?"include":"omit");const t=i&&"credentials"in n.prototype,c={...k,signal:w,method:a.toUpperCase(),headers:b.normalize().toJSON(),body:s,duplex:"half",credentials:t?v:void 0};S=i&&new n(o,c);let f=await(i?x(S,k):x(o,c));const h=d&&("stream"===y||"response"===y);if(d&&(m||h&&E)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=El.toFiniteNumber(f.headers.get("content-length")),[n,o]=m&&dc(t,uc(pc(m),!0))||[];f=new r(wc(f.body,65536,n,()=>{o&&o(),E&&E()}),e)}y=y||"text";let _=await p[El.findKey(p,y)||"text"](f,e);return!h&&E&&E(),await new Promise((t,n)=>{cc(t,n,{data:_,headers:oc.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:S})})}catch(t){if(E&&E(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new Tl("Network Error",Tl.ERR_NETWORK,e,S),{cause:t.cause||t});throw Tl.from(t,t&&t.code,e,S)}}},Lc=new Map,Mc=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let a,s,l=i.length,c=Lc;for(;l--;)a=i[l],s=c.get(a),void 0===s&&c.set(a,s=l?new Map:Tc(t)),c=s;return s},jc=(Mc(),{http:null,xhr:vc,fetch:{get:Mc}});El.forEach(jc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const Ac=e=>`- ${e}`,Nc=e=>El.isFunction(e)||null===e||!1===e,Ic=(e,t)=>{e=El.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let a=0;a<n;a++){let n;if(r=e[a],o=r,!Nc(r)&&(o=jc[(n=String(r)).toLowerCase()],void 0===o))throw new Tl(`Unknown adapter '${n}'`);if(o&&(El.isFunction(o)||(o=o.get(t))))break;i[n||"#"+a]=o}if(!o){const e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(Ac).join("\n"):" "+Ac(e[0]):"as no adapter specified";throw new Tl("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return o};function Dc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lc(null,e)}function Pc(e){return Dc(e),e.headers=oc.from(e.headers),e.data=ic.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ic(e.adapter||Zl.adapter,e)(e).then(function(t){return Dc(e),t.data=ic.call(e,e.transformResponse,t),t.headers=oc.from(t.headers),t},function(t){return ac(t)||(Dc(e),t&&t.response&&(t.response.data=ic.call(e,e.transformResponse,t.response),t.response.headers=oc.from(t.response.headers))),Promise.reject(t)})}const Rc="1.12.2",Bc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zc={};Bc.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Rc+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Tl(r(o," has been removed"+(t?" in "+t:"")),Tl.ERR_DEPRECATED);return t&&!zc[o]&&(zc[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},Bc.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Fc={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Tl("options must be an object",Tl.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Tl("option "+i+" must be "+n,Tl.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Tl("Unknown option "+i,Tl.ERR_BAD_OPTION)}},validators:Bc},Wc=Fc.validators;class Hc{constructor(e){this.defaults=e||{},this.interceptors={request:new Fl,response:new Fl}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=yc(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Fc.assertOptions(n,{silentJSONParsing:Wc.transitional(Wc.boolean),forcedJSONParsing:Wc.transitional(Wc.boolean),clarifyTimeoutError:Wc.transitional(Wc.boolean)},!1),null!=r&&(El.isFunction(r)?t.paramsSerializer={serialize:r}:Fc.assertOptions(r,{encode:Wc.function,serialize:Wc.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Fc.assertOptions(t,{baseUrl:Wc.spelling("baseURL"),withXsrfToken:Wc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&El.merge(o.common,o[t.method]);o&&El.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=oc.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[Pc.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let p=t;for(;d<u;){const e=a[d++],t=a[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{c=Pc.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return zl(mc((e=yc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}El.forEach(["delete","get","head","options"],function(e){Hc.prototype[e]=function(t,n){return this.request(yc(n||{},{method:e,url:t,data:(n||{}).data}))}}),El.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(yc(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Hc.prototype[e]=t(),Hc.prototype[e+"Form"]=t(!0)});const Uc=Hc;class $c{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new lc(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new $c(function(t){e=t});return{token:t,cancel:e}}}const Vc=$c,Gc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gc).forEach(([e,t])=>{Gc[t]=e});const qc=Gc,Kc=function e(t){const n=new Uc(t),r=Is(Uc.prototype.request,n);return El.extend(r,Uc.prototype,n,{allOwnKeys:!0}),El.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yc(t,n))},r}(Zl);Kc.Axios=Uc,Kc.CanceledError=lc,Kc.CancelToken=Vc,Kc.isCancel=ac,Kc.VERSION=Rc,Kc.toFormData=Nl,Kc.AxiosError=Tl,Kc.Cancel=Kc.CanceledError,Kc.all=function(e){return Promise.all(e)},Kc.spread=function(e){return function(t){return e.apply(null,t)}},Kc.isAxiosError=function(e){return El.isObject(e)&&!0===e.isAxiosError},Kc.mergeConfig=yc,Kc.AxiosHeaders=oc,Kc.formToJSON=e=>Yl(El.isHTMLForm(e)?new FormData(e):e),Kc.getAdapter=Ic,Kc.HttpStatusCode=qc,Kc.default=Kc;const Yc=Kc;var Jc=["_id"];function Zc(e){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function Qc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Xc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return eu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(eu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,eu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,eu(d,"constructor",c),eu(c,"constructor",l),l.displayName="GeneratorFunction",eu(c,o,"GeneratorFunction"),eu(d),eu(d,o,"Generator"),eu(d,r,function(){return this}),eu(d,"toString",function(){return"[object Generator]"}),(Xc=function(){return{w:i,m:p}})()}function eu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}eu=function(e,t,n,r){function i(t,n){eu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},eu(e,t,n,r)}function tu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function nu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tu(i,r,o,a,s,"next",e)}function s(e){tu(i,r,o,a,s,"throw",e)}a(void 0)})}}function ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ou(r.key),r)}}function ou(e){var t=function(e){if("object"!=Zc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zc(t)?t:t+""}var iu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){return n&&ru(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,0,[{key:"getBaseUrl",value:function(){return"MISSING_ENV_VAR".REACT_APP_API_BASE_URL||"/api"}},{key:"client",get:function(){if(!e.instance){var t="MISSING_ENV_VAR".REACT_APP_API_BASE_URL||"/api";e.instance=Yc.create({baseURL:t}),e.instance.interceptors.request.use(function(e){var t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e}),e.instance.interceptors.response.use(function(e){return e},function(t){return t.response&&401===t.response.status&&e.logout(),Promise.reject(t)})}return e.instance}},{key:"login",value:(O=nu(Xc().m(function t(n,r){var o,i,a,s;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/login",{username:n,password:r});case 1:return o=t.v,i=o.data,a=i.token,s=i.user,localStorage.setItem("token",a),t.a(2,{token:a,user:s})}},t)})),function(e,t){return O.apply(this,arguments)})},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.clear()}},{key:"getCurrentUser",value:(_=nu(Xc().m(function t(){var n;return Xc().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.get("/auth/user");case 1:return n=t.v,t.a(2,n.data);case 2:return t.p=2,t.v,t.a(2,null)}},t,null,[[0,2]])})),function(){return _.apply(this,arguments)})},{key:"checkGoogleTokenStatus",value:(C=nu(Xc().m(function t(){var n,r;return Xc().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.get("/auth/google-token-status");case 1:return n=t.v,t.a(2,n.data);case 2:return t.p=2,r=t.v,console.error("Failed to check Google token status:",r),t.a(2,{connected:!1,expired:!0,needsReauth:!0})}},t,null,[[0,2]])})),function(){return C.apply(this,arguments)})},{key:"refreshGoogleToken",value:(E=nu(Xc().m(function t(){var n,r,o,i,a,s,l,c,u;return Xc().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.client.post("/auth/refresh-google-token");case 1:return n=t.v,r=n.data,o=r.token,i=r.googleAccessToken,a=r.tokenExpiry,o&&localStorage.setItem("token",o),t.a(2,{success:!0,token:o,googleAccessToken:i,tokenExpiry:a});case 2:return t.p=2,u=t.v,c=(null===(s=u.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.needsReauth)||!1,t.a(2,{success:!1,needsReauth:c,error:null===(l=u.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.error})}},t,null,[[0,2]])})),function(){return E.apply(this,arguments)})},{key:"getGroups",value:(S=nu(Xc().m(function t(){var n;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/groups");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return S.apply(this,arguments)})},{key:"createGroup",value:(w=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/groups",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return w.apply(this,arguments)})},{key:"updateGroup",value:(x=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/groups/".concat(n._id),n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return x.apply(this,arguments)})},{key:"reorderGroups",value:(k=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/groups",{newOrder:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return k.apply(this,arguments)})},{key:"deleteGroup",value:(v=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/groups/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return v.apply(this,arguments)})},{key:"getEvents",value:(b=nu(Xc().m(function t(){var n;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/events");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return b.apply(this,arguments)})},{key:"createEvent",value:(y=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/events",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return y.apply(this,arguments)})},{key:"updateEvent",value:(g=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/events/".concat(n._id),n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return g.apply(this,arguments)})},{key:"reorderEvents",value:(m=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/events/order",{newOrder:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return m.apply(this,arguments)})},{key:"deleteEvent",value:(h=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/events/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return h.apply(this,arguments)})},{key:"getPages",value:(f=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/pages",{params:n?{type:n}:{}});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return f.apply(this,arguments)})},{key:"searchPages",value:(p=nu(Xc().m(function t(n,r){var o,i,a=arguments;return Xc().w(function(t){for(;;)switch(t.n){case 0:return o={q:n,limit:a.length>2&&void 0!==a[2]?a[2]:50},r&&(o.type=r),t.n=1,e.client.get("/pages",{params:o});case 1:return i=t.v,t.a(2,i.data)}},t)})),function(e,t){return p.apply(this,arguments)})},{key:"getPage",value:(d=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/pages/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return d.apply(this,arguments)})},{key:"createPage",value:(u=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/pages",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return u.apply(this,arguments)})},{key:"updatePage",value:(c=nu(Xc().m(function t(n){var r,o,i;return Xc().w(function(t){for(;;)switch(t.n){case 0:return r=n._id,o=Qc(n,Jc),console.log("Updating page:",n),t.n=1,e.client.put("/pages/".concat(r),o);case 1:return i=t.v,t.a(2,i.data)}},t)})),function(e){return c.apply(this,arguments)})},{key:"deletePage",value:(l=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/pages/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return l.apply(this,arguments)})},{key:"getTimeSystem",value:(s=nu(Xc().m(function t(){var n;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/time-system");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return s.apply(this,arguments)})},{key:"updateTimeSystem",value:(a=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.put("/time-system",n);case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return a.apply(this,arguments)})},{key:"uploadFile",value:(i=nu(Xc().m(function t(n){var r,o;return Xc().w(function(t){for(;;)switch(t.n){case 0:return(r=new FormData).append("file",n),t.n=1,e.client.post("/upload",r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return o=t.v,t.a(2,o.data)}},t)})),function(e){return i.apply(this,arguments)})},{key:"getAssets",value:(o=nu(Xc().m(function t(){var n;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.get("/assets");case 1:return n=t.v,t.a(2,n.data)}},t)})),function(){return o.apply(this,arguments)})},{key:"createAssetFromFile",value:(r=nu(Xc().m(function t(n){var r,o;return Xc().w(function(t){for(;;)switch(t.n){case 0:return(r=new FormData).append("file",n),t.n=1,e.client.post("/assets",r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return o=t.v,t.a(2,o.data)}},t)})),function(e){return r.apply(this,arguments)})},{key:"createAssetFromUrl",value:(n=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.post("/assets",{url:n});case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return n.apply(this,arguments)})},{key:"deleteAsset",value:(t=nu(Xc().m(function t(n){var r;return Xc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.client.delete("/assets/".concat(n));case 1:return r=t.v,t.a(2,r.data)}},t)})),function(e){return t.apply(this,arguments)})},{key:"resolveAssetUrl",value:function(e){return e?/^https?:\/\//i.test(e)?e:("MISSING_ENV_VAR".REACT_APP_API_BASE_URL||"")+e:""}}]);var t,n,r,o,i,a,s,l,c,u,d,p,f,h,m,g,y,b,v,k,x,w,S,E,C,_,O}();!function(e,t){(t=ou(t))in e?Object.defineProperty(e,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[t]=null}(iu,"instance");const au=iu;function su(e){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(e)}function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach(function(t){uu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uu(e,t,n){return(t=function(e){var t=function(e){if("object"!=su(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=su(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==su(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function du(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return pu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(pu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,pu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,pu(d,"constructor",c),pu(c,"constructor",l),l.displayName="GeneratorFunction",pu(c,o,"GeneratorFunction"),pu(d),pu(d,o,"Generator"),pu(d,r,function(){return this}),pu(d,"toString",function(){return"[object Generator]"}),(du=function(){return{w:i,m:p}})()}function pu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}pu=function(e,t,n,r){function i(t,n){pu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},pu(e,t,n,r)}function fu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function hu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){fu(i,r,o,a,s,"next",e)}function s(e){fu(i,r,o,a,s,"throw",e)}a(void 0)})}}function mu(e){return function(e){if(Array.isArray(e))return gu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yu,bu,vu,ku=function(e){return{data:e,loading:!1,error:null}},xu=Pa(((e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:a,store:s,...l}=t;let c;try{c=(null==i||i)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!c)return e(n,r,o);const{connection:u,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=Ra.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return Ra.set(n.name,o),{type:"tracked",store:e,...o}})(s,c,l);let p=!0;o.setState=(e,t,i)=>{const c=n(e,t);if(!p)return c;const d=void 0===i?{type:a||za((new Error).stack)||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===s?(null==u||u.send(d,r()),c):(null==u||u.send({...d,type:`${s}/${d.type}`},{...Ba(l.name),[s]:o.getState()}),c)},o.devtools={cleanup:()=>{u&&"function"==typeof u.unsubscribe&&u.unsubscribe(),((e,t)=>{if(void 0===t)return;const n=Ra.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&Ra.delete(e))})(l.name,s)}};const f=(...e)=>{const t=p;p=!1,n(...e),p=t},h=e(o.setState,r,o);if("untracked"===d.type?null==u||u.init(h):(d.stores[d.store]=o,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map(([e,t])=>[e,e===d.store?h:t.getState()])))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){let e=!1;const t=o.dispatch;o.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return u.subscribe(e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):Fa(e.payload,e=>{if("__setState"===e.type){if(void 0===s)return void f(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[s];if(null==t)return;return void(JSON.stringify(o.getState())!==JSON.stringify(t)&&f(t))}o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return f(h),void 0===s?null==u?void 0:u.init(o.getState()):null==u?void 0:u.init(Ba(l.name));case"COMMIT":return void 0===s?void(null==u||u.init(o.getState())):null==u?void 0:u.init(Ba(l.name));case"ROLLBACK":return Fa(e.state,e=>{if(void 0===s)return f(e),void(null==u||u.init(o.getState()));f(e[s]),null==u||u.init(Ba(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Fa(e.state,e=>{void 0!==s?JSON.stringify(o.getState())!==JSON.stringify(e[s])&&f(e[s]):f(e)});case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return f(void 0===s?r:r[s]),void(null==u||u.send(null,n))}case"PAUSE_RECORDING":return p=!p}return}}),h})((vu=function(e,t){return{user:null,ui:{showHidden:!1,activeGroupIds:[]},data:{groups:ku([]),events:ku([]),pages:ku([]),timeSystem:ku(null),assets:ku([])},isDM:function(){var e;return"DM"===(null===(e=t().user)||void 0===e?void 0:e.role)},isLoggedIn:function(){var e;return null!==t().user&&null!==(null===(e=t().user)||void 0===e?void 0:e.token)},setUser:function(t){return e({user:t})},logout:function(){return e(function(e){return e.user=null,e.ui.showHidden=!1,localStorage.clear(),e})},setShowHidden:function(t){return e(function(e){e.ui.showHidden=t})},toggleGroup:function(t){return e(function(e){if(t&&"string"==typeof t){var n=e.ui.activeGroupIds.includes(t)?e.ui.activeGroupIds.filter(function(e){return e!==t}):[].concat(mu(e.ui.activeGroupIds),[t]);e.ui.activeGroupIds=Array.from(new Set(n.filter(function(e){return"string"==typeof e&&!!e})))}})},setGroupsFilter:function(t){return e(function(e){var n=t.filter(function(e){return"string"==typeof e&&!!e});e.ui.activeGroupIds=Array.from(new Set(n))})},loadGroups:(x=hu(du().m(function t(){var n,r;return du().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.groups.loading=!0,e.data.groups.error=null}),t.p=1,t.n=2,au.getGroups();case 2:n=t.v,e(function(e){e.data.groups.data=n;var t=new Set(n.map(function(e){return e._id}));e.ui.activeGroupIds=e.ui.activeGroupIds.filter(function(e){return t.has(e)})}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.groups.error=(null==r?void 0:r.message)||"Failed to load groups"});case 4:return t.p=4,e(function(e){e.data.groups.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return x.apply(this,arguments)}),loadEvents:(k=hu(du().m(function n(){var r,o,i;return du().w(function(n){for(;;)switch(n.p=n.n){case 0:return e(function(e){e.data.events.loading=!0,e.data.events.error=null}),n.p=1,n.n=2,au.getEvents();case 2:r=n.v,o=r.filter(function(e){var n;return!e.hidden||"DM"===(null===(n=t().user)||void 0===n?void 0:n.role)}),e(function(e){e.data.events.data=o}),n.n=4;break;case 3:n.p=3,i=n.v,e(function(e){e.data.events.error=(null==i?void 0:i.message)||"Failed to load events"});case 4:return n.p=4,e(function(e){e.data.events.loading=!1}),n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])})),function(){return k.apply(this,arguments)}),loadPages:(v=hu(du().m(function t(n){var r,o,i;return du().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e(function(e){e.data.pages.loading=!0,e.data.pages.error=null}),t.p=1,!n){t.n=3;break}return t.n=2,au.getPages(n);case 2:o=t.v,t.n=5;break;case 3:return t.n=4,au.getPages();case 4:o=t.v;case 5:r=o,e(function(e){e.data.pages.data=r}),t.n=7;break;case 6:t.p=6,i=t.v,e(function(e){e.data.pages.error=(null==i?void 0:i.message)||"Failed to load pages"});case 7:return t.p=7,e(function(e){e.data.pages.loading=!1}),t.f(7);case 8:return t.a(2)}},t,null,[[1,6,7,8]])})),function(e){return v.apply(this,arguments)}),loadTimeSystem:(b=hu(du().m(function t(){var n,r;return du().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.timeSystem.loading=!0,e.data.timeSystem.error=null}),t.p=1,t.n=2,au.getTimeSystem();case 2:n=t.v,e(function(e){e.data.timeSystem.data=n}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.timeSystem.error=(null==r?void 0:r.message)||"Failed to load time system"});case 4:return t.p=4,e(function(e){e.data.timeSystem.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return b.apply(this,arguments)}),loadAssets:(y=hu(du().m(function t(){var n,r;return du().w(function(t){for(;;)switch(t.p=t.n){case 0:return e(function(e){e.data.assets||(e.data.assets=ku([])),e.data.assets.loading=!0,e.data.assets.error=null}),t.p=1,t.n=2,au.getAssets();case 2:n=t.v,e(function(e){e.data.assets.data=Array.isArray(n)?n:[]}),t.n=4;break;case 3:t.p=3,r=t.v,e(function(e){e.data.assets.error=(null==r?void 0:r.message)||"Failed to load assets"});case 4:return t.p=4,e(function(e){e.data.assets.loading=!1}),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])})),function(){return y.apply(this,arguments)}),saveTimeSystem:(g=hu(du().m(function t(n){var r,o,i;return du().w(function(t){for(;;)switch(t.n){case 0:if("function"==typeof(o=(r=au).saveTimeSystem||r.updateTimeSystem)){t.n=1;break}throw new Error("TimeSystem API not implemented");case 1:return t.n=2,o(n);case 2:i=t.v,e(function(e){e.data.timeSystem.data=i});case 3:return t.a(2)}},t)})),function(e){return g.apply(this,arguments)}),createAssetFromFile:(m=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.createAssetFromFile(n);case 1:if((r=t.v)&&r._id){t.n=2;break}throw new Error("Failed to create asset");case 2:return e(function(e){e.data.assets||(e.data.assets=ku([])),e.data.assets.data=[r].concat(mu(e.data.assets.data))}),t.a(2,r)}},t)})),function(e){return m.apply(this,arguments)}),createAssetFromUrl:(h=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.createAssetFromUrl(n);case 1:if((r=t.v)&&r._id){t.n=2;break}throw new Error("Failed to create asset");case 2:return e(function(e){e.data.assets||(e.data.assets=ku([])),e.data.assets.data=[r].concat(mu(e.data.assets.data))}),t.a(2,r)}},t)})),function(e){return h.apply(this,arguments)}),deleteAsset:(f=hu(du().m(function t(n){return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.deleteAsset(n);case 1:e(function(e){e.data.assets||(e.data.assets=ku([])),e.data.assets.data=e.data.assets.data.filter(function(e){return e._id!==n})});case 2:return t.a(2)}},t)})),function(e){return f.apply(this,arguments)}),createGroup:(p=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.createGroup({name:n});case 1:return r=t.v,e(function(e){e.data.groups.data.push(r)}),t.a(2,r)}},t)})),function(e){return p.apply(this,arguments)}),updateGroup:(d=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return console.log("Updating group in store:",n),t.n=1,au.updateGroup(n);case 1:return r=t.v,e(function(e){e.data.groups.data=e.data.groups.data.map(function(e){return e._id===r._id?r:e})}),t.a(2,r)}},t)})),function(e){return d.apply(this,arguments)}),deleteGroup:(u=hu(du().m(function t(n){return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.deleteGroup(n);case 1:e(function(e){e.data.groups.data=e.data.groups.data.filter(function(e){return e._id!==n}),e.data.events.data=e.data.events.data.filter(function(e){return e.groupId!==n})});case 2:return t.a(2)}},t)})),function(e){return u.apply(this,arguments)}),reorderGroups:(c=hu(du().m(function n(r){var o,i,a;return du().w(function(n){for(;;)switch(n.p=n.n){case 0:if(o=t().data.groups.data,e(function(e){var t=new Map(r.map(function(e,t){return[e,t]}));e.data.groups.data=e.data.groups.data.map(function(e){var n;return cu(cu({},e),{},{order:null!==(n=t.get(e._id))&&void 0!==n?n:e.order})}).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)})}),n.p=1,"function"!=typeof(i=au).reorderGroups){n.n=3;break}return n.n=2,i.reorderGroups(r);case 2:n.n=4;break;case 3:return n.n=4,Promise.all(r.map(function(e,t){return au.updateGroup({_id:e,order:t})}));case 4:n.n=6;break;case 5:throw n.p=5,a=n.v,e(function(e){e.data.groups.data=o}),a;case 6:return n.a(2)}},n,null,[[1,5]])})),function(e){return c.apply(this,arguments)}),createEvent:(l=hu(du().m(function t(n){var r,o,i;return du().w(function(t){for(;;)switch(t.p=t.n){case 0:return r="tmp_".concat(Date.now()),e(function(e){e.data.events.data.push(cu(cu({},n),{},{_id:r}))}),t.p=1,t.n=2,au.createEvent(n);case 2:return o=t.v,e(function(e){e.data.events.data=e.data.events.data.map(function(e){return e._id===r?o:e})}),t.a(2,o);case 3:throw t.p=3,i=t.v,e(function(e){e.data.events.data=e.data.events.data.filter(function(e){return e._id!==r})}),i;case 4:return t.a(2)}},t,null,[[1,3]])})),function(e){return l.apply(this,arguments)}),updateEvent:(s=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return console.log("Updating event in store:",n),t.n=1,au.updateEvent(n);case 1:return r=t.v,e(function(e){e.data.events.data=e.data.events.data.map(function(e){return e._id===r._id?r:e})}),t.a(2,r)}},t)})),function(e){return s.apply(this,arguments)}),deleteEvent:(a=hu(du().m(function n(r){var o,i;return du().w(function(n){for(;;)switch(n.p=n.n){case 0:return o=t().data.events.data,e(function(e){e.data.events.data=e.data.events.data.filter(function(e){return e._id!==r})}),n.p=1,n.n=2,au.deleteEvent(r);case 2:n.n=4;break;case 3:throw n.p=3,i=n.v,e(function(e){e.data.events.data=o}),i;case 4:return n.a(2)}},n,null,[[1,3]])})),function(e){return a.apply(this,arguments)}),createPage:(i=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.createPage(n);case 1:return r=t.v,e(function(e){e.data.pages.data.push(r)}),t.a(2,r)}},t)})),function(e){return i.apply(this,arguments)}),updatePage:(o=hu(du().m(function n(r){var o;return du().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.n=1,au.updatePage(r);case 1:return o=n.v,e(function(e){e.data.pages.data=e.data.pages.data.map(function(e){return e._id===o.id?o:e})}),n.p=2,n.n=3,t().loadEvents();case 3:n.n=5;break;case 4:n.p=4,n.v;case 5:return n.a(2,o)}},n,null,[[2,4]])})),function(e){return o.apply(this,arguments)}),deletePage:(r=hu(du().m(function t(n){return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.deletePage(n);case 1:e(function(e){e.data.pages.data=e.data.pages.data.filter(function(e){return e._id!==n})});case 2:return t.a(2)}},t)})),function(e){return r.apply(this,arguments)}),getPage:(n=hu(du().m(function t(n){var r;return du().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,au.getPage(n);case 1:return r=t.v,e(function(e){e.data.pages.data=e.data.pages.data.filter(function(e){return e._id!==n})}),t.a(2,r)}},t)})),function(e){return n.apply(this,arguments)}),replacePageInCache:function(t){e(function(e){var n=e.data.pages.data.findIndex(function(e){return e._id===t._id});n>=0?e.data.pages.data[n]=t:e.data.pages.data.push(t)})}};var n,r,o,i,a,s,l,c,u,d,p,f,h,m,g,y,b,v,k,x},yu=(e,t,n)=>(n.setState=(t,n,...r)=>{const o="function"==typeof t?Ns(t):t;return e(o,n,...r)},vu(n.setState,t,n)),bu={name:"dndlore-state",version:3,migrate:function(e,t){return e?(e.ui||(e.ui={showHidden:!1,activeGroupIds:[]}),e.data?(e.ui&&Array.isArray(e.ui.activeGroupIds)&&(e.ui.activeGroupIds=e.ui.activeGroupIds.filter(function(e){return"string"==typeof e&&!!e})),e.data.assets||(e.data.assets=ku([])),e):(e.data={groups:ku([]),events:ku([]),pages:ku([]),timeSystem:ku(null),assets:ku([])},e)):e}},(e,t,n)=>{let r={storage:Wa(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...bu},o=!1;const i=new Set,a=new Set;let s=r.storage;if(!s)return yu((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...t)},t,n);const l=()=>{const e=r.partialize({...t()});return s.setItem(r.name,{state:e,version:r.version})},c=n.setState;n.setState=(e,t)=>(c(e,t),l());const u=yu((...t)=>(e(...t),l()),t,n);let d;n.getInitialState=()=>u;const p=()=>{var n,c;if(!s)return;o=!1,i.forEach(e=>{var n;return e(null!=(n=t())?n:u)});const p=(null==(c=r.onRehydrateStorage)?void 0:c.call(r,null!=(n=t())?n:u))||void 0;return Ha(s.getItem.bind(s))(r.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===r.version)return[!1,e.state];if(r.migrate){const t=r.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(n=>{var o;const[i,a]=n;if(d=r.merge(a,null!=(o=t())?o:u),e(d,!0),i)return l()}).then(()=>{null==p||p(d,void 0),d=t(),o=!0,a.forEach(e=>e(d))}).catch(e=>{null==p||p(void 0,e)})};return n.persist={setOptions:e=>{r={...r,...e},e.storage&&(s=e.storage)},clearStorage:()=>{null==s||s.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(a.add(e),()=>{a.delete(e)})},r.skipHydration||p(),d||u}))),wu=o(1954),Su={};function Eu(e){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}function Cu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return _u(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(_u(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_u(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,_u(d,"constructor",c),_u(c,"constructor",l),l.displayName="GeneratorFunction",_u(c,o,"GeneratorFunction"),_u(d),_u(d,o,"Generator"),_u(d,r,function(){return this}),_u(d,"toString",function(){return"[object Generator]"}),(Cu=function(){return{w:i,m:p}})()}function _u(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_u=function(e,t,n,r){function i(t,n){_u(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},_u(e,t,n,r)}function Ou(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Tu(e){return function(e){if(Array.isArray(e))return ju(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Mu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mu(e,t){if(e){if("string"==typeof e)return ju(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach(function(t){Iu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Iu(e,t,n){return(t=function(e){var t=function(e){if("object"!=Eu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Eu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Eu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Su.styleTagTransform=Re(),Su.setAttributes=Ne(),Su.insert=je().bind(null,"head"),Su.domAPI=Le(),Su.insertStyleElement=De(),Oe()(wu.A,Su),wu.A&&wu.A.locals&&wu.A.locals,it().setAppElement("#root");var Du=function(){return Math.random().toString(36).slice(2,9)};const Pu=function(e){var t,r=e.timeSystem,o=e.onSave,i=e.onClose,a=xu(function(e){return e.data.timeSystem.data}),s=xu(function(e){return e.saveTimeSystem}),l=function(e){var t,n,r,o=(e.months||[]).map(function(e){return{id:e.id||e.id||Du(),name:e.name,days:"number"==typeof e.days?e.days:30}}),i=(e.weekdays||[]).map(function(e){return{id:e.id||e.id||Du(),name:e.name}}),a=(e.eras||[]).map(function(e){return{id:e.id||e.id||Du(),abbreviation:e.abbreviation,name:e.name,startYear:"number"==typeof e.startYear?e.startYear:0}});return{name:e.name||"",months:o,weekdays:i,eras:a,hoursPerDay:null!==(t=e.hoursPerDay)&&void 0!==t?t:24,minutesPerHour:null!==(n=e.minutesPerHour)&&void 0!==n?n:60,epochWeekday:Math.min(Math.max(null!==(r=e.epochWeekday)&&void 0!==r?r:0,0),Math.max(0,i.length-1)),weekdaysResetEachMonth:!!e.weekdaysResetEachMonth,erasStartOnZeroYear:!!e.erasStartOnZeroYear,dateFormats:Nu({},e.dateFormats)}}(r||a||{name:"",months:[],weekdays:[],eras:[],hoursPerDay:24,minutesPerHour:60,epochWeekday:0,weekdaysResetEachMonth:!1,erasStartOnZeroYear:!1,dateFormats:{year:"YYYY [E]",yearMonth:"YYYY MMMM",yearMonthDay:"YYYY MMMM D",yearMonthDayTime:"YYYY MMMM D HH:mm"}}),c=Lu((0,n.useState)(Nu({},l)),2),u=c[0],d=c[1],p=Lu((0,n.useState)("overview"),2),f=p[0],h=p[1],m=function(e,t,n){d(function(r){return Nu(Nu({},r),{},{months:r.months.map(function(r){return r.id===e?Nu(Nu({},r),{},Iu({},t,n)):r})})})},g=function(e,t,n){d(function(r){return Nu(Nu({},r),{},{eras:r.eras.map(function(r){return r.id===e?Nu(Nu({},r),{},Iu({},t,n)):r})})})},y=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ou(i,r,o,a,s,"next",e)}function s(e){Ou(i,r,o,a,s,"throw",e)}a(void 0)})}}(Cu().m(function e(){var t,n,r;return Cu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=Math.min(Math.max(u.epochWeekday,0),u.weekdays.length-1),n=Nu(Nu({},u),{},{epochWeekday:t}),e.p=1,!o){e.n=2;break}o(n),e.n=3;break;case 2:return e.n=3,s(n);case 3:i(),e.n=5;break;case 4:e.p=4,r=e.v,console.error("Failed to save time system",r);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}();return(0,Je.jsxs)(it(),{isOpen:!0,onRequestClose:i,contentLabel:"Time System Editor",className:"modal__content",overlayClassName:"modal__overlay",children:[(0,Je.jsxs)("div",{className:"tsm__nav",children:[(0,Je.jsx)("h3",{className:"tsm__title",children:"Time System Editor"}),(0,Je.jsxs)("nav",{className:"tsm__navlist",children:[(0,Je.jsx)("button",{className:"tsm__navbtn ".concat("overview"===f?"is-active":""),onClick:function(){return h("overview")},children:"Overview"}),(0,Je.jsx)("button",{className:"tsm__navbtn ".concat("months"===f?"is-active":""),onClick:function(){return h("months")},children:"Months"}),(0,Je.jsx)("button",{className:"tsm__navbtn ".concat("weekdays"===f?"is-active":""),onClick:function(){return h("weekdays")},children:"Weekdays"}),(0,Je.jsx)("button",{className:"tsm__navbtn ".concat("eras"===f?"is-active":""),onClick:function(){return h("eras")},children:"Years / Eras"}),(0,Je.jsx)("button",{className:"tsm__navbtn ".concat("formats"===f?"is-active":""),onClick:function(){return h("formats")},children:"Settings"})]})]}),(0,Je.jsxs)("div",{className:"modal__body",children:["overview"===f&&(0,Je.jsxs)("div",{className:"modal__body_content",children:[(0,Je.jsx)("h3",{className:"tsm__sectionTitle",children:"Overview"}),(0,Je.jsxs)("div",{className:"tsm__grid",children:[(0,Je.jsx)("div",{className:"modal__field",children:(0,Je.jsxs)("label",{className:"tsm__label",children:["Name",(0,Je.jsx)("input",{className:"modal__input",type:"text",value:u.name,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{name:e.target.value})})}})]})}),(0,Je.jsx)("div",{className:"modal__field",children:(0,Je.jsxs)("label",{className:"tsm__label",children:["Hours per day",(0,Je.jsx)("input",{className:"modal__input",type:"number",min:1,value:u.hoursPerDay,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{hoursPerDay:parseInt(e.target.value,10)||t.hoursPerDay})})}})]})}),(0,Je.jsx)("div",{className:"modal__field",children:(0,Je.jsxs)("label",{className:"tsm__label",children:["Minutes per hour",(0,Je.jsx)("input",{className:"modal__input",type:"number",min:1,value:u.minutesPerHour,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{minutesPerHour:parseInt(e.target.value,10)||t.minutesPerHour})})}})]})}),(0,Je.jsx)("div",{className:"modal__field",children:(0,Je.jsxs)("label",{className:"tsm__label",children:["Epoch weekday",(0,Je.jsx)("select",{className:"modal__select",value:u.epochWeekday,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{epochWeekday:parseInt(e.target.value,10)})})},children:u.weekdays.map(function(e,t){return(0,Je.jsx)("option",{value:t,children:e.name},e.id)})})]})}),(0,Je.jsx)("div",{className:"modal__field",children:(0,Je.jsxs)("label",{className:"modal__checkrow",children:[(0,Je.jsx)("input",{type:"checkbox",checked:u.weekdaysResetEachMonth,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{weekdaysResetEachMonth:e.target.checked})})}}),"Weekday numbering resets each month"]})}),(0,Je.jsx)("div",{className:"modal__field",children:(0,Je.jsxs)("label",{className:"modal__checkrow",children:[(0,Je.jsx)("input",{type:"checkbox",checked:u.erasStartOnZeroYear,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{erasStartOnZeroYear:e.target.checked})})}}),"Eras start on year 0 (otherwise year 1)"]})})]})]}),"months"===f&&(0,Je.jsxs)("div",{className:"modal__body_content",children:[(0,Je.jsx)("h3",{className:"tsm__sectionTitle",children:"Months"}),(0,Je.jsx)("p",{className:"tsm__help",children:"Reorder months by dragging the handle. You can rename each month and set the number of days it contains."}),(0,Je.jsx)(ta,{onDragEnd:function(e){if(e.destination){var t=Array.from(u.months),n=Lu(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n),d(function(e){return Nu(Nu({},e),{},{months:t})})}},children:(0,Je.jsx)(Na,{droppableId:"months-droppable",children:function(e){return(0,Je.jsxs)("div",Nu(Nu({ref:e.innerRef},e.droppableProps),{},{className:"draggable__list",children:[u.months.map(function(e,t){return(0,Je.jsx)(La,{draggableId:e.id,index:t,children:function(n){return(0,Je.jsxs)("div",Nu(Nu({ref:n.innerRef},n.draggableProps),{},{className:"draggable__listItem",style:n.draggableProps.style,children:[(0,Je.jsx)("span",Nu(Nu({},n.dragHandleProps),{},{className:"draggable__handle"})),(0,Je.jsx)("span",{className:"draggable__index",children:t+1}),(0,Je.jsx)("input",{className:"draggable__input draggable__input--flex",type:"text",value:e.name,onChange:function(t){return m(e.id,"name",t.target.value)}}),(0,Je.jsx)("input",{className:"draggable__input draggable__input--num",type:"number",min:1,value:e.days,onChange:function(t){return m(e.id,"days",parseInt(t.target.value,10)||1)}}),(0,Je.jsx)("button",{className:"draggable__iconbtn draggable__iconbtn--danger",type:"button",onClick:function(){return t=e.id,void d(function(e){return Nu(Nu({},e),{},{months:e.months.filter(function(e){return e.id!==t})})});var t},title:"Delete month",children:"âœ–"})]}))}},e.id)}),e.placeholder]}))}})}),(0,Je.jsx)("button",{type:"button",onClick:function(){d(function(e){return Nu(Nu({},e),{},{months:[].concat(Tu(e.months),[{id:Du(),name:"Month ".concat(e.months.length+1),days:30}])})})},className:"draggable__btn draggable__btn--primary",children:"+ Add month"})]}),"weekdays"===f&&(0,Je.jsxs)("div",{className:"modal__body_content",children:[(0,Je.jsx)("h3",{className:"tsm__sectionTitle",children:"Weekdays"}),(0,Je.jsx)("p",{className:"tsm__help",children:"Reorder weekdays by dragging. Rename them or remove/add new ones. Select which weekday marks the start of year zero."}),(0,Je.jsx)(ta,{onDragEnd:function(e){var t;if(e.destination){var n=Array.from(u.weekdays),r=Lu(n.splice(e.source.index,1),1)[0];n.splice(e.destination.index,0,r);var o=null===(t=u.weekdays[u.epochWeekday])||void 0===t?void 0:t.id,i=n.findIndex(function(e){return e.id===o});d(function(e){return Nu(Nu({},e),{},{weekdays:n,epochWeekday:i>=0?i:0})})}},children:(0,Je.jsx)(Na,{droppableId:"weekdays-droppable",children:function(e){return(0,Je.jsxs)("div",Nu(Nu({ref:e.innerRef},e.droppableProps),{},{className:"draggable__list",children:[u.weekdays.map(function(e,t){return(0,Je.jsx)(La,{draggableId:e.id,index:t,children:function(n){return(0,Je.jsxs)("div",Nu(Nu({ref:n.innerRef},n.draggableProps),{},{className:"draggable__listItem",style:n.draggableProps.style,children:[(0,Je.jsx)("span",Nu(Nu({},n.dragHandleProps),{},{className:"draggable__handle",children:"â˜°"})),(0,Je.jsx)("span",{className:"draggable__index",children:t+1}),(0,Je.jsx)("input",{className:"draggable__input draggable__input--flex",type:"text",value:e.name,onChange:function(t){return n=e.id,r=t.target.value,void d(function(e){return Nu(Nu({},e),{},{weekdays:e.weekdays.map(function(e){return e.id===n?Nu(Nu({},e),{},{name:r}):e})})});var n,r}}),(0,Je.jsx)("button",{className:"draggable__iconbtn draggable__iconbtn--danger",type:"button",onClick:function(){return t=e.id,void d(function(e){return Nu(Nu({},e),{},{weekdays:e.weekdays.filter(function(e){return e.id!==t})})});var t},title:"Delete day",children:"âœ–"})]}))}},e.id)}),e.placeholder]}))}})}),(0,Je.jsx)("button",{type:"button",onClick:function(){d(function(e){return Nu(Nu({},e),{},{weekdays:[].concat(Tu(e.weekdays),[{id:Du(),name:"Day ".concat(e.weekdays.length+1)}])})})},className:"draggable__btn draggable__btn--primary",children:"+ Add weekday"})]}),"eras"===f&&(0,Je.jsxs)("div",{className:"modal__body_content",children:[(0,Je.jsx)("h3",{className:"tsm__sectionTitle",children:"Years / Eras"}),(0,Je.jsx)("p",{className:"tsm__help",children:"Define time eras. Each era requires a unique abbreviation, a name and an absolute start year. Drag to reorder eras. The first era is considered the reference era."}),(0,Je.jsx)(ta,{onDragEnd:function(e){if(e.destination){var t=Array.from(u.eras),n=Lu(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n),d(function(e){return Nu(Nu({},e),{},{eras:t})})}},children:(0,Je.jsx)(Na,{droppableId:"eras-droppable",children:function(e){return(0,Je.jsxs)("div",Nu(Nu({ref:e.innerRef},e.droppableProps),{},{className:"draggable__list",children:[u.eras.map(function(e,t){return(0,Je.jsx)(La,{draggableId:e.id,index:t,children:function(n){return(0,Je.jsxs)("div",Nu(Nu({ref:n.innerRef},n.draggableProps),{},{className:"draggable__listItem",style:n.draggableProps.style,children:[(0,Je.jsx)("span",Nu(Nu({},n.dragHandleProps),{},{className:"draggable__handle",children:"â˜°"})),(0,Je.jsx)("span",{className:"draggable__index",children:t+1}),(0,Je.jsx)("input",{className:"draggable__input draggable__input--abbr",type:"text",value:e.abbreviation,onChange:function(t){return g(e.id,"abbreviation",t.target.value)},placeholder:"Abbr"}),(0,Je.jsx)("input",{className:"draggable__input draggable__input--flex",type:"text",value:e.name,onChange:function(t){return g(e.id,"name",t.target.value)},placeholder:"Era name"}),(0,Je.jsx)("input",{className:"draggable__input draggable__input--year",type:"number",value:e.startYear,onChange:function(t){return g(e.id,"startYear",parseInt(t.target.value,10)||0)}}),(0,Je.jsx)("button",{className:"draggable__iconbtn draggable__iconbtn--danger",type:"button",onClick:function(){return t=e.id,void d(function(e){return Nu(Nu({},e),{},{eras:e.eras.filter(function(e){return e.id!==t})})});var t},title:"Delete era",children:"âœ–"})]}))}},e.id)}),e.placeholder]}))}})}),(0,Je.jsx)("button",{type:"button",onClick:function(){d(function(e){return Nu(Nu({},e),{},{eras:[].concat(Tu(e.eras),[{id:Du(),abbreviation:"E".concat(e.eras.length+1),name:"Era ".concat(e.eras.length+1),startYear:0}])})})},className:"draggable__btn draggable__btn--primary",children:"+ Add era"})]}),"formats"===f&&(0,Je.jsxs)("div",{className:"modal__body_content",children:[(0,Je.jsx)("h3",{className:"tsm__sectionTitle",children:"Customize date display"}),(0,Je.jsx)("p",{className:"tsm__help",children:"Define how your dates are formatted. Use the codes listed to include era names, years, months and days."}),(0,Je.jsxs)("div",{className:"tsm__formats",children:[(0,Je.jsxs)("div",{className:"tsm__formatsCol",children:[(0,Je.jsxs)("label",{className:"tsm__label",children:["Year",(0,Je.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.year,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{dateFormats:Nu(Nu({},t.dateFormats),{},{year:e.target.value})})})}})]}),(0,Je.jsxs)("div",{className:"tsm__example",children:["Example:"," ",u.dateFormats.year.replace(/YYYY/g,"4629").replace(/E/g,(null===(t=u.eras[0])||void 0===t?void 0:t.abbreviation)||"")]}),(0,Je.jsxs)("label",{className:"tsm__label tsm__label--spaced",children:["Year Month",(0,Je.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.yearMonth,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{dateFormats:Nu(Nu({},t.dateFormats),{},{yearMonth:e.target.value})})})}})]}),(0,Je.jsxs)("label",{className:"tsm__label tsm__label--spaced",children:["Year Month Day",(0,Je.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.yearMonthDay,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{dateFormats:Nu(Nu({},t.dateFormats),{},{yearMonthDay:e.target.value})})})}})]}),(0,Je.jsxs)("label",{className:"tsm__label tsm__label--spaced",children:["Year Month Day Time",(0,Je.jsx)("input",{className:"modal__input",type:"text",value:u.dateFormats.yearMonthDayTime,onChange:function(e){return d(function(t){return Nu(Nu({},t),{},{dateFormats:Nu(Nu({},t.dateFormats),{},{yearMonthDayTime:e.target.value})})})}})]})]}),(0,Je.jsxs)("div",{className:"tsm__formatsCol tsm__formatsCol--codes",children:[(0,Je.jsx)("h4",{className:"tsm__subtitle",children:"Display codes"}),(0,Je.jsxs)("ul",{className:"tsm__codes",children:[(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"E"})," â€“ Era abbreviation"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"EE"})," â€“ Era name"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"YYYY"})," â€“ Year (4 digits)"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"YY"})," â€“ Year (2 digits)"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"MMMM"})," â€“ Month name"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"MM"})," â€“ Month number (2 digits)"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"M"})," â€“ Month number"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"D^"})," â€“ Day with ordinal (e.g., 1st, 2nd)"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"DD"})," â€“ Day (2 digits)"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("code",{children:"D"})," â€“ Day"]}),(0,Je.jsx)("li",{children:"Text in square brackets like [Text] is ignored"})]})]})]})]}),(0,Je.jsxs)("div",{className:"modal__actions",children:[(0,Je.jsx)("button",{type:"button",onClick:i,className:"draggable__btn draggable__btn--muted",children:"Cancel"}),(0,Je.jsx)("button",{type:"button",onClick:y,className:"draggable__btn draggable__btn--primary",children:"Save"})]})]})]})};function Ru(e){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(e)}function Bu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return zu(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(zu(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zu(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,zu(d,"constructor",c),zu(c,"constructor",l),l.displayName="GeneratorFunction",zu(c,o,"GeneratorFunction"),zu(d),zu(d,o,"Generator"),zu(d,r,function(){return this}),zu(d,"toString",function(){return"[object Generator]"}),(Bu=function(){return{w:i,m:p}})()}function zu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zu=function(e,t,n,r){function i(t,n){zu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},zu(e,t,n,r)}function Fu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ku(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Wu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Hu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Wu(i,r,o,a,s,"next",e)}function s(e){Wu(i,r,o,a,s,"throw",e)}a(void 0)})}}function Uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(n),!0).forEach(function(t){Vu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vu(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ru(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ru(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ru(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gu(e){return function(e){if(Array.isArray(e))return Yu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ku(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ku(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ku(e,t){if(e){if("string"==typeof e)return Yu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yu(e,t):void 0}}function Yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}it().setAppElement("#root");const Ju=function(e){var t=e.groups,r=e.onSave,o=e.onReorder,i=e.onDelete,a=e.onClose,s=xu(function(e){return e.data.groups.data}),l=xu(function(e){return e.createGroup}),c=xu(function(e){return e.updateGroup}),u=xu(function(e){return e.deleteGroup}),d=xu(function(e){return e.reorderGroups}),p=xu(function(e){return e.setGroupsFilter}),f=xu(function(e){return e.ui.activeGroupIds}),h=(0,n.useMemo)(function(){return null!=t?t:s},[t,s]),m=(0,n.useState)(Gu(h).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)})),g=qu(m,2),y=g[0],b=g[1],v=qu((0,n.useState)(""),2),k=v[0],x=v[1],w=qu((0,n.useState)("#475569"),2),S=w[0],E=w[1];(0,n.useEffect)(function(){b(Gu(h).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}))},[h]);var C=function(e,t,n){b(function(r){return r.map(function(r){return r._id===e?$u($u({},r),{},Vu({},t,n)):r})})},_=function(){var e=Hu(Bu().m(function e(){var t,n,i,s,u,h;return Bu().w(function(e){for(;;)switch(e.p=e.n){case 0:e.p=0,t=Fu(y),e.p=1,t.s();case 2:if((n=t.n()).done){e.n=5;break}return i=n.value,e.n=3,c({_id:i._id,name:i.name,order:i.order,color:i.color});case 3:null==r||r({_id:i._id,name:i.name,color:i.color});case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,u=e.v,t.e(u);case 7:return e.p=7,t.f(),e.f(7);case 8:if(!o){e.n=9;break}o(y),e.n=11;break;case 9:return e.n=10,d(y.map(function(e){return e._id}));case 10:s=y.map(function(e){return e._id}),f.length&&p(s);case 11:if(!k.trim()){e.n=14;break}if(!r){e.n=12;break}r({name:k.trim(),color:S}),e.n=13;break;case 12:return e.n=13,l(k.trim());case 13:x(""),E("#475569");case 14:a(),e.n=16;break;case 15:e.p=15,h=e.v,console.error("Failed to apply group changes",h);case 16:return e.a(2)}},e,null,[[1,6,7,8],[0,15]])}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Hu(Bu().m(function e(t){var n;return Bu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!i){e.n=1;break}i(t),e.n=2;break;case 1:return e.n=2,u(t);case 2:b(function(e){return e.filter(function(e){return e._id!==t})}),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to delete group",n);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}();return(0,Je.jsx)(it(),{isOpen:!0,onRequestClose:a,contentLabel:"Group Manager",className:"modal__content",overlayClassName:"modal__overlay",children:(0,Je.jsxs)("div",{className:"modal__body",children:[(0,Je.jsxs)("div",{className:"modal__body_content",children:[(0,Je.jsx)("h2",{style:{marginTop:0,fontSize:"1.25rem"},children:"Manage Groups"}),(0,Je.jsx)("p",{style:{fontSize:"0.8rem",marginBottom:"1rem",color:"#94a3b8"},children:"You can reorder groups by dragging, edit names and colours, or delete them. New groups can be added at the bottom."}),(0,Je.jsx)(ta,{onDragEnd:function(e){if(e.destination){var t=Array.from(y),n=qu(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n);var r=t.map(function(e,t){return $u($u({},e),{},{order:t})});b(r)}},children:(0,Je.jsx)(Na,{droppableId:"groups-droppable",children:function(e){return(0,Je.jsxs)("div",$u($u({className:"draggable__list",ref:e.innerRef},e.droppableProps),{},{children:[y.map(function(e,t){return(0,Je.jsx)(La,{draggableId:e._id,index:t,children:function(t){return(0,Je.jsxs)("div",$u($u({ref:t.innerRef},t.draggableProps),{},{className:"draggable__listItem",children:[(0,Je.jsx)("span",$u($u({},t.dragHandleProps),{},{className:"draggable__handle"})),(0,Je.jsx)("input",{type:"text",value:e.name,onChange:function(t){return C(e._id,"name",t.target.value)},className:"draggable__input"}),(0,Je.jsx)("input",{type:"color",value:e.color,onChange:function(t){return C(e._id,"color",t.target.value)},style:{width:"36px",height:"36px",border:"none"}}),(0,Je.jsx)("button",{type:"button",onClick:function(){return O(e._id)},className:"draggable__iconbtn draggable__iconbtn--danger",title:"Delete group",children:"âœ–"})]}))}},e._id)}),e.placeholder]}))}})}),(0,Je.jsxs)("div",{style:{marginTop:"1rem",borderTop:"1px solid #334155",padding:".2rem"},children:[(0,Je.jsx)("h3",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Add New Group"}),(0,Je.jsxs)("div",{style:{display:"flex",gap:"1.5rem"},children:[(0,Je.jsx)("input",{type:"text",placeholder:"Group name",value:k,onChange:function(e){return x(e.target.value)},className:"modal__input"}),(0,Je.jsx)("input",{type:"color",value:S,onChange:function(e){return E(e.target.value)},style:{width:"40px",height:"40px",border:"none"}})]})]})]}),(0,Je.jsxs)("div",{className:"modal__actions",children:[(0,Je.jsx)("button",{type:"button",onClick:a,className:"draggable__btn draggable__btn--muted",children:"Cancel"}),(0,Je.jsx)("button",{type:"button",onClick:_,className:"draggable__btn draggable__btn--primary",children:"Save"})]})]})})};var Zu=o(2610),Qu={};function Xu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return ed(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ed(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ed(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,ed(d,"constructor",c),ed(c,"constructor",l),l.displayName="GeneratorFunction",ed(c,o,"GeneratorFunction"),ed(d),ed(d,o,"Generator"),ed(d,r,function(){return this}),ed(d,"toString",function(){return"[object Generator]"}),(Xu=function(){return{w:i,m:p}})()}function ed(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ed=function(e,t,n,r){function i(t,n){ed(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ed(e,t,n,r)}function td(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function nd(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){td(i,r,o,a,s,"next",e)}function s(e){td(i,r,o,a,s,"throw",e)}a(void 0)})}}function rd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return od(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?od(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Qu.styleTagTransform=Re(),Qu.setAttributes=Ne(),Qu.insert=je().bind(null,"head"),Qu.domAPI=Le(),Qu.insertStyleElement=De(),Oe()(Zu.A,Qu),Zu.A&&Zu.A.locals&&Zu.A.locals,it().setAppElement("#root");const id=function(e){var t,r=e.isOpen,o=e.onClose,i=e.onSelect,a=xu(function(e){return e.data.assets}),s=xu(function(e){return e.loadAssets}),l=xu(function(e){return e.createAssetFromFile}),c=(xu(function(e){return e.createAssetFromUrl}),xu(function(e){return e.deleteAsset})),u=(0,n.useRef)(s);(0,n.useEffect)(function(){u.current=s},[s]);var d=(0,n.useRef)(null),p=rd((0,n.useState)(null),2),f=p[0],h=p[1],m=rd((0,n.useState)(""),2),g=(m[0],m[1]);(0,n.useEffect)(function(){var e;r&&(h(null),g(""),null===(e=u.current)||void 0===e||e.call(u))},[r]);var y=(null==a?void 0:a.data)||[],b=!(null==a||!a.loading),v=f&&null!==(t=y.find(function(e){return e._id===f}))&&void 0!==t?t:null,k=function(){var e;return null===(e=d.current)||void 0===e?void 0:e.click()},x=au.resolveAssetUrl,w=function(){var e=nd(Xu().m(function e(t){var n,r,o;return Xu().w(function(e){for(;;)switch(e.n){case 0:if(r=null===(n=t.target.files)||void 0===n?void 0:n[0]){e.n=1;break}return e.a(2);case 1:return e.n=2,l(r);case 2:(o=e.v)&&h(o._id),d.current&&(d.current.value="");case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=nd(Xu().m(function e(){return Xu().w(function(e){for(;;)switch(e.n){case 0:if(f){e.n=1;break}return e.a(2);case 1:return e.n=2,c(f);case 2:h(null);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return(0,Je.jsx)(it(),{isOpen:r,onRequestClose:o,contentLabel:"Asset Manager",overlayClassName:"modal__overlay",className:"modal__content modal__content--asset_mngr",children:(0,Je.jsxs)("div",{className:"modal__body",children:[(0,Je.jsx)("div",{className:"modal__body_content",children:(0,Je.jsxs)("div",{className:"assetmgr",children:[(0,Je.jsxs)("header",{className:"assetmgr__bar",children:[(0,Je.jsxs)("div",{className:"assetmgr__left",children:[(0,Je.jsx)("span",{className:"assetmgr__title",children:"Assets"}),b&&(0,Je.jsxs)("span",{className:"assetmgr__muted",children:[" ","Loadingâ€¦"]})]}),(0,Je.jsx)("div",{className:"assetmgr__right"})]}),(0,Je.jsxs)("div",{className:"assetmgr__layout",children:[(0,Je.jsx)("div",{className:"assetmgr__grid",children:y.map(function(e){return(0,Je.jsxs)("button",{type:"button",className:"assetmgr__card ".concat(f===e._id?"is-selected":""),onClick:function(){return h(e._id)},onDoubleClick:function(){h(e._id),i(e),o()},"aria-pressed":f===e._id,children:[(0,Je.jsx)("div",{className:"assetmgr__thumbWrap",children:(0,Je.jsx)("img",{src:x(e.url),className:"assetmgr__thumb",alt:""})}),(0,Je.jsx)("div",{className:"assetmgr__meta",children:(0,Je.jsx)("span",{className:"assetmgr__name",children:e.url.split("/").pop()})})]},e._id)})}),(0,Je.jsx)("aside",{className:"assetmgr__sidebar",children:v?(0,Je.jsxs)("div",{className:"assetmgr__details",children:[(0,Je.jsx)("div",{className:"assetmgr__preview",children:(0,Je.jsx)("img",{src:x(v.url),className:"assetmgr__previewImg",alt:"Preview"})}),(0,Je.jsxs)("div",{className:"assetmgr__actions",children:[(0,Je.jsx)("button",{type:"button",className:"draggable__btn",onClick:function(){v&&(i(v),o())},children:"Use asset"}),(0,Je.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--muted",onClick:S,children:"Delete"})]}),(0,Je.jsxs)("div",{className:"assetmgr__upload assetmgr__upload--secondary",children:[(0,Je.jsx)("button",{type:"button",className:"draggable__btn",onClick:k,children:"Upload another"}),(0,Je.jsx)("input",{ref:d,type:"file",accept:"image/*",className:"assetmgr__file",onChange:w})]})]}):(0,Je.jsxs)("div",{className:"assetmgr__empty",children:[(0,Je.jsx)("div",{className:"assetmgr__icon","aria-hidden":!0,children:"â–¦"}),(0,Je.jsx)("div",{className:"assetmgr__muted",children:"No asset selected"}),(0,Je.jsxs)("div",{className:"assetmgr__upload",children:[(0,Je.jsx)("button",{type:"button",className:"draggable__btn",onClick:k,children:"New asset"}),(0,Je.jsx)("input",{ref:d,type:"file",accept:"image/*",className:"assetmgr__file",onChange:w})]})]})})]})]})}),(0,Je.jsx)("div",{className:"modal__actions",children:(0,Je.jsx)("button",{type:"button",className:"draggable__btn draggable__btn--muted",onClick:o,children:"Close"})})]})})};var ad=o(5475),sd={};function ld(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return cd(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(cd(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,cd(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,cd(d,"constructor",c),cd(c,"constructor",l),l.displayName="GeneratorFunction",cd(c,o,"GeneratorFunction"),cd(d),cd(d,o,"Generator"),cd(d,r,function(){return this}),cd(d,"toString",function(){return"[object Generator]"}),(ld=function(){return{w:i,m:p}})()}function cd(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}cd=function(e,t,n,r){function i(t,n){cd(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},cd(e,t,n,r)}function ud(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}sd.styleTagTransform=Re(),sd.setAttributes=Ne(),sd.insert=je().bind(null,"head"),sd.domAPI=Le(),sd.insertStyleElement=De(),Oe()(ad.A,sd),ad.A&&ad.A.locals&&ad.A.locals,it().setAppElement("#root");var fd=function(e){switch(e){case"campaign":return(0,Je.jsx)("i",{className:"icon icli iconly-Calendar"});case"place":return(0,Je.jsx)("i",{className:"icon icli iconly-Location"});case"people":return(0,Je.jsx)("i",{className:"icon icli iconly-User"});case"myth":return(0,Je.jsx)("i",{className:"icon icli iconly-Discovery"});default:return(0,Je.jsx)("i",{className:"icon icli iconly-Paper"})}};const hd=function(e){var t=e.isOpen,r=e.onClose,o=e.onSelect,i=e.placeholder,a=void 0===i?"Search pagesâ€¦":i,s=e.filterType,l=void 0===s?"any":s,c=dd((0,n.useState)(""),2),u=c[0],d=c[1],p=dd((0,n.useState)([]),2),f=p[0],h=p[1],m=dd((0,n.useState)(!1),2),g=m[0],y=m[1],b=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ud(i,r,o,a,s,"next",e)}function s(e){ud(i,r,o,a,s,"throw",e)}a(void 0)})}}(ld().m(function e(t){var n;return ld().w(function(e){for(;;)switch(e.p=e.n){case 0:return y(!0),e.p=1,e.n=2,au.searchPages(t,"any"===l?void 0:l,50);case 2:n=e.v,h(n);case 3:return e.p=3,y(!1),e.f(3);case 4:return e.a(2)}},e,null,[[1,,3,4]])}));return function(t){return e.apply(this,arguments)}}();return(0,n.useEffect)(function(){t&&b("")},[t]),(0,n.useEffect)(function(){var e=setTimeout(function(){b(u.trim())},200);return function(){return clearTimeout(e)}},[u]),(0,Je.jsx)(it(),{isOpen:t,onRequestClose:r,contentLabel:"Link a Page",overlayClassName:"modal__overlay",className:"modal__content modal__content--page-picker",children:(0,Je.jsxs)("div",{className:"page-picker",children:[(0,Je.jsxs)("div",{className:"page-picker__header",children:[(0,Je.jsx)("h3",{children:"Pages"}),g&&(0,Je.jsx)("span",{className:"page-picker__loading",children:"Loadingâ€¦"})]}),(0,Je.jsx)("input",{className:"page-picker__search",placeholder:a,value:u,onChange:function(e){return d(e.target.value)},autoFocus:!0}),(0,Je.jsxs)("div",{className:"page-picker__list",children:[0===f.length&&!g&&(0,Je.jsx)("div",{className:"page-picker__empty",children:"No pages found"}),f.map(function(e){return(0,Je.jsxs)("button",{type:"button",className:"page-picker__item",onClick:function(){o(e),r()},children:[(0,Je.jsx)("span",{className:"page-picker__icon",children:fd(e.type)}),(0,Je.jsx)("span",{className:"page-picker__title",children:e.title})]},e._id)})]}),(0,Je.jsx)("div",{className:"page-picker__footer",children:(0,Je.jsx)("button",{type:"button",className:"btn-muted",onClick:r,children:"Close"})})]})})};var md=new Map;md.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"176",y1:"20",x2:"176",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"80",y1:"20",x2:"80",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),md.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M40,88H216V48a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8Z",opacity:"0.2"}),n.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),md.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,48H48V48H72v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24Z"}))}),md.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),md.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),md.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"176",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"176",y1:"24",x2:"176",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"80",y1:"24",x2:"80",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"88",x2:"216",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var gd=function(e,t){return He(e,t,md)},yd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:gd}))});yd.displayName="CalendarBlank";const bd=yd;var vd=new Map;vd.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),vd.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),n.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),vd.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))}),vd.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),vd.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),vd.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var kd=function(e,t){return He(e,t,vd)},xd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:kd}))});xd.displayName="Trash";const wd=xd;var Sd=new Map;Sd.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Sd.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),n.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Sd.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm37.7,130.3a8.1,8.1,0,0,1,0,11.4,8.2,8.2,0,0,1-11.4,0L128,139.3l-26.3,26.4a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4L116.7,128,90.3,101.7a8.1,8.1,0,0,1,11.4-11.4L128,116.7l26.3-26.4a8.1,8.1,0,0,1,11.4,11.4L139.3,128Z"}))}),Sd.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Sd.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Sd.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),n.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Ed=function(e,t){return He(e,t,Sd)},Cd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Ed}))});Cd.displayName="XCircle";const _d=Cd;var Od=new Map;Od.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M18.5,121.3l89.2-57.4A8,8,0,0,1,120,70.7V185.3a8,8,0,0,1-12.3,6.8L18.5,134.7A7.9,7.9,0,0,1,18.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Od.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",opacity:"0.2"}),n.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",opacity:"0.2"}),n.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Od.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M10.1,114.5,99.3,57.2A16,16,0,0,1,124,70.7v42.6l87.3-56.1A16,16,0,0,1,236,70.7V185.3a16.1,16.1,0,0,1-8.3,14.1,16.5,16.5,0,0,1-16.4-.6L124,142.7v42.6a16.1,16.1,0,0,1-8.3,14.1,16.5,16.5,0,0,1-16.4-.6L10.1,141.5a16.1,16.1,0,0,1,0-27Z"}))}),Od.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Od.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Od.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M14.5,121.3l89.2-57.4A8,8,0,0,1,116,70.7V185.3a8,8,0,0,1-12.3,6.8L14.5,134.7A7.9,7.9,0,0,1,14.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M126.5,121.3l89.2-57.4A8,8,0,0,1,228,70.7V185.3a8,8,0,0,1-12.3,6.8l-89.2-57.4A7.9,7.9,0,0,1,126.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Td=function(e,t){return He(e,t,Od)},Ld=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Td}))});Ld.displayName="Rewind";const Md=Ld;var jd=new Map;jd.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),jd.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("polygon",{points:"96 48 176 128 96 208 96 48",opacity:"0.2"}),n.createElement("polygon",{points:"96 48 176 128 96 208 96 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),jd.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M181.7,122.3l-80-80a8.4,8.4,0,0,0-8.8-1.7A8,8,0,0,0,88,48V208a8,8,0,0,0,4.9,7.4,8.5,8.5,0,0,0,3.1.6,8.3,8.3,0,0,0,5.7-2.3l80-80A8.1,8.1,0,0,0,181.7,122.3Z"}))}),jd.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),jd.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),jd.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Ad=function(e,t){return He(e,t,jd)},Nd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Ad}))});Nd.displayName="CaretRight";const Id=Nd;var Dd=new Map;Dd.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M237.5,121.3,148.3,63.9A8,8,0,0,0,136,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,237.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Dd.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",opacity:"0.2"}),n.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",opacity:"0.2"}),n.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Dd.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M253.2,128a16,16,0,0,1-7.3,13.5l-89.2,57.3A16,16,0,0,1,132,185.3V142.7L44.7,198.8A16,16,0,0,1,20,185.3V70.7A16,16,0,0,1,44.7,57.2L132,113.3V70.7a16,16,0,0,1,24.7-13.5l89.2,57.3A16,16,0,0,1,253.2,128Z"}))}),Dd.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Dd.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Dd.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M241.5,121.3,152.3,63.9A8,8,0,0,0,140,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,241.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M129.5,121.3,40.3,63.9A8,8,0,0,0,28,70.7V185.3a8,8,0,0,0,12.3,6.8l89.2-57.4A7.9,7.9,0,0,0,129.5,121.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Pd=function(e,t){return He(e,t,Dd)},Rd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Pd}))});Rd.displayName="FastForward";const Bd=Rd;var zd=o(1948),Fd={};function Wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Fd.styleTagTransform=Re(),Fd.setAttributes=Ne(),Fd.insert=je().bind(null,"head"),Fd.domAPI=Le(),Fd.insertStyleElement=De(),Oe()(zd.A,Fd),zd.A&&zd.A.locals&&zd.A.locals;var Ud=function(e,t){var n,r,o=null==t?void 0:t.months;return o&&0!==o.length&&e>=0&&e<o.length&&null!==(n=null===(r=o[e])||void 0===r?void 0:r.days)&&void 0!==n?n:30},$d=function(e,t,n,r,o,i){var a,s,l;if(!e||!i)return n||"";var c=e.eras.find(function(e){return e.id===t})||e.eras[0],u=null!==(a=null==c?void 0:c.abbreviation)&&void 0!==a?a:"",d=null!==(s=null==c?void 0:c.name)&&void 0!==s?s:"",p=""===r?-1:parseInt(r,10),f=p>=0?e.months[p]:void 0,h=p>=0?p+1:void 0,m=null!==(l=null==f?void 0:f.name)&&void 0!==l?l:"",g=o?parseInt(o,10):void 0,y=i.replace(/(D\^|DD|D|YYYY|YY|MMMM|MM|M|EE|E)/g,function(e){switch(e){case"EE":return d;case"E":return u;case"YYYY":return n;case"YY":return n.slice(-2);case"MMMM":return f?m:"";case"MM":return f&&void 0!==h?String(h).padStart(2,"0"):"";case"M":return f&&void 0!==h?String(h):"";case"D^":return void 0!==g?function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(g):"";case"DD":return void 0!==g?String(g).padStart(2,"0"):"";case"D":return void 0!==g?String(g):"";default:return e}});return y.replace(/\s+,/g,",").replace(/,\s*,/g,",").replace(/\s{2,}/g," ").replace(/,\s*$/g,"").trim()};const Vd=function(e){var t,r,o,i=e.ts,a=e.value,s=e.placeholder,l=void 0===s?"Pick a date":s,c=e.clearable,u=e.label,d=e.onChange,p=e.format,f=!!(i&&Array.isArray(i.months)&&i.months.length&&Array.isArray(i.eras)&&i.eras.length),h=Wd((0,n.useState)((null==a?void 0:a.eraId)||f&&(null===(t=i.eras[0])||void 0===t?void 0:t.id)||""),2),m=h[0],g=h[1],y=Wd((0,n.useState)((null==a?void 0:a.year)||""),2),b=y[0],v=y[1],k=Wd((0,n.useState)((null==a?void 0:a.monthIndex)||"0"),2),x=k[0],w=k[1],S=Wd((0,n.useState)((null==a?void 0:a.day)||"1"),2),E=S[0],C=S[1],_=Wd((0,n.useState)(!1),2),O=_[0],T=_[1],L=function(e,t){var r=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(e){var n=function(e){r.current&&(r.current.contains(e.target)||t())};return document.addEventListener("mousedown",n),function(){return document.removeEventListener("mousedown",n)}}},[e,t]),r}(O,function(){return T(!1)});(0,n.useEffect)(function(){var e;null!=a&&(g(a.eraId||f&&(null===(e=i.eras[0])||void 0===e?void 0:e.id)||""),v(a.year&&/^\d+$/.test(a.year)?a.year:""),w(a.monthIndex||"0"),C(a.day||"1"))},[null==a?void 0:a.eraId,null==a?void 0:a.year,null==a?void 0:a.monthIndex,null==a?void 0:a.day]),(0,n.useEffect)(function(){var e;f&&(m||g((null===(e=i.eras[0])||void 0===e?void 0:e.id)||""),""===x&&w("0"),""===E&&C("1"))},[f]);for(var M=(0,n.useMemo)(function(){var e;return b&&/^\d+$/.test(b)?$d(null!=i?i:null,m,b,x,E,p?(null==i?void 0:i.dateFormats)[p]:null==i||null===(e=i.dateFormats)||void 0===e?void 0:e.yearMonth):""},[i,m,b,x,E]),j=null!==(r=null==i||null===(o=i.months)||void 0===o?void 0:o.length)&&void 0!==r?r:12,A=parseInt(b||"0",10)||0,N=Math.max(0,Math.min(j-1,parseInt(x||"0",10)||0)),I=function(e,t){var n=(t%j+j)%j,r=e+Math.floor(t/j);v(String(r)),w(String(n))},D=f?function(e,t,n){var r,o;if(!n)return 0;var i=null!==(r=n.weekStartIndex)&&void 0!==r?r:0,a=(null!==(o=n.months)&&void 0!==o?o:[]).reduce(function(e,t){var n;return e+(null!==(n=t.days)&&void 0!==n?n:30)},0)||360,s=(e||0)*a,l=function(e,t){var n;return(null!==(n=e.months)&&void 0!==n?n:[]).slice(0,Math.max(0,t)).reduce(function(e,t){var n;return e+(null!==(n=t.days)&&void 0!==n?n:30)},0)}(n,t);return(i+(s+l)%7)%7}(A,N,i):0,P=Ud(N,i),R=(N-1+j)%j,B=(N+1)%j,z=0===N?A-1:A,F=N===j-1?A+1:A,W=Ud(R,i),H=D,U=[],$=0;$<H;$++){var V=W-H+1+$;U.push({day:V,inMonth:-1,y:z,m:R})}for(var G=1;G<=P;G++)U.push({day:G,inMonth:0,y:A,m:N});for(var q=(7-U.length%7)%7,K=1;K<=q;K++)U.push({day:K,inMonth:1,y:F,m:B});var Y=null==i?void 0:i.weekdaysShort,J=Y&&7===Y.length?Y:["L","Ma","Me","G","V","S","D"],Z=!f,Q=Z?"Time system not ready":l;return(0,Je.jsxs)("div",{className:"datepick",children:[u&&(0,Je.jsx)("div",{className:"datepick__label",children:u}),(0,Je.jsxs)("div",{className:"datepick__inputWrap".concat(Z?" is-disabled":""),children:[(0,Je.jsx)("input",{className:"modal__input datepill",onFocus:function(){return!Z&&T(!0)},onClick:function(){return!Z&&T(!0)},readOnly:!0,value:M,placeholder:Q,"aria-haspopup":"dialog","aria-expanded":O,"aria-disabled":Z}),(0,Je.jsx)("span",{className:"datepill__icon calendar","aria-hidden":!0,children:(0,Je.jsx)(bd,{weight:"bold",size:20,className:"icon__hover gold_on_hover"})}),c&&M&&!Z&&(0,Je.jsx)("button",{type:"button",className:"datepill__icon-end",onClick:function(){v(""),C("1"),d(null)},"aria-label":"Clear date",children:(0,Je.jsx)(_d,{size:30,weight:"bold",className:"icon__hover dim_on_hover"})})]}),O&&f&&(0,Je.jsx)("div",{ref:L,className:"dp-pop",children:(0,Je.jsxs)("div",{className:"dp-pop__panel",children:[(0,Je.jsxs)("div",{className:"dp-pop__head",children:[(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return v(String(A-1))},"aria-label":"Previous year",children:(0,Je.jsx)(Md,{size:16})}),(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return I(A+(N-1<0?-1:0),(N-1+j)%j)},"aria-label":"Previous month",children:(0,Je.jsx)(Ye,{size:16})}),(0,Je.jsxs)("div",{className:"dp-pop__headmain",children:[(0,Je.jsx)("select",{className:"modal__select",value:String(N),style:{backgroundImage:"none"},onChange:function(e){return w(e.target.value)},children:i.months.map(function(e,t){return(0,Je.jsx)("option",{value:String(t),children:e.name},e.id)})}),(0,Je.jsx)("input",{className:"modal__input dp-pop__year",type:"number",value:String(A),onChange:function(e){return v(e.target.value)},placeholder:"Year"}),(0,Je.jsx)("select",{className:"modal__select",value:m,style:{backgroundImage:"none"},onChange:function(e){return g(e.target.value)},children:i.eras.map(function(e){return(0,Je.jsx)("option",{value:e.id,children:e.abbreviation},e.id)})})]}),(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return I(A+(N+1>=j?1:0),(N+1)%j)},"aria-label":"Next month",children:(0,Je.jsx)(Id,{size:16})}),(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return v(String(A+1))},"aria-label":"Next year",children:(0,Je.jsx)(Bd,{size:16})})]}),(0,Je.jsx)("div",{className:"dp-pop__grid dp-pop__week",children:J.map(function(e){return(0,Je.jsx)("div",{className:"dp-pop__weekcell",children:e},e)})}),(0,Je.jsx)("div",{className:"dp-pop__grid dp-pop__days",children:U.map(function(e,t){var n=0!==e.inMonth,r=0===e.inMonth&&String(e.day)===E&&e.m===N&&String(A)===b;return(0,Je.jsx)("button",{type:"button",className:"dp-pop__daybtn".concat(n?" is-outside":"").concat(r?" is-selected":""),onClick:function(){var t,n,r,o;v(String(e.y)),w(String(e.m)),C(String(e.day)),(t={eraId:m,year:String(e.y),monthIndex:String(e.m),day:String(e.day)})?d(t,f?{year:$d(i,t.eraId,t.year,"","",null===(n=i.dateFormats)||void 0===n?void 0:n.year),yearMonth:$d(i,t.eraId,t.year,t.monthIndex,"",null===(r=i.dateFormats)||void 0===r?void 0:r.yearMonth),yearMonthDay:$d(i,t.eraId,t.year,t.monthIndex,t.day,null===(o=i.dateFormats)||void 0===o?void 0:o.yearMonthDay)}:{year:t.year,yearMonth:t.year,yearMonthDay:t.year}):d(null),T(!1)},children:e.day},"".concat(e.y,"-").concat(e.m,"-").concat(e.day,"-").concat(t))})})]})})]})};var Gd=new Map;Gd.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"72.2 128.2 152.2 40.2 216 40 215.8 103.8 127.8 183.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M82.1,205.5,60.2,227.4a8,8,0,0,1-11.3,0L28.6,207.1a8,8,0,0,1,0-11.3l21.9-21.9a8,8,0,0,0,0-11.4L33.7,145.7a8,8,0,0,1,0-11.4l16.6-16.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-16.6,16.6a8,8,0,0,1-11.4,0L93.5,205.5A8,8,0,0,0,82.1,205.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Gd.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",opacity:"0.2"}),n.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Gd.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M221.7,34.3A8.1,8.1,0,0,0,216,32h0l-63.8.2a8.1,8.1,0,0,0-6.2,2.9L75.6,120.3,67.3,112a16.1,16.1,0,0,0-22.6,0L32,124.7a15.9,15.9,0,0,0,0,22.6l20.9,20.9-30,29.9a16.2,16.2,0,0,0,0,22.7l12.3,12.3a16.3,16.3,0,0,0,22.7,0l29.9-30L108.7,224a16.1,16.1,0,0,0,22.6,0L144,211.3a15.9,15.9,0,0,0,0-22.6l-8.3-8.3L220.9,110a8.1,8.1,0,0,0,2.9-6.2L224,40A8.1,8.1,0,0,0,221.7,34.3ZM207.8,100l-83.5,69-13-13,54.4-54.3a8.1,8.1,0,0,0-11.4-11.4L100,144.7l-13-13,69-83.5,52-.2Z"}))}),Gd.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Gd.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Gd.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"76.2 132.2 152.2 40.2 216 40 215.8 103.8 123.8 179.8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"100",y1:"156",x2:"160",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M82.1,197.5,52.2,227.4a8,8,0,0,1-11.3,0L28.6,215.1a8,8,0,0,1,0-11.3l29.9-29.9a8,8,0,0,0,0-11.4L37.7,141.7a8,8,0,0,1,0-11.4l12.6-12.6a8,8,0,0,1,11.4,0l76.6,76.6a8,8,0,0,1,0,11.4l-12.6,12.6a8,8,0,0,1-11.4,0L93.5,197.5A8,8,0,0,0,82.1,197.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var qd=function(e,t){return He(e,t,Gd)},Kd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:qd}))});Kd.displayName="Sword";const Yd=Kd;var Jd=new Map;Jd.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Jd.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M130.2,224a96.3,96.3,0,0,0,84-53.6h0L159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224Z",opacity:"0.2"}),n.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1l5.4,1.1,8.3-19.7a8.1,8.1,0,0,1,7.4-4.9h21.4a8.6,8.6,0,0,0,3.8-1l12.3-6.8a7.2,7.2,0,0,0,1.5-1.1l26.9-24.3a8.1,8.1,0,0,0,1.6-9.8l-9.3-16.8h0A98.5,98.5,0,0,0,128,32,95.4,95.4,0,0,0,65,55.6Z",opacity:"0.2"}),n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Jd.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M221.6,173.3A102.9,102.9,0,0,0,232,128,104.2,104.2,0,0,0,154.8,27.5h-.5A103.8,103.8,0,0,0,60.4,49l-1.3,1.2A103.9,103.9,0,0,0,128,232h2.4A104.3,104.3,0,0,0,221,174.6h0ZM216,128a89.3,89.3,0,0,1-5.5,30.7l-46.4-28.5a16,16,0,0,0-6.3-2.3l-22.8-3a16.1,16.1,0,0,0-15.3,6.8h-8.6l-3.8-7.9a16.2,16.2,0,0,0-11-8.7l-6.6-1.4,2.5-5.9a8.1,8.1,0,0,1,7.4-4.9h16.1a16.1,16.1,0,0,0,7.7-2l12.2-6.8a16.1,16.1,0,0,0,3-2.1l26.9-24.4A15.7,15.7,0,0,0,170,50.7,88,88,0,0,1,216,128ZM40,128a87.1,87.1,0,0,1,9.5-39.7l10.4,27.9a16.1,16.1,0,0,0,11.6,10l5.5,1.2h.1l12,2.6a7.8,7.8,0,0,1,5.5,4.3l2.1,4.4a16.1,16.1,0,0,0,14.4,9h1.2l-7.7,17.2a15.9,15.9,0,0,0,2.8,17.4l16.1,17.4a8.3,8.3,0,0,1,2,6.9l-1.8,9.3A88.1,88.1,0,0,1,40,128Z"}))}),Jd.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Jd.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Jd.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M214.2,170.4,159.9,137a7.2,7.2,0,0,0-3.1-1.1l-22.9-3.1a7.8,7.8,0,0,0-8.3,4.7l-13.7,30.7a8,8,0,0,0,1.4,8.7l18.8,20.3a8.2,8.2,0,0,1,2,7L130.2,224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M65,55.6,56,76.8a8,8,0,0,0-.1,5.9l11.5,30.6a7.9,7.9,0,0,0,5.8,5.1L94.6,123a7.8,7.8,0,0,1,5.5,4.3l3.8,7.9a8.2,8.2,0,0,0,7.2,4.5h13.5",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M152.5,35.1l9.3,16.8a8.1,8.1,0,0,1-1.6,9.8L133.3,86a7.2,7.2,0,0,1-1.5,1.1l-12.3,6.8a8.6,8.6,0,0,1-3.8,1H94.3a8.1,8.1,0,0,0-7.4,4.9l-8.3,19.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Zd=function(e,t){return He(e,t,Jd)},Qd=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Zd}))});Qd.displayName="GlobeHemisphereWest";const Xd=Qd;var ep={calendar:(0,Je.jsx)(bd,{}),sword:(0,Je.jsx)(Yd,{}),globe:(0,Je.jsx)(Xd,{})};function tp(e){return tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(e)}var np=["_id"],rp=["_id"];function op(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return ip(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ip(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ip(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,ip(d,"constructor",c),ip(c,"constructor",l),l.displayName="GeneratorFunction",ip(c,o,"GeneratorFunction"),ip(d),ip(d,o,"Generator"),ip(d,r,function(){return this}),ip(d,"toString",function(){return"[object Generator]"}),(op=function(){return{w:i,m:p}})()}function ip(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ip=function(e,t,n,r){function i(t,n){ip(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ip(e,t,n,r)}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach(function(t){lp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lp(e,t,n){return(t=function(e){var t=function(e){if("object"!=tp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function up(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function dp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||pp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){if(e){if("string"==typeof e)return fp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fp(e,t):void 0}}function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}it().setAppElement("#root");const hp=function(e){var t,r,o,i,a,s=e.event,l=e.groups,c=e.timeSystem,u=e.onSave,d=e.onClose,p=xu(function(e){return e.data.groups.data}),f=xu(function(e){return e.data.timeSystem.data}),h=xu(function(e){return e.createEvent}),m=xu(function(e){return e.updateEvent}),g=(0,n.useMemo)(function(){return l&&l.length?l:p},[l,p]),y=(0,n.useMemo)(function(){return c||f||{name:"",months:[],weekdays:[],eras:[],hoursPerDay:24,minutesPerHour:60,epochWeekday:0,weekdaysResetEachMonth:!1,erasStartOnZeroYear:!1,dateFormats:{year:"YYYY [E]",yearMonth:"YYYY MMMM",yearMonthDay:"YYYY MMMM D",yearMonthDayTime:"YYYY MMMM D HH:mm"}}},[c,f]),b=dp((0,n.useState)((null==s?void 0:s.title)||""),2),v=b[0],k=b[1],x=dp((0,n.useState)((null==s?void 0:s.groupId)||(null!==(t=null===(r=g[0])||void 0===r?void 0:r._id)&&void 0!==t?t:"")),2),w=x[0],S=x[1],E=dp((0,n.useState)((null==s?void 0:s.description)||""),2),C=E[0],_=E[1],O=(0,n.useState)((null==s?void 0:s.color)||(null===(o=g.find(function(e){var t;return e._id===((null==s?void 0:s.groupId)||(null===(t=g[0])||void 0===t?void 0:t._id))}))||void 0===o?void 0:o.color)||"#475569"),T=dp(O,2),L=T[0],M=T[1],j=dp((0,n.useState)((null==s?void 0:s.bannerUrl)||""),2),A=j[0],N=j[1],I=dp((0,n.useState)(null!==(i=null==s?void 0:s.hidden)&&void 0!==i&&i),2),D=I[0],P=I[1],R=dp((0,n.useState)(!1),2),B=R[0],z=R[1],F=dp((0,n.useState)(!1),2),W=F[0],H=F[1],U=dp((0,n.useState)(null==s?void 0:s.pageId),2),$=U[0],V=U[1],G=dp((0,n.useState)(null!==(a=null==s?void 0:s.linkSync)&&void 0!==a&&a),2),q=G[0],K=G[1],Y=au.resolveAssetUrl;(0,n.useEffect)(function(){var e,t,n,r;if(k((null==s?void 0:s.title)||""),S((null==s?void 0:s.groupId)||(null!==(e=null===(t=g[0])||void 0===t?void 0:t._id)&&void 0!==e?e:"")),_((null==s?void 0:s.description)||""),N((null==s?void 0:s.bannerUrl)||""),P(null!==(n=null==s?void 0:s.hidden)&&void 0!==n&&n),V(null==s?void 0:s.pageId),K(null!==(r=null==s?void 0:s.linkSync)&&void 0!==r&&r),s&&s.color)M(s.color);else{var o=g.find(function(e){var t;return e._id===((null==s?void 0:s.groupId)||(null===(t=g[0])||void 0===t?void 0:t._id))});null!=o&&o.color&&M(o.color)}},[s,g]);var J=function(e,t){var n,r,o,i;if(!e)return{eraId:null!==(o=null===(i=t.eras[0])||void 0===i?void 0:i.id)&&void 0!==o?o:"",year:"",monthIndex:"",day:""};var a,s=null!==(n=null===(r=t.eras[0])||void 0===r?void 0:r.id)&&void 0!==n?n:"",l=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=pp(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.eras);try{for(l.s();!(a=l.n()).done;){var c,u=a.value,d=null===(c=u.abbreviation)||void 0===c?void 0:c.trim();if(d&&new RegExp("(?:^|[ ,])".concat(d,"(?:$|[ ,])")).test(e)){s=u.id;break}}}catch(e){l.e(e)}finally{l.f()}for(var p="",f=-1,h=0;h<t.months.length;h++){var m,g=null===(m=t.months[h])||void 0===m?void 0:m.name;if(g&&new RegExp("\\b".concat(g,"\\b")).test(e)){p=String(h),f=h;break}}var y="";if(f>=0){var b=t.months[f].name,v=new RegExp("".concat(b,"\\s+(\\d{1,2})")),k=e.match(v);k&&(y=k[1])}var x="",w=e.match(/-?\d+/g)||[];return w.length>0&&(x=y?w[w.length-1]:w[0]?w[0]:"0"),{eraId:s,year:x,monthIndex:p,day:y}},Z=(0,n.useMemo)(function(){if(s){var e,t,n,r,o=J(s.startDate,y);return{eraId:null!==(e=null!==(t=null!==(n=s.startEraId)&&void 0!==n?n:o.eraId)&&void 0!==t?t:null===(r=y.eras[0])||void 0===r?void 0:r.id)&&void 0!==e?e:"",year:void 0!==s.startYear?String(s.startYear):o.year,monthIndex:void 0!==s.startMonthIndex&&null!==s.startMonthIndex?String(s.startMonthIndex):o.monthIndex,day:void 0!==s.startDay&&null!==s.startDay?String(s.startDay):o.day}}return J(void 0,y)},[s,y]),Q=(0,n.useMemo)(function(){if(s){var e,t,n,r,o=J(s.endDate,y);return{eraId:null!==(e=null!==(t=null!==(n=s.endEraId)&&void 0!==n?n:o.eraId)&&void 0!==t?t:null===(r=y.eras[0])||void 0===r?void 0:r.id)&&void 0!==e?e:"",year:void 0!==s.endYear?String(s.endYear):o.year,monthIndex:void 0!==s.endMonthIndex&&null!==s.endMonthIndex?String(s.endMonthIndex):o.monthIndex,day:void 0!==s.endDay&&null!==s.endDay?String(s.endDay):o.day}}return J(void 0,y)},[s,y]),X=dp((0,n.useState)(Z.eraId),2),ee=X[0],te=X[1],ne=dp((0,n.useState)(Z.year),2),re=ne[0],oe=ne[1],ie=dp((0,n.useState)(Z.monthIndex),2),ae=ie[0],se=ie[1],le=dp((0,n.useState)(Z.day),2),ce=le[0],ue=le[1],de=dp((0,n.useState)(!(null==s||!s.endDate)),2),pe=de[0],fe=de[1],he=dp((0,n.useState)(Q.eraId),2),me=he[0],ge=he[1],ye=dp((0,n.useState)(Q.year),2),be=ye[0],ve=ye[1],ke=dp((0,n.useState)(Q.monthIndex),2),xe=ke[0],we=ke[1],Se=dp((0,n.useState)(Q.day),2),Ee=Se[0],Ce=Se[1],_e=dp((0,n.useState)((null==s?void 0:s.icon)||"calendar"),2),Oe=_e[0],Te=_e[1];(0,n.useEffect)(function(){te(Z.eraId),oe(Z.year),se(Z.monthIndex),ue(Z.day),fe(!(null==s||!s.endDate)),ge(Q.eraId),ve(Q.year),we(Q.monthIndex),Ce(Q.day),console.log("ENDERAID",Q.eraId),console.log("STARTERAID",Z.eraId)},[Z,Q,null==s?void 0:s.endDate]),(0,n.useEffect)(function(){y.eras.length>0&&(ee||te(y.eras[0].id),pe&&!me&&ge(y.eras[0].id))},[y.eras.length,ee,me,pe]);var Le=function(e,t,n,r,o){var i,a,s,l=y.eras.find(function(t){return t.id===e})||y.eras[0],c=null!==(i=null==l?void 0:l.abbreviation)&&void 0!==i?i:"",u=null!==(a=null==l?void 0:l.name)&&void 0!==a?a:"",d=""===n?-1:parseInt(n,10),p=d>=0?y.months[d]:void 0,f=d>=0?d+1:void 0,h=null!==(s=null==p?void 0:p.name)&&void 0!==s?s:"",m=r?parseInt(r,10):void 0,g=o.replace(/(D\^|DD|D|YYYY|YY|MMMM|MM|M|EE|E)/g,function(e){switch(e){case"EE":return u;case"E":return c;case"YYYY":return t;case"YY":return t.slice(-2);case"MMMM":return p?h:"";case"MM":return p&&void 0!==f?f.toString().padStart(2,"0"):"";case"M":return p&&void 0!==f?String(f):"";case"D^":return void 0!==m?function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(m):"";case"DD":return void 0!==m?m.toString().padStart(2,"0"):"";case"D":return void 0!==m?String(m):"";default:return e}});return g.replace(/\s+,/g,",").replace(/,\s*,/g,",").replace(/\s{2,}/g," ").replace(/,\s*$/g,"").trim()};(0,n.useEffect)(function(){if(!s||!s.color){var e=g.find(function(e){return e._id===w});null!=e&&e.color&&M(e.color)}},[w,s,g]);var Me,je=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){up(i,r,o,a,s,"next",e)}function s(e){up(i,r,o,a,s,"throw",e)}a(void 0)})}}(op().m(function e(t){var n,r,o,i,a,l,c,p,f,g,b,k;return op().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),n="",r=void 0,""!==(o=re.trim())&&(n=""===ae?Le(ee,o,"","",y.dateFormats.year):""!==ce?Le(ee,o,ae,ce,y.dateFormats.yearMonthDay):Le(ee,o,ae,"",y.dateFormats.yearMonth)),pe&&""!==(i=be.trim())&&(r=""===xe?Le(me,i,"","",y.dateFormats.year):""!==Ee?Le(me,i,xe,Ee,y.dateFormats.yearMonthDay):Le(me,i,xe,"",y.dateFormats.yearMonth)),a=!(null==s||!s.endDate||pe),l={_id:null==s?void 0:s._id,groupId:w,title:v,detailLevel:"Year",icon:Oe,startDate:n||void 0,startEraId:ee||void 0,startYear:o?parseInt(o,10):void 0,startMonthIndex:""!==ae?parseInt(ae,10):void 0,startDay:""!==ce?parseInt(ce,10):void 0,description:C,bannerUrl:A||void 0,color:L,hidden:D,pageId:$||void 0,linkSync:!!q},pe?(l.endDate=r,l.endEraId=me||void 0,l.endYear=be.trim()?parseInt(be.trim(),10):void 0,l.endMonthIndex=""!==xe?parseInt(xe,10):void 0,l.endDay=""!==Ee?parseInt(Ee,10):void 0):a&&(l.endDate=null,l.endEraId=null,l.endYear=null,l.endMonthIndex=null,l.endDay=null),e.p=1,!u){e.n=2;break}u(l),e.n=5;break;case 2:if(!l._id){e.n=4;break}return p=(c=l)._id,f=cp(c,np),e.n=3,m(sp({_id:p},f));case 3:e.n=5;break;case 4:return(g=l)._id,b=cp(g,rp),e.n=5,h(b);case 5:d(),e.n=7;break;case 6:e.p=6,k=e.v,console.error("Failed to save event",k);case 7:return e.a(2)}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}();return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(it(),{isOpen:!0,onRequestClose:d,contentLabel:"Event Editor",className:"modal__content modal__content--event",overlayClassName:"modal__overlay",children:(0,Je.jsx)("div",{className:"modal__body",children:(0,Je.jsx)("div",{className:"modal__body_content",children:(0,Je.jsxs)("form",{onSubmit:je,children:[(0,Je.jsx)("div",{style:{position:"relative"},children:(0,Je.jsxs)("div",{className:"bannerPreview",style:{backgroundImage:"".concat(A&&A.length>0?"url("+Y(A)+")":"")},children:[A&&A.length>0&&(0,Je.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},className:"trash-btn",type:"button",onClick:function(){return N("")},title:"Delete month",children:(0,Je.jsx)(wd,{color:"white"})}),!A&&(0,Je.jsx)("div",{className:"modal__assets_manager",children:(0,Je.jsx)("button",{type:"button",onClick:function(){return z(!0)},children:"Add Image"})}),(0,Je.jsxs)("div",{className:"modal__title_wrapper",children:[(0,Je.jsx)("span",{className:"icon_square-btn",onClick:function(){Te(function(e){switch(e){case"calendar":return"sword";case"sword":return"globe";default:return"calendar"}}(Oe))},children:function(e){return ep[e]||(0,Je.jsx)(bd,{})}(Oe)}),(0,Je.jsx)("input",{type:"text",value:v,onChange:function(e){return k(e.target.value)},className:"modal__input",placeholder:"Set the Event Title",required:!0})]})]})}),(0,Je.jsxs)("div",{className:"modal__form_wrapper",children:[(0,Je.jsxs)("fieldset",{style:{border:"none",padding:0,margin:"0 0 1rem 0"},children:[(0,Je.jsx)("legend",{className:"form-label",style:{marginBottom:"0.5rem"},children:"Link to Page"}),(0,Je.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:$?(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("span",{style:{color:"#8ab4ff",fontSize:"0.9rem"},children:[(0,Je.jsx)("i",{className:"icon icli iconly-Link",style:{marginRight:"0.25rem"}}),"Page linked"]}),(0,Je.jsx)("button",{type:"button",className:"btn-muted",onClick:function(){V(void 0),K(!1)},style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:"Unlink"})]}):(0,Je.jsxs)("button",{type:"button",className:"btn-primary",onClick:function(){return H(!0)},style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:[(0,Je.jsx)("i",{className:"icon icli iconly-Calendar"})," Link Page"]})}),$&&(0,Je.jsxs)("div",{className:"checkbox-wrapper",style:{marginTop:"0.75rem"},children:[(0,Je.jsx)("input",{type:"checkbox",id:"sync-checkbox",className:"input-checkbox input-checkbox-light",checked:q,onChange:function(e){return K(e.target.checked)}}),(0,Je.jsx)("label",{className:"input-checkbox-btn",htmlFor:"sync-checkbox"}),(0,Je.jsx)("span",{className:"form-label",style:{fontSize:"0.9rem"},children:"Keep synced (title, banner, world date)"})]})]}),(0,Je.jsx)("fieldset",{style:{border:"none",padding:0,margin:0},children:(0,Je.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[(0,Je.jsx)("div",{style:{flex:"65%"},children:(0,Je.jsxs)("label",{className:"form-label",children:["Group",(0,Je.jsx)("select",{value:w,onChange:function(e){return S(e.target.value)},className:"modal__select",children:(Me=g,function(e){if(Array.isArray(e))return fp(e)}(Me)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Me)||pp(Me)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}).map(function(e){return(0,Je.jsx)("option",{value:e._id,style:{color:e.color},children:e.name},e._id)})})]})}),(0,Je.jsx)("div",{style:{flex:"30%"},children:(0,Je.jsxs)("label",{className:"form-label color-picker",style:{},children:["Color",(0,Je.jsx)("input",{type:"color",value:L,onChange:function(e){return M(e.target.value)},className:"form-input"})]})})]})}),(0,Je.jsx)(Vd,{ts:c,label:"Start",value:{eraId:ee,year:re,monthIndex:ae||"0",day:ce||"1"},onChange:function(e){e&&(te(e.eraId),oe(e.year),se(e.monthIndex),ue(e.day))}}),(0,Je.jsx)(Vd,{ts:c,label:"End",placeholder:"Pick a date (optional)",clearable:!0,value:{eraId:me,year:be,monthIndex:xe||"0",day:Ee||"1"},onChange:function(e){var t;if(!e)return fe(!1),ge((null==c||null===(t=c.eras[0])||void 0===t?void 0:t.id)||""),ve(""),we(""),void Ce("");ge(e.eraId),ve(e.year),we(e.monthIndex),Ce(e.day);var n=Boolean(e.year&&e.year.trim()||e.monthIndex&&e.monthIndex.trim()||e.day&&e.day.trim());fe(n)}}),(0,Je.jsxs)("div",{className:"checkbox-wrapper",children:[(0,Je.jsx)("input",{className:"input-checkbox input-checkbox-light",type:"checkbox",id:"hidden-checkbox",checked:D,onChange:function(e){P(e.target.checked),console.log("HIDDEN",e.target.checked)}}),(0,Je.jsx)("label",{className:"input-checkbox-btn",htmlFor:"hidden-checkbox"}),(0,Je.jsx)("span",{className:"form-label",children:"Hidden (DM only)"})]}),(0,Je.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:[(0,Je.jsx)("button",{type:"button",onClick:d,className:"btn-muted",children:"Cancel"}),(0,Je.jsx)("button",{type:"submit",className:"btn-primary",children:s?"Update":"Create"})]})]})]})})})}),(0,Je.jsx)(id,{isOpen:B,onClose:function(){return z(!1)},onSelect:function(e){N(e.url),z(!1)}}),(0,Je.jsx)(hd,{isOpen:W,onClose:function(){return H(!1)},onSelect:function(e){V(e._id),K(!0)},placeholder:"Search pages..."})]})};function mp(e){return()=>e}function gp(e){e()}function yp(e,t){return n=>e(t(n))}function bp(e,t){return()=>e(t)}function vp(e){return void 0!==e}function kp(){}function xp(e,t){return t(e),e}function wp(e,t){return t(e)}function Sp(...e){return e}function Ep(e,t){return e(1,t)}function Cp(e,t){e(0,t)}function _p(e){e(2)}function Op(e){return e(4)}function Tp(e,t){return Ep(e,function(e){return t=>e(0,t)}(t))}function Lp(e,t){const n=e(1,e=>{n(),t(e)});return n}function Mp(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function jp(e,t){return e===t}function Ap(e=jp){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function Np(e){return t=>n=>{e(n)&&t(n)}}function Ip(e){return t=>yp(t,e)}function Dp(e){return t=>()=>{t(e)}}function Pp(e,...t){const n=function(...e){return t=>e.reduceRight(wp,t)}(...t);return(t,r)=>{switch(t){case 2:return void _p(e);case 1:return Ep(e,n(r))}}}function Rp(e,t){return n=>r=>{n(t=e(t,r))}}function Bp(e){return t=>n=>{e>0?e--:t(n)}}function zp(e){let t,n=null;return r=>o=>{n=o,!t&&(t=setTimeout(()=>{t=void 0,r(n)},e))}}function Fp(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{const a=Math.pow(2,i);Ep(e,e=>{const s=n;n|=a,t[i]=e,s!==o&&n===o&&r&&(r(),r=null)})}),e=>i=>{const a=()=>{e([i].concat(t))};n===o?a():r=a}}function Wp(e){let t=e;const n=Up();return(e,r)=>{switch(e){case 0:t=r;break;case 1:r(t);break;case 4:return t}return n(e,r)}}function Hp(e,t){return xp(Wp(t),t=>Tp(e,t))}function Up(){const e=[];return(t,n)=>{switch(t){case 0:return void e.slice().forEach(e=>{e(n)});case 2:return void e.splice(0,e.length);case 1:return e.push(n),()=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function $p(e){return xp(Up(),t=>Tp(e,t))}function Vp(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:Gp(),singleton:n}}const Gp=()=>Symbol();function qp(...e){const t=Up(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{const a=Math.pow(2,i);Ep(e,e=>{n[i]=e,r|=a,r===o&&Cp(t,n)})}),function(e,i){switch(e){case 2:return void _p(t);case 1:return r===o&&i(n),Ep(t,i)}}}function Kp(e,t=jp){return Pp(e,Ap(t))}function Yp(...e){return function(t,n){switch(t){case 2:return;case 1:return function(...e){return()=>{e.map(gp)}}(...e.map(e=>Ep(e,n)))}}}var Jp=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Jp||{});const Zp={0:"debug",3:"error",1:"log",2:"warn"},Qp=Vp(()=>{const e=Wp(3);return{log:Wp((t,n,r=1)=>{var o;r>=(null!=(o=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:Op(e))&&console[Zp[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function Xp(e,t,n){return ef(e,t,n).callbackRef}function ef(e,t,r){const o=n.useRef(null);let i=e=>{};const a=n.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(t=>{const n=()=>{const n=t[0].target;null!==n.offsetParent&&e(n)};r?n():requestAnimationFrame(n)}):null,[e,r]);return i=e=>{e&&t?(null==a||a.observe(e),o.current=e):(o.current&&(null==a||a.unobserve(o.current)),o.current=null)},{callbackRef:i,ref:o}}function tf(e,t,r,o,i,a,s,l,c){const u=n.useCallback(n=>{const r=function(e,t,n,r){const o=e.length;if(0===o)return null;const i=[];for(let a=0;a<o;a++){const o=e.item(a);if(void 0===o.dataset.index)continue;const s=parseInt(o.dataset.index),l=parseFloat(o.dataset.knownSize),c=t(o,n);if(0===c&&r("Zero-sized element, this should not happen",{child:o},Jp.ERROR),c===l)continue;const u=i[i.length-1];0===i.length||u.size!==c||u.endIndex!==s-1?i.push({endIndex:s,size:c,startIndex:s}):i[i.length-1].endIndex++}return i}(n.children,t,l?"offsetWidth":"offsetHeight",i);let c=n.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const u="window"===c.lastElementChild.dataset.viewportType;let d;u&&(d=c.ownerDocument.defaultView);const p=s?l?s.scrollLeft:s.scrollTop:u?l?d.scrollX||d.document.documentElement.scrollLeft:d.scrollY||d.document.documentElement.scrollTop:l?c.scrollLeft:c.scrollTop,f=s?l?s.scrollWidth:s.scrollHeight:u?l?d.document.documentElement.scrollWidth:d.document.documentElement.scrollHeight:l?c.scrollWidth:c.scrollHeight,h=s?l?s.offsetWidth:s.offsetHeight:u?l?d.innerWidth:d.innerHeight:l?c.offsetWidth:c.offsetHeight;o({scrollHeight:f,scrollTop:Math.max(p,0),viewportHeight:h}),null==a||a(l?nf("column-gap",getComputedStyle(n).columnGap,i):nf("row-gap",getComputedStyle(n).rowGap,i)),null!==r&&e(r)},[e,t,i,a,s,o,l]);return ef(u,r,c)}function nf(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Jp.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function rf(e,t,r){const o=n.useRef(null),i=n.useCallback(n=>{if(null==n||!n.offsetParent)return;const r=n.getBoundingClientRect(),i=r.width;let a,l;if(t){const e=t.getBoundingClientRect(),n=r.top-e.top;l=e.height-Math.max(0,n),a=n+t.scrollTop}else{const e=s.current.ownerDocument.defaultView;l=e.innerHeight-Math.max(0,r.top),a=r.top+e.scrollY}o.current={offsetTop:a,visibleHeight:l,visibleWidth:i},e(o.current)},[e,t]),{callbackRef:a,ref:s}=ef(i,!0,r),l=n.useCallback(()=>{i(s.current)},[i,s]);return n.useEffect(()=>{var e;if(t){t.addEventListener("scroll",l);const e=new ResizeObserver(()=>{requestAnimationFrame(l)});return e.observe(t),()=>{t.removeEventListener("scroll",l),e.unobserve(t)}}{const t=null==(e=s.current)?void 0:e.ownerDocument.defaultView;return null==t||t.addEventListener("scroll",l),null==t||t.addEventListener("resize",l),()=>{null==t||t.removeEventListener("scroll",l),null==t||t.removeEventListener("resize",l)}}},[l,t,s]),a}const of=Vp(()=>{const e=Up(),t=Up(),n=Wp(0),r=Up(),o=Wp(0),i=Up(),a=Up(),s=Wp(0),l=Wp(0),c=Wp(0),u=Wp(0),d=Up(),p=Up(),f=Wp(!1),h=Wp(!1),m=Wp(!1);return Tp(Pp(e,Ip(({scrollTop:e})=>e)),t),Tp(Pp(e,Ip(({scrollHeight:e})=>e)),a),Tp(t,o),{deviation:n,fixedFooterHeight:c,fixedHeaderHeight:l,footerHeight:u,headerHeight:s,horizontalDirection:h,scrollBy:p,scrollContainerState:e,scrollHeight:a,scrollingInProgress:f,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:m,smoothScrollTargetReached:r,statefulScrollTop:o,viewportHeight:i}},[],{singleton:!0}),af={lvl:0};function sf(e,t){const n=e.length;if(0===n)return[];let{index:r,value:o}=t(e[0]);const i=[];for(let a=1;a<n;a++){const{index:n,value:s}=t(e[a]);i.push({end:n-1,start:r,value:o}),r=n,o=s}return i.push({end:1/0,start:r,value:o}),i}function lf(e){return e===af}function cf(e,t){if(!lf(e))return t===e.k?e.v:t<e.k?cf(e.l,t):cf(e.r,t)}function uf(e,t,n="k"){if(lf(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const r=uf(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return uf(e.l,t,n)}function df(e,t,n){return lf(e)?wf(t,n,1):t===e.k?bf(e,{k:t,v:n}):t<e.k?Sf(bf(e,{l:df(e.l,t,n)})):Sf(bf(e,{r:df(e.r,t,n)}))}function pf(){return af}function ff(e,t,n){return lf(e)?[]:function(e){return sf(e,({k:e,v:t})=>({index:e,value:t}))}(gf(e,uf(e,t)[0],n))}function hf(e,t){if(lf(e))return af;const{k:n,l:r,r:o}=e;if(t===n){if(lf(r))return o;if(lf(o))return r;{const[t,n]=xf(r);return yf(bf(e,{k:t,l:vf(r),v:n}))}}return yf(bf(e,t<n?{l:hf(r,t)}:{r:hf(o,t)}))}function mf(e){return lf(e)?[]:[...mf(e.l),{k:e.k,v:e.v},...mf(e.r)]}function gf(e,t,n){if(lf(e))return[];const{k:r,l:o,r:i,v:a}=e;let s=[];return r>t&&(s=s.concat(gf(o,t,n))),r>=t&&r<=n&&s.push({k:r,v:a}),r<=n&&(s=s.concat(gf(i,t,n))),s}function yf(e){const{l:t,lvl:n,r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(kf(t))return Ef(bf(e,{lvl:n-1}));if(!lf(t)&&!lf(t.r))return bf(t.r,{l:bf(t,{r:t.r.l}),lvl:n,r:bf(e,{l:t.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}if(kf(e))return Cf(bf(e,{lvl:n-1}));if(lf(r)||lf(r.l))throw new Error("Unexpected empty nodes");{const t=r.l,o=kf(t)?r.lvl-1:r.lvl;return bf(t,{l:bf(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:Cf(bf(r,{l:t.r,lvl:o}))})}}function bf(e,t){return wf(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function vf(e){return lf(e.r)?e.l:yf(bf(e,{r:vf(e.r)}))}function kf(e){return lf(e)||e.lvl>e.r.lvl}function xf(e){return lf(e.r)?[e.k,e.v]:xf(e.r)}function wf(e,t,n,r=af,o=af){return{k:e,l:r,lvl:n,r:o,v:t}}function Sf(e){return Cf(Ef(e))}function Ef(e){const{l:t}=e;return lf(t)||t.lvl!==e.lvl?e:bf(t,{r:bf(e,{l:t.r})})}function Cf(e){const{lvl:t,r:n}=e;return lf(n)||lf(n.r)||n.lvl!==t||n.r.lvl!==t?e:bf(n,{l:bf(e,{r:n.l}),lvl:t+1})}function _f(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function Of(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}const Tf=Vp(()=>({recalcInProgress:Wp(!1)}),[],{singleton:!0});function Lf(e,t,n){return e[Mf(e,t,n)]}function Mf(e,t,n,r=0){let o=e.length-1;for(;r<=o;){const i=Math.floor((r+o)/2),a=n(e[i],t);if(0===a)return i;if(-1===a){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function jf(e,t){return Math.round(e.getBoundingClientRect()[t])}function Af(e){return!lf(e.groupOffsetTree)}function Nf({index:e},t){return t===e?0:t<e?-1:1}function If({offset:e},t){return t===e?0:t<e?-1:1}function Df(e,t,n){if(0===t.length)return 0;const{index:r,offset:o,size:i}=Lf(t,e,Nf),a=e-r,s=i*a+(a-1)*n+o;return s>0?s+n:s}function Pf(e,t){if(!Af(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function Rf(e,t,n){if(function(e){return typeof e.groupIndex<"u"}(e))return t.groupIndices[e.groupIndex]+1;{let r=Pf("LAST"===e.index?n:e.index,t);return r=Math.max(0,r,Math.min(n,r)),r}}function Bf(e,[t,n,r,o]){t.length>0&&r("received item sizes",t,Jp.DEBUG);const i=e.sizeTree;let a=i,s=0;if(n.length>0&&lf(i)&&2===t.length){const e=t[0].size,r=t[1].size;a=n.reduce((t,n)=>df(df(t,n,e),n+1,r),a)}else[a,s]=function(e,t){let n=lf(e)?0:1/0;for(const r of t){const{endIndex:t,size:o,startIndex:i}=r;if(n=Math.min(n,i),lf(e)){e=df(e,0,o);continue}const a=ff(e,i-1,t+1);if(a.some(Hf(r)))continue;let s=!1,l=!1;for(const{end:n,start:r,value:i}of a)s?(t>=r||o===i)&&(e=hf(e,r)):(l=i!==o,s=!0),n>t&&t>=r&&i!==o&&(e=df(e,t+1,i));l&&(e=df(e,i,o))}return[e,n]}(a,t);if(a===i)return e;const{lastIndex:l,lastOffset:c,lastSize:u,offsetTree:d}=Ff(e.offsetTree,s,a,o);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>df(e,t,Df(t,d,o)),pf()),lastIndex:l,lastOffset:c,lastSize:u,offsetTree:d,sizeTree:a}}function zf(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function Ff(e,t,n,r){let o=e,i=0,a=0,s=0,l=0;if(0!==t){l=Mf(o,t-1,Nf),s=o[l].offset;const e=uf(n,t-1);i=e[0],a=e[1],o.length&&o[l].size===uf(n,t)[1]&&(l-=1),o=o.slice(0,l+1)}else o=[];for(const{start:e,value:l}of ff(n,t,1/0)){const t=e-i,n=t*a+s+t*r;o.push({index:e,offset:n,size:l}),i=e,s=n,a=l}return{lastIndex:i,lastOffset:s,lastSize:a,offsetTree:o}}function Wf(e){return{index:e.index,value:e}}function Hf(e){const{endIndex:t,size:n,startIndex:r}=e;return e=>e.start===r&&(e.end===t||e.end===1/0)&&e.value===n}const Uf={offsetHeight:"height",offsetWidth:"width"},$f=Vp(([{log:e},{recalcInProgress:t}])=>{const n=Up(),r=Up(),o=Hp(r,0),i=Up(),a=Up(),s=Wp(0),l=Wp([]),c=Wp(void 0),u=Wp(void 0),d=Wp((e,t)=>jf(e,Uf[t])),p=Wp(void 0),f=Wp(0),h={groupIndices:[],groupOffsetTree:pf(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:pf()},m=Hp(Pp(n,Fp(l,e,f),Rp(Bf,h),Ap()),h),g=Hp(Pp(l,Ap(),Rp((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),Ip(({prev:e})=>e)),[]);Tp(Pp(l,Np(e=>e.length>0),Fp(m,f),Ip(([e,t,n])=>{const r=e.reduce((e,r,o)=>df(e,r,Df(r,t.offsetTree,n)||o),pf());return{...t,groupIndices:e,groupOffsetTree:r}})),m),Tp(Pp(r,Fp(m),Np(([e,{lastIndex:t}])=>e<t),Ip(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),Tp(c,u);const y=Hp(Pp(c,Ip(e=>void 0===e)),!0);Tp(Pp(u,Np(e=>void 0!==e&&lf(Op(m).sizeTree)),Ip(e=>[{endIndex:0,size:e,startIndex:0}])),n);const b=$p(Pp(n,Fp(m),Rp(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:h}),Ip(e=>e.changed)));Ep(Pp(s,Rp((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),Ip(e=>e.diff)),e=>{const{groupIndices:n}=Op(m);if(e>0)Cp(t,!0),Cp(i,e+zf(e,n));else if(e<0){const t=Op(g);t.length>0&&(e-=zf(-e,t)),Cp(a,e)}}),Ep(Pp(s,Fp(e)),([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Jp.ERROR)});const v=$p(i);Tp(Pp(i,Fp(m),Ip(([e,t])=>{const n=t.groupIndices.length>0,r=[],o=t.lastSize;if(n){const n=cf(t.sizeTree,0);let i=0,a=0;for(;i<e;){const e=t.groupIndices[a],s=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;r.push({endIndex:e,size:n,startIndex:e}),r.push({endIndex:e+1+s-1,size:o,startIndex:e+1}),a++,i+=s+1}const s=mf(t.sizeTree);return i!==e&&s.shift(),s.reduce((t,{k:n,v:r})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:r,ranges:o}},{prevIndex:e,prevSize:0,ranges:r}).ranges}return mf(t.sizeTree).reduce((t,{k:n,v:r})=>({prevIndex:n+e,prevSize:r,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:o,ranges:[]}).ranges})),n);const k=$p(Pp(a,Fp(m,f),Ip(([e,{offsetTree:t},n])=>Df(-e,t,n))));return Tp(Pp(a,Fp(m,f),Ip(([e,t,n])=>{if(t.groupIndices.length>0){if(lf(t.sizeTree))return t;let r=pf();const o=Op(g);let i=0,a=0,s=0;for(;i<-e;){s=o[a];const e=o[a+1]-s-1;a++,i+=e+1}return r=mf(t.sizeTree).reduce((t,{k:n,v:r})=>df(t,Math.max(0,n+e),r),r),i!==-e&&(r=df(r,0,cf(t.sizeTree,s)),r=df(r,1,uf(t.sizeTree,1-e)[1])),{...t,sizeTree:r,...Ff(t.offsetTree,0,r,n)}}{const r=mf(t.sizeTree).reduce((t,{k:n,v:r})=>df(t,Math.max(0,n+e),r),pf());return{...t,sizeTree:r,...Ff(t.offsetTree,0,r,n)}}})),m),{beforeUnshiftWith:v,data:p,defaultItemSize:u,firstItemIndex:s,fixedItemSize:c,gap:f,groupIndices:l,itemSize:d,listRefresh:b,shiftWith:a,shiftWithOffset:k,sizeRanges:n,sizes:m,statefulTotalCount:o,totalCount:r,trackItemSizes:y,unshiftWith:i}},Sp(Qp,Tf),{singleton:!0});function Vf(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}const Gf=Vp(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:o}])=>{const i=Up(),a=Up(),s=$p(Pp(i,Ip(Vf)));return Tp(Pp(s,Ip(e=>e.totalCount)),n),Tp(Pp(s,Ip(e=>e.groupIndices)),e),Tp(Pp(qp(o,t,r),Np(([e,t])=>Af(t)),Ip(([e,t,n])=>uf(t.groupOffsetTree,Math.max(e-n,0),"v")[0]),Ap(),Ip(e=>[e])),a),{groupCounts:i,topItemsIndexes:a}},Sp($f,of)),qf=Vp(([{log:e}])=>{const t=Wp(!1),n=$p(Pp(t,Np(e=>e),Ap()));return Ep(t,t=>{t&&Op(e)("props updated",{},Jp.DEBUG)}),{didMount:n,propsReady:t}},Sp(Qp),{singleton:!0}),Kf=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Yf(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!Kf)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Jf=Vp(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:o,fixedHeaderHeight:i,footerHeight:a,headerHeight:s,scrollingInProgress:l,scrollTo:c,smoothScrollTargetReached:u,viewportHeight:d},{log:p}])=>{const f=Up(),h=Up(),m=Wp(0);let g=null,y=null,b=null;function v(){g&&(g(),g=null),b&&(b(),b=null),y&&(clearTimeout(y),y=null),Cp(l,!1)}return Tp(Pp(f,Fp(n,d,r,m,s,a,p),Fp(e,i,o),Ip(([[e,n,r,o,i,a,s,c],d,p,m])=>{const k=Yf(e),{align:x,behavior:w,offset:S}=k,E=o-1,C=Rf(k,n,E);let _=Df(C,n.offsetTree,d)+a;"end"===x?(_+=p+uf(n.sizeTree,C)[1]-r+m,C===E&&(_+=s)):"center"===x?_+=(p+uf(n.sizeTree,C)[1]-r+m)/2:_-=i,S&&(_+=S);const O=t=>{v(),t?(c("retrying to scroll to",{location:e},Jp.DEBUG),Cp(f,e)):(Cp(h,!0),c("list did not change, scroll successful",{},Jp.DEBUG))};if(v(),"smooth"===w){let e=!1;b=Ep(t,t=>{e=e||t}),g=Lp(u,()=>{O(e)})}else g=Lp(Pp(t,e=>{const t=setTimeout(()=>{e(!1)},150);return n=>{n&&(e(!0),clearTimeout(t))}}),O);return y=setTimeout(()=>{v()},1200),Cp(l,!0),c("scrolling from index to",{behavior:w,index:C,top:_},Jp.DEBUG),{behavior:w,top:_}})),c),{scrollTargetReached:h,scrollToIndex:f,topListHeight:m}},Sp($f,of,Qp),{singleton:!0});function Zf(e,t){0==e?t():requestAnimationFrame(()=>{Zf(e-1,t)})}function Qf(e,t){const n=t-1;return"number"==typeof e?e:"LAST"===e.index?n:e.index}const Xf=Vp(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:o,scrollToIndex:i},{didMount:a}])=>{const s=Wp(!0),l=Wp(0),c=Wp(!0);return Tp(Pp(a,Fp(l),Np(([e,t])=>!!t),Dp(!1)),s),Tp(Pp(a,Fp(l),Np(([e,t])=>!!t),Dp(!1)),c),Ep(Pp(qp(t,a),Fp(s,n,e,c),Np(([[,e],t,{sizeTree:n},r,o])=>e&&(!lf(n)||vp(r))&&!t&&!o),Fp(l)),([,e])=>{Lp(o,()=>{Cp(c,!0)}),Zf(4,()=>{Lp(r,()=>{Cp(s,!0)}),Cp(i,e)})}),{initialItemFinalLocationReached:c,initialTopMostItemIndex:l,scrolledToInitialItem:s}},Sp($f,of,Jf,qf),{singleton:!0});function eh(e,t){return Math.abs(e-t)<1.01}const th="up",nh="down",rh={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},oh=Vp(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:o,viewportHeight:i}])=>{const a=Wp(!1),s=Wp(!0),l=Up(),c=Up(),u=Wp(4),d=Wp(0),p=Hp(Pp(Yp(Pp(Kp(o),Bp(1),Dp(!0)),Pp(Kp(o),Bp(1),Dp(!1),Mp(100))),Ap()),!1),f=Hp(Pp(Yp(Pp(n,Dp(!0)),Pp(n,Dp(!1),Mp(200))),Ap()),!1);Tp(Pp(qp(Kp(o),Kp(d)),Ip(([e,t])=>e<=t),Ap()),s),Tp(Pp(s,zp(50)),c);const h=$p(Pp(qp(r,Kp(i),Kp(t),Kp(e),Kp(u)),Rp((e,[{scrollHeight:t,scrollTop:n},r,o,i,a])=>{const s={scrollHeight:t,scrollTop:n,viewportHeight:r};if(n+r-t>-a){let t,r;return n>e.state.scrollTop?(t="SCROLLED_DOWN",r=e.state.scrollTop-n):(t="SIZE_DECREASED",r=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:r,state:s}}let l;return l=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:l,state:s}},rh),Ap((e,t)=>e&&e.atBottom===t.atBottom))),m=Hp(Pp(r,Rp((e,{scrollHeight:t,scrollTop:n,viewportHeight:r})=>{if(eh(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{const o=t-(n+r)<1;return e.scrollTop!==n&&o?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Np(e=>e.changed),Ip(e=>e.jump)),0);Tp(Pp(h,Ip(e=>e.atBottom)),a),Tp(Pp(a,zp(50)),l);const g=Wp(nh);Tp(Pp(r,Ip(({scrollTop:e})=>e),Ap(),Rp((e,t)=>Op(f)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?th:nh,prevScrollTop:t},{direction:nh,prevScrollTop:0}),Ip(e=>e.direction)),g),Tp(Pp(r,zp(50),Dp("none")),g);const y=Wp(0);return Tp(Pp(p,Np(e=>!e),Dp(0)),y),Tp(Pp(o,zp(100),Fp(p),Np(([e,t])=>!!t),Rp(([e,t],[n])=>[t,n],[0,0]),Ip(([e,t])=>t-e)),y),{atBottomState:h,atBottomStateChange:l,atBottomThreshold:u,atTopStateChange:c,atTopThreshold:d,isAtBottom:a,isAtTop:s,isScrolling:p,lastJumpDueToItemResize:m,scrollDirection:g,scrollVelocity:y}},Sp(of)),ih="top",ah="bottom",sh="none";function lh(e,t,n){return"number"==typeof e?n===th&&t===ih||n===nh&&t===ah?e:0:n===th?t===ih?e.main:e.reverse:t===ah?e.main:e.reverse}function ch(e,t){var n;return"number"==typeof e?e:null!=(n=e[t])?n:0}const uh=Vp(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:o}])=>{const i=Up(),a=Wp(0),s=Wp(0),l=Wp(0),c=Hp(Pp(qp(Kp(r),Kp(o),Kp(n),Kp(i,Of),Kp(l),Kp(a),Kp(t),Kp(e),Kp(s)),Ip(([e,t,n,[r,o],i,a,s,l,c])=>{const u=e-l,d=a+s,p=Math.max(n-u,0);let f=sh;const h=ch(c,ih),m=ch(c,ah);return r-=l,o+=n+s,(r+=n+s)>e+d-h&&(f=th),(o-=l)<e-p+t+m&&(f=nh),f!==sh?[Math.max(u-n-lh(i,ih,f)-h,0),u-p-s+t+lh(i,ah,f)+m]:null}),Np(e=>null!=e),Ap(Of)),[0,0]);return{increaseViewportBy:s,listBoundary:i,overscan:l,topListHeight:a,visibleRange:c}},Sp(of),{singleton:!0}),dh={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function ph(e,t,n,r,o,i){const{lastIndex:a,lastOffset:s,lastSize:l}=o;let c=0,u=0;if(e.length>0){c=e[0].offset;const t=e[e.length-1];u=t.offset+t.size}const d=n-a,p=c,f=s+d*l+(d-1)*r-u;return{bottom:u,firstItemIndex:i,items:hh(e,o,i),offsetBottom:f,offsetTop:c,top:p,topItems:hh(t,o,i),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function fh(e,t,n,r,o,i){let a=0;if(n.groupIndices.length>0)for(const t of n.groupIndices){if(t-a>=e)break;a++}const s=e+a,l=Qf(t,s);return ph(Array.from({length:s}).map((e,t)=>({data:i[t+l],index:t+l,offset:0,size:0})),[],s,o,n,r)}function hh(e,t,n){if(0===e.length)return[];if(!Af(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));const r=e[0].index,o=e[e.length-1].index,i=[],a=ff(t.groupOffsetTree,r,o);let s,l=0;for(const r of e){let e;(!s||s.end<r.index)&&(s=a.shift(),l=t.groupIndices.indexOf(s.start)),e=r.index===s.start?{index:l,type:"group"}:{groupIndex:l,index:r.index-(l+1)+n},i.push({...e,data:r.data,offset:r.offset,originalIndex:r.index,size:r.size})}return i}const mh=Vp(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:o},i,{listBoundary:a,topListHeight:s,visibleRange:l},{initialTopMostItemIndex:c,scrolledToInitialItem:u},{topListHeight:d},p,{didMount:f},{recalcInProgress:h}])=>{const m=Wp([]),g=Wp(0),y=Up();Tp(i.topItemsIndexes,m);const b=Hp(Pp(qp(f,h,Kp(l,Of),Kp(o),Kp(r),Kp(c),u,Kp(m),Kp(t),Kp(n),e),Np(([e,t,,n,,,,,,,r])=>{const o=r&&r.length!==n;return e&&!t&&!o}),Ip(([,,[e,t],n,r,o,i,a,s,l,c])=>{const u=r,{offsetTree:d,sizeTree:p}=u,f=Op(g);if(0===n)return{...dh,totalCount:n};if(0===e&&0===t)return 0===f?{...dh,totalCount:n}:fh(f,o,r,s,l,c||[]);if(lf(p))return f>0?null:ph(function(e,t,n){if(Af(t)){const r=Pf(e,t);return[{index:uf(t.groupOffsetTree,r)[0],offset:0,size:0},{data:null==n?void 0:n[0],index:r,offset:0,size:0}]}return[{data:null==n?void 0:n[0],index:e,offset:0,size:0}]}(Qf(o,n),u,c),[],n,l,u,s);const h=[];if(a.length>0){const e=a[0],t=a[a.length-1];let n=0;for(const r of ff(p,e,t)){const o=r.value,i=Math.max(r.start,e),a=Math.min(r.end,t);for(let e=i;e<=a;e++)h.push({data:null==c?void 0:c[e],index:e,offset:n,size:o}),n+=o}}if(!i)return ph([],h,n,l,u,s);const m=a.length>0?a[a.length-1]+1:0,y=function(e,t,n,r=0){return r>0&&(t=Math.max(t,Lf(e,r,Nf).offset)),sf(function(e,t,n,r){const o=Mf(e,t,r),i=Mf(e,n,r,o);return e.slice(o,i+1)}(e,t,n,If),Wf)}(d,e,t,m);if(0===y.length)return null;const b=n-1,v=xp([],n=>{for(const r of y){const o=r.value;let i=o.offset,a=r.start;const s=o.size;if(o.offset<e){a+=Math.floor((e-o.offset+l)/(s+l));const t=a-r.start;i+=t*s+t*l}a<m&&(i+=(m-a)*s,a=m);const u=Math.min(r.end,b);for(let e=a;e<=u&&!(i>=t);e++)n.push({data:null==c?void 0:c[e],index:e,offset:i,size:s}),i+=s+l}});return ph(v,h,n,l,u,s)}),Np(e=>null!==e),Ap()),dh);Tp(Pp(e,Np(vp),Ip(e=>null==e?void 0:e.length)),o),Tp(Pp(b,Ip(e=>e.topListHeight)),d),Tp(d,s),Tp(Pp(b,Ip(e=>[e.top,e.bottom])),a),Tp(Pp(b,Ip(e=>e.items)),y);const v=$p(Pp(b,Np(({items:e})=>e.length>0),Fp(o,e),Np(([{items:e},t])=>e[e.length-1].originalIndex===t-1),Ip(([,e,t])=>[e-1,t]),Ap(Of),Ip(([e])=>e))),k=$p(Pp(b,zp(200),Np(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),Ip(({items:e})=>e[0].index),Ap())),x=$p(Pp(b,Np(({items:e})=>e.length>0),Ip(({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),Ap(_f)));return{endReached:v,initialItemCount:g,itemsRendered:y,listState:b,rangeChanged:x,startReached:k,topItemsIndexes:m,...p}},Sp($f,Gf,uh,Xf,Jf,oh,qf,Tf),{singleton:!0}),gh=Vp(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:o}])=>{const i=Up(),a=Hp(Pp(qp(n,e,r,t,o),Ip(([e,t,n,r,o])=>e+t+n+r+o.offsetBottom+o.bottom)),0);return Tp(Kp(a),i),{totalListHeight:a,totalListHeightChanged:i}},Sp(of,mh),{singleton:!0}),yh=Vp(([{viewportHeight:e},{totalListHeight:t}])=>{const n=Wp(!1),r=Hp(Pp(qp(n,e,t),Np(([e])=>e),Ip(([,e,t])=>Math.max(0,e-t)),zp(0),Ap()),0);return{alignToBottom:n,paddingTopAddition:r}},Sp(of,gh),{singleton:!0}),bh=Vp(()=>({context:Wp(null)})),vh=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...o},viewportBottom:i,viewportTop:a})=>t<a?{...o,align:null!=n?n:"start",behavior:r}:e>i?{...o,align:null!=n?n:"end",behavior:r}:null,kh=Vp(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:o,headerHeight:i,scrollingInProgress:a,scrollTop:s,viewportHeight:l},{scrollToIndex:c}])=>{const u=Up();return Tp(Pp(u,Fp(t,l,n,i,o,r,s),Fp(e),Ip(([[e,t,n,r,o,i,s,l],c])=>{const{align:u,behavior:d,calculateViewLocation:p=vh,done:f,...h}=e,m=Rf(e,t,r-1),g=Df(m,t.offsetTree,c)+o+i,y=p({itemBottom:g+uf(t.sizeTree,m)[1],itemTop:g,locationParams:{align:u,behavior:d,...h},viewportBottom:l+n-s,viewportTop:l+i});return y?f&&Lp(Pp(a,Np(e=>!e),Bp(Op(a)?1:2)),f):f&&f(),y}),Np(e=>null!==e)),c),{scrollIntoView:u}},Sp($f,of,Jf,mh,Qp),{singleton:!0});function xh(e){return!!e&&("smooth"===e?"smooth":"auto")}const wh=Vp(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:r},{atBottomState:o,isAtBottom:i},{scrollToIndex:a},{scrolledToInitialItem:s},{didMount:l,propsReady:c},{log:u},{scrollingInProgress:d},{context:p},{scrollIntoView:f}])=>{const h=Wp(!1),m=Up();let g=null;function y(e){Cp(a,{align:"end",behavior:e,index:"LAST"})}function b(e){const t=Lp(o,t=>{e&&!t.atBottom&&"SIZE_INCREASED"===t.notAtBottomBecause&&!g&&(Op(u)("scrolling to bottom due to increased size",{},Jp.DEBUG),y("auto"))});setTimeout(t,100)}Ep(Pp(qp(Pp(Kp(t),Bp(1)),l),Fp(Kp(h),i,s,d),Ip(([[e,t],n,r,o,i])=>{let a=t&&o,s="auto";return a&&(s=((e,t)=>"function"==typeof e?xh(e(t)):t&&xh(e))(n,r||i),a=a&&!!s),{followOutputBehavior:s,shouldFollow:a,totalCount:e}}),Np(({shouldFollow:e})=>e)),({followOutputBehavior:t,totalCount:r})=>{g&&(g(),g=null),Op(n)?requestAnimationFrame(()=>{Op(u)("following output to ",{totalCount:r},Jp.DEBUG),y(t)}):g=Lp(e,()=>{Op(u)("following output to ",{totalCount:r},Jp.DEBUG),y(t),g=null})}),Ep(Pp(qp(Kp(h),t,c),Np(([e,,t])=>e&&t),Rp(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),Np(({refreshed:e})=>e),Fp(h,t)),([,e])=>{Op(s)&&b(!1!==e)}),Ep(m,()=>{b(!1!==Op(h))}),Ep(qp(Kp(h),o),([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&y("auto")});const v=Wp(null),k=Up();return Tp(Yp(Pp(Kp(r),Ip(e=>{var t;return null!=(t=null==e?void 0:e.length)?t:0})),Pp(Kp(t))),k),Ep(Pp(qp(Pp(k,Bp(1)),l),Fp(Kp(v),s,d,p),Ip(([[e,t],n,r,o,i])=>t&&r&&(null==n?void 0:n({context:i,totalCount:e,scrollingInProgress:o}))),Np(e=>!!e),zp(0)),t=>{g&&(g(),g=null),Op(n)?requestAnimationFrame(()=>{Op(u)("scrolling into view",{}),Cp(f,t)}):g=Lp(e,()=>{Op(u)("scrolling into view",{}),Cp(f,t),g=null})}),{autoscrollToBottom:m,followOutput:h,scrollIntoViewOnChange:v}},Sp($f,oh,Jf,Xf,qf,Qp,of,bh,kh)),Sh=Vp(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:s}])=>(Tp(Pp(s,Fp(i),Np(([,e])=>0!==e),Fp(o,r,t,n,e),Ip(([[,e],t,n,r,o,i=[]])=>fh(e,t,n,r,o,i))),a),{}),Sp($f,Xf,mh,qf),{singleton:!0}),Eh=Vp(([{didMount:e},{scrollTo:t},{listState:n}])=>{const r=Wp(0);return Ep(Pp(e,Fp(r),Np(([,e])=>0!==e),Ip(([,e])=>({top:e}))),e=>{Lp(Pp(n,Bp(1),Np(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{Cp(t,e)})})}),{initialScrollTop:r}},Sp(qf,of,mh),{singleton:!0}),Ch=Vp(([{scrollVelocity:e}])=>{const t=Wp(!1),n=Up(),r=Wp(!1);return Tp(Pp(e,Fp(r,t,n),Np(([e,t])=>!!t),Ip(([e,t,n,r])=>{const{enter:o,exit:i}=t;if(n){if(i(e,r))return!1}else if(o(e,r))return!0;return n}),Ap()),t),Ep(Pp(qp(t,e,n),Fp(r)),([[e,t,n],r])=>{e&&r&&r.change&&r.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},Sp(oh),{singleton:!0}),_h=Vp(([{scrollContainerState:e,scrollTo:t}])=>{const n=Up(),r=Up(),o=Up(),i=Wp(!1),a=Wp(void 0);return Tp(Pp(qp(n,r),Ip(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:r}])=>({scrollHeight:e,scrollTop:Math.max(0,t-r),viewportHeight:n}))),e),Tp(Pp(t,Fp(r),Ip(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),o),{customScrollParent:a,useWindowScroll:i,windowScrollContainerState:n,windowScrollTo:o,windowViewportRect:r}},Sp(of)),Oh=Vp(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:a,windowScrollContainerState:s,windowViewportRect:l}])=>{const c=Up(),u=Wp(void 0),d=Wp(null),p=Wp(null);return Tp(s,d),Tp(l,p),Ep(Pp(c,Fp(t,r,a,d,p,n)),([e,t,n,r,o,i,a])=>{const s=function(e){return mf(e).map(({k:e,v:t},n,r)=>{const o=r[n+1];return{endIndex:o?o.k-1:1/0,size:t,startIndex:e}})}(t.sizeTree);r&&null!==o&&null!==i&&(n=o.scrollTop-i.offsetTop),e({ranges:s,scrollTop:n-=a})}),Tp(Pp(u,Np(vp),Ip(Th)),o),Tp(Pp(i,Fp(u),Np(([,e])=>void 0!==e),Ap(),Ip(([,e])=>e.ranges)),e),{getState:c,restoreStateFrom:u}},Sp($f,of,Xf,qf,_h));function Th(e){return{align:"start",index:0,offset:e.scrollTop}}const Lh=Vp(([{topItemsIndexes:e}])=>{const t=Wp(0);return Tp(Pp(t,Np(e=>e>=0),Ip(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},Sp(mh));function Mh(e){let t,n=!1;return()=>(n||(n=!0,t=e()),t)}const jh=Mh(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Ah=Vp(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:o,isScrolling:i,lastJumpDueToItemResize:a,scrollDirection:s},{listState:l},{beforeUnshiftWith:c,gap:u,shiftWithOffset:d,sizes:p},{log:f},{recalcInProgress:h}])=>{const m=$p(Pp(l,Fp(a),Rp(([,e,t,n],[{bottom:r,items:o,offsetBottom:i,totalCount:a},s])=>{const l=r+i;let c=0;return t===a&&e.length>0&&o.length>0&&(0===o[0].originalIndex&&0===e[0].originalIndex||(c=l-n,0!==c&&(c+=s))),[c,o,a,l]},[0,[],0,0]),Np(([e])=>0!==e),Fp(r,s,n,o,f,h),Np(([,e,t,n,,,r])=>!r&&!n&&0!==e&&t===th),Ip(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},Jp.DEBUG),e))));function g(n){n>0?(Cp(t,{behavior:"auto",top:-n}),Cp(e,0)):(Cp(e,0),Cp(t,{behavior:"auto",top:-n}))}return Ep(Pp(m,Fp(e,i)),([t,n,r])=>{r&&jh()?Cp(e,n-t):g(-t)}),Ep(Pp(qp(Hp(i,!1),e,h),Np(([e,t,n])=>!e&&!n&&0!==t),Ip(([e,t])=>t),zp(1)),g),Tp(Pp(d,Ip(e=>({top:-e}))),t),Ep(Pp(c,Fp(p,u),Ip(([e,{groupIndices:t,lastSize:n,sizeTree:r},o])=>{function i(e){return e*(n+o)}if(0===t.length)return i(e);{let n=0;const o=cf(r,0);let a=0,s=0;for(;a<e;){a++,n+=o;let r=t.length===s+1?1/0:t[s+1]-t[s]-1;a+r>e&&(n-=o,r=e-a+1),a+=r,n+=i(r),s++}return n}})),n=>{Cp(e,n),requestAnimationFrame(()=>{Cp(t,{top:n}),requestAnimationFrame(()=>{Cp(e,0),Cp(h,!1)})})}),{deviation:e}},Sp(of,oh,mh,$f,Qp,Tf)),Nh=Vp(([e,t,n,r,o,i,a,s,l,c,u])=>({...e,...t,...n,...r,...o,...i,...a,...s,...l,...c,...u}),Sp(uh,Sh,qf,Ch,gh,Eh,yh,_h,kh,Qp,bh)),Ih=Vp(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,gap:o,groupIndices:i,itemSize:a,sizeRanges:s,sizes:l,statefulTotalCount:c,totalCount:u,trackItemSizes:d},{initialItemFinalLocationReached:p,initialTopMostItemIndex:f,scrolledToInitialItem:h},m,g,y,{listState:b,topItemsIndexes:v,...k},{scrollToIndex:x},w,{topItemCount:S},{groupCounts:E},C])=>(Tp(k.rangeChanged,C.scrollSeekRangeChanged),Tp(Pp(C.windowViewportRect,Ip(e=>e.visibleHeight)),m.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,gap:o,groupCounts:E,initialItemFinalLocationReached:p,initialTopMostItemIndex:f,scrolledToInitialItem:h,sizeRanges:s,topItemCount:S,topItemsIndexes:v,totalCount:u,...y,groupIndices:i,itemSize:a,listState:b,scrollToIndex:x,statefulTotalCount:c,trackItemSizes:d,...k,...C,...m,sizes:l,...g}),Sp($f,Xf,of,Oh,wh,mh,Jf,Ah,Lh,Gf,Nh));function Dh(e,t){const n={},r={};let o=0;const i=e.length;for(;o<i;)r[e[o]]=1,o+=1;for(const e in t)Object.hasOwn(r,e)||(n[e]=t[e]);return n}const Ph=typeof document<"u"?n.useLayoutEffect:n.useEffect;function Rh(e,t,r){const o=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),l=n.createContext({});function c(e,n){e.propsReady&&Cp(e.propsReady,!1);for(const r of o)Cp(e[t.required[r]],n[r]);for(const r of i)r in n&&Cp(e[t.optional[r]],n[r]);e.propsReady&&Cp(e.propsReady,!0)}function u(e){return s.reduce((n,r)=>(n[r]=function(e){let t,n;const r=()=>null==t?void 0:t();return function(o,i){switch(o){case 1:return i?n===i?void 0:(r(),n=i,t=Ep(e,i),t):(r(),kp);case 2:return r(),void(n=null)}}}(e[t.events[r]]),n),{})}const d=n.forwardRef((d,p)=>{const{children:f,...h}=d,[m]=n.useState(()=>xp(function(e){const t=new Map,n=({constructor:e,dependencies:r,id:o,singleton:i})=>{if(i&&t.has(o))return t.get(o);const a=e(r.map(e=>n(e)));return i&&t.set(o,a),a};return n(e)}(e),e=>{c(e,h)})),[g]=n.useState(bp(u,m));Ph(()=>{for(const e of s)e in h&&Ep(g[e],h[e]);return()=>{Object.values(g).map(_p)}},[h,g,m]),Ph(()=>{c(m,h)}),n.useImperativeHandle(p,mp(function(e){return a.reduce((n,r)=>(n[r]=n=>{Cp(e[t.methods[r]],n)},n),{})}(m)));const y=r;return(0,Je.jsx)(l.Provider,{value:m,children:r?(0,Je.jsx)(y,{...Dh([...o,...i,...s],h),children:f}):f})}),p=n.version.startsWith("18")?e=>{const t=n.useContext(l)[e],r=n.useCallback(e=>Ep(t,e),[t]);return n.useSyncExternalStore(r,()=>Op(t),()=>Op(t))}:e=>{const t=n.useContext(l)[e],[r,o]=n.useState(bp(Op,t));return Ph(()=>Ep(t,e=>{e!==r&&o(mp(e))}),[t,r]),r};return{Component:d,useEmitter:(e,t)=>{const r=n.useContext(l)[e];Ph(()=>Ep(r,t),[t,r])},useEmitterValue:p,usePublisher:e=>{const t=n.useContext(l);return n.useCallback(n=>{Cp(t[e],n)},[t,e])}}}const Bh=n.createContext(void 0),zh=n.createContext(void 0),Fh=typeof document<"u"?n.useLayoutEffect:n.useEffect;function Wh(e){return"self"in e}function Hh(e,t,r,o=kp,i,a){const s=n.useRef(null),l=n.useRef(null),c=n.useRef(null),u=n.useCallback(n=>{let r,o,i;const s=n.target;if(function(e){return"body"in e}(s)||Wh(s)){const e=Wh(s)?s:s.defaultView;i=a?e.scrollX:e.scrollY,r=a?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,o=a?e.innerWidth:e.innerHeight}else i=a?s.scrollLeft:s.scrollTop,r=a?s.scrollWidth:s.scrollHeight,o=a?s.offsetWidth:s.offsetHeight;const u=()=>{e({scrollHeight:r,scrollTop:Math.max(i,0),viewportHeight:o})};n.suppressFlushSync?u():ue.flushSync(u),null!==l.current&&(i===l.current||i<=0||i===r-o)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,a]);return n.useEffect(()=>{const e=i||s.current;return o(i||s.current),u({suppressFlushSync:!0,target:e}),e.addEventListener("scroll",u,{passive:!0}),()=>{o(null),e.removeEventListener("scroll",u)}},[s,u,r,o,i]),{scrollByCallback:function(e){a&&(e={behavior:e.behavior,left:e.top}),s.current.scrollBy(e)},scrollerRef:s,scrollToCallback:function(n){const r=s.current;if(!r||(a?"offsetWidth"in r&&0===r.offsetWidth:"offsetHeight"in r&&0===r.offsetHeight))return;const o="smooth"===n.behavior;let i,u,d;Wh(r)?(u=Math.max(jf(r.document.documentElement,a?"width":"height"),a?r.document.documentElement.scrollWidth:r.document.documentElement.scrollHeight),i=a?r.innerWidth:r.innerHeight,d=a?window.scrollX:window.scrollY):(u=r[a?"scrollWidth":"scrollHeight"],i=jf(r,a?"width":"height"),d=r[a?"scrollLeft":"scrollTop"]);const p=u-i;if(n.top=Math.ceil(Math.max(Math.min(p,n.top),0)),eh(i,u)||n.top===d)return e({scrollHeight:u,scrollTop:d,viewportHeight:i}),void(o&&t(!0));o?(l.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,a&&(n={behavior:n.behavior,left:n.top}),r.scrollTo(n)}}}const Uh="-webkit-sticky",$h="sticky",Vh=Mh(()=>{if(typeof document>"u")return $h;const e=document.createElement("div");return e.style.position=Uh,e.style.position===Uh?Uh:$h});function Gh(e){return e}const qh=Vp(()=>{const e=Wp(e=>`Item ${e}`),t=Wp(e=>`Group ${e}`),n=Wp({}),r=Wp(Gh),o=Wp("div"),i=Wp(kp),a=(e,t=null)=>Hp(Pp(n,Ip(t=>t[e]),Ap()),t);return{components:n,computeItemKey:r,EmptyPlaceholder:a("EmptyPlaceholder"),FooterComponent:a("Footer"),GroupComponent:a("Group","div"),groupContent:t,HeaderComponent:a("Header"),HeaderFooterTag:o,ItemComponent:a("Item","div"),itemContent:e,ListComponent:a("List","div"),ScrollerComponent:a("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TopItemListComponent:a("TopItemList")}}),Kh=Vp(([e,t])=>({...e,...t}),Sp(Ih,qh)),Yh=({height:e})=>(0,Je.jsx)("div",{style:{height:e}}),Jh={overflowAnchor:"none",position:Vh(),zIndex:1},Zh={overflowAnchor:"none"},Qh={...Zh,display:"inline-block",height:"100%"},Xh=n.memo(function({showTopList:e=!1}){const t=gm("listState"),r=ym("sizeRanges"),o=gm("useWindowScroll"),i=gm("customScrollParent"),a=ym("windowScrollContainerState"),s=ym("scrollContainerState"),l=i||o?a:s,c=gm("itemContent"),u=gm("context"),d=gm("groupContent"),p=gm("trackItemSizes"),f=gm("itemSize"),h=gm("log"),m=ym("gap"),g=gm("horizontalDirection"),{callbackRef:y}=tf(r,f,p,e?kp:l,h,m,i,g,gm("skipAnimationFrameInResizeObserver")),[b,v]=n.useState(0);mm("deviation",e=>{b!==e&&v(e)});const k=gm("EmptyPlaceholder"),x=gm("ScrollSeekPlaceholder")||Yh,w=gm("ListComponent"),S=gm("ItemComponent"),E=gm("GroupComponent"),C=gm("computeItemKey"),_=gm("isSeeking"),O=gm("groupIndices").length>0,T=gm("alignToBottom"),L=gm("initialItemFinalLocationReached"),M=e?{}:{boxSizing:"border-box",...g?{display:"inline-block",height:"100%",marginLeft:0!==b?b:T?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==b?b:T?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...L?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&k?(0,Je.jsx)(k,{...om(k,u)}):(0,Je.jsx)(w,{...om(w,u),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:y,style:M,children:(e?t.topItems:t.items).map(e=>{const r=e.originalIndex,o=C(r+t.firstItemIndex,e.data,u);return _?(0,n.createElement)(x,{...om(x,u),height:e.size,index:e.index,key:o,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?(0,n.createElement)(E,{...om(E,u),"data-index":r,"data-item-index":e.index,"data-known-size":e.size,key:o,style:Jh},d(e.index,u)):(0,n.createElement)(S,{...om(S,u),...im(S,e.data),"data-index":r,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:o,style:g?Qh:Zh},O?c(e.index,e.groupIndex,e.data,u):c(e.index,e.data,u))})})}),em={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},tm={outline:"none",overflowX:"auto",position:"relative"},nm=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),rm={position:Vh(),top:0,width:"100%",zIndex:1};function om(e,t){if("string"!=typeof e)return{context:t}}function im(e,t){return{item:"string"==typeof e?void 0:t}}const am=n.memo(function(){const e=gm("HeaderComponent"),t=ym("headerHeight"),r=gm("HeaderFooterTag"),o=Xp(n.useMemo(()=>e=>{t(jf(e,"height"))},[t]),!0,gm("skipAnimationFrameInResizeObserver")),i=gm("context");return e?(0,Je.jsx)(r,{ref:o,children:(0,Je.jsx)(e,{...om(e,i)})}):null}),sm=n.memo(function(){const e=gm("FooterComponent"),t=ym("footerHeight"),r=gm("HeaderFooterTag"),o=Xp(n.useMemo(()=>e=>{t(jf(e,"height"))},[t]),!0,gm("skipAnimationFrameInResizeObserver")),i=gm("context");return e?(0,Je.jsx)(r,{ref:o,children:(0,Je.jsx)(e,{...om(e,i)})}):null});function lm({useEmitter:e,useEmitterValue:t,usePublisher:r}){return n.memo(function({children:n,style:o,context:i,...a}){const s=r("scrollContainerState"),l=t("ScrollerComponent"),c=r("smoothScrollTargetReached"),u=t("scrollerRef"),d=t("horizontalDirection")||!1,{scrollByCallback:p,scrollerRef:f,scrollToCallback:h}=Hh(s,c,l,u,void 0,d);return e("scrollTo",h),e("scrollBy",p),(0,Je.jsx)(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:f,style:{...d?tm:em,...o},tabIndex:0,...a,...om(l,i),children:n})})}function cm({useEmitter:e,useEmitterValue:t,usePublisher:r}){return n.memo(function({children:o,style:i,context:a,...s}){const l=r("windowScrollContainerState"),c=t("ScrollerComponent"),u=r("smoothScrollTargetReached"),d=t("totalListHeight"),p=t("deviation"),f=t("customScrollParent"),h=n.useRef(null),m=t("scrollerRef"),{scrollByCallback:g,scrollerRef:y,scrollToCallback:b}=Hh(l,u,c,m,f);return Fh(()=>{var e;return y.current=f||(null==(e=h.current)?void 0:e.ownerDocument.defaultView),()=>{y.current=null}},[y,f]),e("windowScrollTo",b),e("scrollBy",g),(0,Je.jsx)(c,{ref:h,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...0!==d?{height:d+p}:{}},...s,...om(c,a),children:o})})}const um=({children:e})=>{const t=n.useContext(Bh),r=ym("viewportHeight"),o=ym("fixedItemHeight"),i=gm("alignToBottom"),a=gm("horizontalDirection"),s=n.useMemo(()=>yp(r,e=>jf(e,a?"width":"height")),[r,a]),l=Xp(s,!0,gm("skipAnimationFrameInResizeObserver"));return n.useEffect(()=>{t&&(r(t.viewportHeight),o(t.itemHeight))},[t,r,o]),(0,Je.jsx)("div",{"data-viewport-type":"element",ref:l,style:nm(i),children:e})},dm=({children:e})=>{const t=n.useContext(Bh),r=ym("windowViewportRect"),o=ym("fixedItemHeight"),i=gm("customScrollParent"),a=rf(r,i,gm("skipAnimationFrameInResizeObserver")),s=gm("alignToBottom");return n.useEffect(()=>{t&&(o(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,o]),(0,Je.jsx)("div",{"data-viewport-type":"window",ref:a,style:nm(s),children:e})},pm=({children:e})=>{const t=gm("TopItemListComponent")||"div",n=gm("headerHeight"),r={...rm,marginTop:`${n}px`},o=gm("context");return(0,Je.jsx)(t,{style:r,...om(t,o),children:e})},fm=n.memo(function(e){const t=gm("useWindowScroll"),n=gm("topItemsIndexes").length>0,r=gm("customScrollParent"),o=gm("context");return(0,Je.jsxs)(r||t?vm:bm,{...e,context:o,children:[n&&(0,Je.jsx)(pm,{children:(0,Je.jsx)(Xh,{showTopList:!0})}),(0,Je.jsxs)(r||t?dm:um,{children:[(0,Je.jsx)(am,{}),(0,Je.jsx)(Xh,{}),(0,Je.jsx)(sm,{})]})]})}),{Component:hm,useEmitter:mm,useEmitterValue:gm,usePublisher:ym}=Rh(Kh,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},fm),bm=lm({useEmitter:mm,useEmitterValue:gm,usePublisher:ym}),vm=cm({useEmitter:mm,useEmitterValue:gm,usePublisher:ym}),km=hm,xm=Vp(()=>{const e=Wp(e=>(0,Je.jsxs)("td",{children:["Item $",e]})),t=Wp(null),n=Wp(e=>(0,Je.jsxs)("td",{colSpan:1e3,children:["Group ",e]})),r=Wp(null),o=Wp(null),i=Wp({}),a=Wp(Gh),s=Wp(kp),l=(e,t=null)=>Hp(Pp(i,Ip(t=>t[e]),Ap()),t);return{components:i,computeItemKey:a,context:t,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:o,fixedHeaderContent:r,itemContent:e,groupContent:n,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}}),wm=Vp(([e,t])=>({...e,...t}),Sp(Ih,xm)),Sm=({height:e})=>(0,Je.jsx)("tr",{children:(0,Je.jsx)("td",{style:{height:e}})}),Em=({height:e})=>(0,Je.jsx)("tr",{children:(0,Je.jsx)("td",{style:{border:0,height:e,padding:0}})}),Cm={overflowAnchor:"none"},_m={position:Vh(),zIndex:2,overflowAnchor:"none"},Om=n.memo(function({showTopList:e=!1}){const t=Im("listState"),r=Im("computeItemKey"),o=Im("firstItemIndex"),i=Im("context"),a=Im("isSeeking"),s=Im("fixedHeaderHeight"),l=Im("groupIndices").length>0,c=Im("itemContent"),u=Im("groupContent"),d=Im("ScrollSeekPlaceholder")||Sm,p=Im("GroupComponent"),f=Im("TableRowComponent"),h=(e?t.topItems:[]).reduce((e,t,n)=>(0===n?e.push(t.size):e.push(e[n-1]+t.size),e),[]),m=(e?t.topItems:t.items).map(t=>{const m=t.originalIndex,g=r(m+o,t.data,i),y=e?0===m?0:h[m-1]:0;return a?(0,n.createElement)(d,{...om(d,i),height:t.size,index:t.index,key:g,type:t.type||"item"}):"group"===t.type?(0,n.createElement)(p,{...om(p,i),"data-index":m,"data-item-index":t.index,"data-known-size":t.size,key:g,style:{..._m,top:s}},u(t.index,i)):(0,n.createElement)(f,{...om(f,i),...im(f,t.data),"data-index":m,"data-item-index":t.index,"data-known-size":t.size,"data-item-group-index":t.groupIndex,key:g,style:e?{..._m,top:s+y}:Cm},l?c(t.index,t.groupIndex,t.data,i):c(t.index,t.data,i))});return(0,Je.jsx)(Je.Fragment,{children:m})}),Tm=n.memo(function(){const e=Im("listState"),t=Im("topItemsIndexes").length>0,r=Dm("sizeRanges"),o=Im("useWindowScroll"),i=Im("customScrollParent"),a=Dm("windowScrollContainerState"),s=Dm("scrollContainerState"),l=i||o?a:s,c=Im("trackItemSizes"),u=Im("itemSize"),d=Im("log"),{callbackRef:p,ref:f}=tf(r,u,c,l,d,void 0,i,!1,Im("skipAnimationFrameInResizeObserver")),[h,m]=n.useState(0);Nm("deviation",e=>{h!==e&&(f.current.style.marginTop=`${e}px`,m(e))});const g=Im("EmptyPlaceholder"),y=Im("FillerRow")||Em,b=Im("TableBodyComponent"),v=Im("paddingTopAddition"),k=Im("statefulTotalCount"),x=Im("context");if(0===k&&g)return(0,Je.jsx)(g,{...om(g,x)});const w=(t?e.topItems:[]).reduce((e,t)=>e+t.size,0),S=e.offsetTop+v+h-w,E=e.offsetBottom,C=S>0?(0,Je.jsx)(y,{context:x,height:S},"padding-top"):null,_=E>0?(0,Je.jsx)(y,{context:x,height:E},"padding-bottom"):null;return(0,Je.jsxs)(b,{"data-testid":"virtuoso-item-list",ref:p,...om(b,x),children:[C,t&&(0,Je.jsx)(Om,{showTopList:!0}),(0,Je.jsx)(Om,{}),_]})}),Lm=({children:e})=>{const t=n.useContext(Bh),r=Dm("viewportHeight"),o=Dm("fixedItemHeight"),i=Xp(n.useMemo(()=>yp(r,e=>jf(e,"height")),[r]),!0,Im("skipAnimationFrameInResizeObserver"));return n.useEffect(()=>{t&&(r(t.viewportHeight),o(t.itemHeight))},[t,r,o]),(0,Je.jsx)("div",{"data-viewport-type":"element",ref:i,style:nm(!1),children:e})},Mm=({children:e})=>{const t=n.useContext(Bh),r=Dm("windowViewportRect"),o=Dm("fixedItemHeight"),i=Im("customScrollParent"),a=rf(r,i,Im("skipAnimationFrameInResizeObserver"));return n.useEffect(()=>{t&&(o(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,o]),(0,Je.jsx)("div",{"data-viewport-type":"window",ref:a,style:nm(!1),children:e})},jm=n.memo(function(e){const t=Im("useWindowScroll"),r=Im("customScrollParent"),o=Dm("fixedHeaderHeight"),i=Dm("fixedFooterHeight"),a=Im("fixedHeaderContent"),s=Im("fixedFooterContent"),l=Im("context"),c=Xp(n.useMemo(()=>yp(o,e=>jf(e,"height")),[o]),!0,Im("skipAnimationFrameInResizeObserver")),u=Xp(n.useMemo(()=>yp(i,e=>jf(e,"height")),[i]),!0,Im("skipAnimationFrameInResizeObserver")),d=r||t?Rm:Pm,p=r||t?Mm:Lm,f=Im("TableComponent"),h=Im("TableHeadComponent"),m=Im("TableFooterComponent"),g=a?(0,Je.jsx)(h,{ref:c,style:{position:"sticky",top:0,zIndex:2},...om(h,l),children:a()},"TableHead"):null,y=s?(0,Je.jsx)(m,{ref:u,style:{bottom:0,position:"sticky",zIndex:1},...om(m,l),children:s()},"TableFoot"):null;return(0,Je.jsx)(d,{...e,...om(d,l),children:(0,Je.jsx)(p,{children:(0,Je.jsxs)(f,{style:{borderSpacing:0,overflowAnchor:"none"},...om(f,l),children:[g,(0,Je.jsx)(Tm,{},"TableBody"),y]})})})}),{Component:Am,useEmitter:Nm,useEmitterValue:Im,usePublisher:Dm}=Rh(wm,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},jm),Pm=lm({useEmitter:Nm,useEmitterValue:Im,usePublisher:Dm}),Rm=cm({useEmitter:Nm,useEmitterValue:Im,usePublisher:Dm}),Bm={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},zm={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:Fm,floor:Wm,max:Hm,min:Um,round:$m}=Math;function Vm(e,t,n){return Array.from({length:t-e+1}).map((t,r)=>({data:null===n?null:n[r+e],index:r+e}))}function Gm(e,t){return e&&e.width===t.width&&e.height===t.height}function qm(e,t){return e&&e.column===t.column&&e.row===t.row}const Km=Vp(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:o,headerHeight:i,scrollBy:a,scrollContainerState:s,scrollTo:l,scrollTop:c,smoothScrollTargetReached:u,viewportHeight:d},p,f,{didMount:h,propsReady:m},{customScrollParent:g,useWindowScroll:y,windowScrollContainerState:b,windowScrollTo:v,windowViewportRect:k},x])=>{const w=Wp(0),S=Wp(0),E=Wp(Bm),C=Wp({height:0,width:0}),_=Wp({height:0,width:0}),O=Up(),T=Up(),L=Wp(0),M=Wp(null),j=Wp({column:0,row:0}),A=Up(),N=Up(),I=Wp(!1),D=Wp(0),P=Wp(!0),R=Wp(!1),B=Wp(!1);Ep(Pp(h,Fp(D),Np(([e,t])=>!!t)),()=>{Cp(P,!1)}),Ep(Pp(qp(h,P,_,C,D,R),Np(([e,t,n,r,,o])=>e&&!t&&0!==n.height&&0!==r.height&&!o)),([,,,,e])=>{Cp(R,!0),Zf(1,()=>{Cp(O,e)}),Lp(Pp(c),()=>{Cp(t,[0,0]),Cp(P,!0)})}),Tp(Pp(N,Np(e=>null!=e&&e.scrollTop>0),Dp(0)),S),Ep(Pp(h,Fp(N),Np(([,e])=>null!=e)),([,e])=>{e&&(Cp(C,e.viewport),Cp(_,e.item),Cp(j,e.gap),e.scrollTop>0&&(Cp(I,!0),Lp(Pp(c,Bp(1)),e=>{Cp(I,!1)}),Cp(l,{top:e.scrollTop})))}),Tp(Pp(C,Ip(({height:e})=>e)),d),Tp(Pp(qp(Kp(C,Gm),Kp(_,Gm),Kp(j,(e,t)=>e&&e.column===t.column&&e.row===t.row),Kp(c)),Ip(([e,t,n,r])=>({gap:n,item:t,scrollTop:r,viewport:e}))),A),Tp(Pp(qp(Kp(w),r,Kp(j,qm),Kp(_,Gm),Kp(C,Gm),Kp(M),Kp(S),Kp(I),Kp(P),Kp(D)),Np(([,,,,,,,e])=>!e),Ip(([e,[t,n],r,o,i,a,s,,l,c])=>{const{column:u,row:d}=r,{height:p,width:f}=o,{width:h}=i;if(0===s&&(0===e||0===h))return Bm;if(0===f){const t=Qf(c,e);return function(e){return{...zm,items:e}}(Vm(t,t+Math.max(s-1,0),a))}const m=Ym(h,f,u);let g,y;l?0===t&&0===n&&s>0?(g=0,y=s-1):(g=m*Wm((t+d)/(p+d)),y=m*Fm((n+d)/(p+d))-1,y=Um(e-1,Hm(y,m-1)),g=Um(y,Hm(0,g))):(g=0,y=-1);const b=Vm(g,y,a),{bottom:v,top:k}=Jm(i,r,o,b),x=Fm(e/m);return{bottom:v,itemHeight:p,items:b,itemWidth:f,offsetBottom:x*p+(x-1)*d-v,offsetTop:k,top:k}})),E),Tp(Pp(M,Np(e=>null!==e),Ip(e=>e.length)),w),Tp(Pp(qp(C,_,E,j),Np(([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height),Ip(([e,t,{items:n},r])=>{const{bottom:o,top:i}=Jm(e,r,t,n);return[i,o]}),Ap(Of)),t);const z=Wp(!1);Tp(Pp(c,Fp(z),Ip(([e,t])=>t||0!==e)),z);const F=$p(Pp(qp(E,w),Np(([{items:e}])=>e.length>0),Fp(z),Np(([[e,t],n])=>{const r=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&0===e.offsetBottom&&e.items.length===t)&&r}),Ip(([[,e]])=>e-1),Ap())),W=$p(Pp(Kp(E),Np(({items:e})=>e.length>0&&0===e[0].index),Dp(0),Ap())),H=$p(Pp(Kp(E),Fp(I),Np(([{items:e},t])=>e.length>0&&!t),Ip(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),Ap(_f),zp(0)));Tp(H,f.scrollSeekRangeChanged),Tp(Pp(O,Fp(C,_,w,j),Ip(([e,t,n,r,o])=>{const i=Yf(e),{align:a,behavior:s,offset:l}=i;let c=i.index;"LAST"===c&&(c=r-1),c=Hm(0,c,Um(r-1,c));let u=Zm(t,o,n,c);return"end"===a?u=$m(u-t.height+n.height):"center"===a&&(u=$m(u-t.height/2+n.height/2)),l&&(u+=l),{behavior:s,top:u}})),l);const U=Hp(Pp(E,Ip(e=>e.offsetBottom+e.bottom)),0);return Tp(Pp(k,Ip(e=>({height:e.visibleHeight,width:e.visibleWidth}))),C),{customScrollParent:g,data:M,deviation:L,footerHeight:o,gap:j,headerHeight:i,increaseViewportBy:e,initialItemCount:S,itemDimensions:_,overscan:n,restoreStateFrom:N,scrollBy:a,scrollContainerState:s,scrollHeight:T,scrollTo:l,scrollToIndex:O,scrollTop:c,smoothScrollTargetReached:u,totalCount:w,useWindowScroll:y,viewportDimensions:C,windowScrollContainerState:b,windowScrollTo:v,windowViewportRect:k,...f,gridState:E,horizontalDirection:B,initialTopMostItemIndex:D,totalListHeight:U,...p,endReached:F,propsReady:m,rangeChanged:H,startReached:W,stateChanged:A,stateRestoreInProgress:I,...x}},Sp(uh,of,oh,Ch,qf,_h,Qp));function Ym(e,t,n){return Hm(1,Wm((e+n)/(Wm(t)+n)))}function Jm(e,t,n,r){const{height:o}=n;if(void 0===o||0===r.length)return{bottom:0,top:0};const i=Zm(e,t,n,r[0].index);return{bottom:Zm(e,t,n,r[r.length-1].index)+o,top:i}}function Zm(e,t,n,r){const o=Ym(e.width,n.width,t.column),i=Wm(r/o),a=i*n.height+Hm(0,i-1)*t.row;return a>0?a+t.row:a}const Qm=Vp(()=>{const e=Wp(e=>`Item ${e}`),t=Wp({}),n=Wp(null),r=Wp("virtuoso-grid-item"),o=Wp("virtuoso-grid-list"),i=Wp(Gh),a=Wp("div"),s=Wp(kp),l=(e,n=null)=>Hp(Pp(t,Ip(t=>t[e]),Ap()),n),c=Wp(!1),u=Wp(!1);return Tp(Kp(u),c),{components:t,computeItemKey:i,context:n,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:a,itemClassName:r,ItemComponent:l("Item","div"),itemContent:e,listClassName:o,ListComponent:l("List","div"),readyStateChanged:c,reportReadyState:u,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),Xm=Vp(([e,t])=>({...e,...t}),Sp(Km,Qm)),eg=n.memo(function(){const e=lg("gridState"),t=lg("listClassName"),r=lg("itemClassName"),o=lg("itemContent"),i=lg("computeItemKey"),a=lg("isSeeking"),s=cg("scrollHeight"),l=lg("ItemComponent"),c=lg("ListComponent"),u=lg("ScrollSeekPlaceholder"),d=lg("context"),p=cg("itemDimensions"),f=cg("gap"),h=lg("log"),m=lg("stateRestoreInProgress"),g=cg("reportReadyState"),y=Xp(n.useMemo(()=>e=>{const t=e.parentElement.parentElement.scrollHeight;s(t);const n=e.firstChild;if(n){const{height:e,width:t}=n.getBoundingClientRect();p({height:e,width:t})}f({column:pg("column-gap",getComputedStyle(e).columnGap,h),row:pg("row-gap",getComputedStyle(e).rowGap,h)})},[s,p,f,h]),!0,!1);return Fh(()=>{e.itemHeight>0&&e.itemWidth>0&&g(!0)},[e]),m?null:(0,Je.jsx)(c,{className:t,ref:y,...om(c,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{const s=i(t.index,t.data,d);return a?(0,Je.jsx)(u,{...om(u,d),height:e.itemHeight,index:t.index,width:e.itemWidth},s):(0,n.createElement)(l,{...om(l,d),className:r,"data-index":t.index,key:s},o(t.index,t.data,d))})})}),tg=n.memo(function(){const e=lg("HeaderComponent"),t=cg("headerHeight"),r=lg("headerFooterTag"),o=Xp(n.useMemo(()=>e=>{t(jf(e,"height"))},[t]),!0,!1),i=lg("context");return e?(0,Je.jsx)(r,{ref:o,children:(0,Je.jsx)(e,{...om(e,i)})}):null}),ng=n.memo(function(){const e=lg("FooterComponent"),t=cg("footerHeight"),r=lg("headerFooterTag"),o=Xp(n.useMemo(()=>e=>{t(jf(e,"height"))},[t]),!0,!1),i=lg("context");return e?(0,Je.jsx)(r,{ref:o,children:(0,Je.jsx)(e,{...om(e,i)})}):null}),rg=({children:e})=>{const t=n.useContext(zh),r=cg("itemDimensions"),o=cg("viewportDimensions"),i=Xp(n.useMemo(()=>e=>{o(e.getBoundingClientRect())},[o]),!0,!1);return n.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))},[t,o,r]),(0,Je.jsx)("div",{ref:i,style:nm(!1),children:e})},og=({children:e})=>{const t=n.useContext(zh),r=cg("windowViewportRect"),o=cg("itemDimensions"),i=lg("customScrollParent"),a=rf(r,i,!1);return n.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,r,o]),(0,Je.jsx)("div",{ref:a,style:nm(!1),children:e})},ig=n.memo(function({...e}){const t=lg("useWindowScroll"),n=lg("customScrollParent"),r=n||t?dg:ug,o=n||t?og:rg,i=lg("context");return(0,Je.jsx)(r,{...e,...om(r,i),children:(0,Je.jsxs)(o,{children:[(0,Je.jsx)(tg,{}),(0,Je.jsx)(eg,{}),(0,Je.jsx)(ng,{})]})})}),{Component:ag,useEmitter:sg,useEmitterValue:lg,usePublisher:cg}=Rh(Xm,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},ig),ug=lm({useEmitter:sg,useEmitterValue:lg,usePublisher:cg}),dg=cm({useEmitter:sg,useEmitterValue:lg,usePublisher:cg});function pg(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Jp.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function fg(e){return fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(e)}function hg(e){return function(e){if(Array.isArray(e))return Eg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mg(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return gg(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(gg(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,gg(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,gg(d,"constructor",c),gg(c,"constructor",l),l.displayName="GeneratorFunction",gg(c,o,"GeneratorFunction"),gg(d),gg(d,o,"Generator"),gg(d,r,function(){return this}),gg(d,"toString",function(){return"[object Generator]"}),(mg=function(){return{w:i,m:p}})()}function gg(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}gg=function(e,t,n,r){function i(t,n){gg(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},gg(e,t,n,r)}function yg(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function bg(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){yg(i,r,o,a,s,"next",e)}function s(e){yg(i,r,o,a,s,"throw",e)}a(void 0)})}}function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(n),!0).forEach(function(t){xg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xg(e,t,n){return(t=function(e){var t=function(e){if("object"!=fg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Sg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sg(e,t){if(e){if("string"==typeof e)return Eg(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eg(e,t):void 0}}function Eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Cg=function(){var e=wg((0,n.useState)(!1),2),t=e[0],r=e[1],o=wg((0,n.useState)(null),2),i=o[0],a=o[1],s=wg((0,n.useState)(!1),2),l=s[0],c=s[1],u=wg((0,n.useState)(!1),2),d=u[0],p=u[1],f=wg((0,n.useState)(null),2),h=f[0],m=f[1],g=(0,n.useRef)(null),y=(0,n.useRef)(null),b=(0,n.useRef)(null),v=wg((0,n.useState)({top:600,bottom:800}),2),k=v[0],x=v[1];(0,n.useEffect)(function(){var e,t=function(){var e,t="undefined"!=typeof window&&window.innerHeight||800,n=(null===(e=b.current)||void 0===e?void 0:e.getBoundingClientRect().height)||260,r=Math.max(Math.round(.9*t),Math.round(6*n));x({top:r,bottom:r})};return t(),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(function(){return t()}),b.current&&e.observe(b.current)),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),e&&e.disconnect()}},[]),(0,n.useEffect)(function(){if(h){var e=function(e){var t=e.target;g.current&&g.current.contains(t)||y.current&&y.current.contains(t)||m(null)},t=function(e){"Escape"===e.key&&m(null)};return document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("keydown",t,!0),function(){document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("keydown",t,!0)}}},[h]);var w=xu(function(e){return e.data.groups.data}),S=xu(function(e){return e.data.events.data}),E=xu(function(e){return e.ui.activeGroupIds}),C=xu(function(e){return e.ui.showHidden}),_=xu(function(e){return e.data.timeSystem.data}),O=xu(function(e){return e.isDM()}),T=xu(function(e){return e.createEvent}),L=xu(function(e){return e.updateEvent}),M=xu(function(e){return e.deleteEvent}),j=xu(function(e){return e.saveTimeSystem}),A=xu(function(e){return e.setGroupsFilter}),N=xu(function(e){return e.setShowHidden}),I=function(e){var t,n=W(e.startDate);if(!n){var r=e.startYear;"number"==typeof r?n=r:"string"==typeof r&&/^\d+$/.test(r)&&(n=Number(r))}var o=0;if("number"==typeof e.startMonthIndex)o=e.startMonthIndex+1;else if(e.startDate&&null!=_&&null!==(t=_.months)&&void 0!==t&&t.length){var i=_.months.findIndex(function(t){return new RegExp("\\b".concat(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t.name),"\\b"),"i").test(e.startDate)});i>=0&&(o=i+1)}var a=0;if("number"==typeof e.startDay)a=e.startDay;else if(e.startDate){var s=e.startDate.match(/^(\d+)(?:st|nd|rd|th)?\b/i);s&&(a=Number(s[1]))}return 1e4*(n||0)+100*o+a},D=S.filter(function(e){return!!E.length&&E.includes(e.groupId)}).filter(function(e){return!!C||!e.hidden}).sort(function(e,t){var n,r,o=I(t),i=I(e);return o!==i?o-i:(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}),P=D.filter(function(e){return!E.length||E.includes(e.groupId)}),R=function(e,t){var n,r,o,i=null==t?void 0:t["".concat(e,"Date")];if(i&&"string"==typeof i&&i.trim())return i.trim();var a=function(e,t){for(var n=0,r=["".concat(t,"Year"),"".concat(t,"DateYear"),"".concat(t,"_year"),"".concat(t,"_date_year"),"year"];n<r.length;n++){var o=null==e?void 0:e[r[n]];if("number"==typeof o&&Number.isFinite(o))return o;if("string"==typeof o&&o.trim()&&/^\d+$/.test(o.trim()))return Number(o.trim())}}(t,e);if(null!=a){var s=null==t?void 0:t["".concat(e,"MonthIndex")],l=null==t?void 0:t["".concat(e,"Day")],c=null==t?void 0:t["".concat(e,"EraId")],u="number"==typeof s?(null==_||null===(n=_.months)||void 0===n||null===(n=n[s])||void 0===n?void 0:n.name)||"Month ".concat(s+1):void 0,d=c?(null==_||null===(r=_.eras)||void 0===r||null===(r=r.find(function(e){return e._id===c}))||void 0===r?void 0:r.code)||(null==_||null===(o=_.eras)||void 0===o||null===(o=o.find(function(e){return e._id===c}))||void 0===o?void 0:o.name):void 0;return"number"==typeof l&&u?"".concat(function(e){var t=e%100;if(t>=11&&t<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}}(l)," ").concat(u," ").concat(String(a)).concat(d?", ".concat(d):""):u?"".concat(u," ").concat(String(a)).concat(d?", ".concat(d):""):"".concat(String(a)).concat(d?", ".concat(d):"")}},B=function(e){var t=kg({},e);if(!t.startDate){var n=R("start",t);n&&(t.startDate=n)}var r=t.endDate||void 0!==t.endDay||void 0!==t.endMonthIndex||void 0!==t.endEraId||void 0!==t.endYear||void 0!==t.end_date_year;if(!t.endDate&&r){var o=R("end",t);o&&(t.endDate=o)}return t},z=function(){var e=bg(mg().m(function e(t){var n,o,s;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,n=kg(i?kg({},i):{},t),(o=B(n)).startDate){e.n=1;break}return console.error("Missing startDate. Ensure at least a year (and optionally month/day) is selected."),e.a(2);case 1:if(!o._id){e.n=3;break}return e.n=2,L(kg(kg({},o),{},{_id:o._id}));case 2:e.n=4;break;case 3:return e.n=4,T(o);case 4:e.n=6;break;case 5:e.p=5,s=e.v,console.error("Failed to save event",s);case 6:return e.p=6,r(!1),a(null),e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=bg(mg().m(function e(t){var n;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,j(t);case 1:e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to save time system",n);case 3:return e.p=3,p(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}();function W(e){if(!e)return 0;var t=e.match(/(\d{1,6})(?!.*\d)/);return t?parseInt(t[1],10):0}var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Year";if(!e)return"";var n=function(e){var t=e%100;if(t>=11&&t<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}},r=e.match(/(\d+)(?:st|nd|rd|th)?\s+([A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿']+)\s+(\d{1,6})(?:,\s*([A-Z]{1,3}))?/);if(r){var o=Number(r[1]),i=r[2],a=Number(r[3]),s=r[4];switch(t){case"Day":return"".concat(n(o)," ").concat(i," ").concat(String(a)).concat(s?", ".concat(s):"");case"Month":return"".concat(i," ").concat(String(a)).concat(s?", ".concat(s):"");default:return"".concat(String(a)).concat(s?", ".concat(s):"")}}var l=e.match(/([A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿']+)\s+(\d{1,6})(?:,\s*([A-Z]{1,3}))?/);if(l){var c=l[1],u=Number(l[2]),d=l[3];return"Month"===t?"".concat(c," ").concat(String(u)).concat(d?", ".concat(d):""):"".concat(String(u)).concat(d?", ".concat(d):"")}var p=e.match(/^(\d{1,6})(?:[-/.](\d{1,2})(?:[-/.](\d{1,2}))?)?(?:[ T](\d{1,2}):(\d{2}))?$/);if(p){var f=Number(p[1]),h=p[2]?Number(p[2]):void 0,m=p[3]?Number(p[3]):void 0,g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];switch(t){case"Day":if(h&&m)return"".concat(n(m)," ").concat(g[(h-1)%12]," ").concat(String(f));case"Month":if(h)return"".concat(g[(h-1)%12]," ").concat(String(f));default:return String(f)}}var y=e.match(/(\d{1,6})(?!.*\d)/),b=e.match(/,\s*([A-Z]{1,3})\b/);if(y){var v=Number(y[1]),k=b?b[1]:void 0;return"".concat(String(v)).concat(k?", ".concat(k):"")}return e},U=function(){var e=bg(mg().m(function e(t,n){var r;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,L(kg(kg({},t),{},{detailLevel:n}));case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to set detail level",r);case 3:return e.p=3,m(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=bg(mg().m(function e(t){var n,r;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,T({title:"".concat(t.title," (Copy)"),startDate:t.startDate,endDate:t.endDate,startDay:t.startDay,endDay:t.endDay,startMonthIndex:t.startMonthIndex,endMonthIndex:t.endMonthIndex,startEraId:t.startEraId,endEraId:t.endEraId,description:t.description,groupId:t.groupId,icon:t.icon,color:t.color,bannerUrl:t.bannerUrl,hidden:t.hidden,order:(null!==(n=t.order)&&void 0!==n?n:0)+.01,detailLevel:t.detailLevel||"Year"});case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to duplicate event",r);case 3:return e.p=3,m(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=bg(mg().m(function e(t,n){var r;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,L(kg(kg({},t),{},{groupId:n}));case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to move event",r);case 3:return e.p=3,m(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=bg(mg().m(function e(t){var n;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,M(t);case 1:e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to delete event",n);case 3:return e.p=3,m(null),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}();return(0,Je.jsxs)("div",{className:"timeline offset-container",children:[" ",(0,Je.jsxs)("header",{className:"timelineHeader",children:[(0,Je.jsx)("div",{className:"groupFilter",children:hg(w).sort(function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:0)-(null!==(r=t.order)&&void 0!==r?r:0)}).map(function(e){return(0,Je.jsx)("button",{className:"pill ".concat(E.includes(e._id)?"active":""),style:{background:E.includes(e._id)?e.color:"transparent",color:E.includes(e._id)?"":e.color,borderColor:E.includes(e._id)?"":e.color},onClick:function(){return t=e._id,n=E.includes(t)?E.filter(function(e){return e!==t}):[].concat(hg(E),[t]),void A(n);var t,n},children:e.name.toUpperCase()},e._id)})}),O&&(0,Je.jsxs)("div",{className:"toolbox",children:[(0,Je.jsxs)("button",{className:"toolboxButton rounded-button",onClick:function(){return c(!l)},children:[(0,Je.jsx)("i",{className:"icon icli iconly-Category"}),(0,Je.jsx)("span",{className:"text",children:"GROUPS"})]}),(0,Je.jsxs)("button",{className:"toolboxButton rounded-button",onClick:function(){return p(!d)},children:[(0,Je.jsx)("i",{className:"icon icli iconly-Calendar"}),(0,Je.jsx)("span",{className:"text",children:"TIME SYSTEM"})]}),(0,Je.jsxs)("button",{className:"toolboxButton rounded-button",onClick:function(){return N(!C)},children:[(0,Je.jsx)("i",{className:"icon icli ".concat(C?"iconly-Hide ":"iconly-Show")}),(0,Je.jsx)("span",{className:"text",children:C?"HIDE HIDDEN":"SHOW HIDDEN"})]})]})]}),(0,Je.jsx)("div",{className:"timeline-wrapper",children:(0,Je.jsx)(km,{useWindowScroll:!0,data:P,itemContent:function(e,t){return function(e,t){var n,o=t>0?P[t-1]:null,i="";if(o){var s=W(o.startDate),l=W(e.startDate);if(s>0&&l>0){var c=s-l;c>0&&(i="".concat(c.toLocaleString()," years later"))}}var u,d=w.find(function(t){return t._id===e.groupId}),p=function(){var e=bg(mg().m(function e(t){var n,r;return mg().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,au.getPage(t);case 2:(n=e.v)&&n._id&&n.type&&(window.location.href="/lore/".concat(n.type,"/").concat(n._id)),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Failed to open linked page",r);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return(0,Je.jsx)("div",{ref:0===t?b:void 0,className:"timeline-event-wrapper",children:(0,Je.jsx)("div",{className:"event",style:{"--group-color":(null==d?void 0:d.color)||"#475569"},children:(0,Je.jsxs)("div",{className:"row",children:[(0,Je.jsxs)("div",{className:"date",children:[(0,Je.jsx)("div",{className:"detailLevel",children:H(e.startDate,e.detailLevel||"Year")}),i&&(0,Je.jsx)("div",{className:"diff",children:i})]}),(0,Je.jsx)("div",{className:"marker",children:(0,Je.jsxs)("div",{className:"diamond",children:[(0,Je.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:(0,Je.jsx)("path",{d:"M29.793 15L15.5 29.293L1.20703 15L15.5 0.707031L29.793 15Z",fill:"#27272A","fill-opacity":"0.8",stroke:"rgba(115,107,1,1)"})}),(0,Je.jsx)("div",{className:"diamond-line"})]})}),(0,Je.jsx)("div",{className:"cardWrapper",children:(0,Je.jsxs)("div",{className:"card",children:[(0,Je.jsx)("div",{className:"cardBg",style:e.bannerUrl?{backgroundImage:"url(".concat("MISSING_ENV_VAR".REACT_APP_API_BASE_URL+e.bannerUrl,")")}:e.color?{background:e.color}:{}}),(0,Je.jsxs)("div",{className:"info",children:[(0,Je.jsx)("span",{className:"groupLabel",children:(null==d||null===(n=d.name)||void 0===n?void 0:n.toUpperCase())||"Group"}),(0,Je.jsxs)("div",{className:"title_wrapper",children:[(0,Je.jsx)("span",{className:"icon_square-btn",children:(u=e.icon,u&&ep[u]||(0,Je.jsx)(bd,{}))}),(0,Je.jsxs)("div",{className:"title_subtitle_wrapper",children:[(0,Je.jsx)("h3",{className:"title",children:e.pageId?(0,Je.jsx)("button",{className:"linkLike",title:"Open linked page",onClick:function(){return p(e.pageId)},children:e.title}):(0,Je.jsx)("span",{children:e.title})}),(0,Je.jsxs)("div",{className:"subtitle",children:[H(e.startDate,e.detailLevel||"Year"),e.endDate?" â†’ ".concat(H(e.endDate,e.detailLevel||"Year")):""]})]}),e.description&&(0,Je.jsx)("p",{className:"description",children:e.description.length>200?"".concat(e.description.slice(0,200),"â€¦"):e.description})]}),(0,Je.jsxs)("div",{className:"editRow",children:[(0,Je.jsx)("button",{ref:h===e._id?y:void 0,className:"menuButton","aria-haspopup":"menu","aria-expanded":h===e._id,onClick:function(t){t.stopPropagation(),m(h===e._id?null:e._id)},children:"â‹®"}),(0,Je.jsxs)("div",{ref:h===e._id?g:void 0,className:"contextMenu ".concat(h===e._id?"open":""),role:"menu",children:[(0,Je.jsx)("div",{className:"menuItem",role:"menuitem",onClick:function(){return function(e){a(e),r(!0)}(e)},children:"Edit event"}),(0,Je.jsx)("div",{className:"menuItem",role:"menuitem",onClick:function(){return $(e)},children:"Duplicate event"}),(0,Je.jsxs)("div",{className:"menuItem submenu",role:"menuitem",children:["Move to group",(0,Je.jsx)("div",{className:"submenu-list",children:w.map(function(t){return(0,Je.jsxs)("div",{className:"menuItem",onClick:function(){return V(e,t._id)},children:[t.name,t._id===e.groupId?" â€¢":""]},t._id)})})]}),(0,Je.jsxs)("div",{className:"menuItem submenu",role:"menuitem",children:["Detail level",(0,Je.jsx)("div",{className:"submenu-list",children:["Year","Month","Day"].map(function(t){return(0,Je.jsxs)("div",{className:"menuItem",onClick:function(){return U(e,t)},children:[(e.detailLevel||"Year")===t?"â— ":"â—‹ ",t]},t)})})]}),(0,Je.jsx)("div",{className:"separator"}),(0,Je.jsx)("div",{className:"menuItem",role:"menuitem",onClick:function(){return G(e._id)},children:"Delete event"})]})]})]})]})})]})},e._id)})}(t,e)},increaseViewportBy:k,className:"virtuoso-timeline"})}),t&&(0,Je.jsx)(hp,{event:i,groups:w,timeSystem:_,onSave:z,onClose:function(){r(!1),a(null)}}),l&&(0,Je.jsx)(Ju,{groups:w,onClose:function(){return c(!1)}}),d&&(0,Je.jsx)(Pu,{timeSystem:_,onSave:F,onClose:function(){return p(!1)}}),(0,Je.jsx)("button",{className:"floating-button",onClick:function(){a(null),r(!0)},children:(0,Je.jsx)("i",{className:"icon icli iconly-Plus"})})]})};var _g=o(1682),Og={};Og.styleTagTransform=Re(),Og.setAttributes=Ne(),Og.insert=je().bind(null,"head"),Og.domAPI=Le(),Og.insertStyleElement=De(),Oe()(_g.A,Og),_g.A&&_g.A.locals&&_g.A.locals;const Tg=function(){return(0,Je.jsxs)("div",{className:"history",children:[(0,Je.jsx)("div",{className:"overlay"}),(0,Je.jsx)(Cg,{})]})};let Lg={data:""},Mg=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Lg},jg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ag=/\/\*[^]*?\*\/|  +/g,Ng=/\n+/g,Ig=(e,t)=>{let n="",r="",o="";for(let i in e){let a=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+a+";":r+="f"==i[1]?Ig(a,i):i+"{"+Ig(a,"k"==i[1]?"":t)+"}":"object"==typeof a?r+=Ig(a,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=a&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ig.p?Ig.p(i,a):i+":"+a+";")}return n+(t&&o?t+"{"+o+"}":o)+r},Dg={},Pg=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Pg(e[n]);return t}return e},Rg=(e,t,n,r,o)=>{let i=Pg(e),a=Dg[i]||(Dg[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!Dg[a]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=jg.exec(e.replace(Ag,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ng," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ng," ").trim();return r[0]})(e);Dg[a]=Ig(o?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&Dg.g?Dg.g:null;return n&&(Dg.g=Dg[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Dg[a],t,r,s),a};function Bg(e){let t=this||{},n=e.call?e(t.p):e;return Rg(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,o)=>{let i=t[o];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Ig(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Mg(t.target),t.g,t.o,t.k)}Bg.bind({g:1});let zg,Fg,Wg,Hg=Bg.bind({k:1});function Ug(e,t){let n=this||{};return function(){let r=arguments;function o(i,a){let s=Object.assign({},i),l=s.className||o.className;n.p=Object.assign({theme:Fg&&Fg()},s),n.o=/ *go\d+/.test(l),s.className=Bg.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),Wg&&c[0]&&Wg(s),zg(c,s)}return t?t(o):o}}var $g=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Vg=(()=>{let e=0;return()=>(++e).toString()})(),Gg=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),qg="default",Kg=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return Kg(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},Yg=[],Jg={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Zg={},Qg=(e,t=qg)=>{Zg[t]=Kg(Zg[t]||Jg,e),Yg.forEach(([e,n])=>{e===t&&n(Zg[t])})},Xg=e=>Object.keys(Zg).forEach(t=>Qg(e,t)),ey=(e=qg)=>t=>{Qg(t,e)},ty={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ny=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Vg()}))(t,e,n);return ey(r.toasterId||(e=>Object.keys(Zg).find(t=>Zg[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},ry=(e,t)=>ny("blank")(e,t);ry.error=ny("error"),ry.success=ny("success"),ry.loading=ny("loading"),ry.custom=ny("custom"),ry.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ey(t)(n):Xg(n)},ry.dismissAll=e=>ry.dismiss(void 0,e),ry.remove=(e,t)=>{let n={type:4,toastId:e};t?ey(t)(n):Xg(n)},ry.removeAll=e=>ry.remove(void 0,e),ry.promise=(e,t,n)=>{let r=ry.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let o=t.success?$g(t.success,e):void 0;return o?ry.success(o,{id:r,...n,...null==n?void 0:n.success}):ry.dismiss(r),e}).catch(e=>{let o=t.error?$g(t.error,e):void 0;o?ry.error(o,{id:r,...n,...null==n?void 0:n.error}):ry.dismiss(r)}),e};var oy=Hg`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iy=Hg`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ay=Hg`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sy=Ug("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oy} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iy} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ay} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ly=Hg`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cy=Ug("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ly} 1s linear infinite;
`,uy=Hg`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dy=Hg`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,py=Ug("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uy} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dy} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fy=Ug("div")`
  position: absolute;
`,hy=Ug("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,my=Hg`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gy=Ug("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${my} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yy=({toast:e})=>{let{icon:t,type:r,iconTheme:o}=e;return void 0!==t?"string"==typeof t?n.createElement(gy,null,t):t:"blank"===r?null:n.createElement(hy,null,n.createElement(cy,{...o}),"loading"!==r&&n.createElement(fy,null,"error"===r?n.createElement(sy,{...o}):n.createElement(py,{...o})))},by=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,vy=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ky=Ug("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xy=Ug("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wy=n.memo(({toast:e,position:t,style:r,children:o})=>{let i=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Gg()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[by(n),vy(n)];return{animation:t?`${Hg(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hg(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},a=n.createElement(yy,{toast:e}),s=n.createElement(xy,{...e.ariaProps},$g(e.message,e));return n.createElement(ky,{className:e.className,style:{...i,...r,...e.style}},"function"==typeof o?o({icon:a,message:s}):n.createElement(n.Fragment,null,a,s))});!function(e){Ig.p=void 0,zg=e,Fg=void 0,Wg=void 0}(n.createElement);var Sy=({id:e,className:t,style:r,onHeightUpdate:o,children:i})=>{let a=n.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;o(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,o]);return n.createElement("div",{ref:a,className:t,style:r},i)},Ey=Bg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Cy=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:o,children:i,toasterId:a,containerStyle:s,containerClassName:l})=>{let{toasts:c,handlers:u}=((e,t="default")=>{let{toasts:r,pausedAt:o}=((e={},t=qg)=>{let[r,o]=(0,n.useState)(Zg[t]||Jg),i=(0,n.useRef)(Zg[t]);(0,n.useEffect)(()=>(i.current!==Zg[t]&&o(Zg[t]),Yg.push([t,o]),()=>{let e=Yg.findIndex(([e])=>e===t);e>-1&&Yg.splice(e,1)}),[t]);let a=r.toasts.map(t=>{var n,r,o;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||ty[t.type],style:{...e.style,...null==(o=e[t.type])?void 0:o.style,...t.style}}});return{...r,toasts:a}})(e,t),i=(0,n.useRef)(new Map).current,a=(0,n.useCallback)((e,t=1e3)=>{if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),s({type:4,toastId:e})},t);i.set(e,n)},[]);(0,n.useEffect)(()=>{if(o)return;let e=Date.now(),n=r.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>ry.dismiss(n.id,t),r);n.visible&&ry.dismiss(n.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[r,o,t]);let s=(0,n.useCallback)(ey(t),[t]),l=(0,n.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),c=(0,n.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),u=(0,n.useCallback)(()=>{o&&s({type:6,time:Date.now()})},[o,s]),d=(0,n.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:o=8,defaultPosition:i}=t||{},a=r.filter(t=>(t.position||i)===(e.position||i)&&t.height),s=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+o,0)},[r]);return(0,n.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}})(r,a);return n.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(r=>{let a=r.position||t,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}})(a,u.calculateOffset(r,{reverseOrder:e,gutter:o,defaultPosition:t}));return n.createElement(Sy,{id:r.id,key:r.id,onHeightUpdate:u.updateHeight,className:r.visible?Ey:"",style:s},"custom"===r.type?$g(r.message,r):i?i(r):n.createElement(wy,{toast:r,position:a}))}))};const _y=function(){return(0,Je.jsx)(Cy,{position:"bottom-right",toastOptions:{style:{background:"rgba(0,0,0,.85)",color:"#fff",borderRadius:10,border:"1px solid rgba(255,255,255,.14)"}}})};var Oy=o(7305),Ty={};Ty.styleTagTransform=Re(),Ty.setAttributes=Ne(),Ty.insert=je().bind(null,"head"),Ty.domAPI=Le(),Ty.insertStyleElement=De(),Oe()(Oy.A,Ty),Oy.A&&Oy.A.locals&&Oy.A.locals;var Ly=new Map;Ly.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"translate(-26.6 51.4) rotate(-15)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ly.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M40,80H88V48a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8Z",opacity:"0.2"}),n.createElement("path",{d:"M88,176h48V48a8,8,0,0,0-8-8H96a8,8,0,0,0-8,8Z",opacity:"0.2"}),n.createElement("path",{d:"M171.2,179.2l46.4-12.5,8.3,30.9a8,8,0,0,1-5.7,9.8l-30.9,8.3a8,8,0,0,1-9.8-5.6Z",opacity:"0.2"}),n.createElement("path",{d:"M146.4,86.4,192.8,74l-8.3-30.9a8.1,8.1,0,0,0-9.8-5.7l-30.9,8.3a8.1,8.1,0,0,0-5.7,9.8Z",opacity:"0.2"}),n.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"translate(-26.6 51.4) rotate(-15)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ly.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M233.6,195.6,192.2,41a16,16,0,0,0-19.6-11.3L141.7,38l-1,.3A16,16,0,0,0,128,32H96a15.8,15.8,0,0,0-8,2.2A15.8,15.8,0,0,0,80,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H80a15.8,15.8,0,0,0,8-2.2,15.8,15.8,0,0,0,8,2.2h32a16,16,0,0,0,16-16V108.4l27.8,103.7A16,16,0,0,0,187.3,224a19.9,19.9,0,0,0,4.1-.5l30.9-8.3A16,16,0,0,0,233.6,195.6ZM176.7,45.2,183,68.3l-30.9,8.3-6.3-23.1ZM128,48V168H96V48ZM80,48V72H48V48Zm48,160H96V184h32v24Zm90.2-8.3L187.3,208,181,184.8l31-8.3,6.2,23.2Z"}))}),Ly.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"matrix(0.97, -0.26, 0.26, 0.97, -26.56, 51.42)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ly.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"translate(-26.6 51.4) rotate(-15)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ly.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"40",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"80",x2:"88",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("rect",{x:"88",y:"40",width:"48",height:"176",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"88",y1:"176",x2:"136",y2:"176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("rect",{x:"158",y:"38.6",width:"48",height:"176",rx:"8",transform:"matrix(0.97, -0.26, 0.26, 0.97, -26.56, 51.42)",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"171.2",y1:"179.2",x2:"217.6",y2:"166.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"146.4",y1:"86.4",x2:"192.8",y2:"74",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var My=function(e,t){return He(e,t,Ly)},jy=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:My}))});jy.displayName="Books";const Ay=jy;var Ny=new Map;Ny.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M204.5,116.6A60.1,60.1,0,0,1,244,140",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M167.1,70.2A32,32,0,1,1,204,115",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M52,115A32,32,0,1,1,88.9,70.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M12,140a60.1,60.1,0,0,1,39.5-23.4",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ny.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"140",r:"40",opacity:"0.2"}),n.createElement("circle",{cx:"60",cy:"84",r:"32",opacity:"0.2"}),n.createElement("circle",{cx:"196",cy:"84",r:"32",opacity:"0.2"}),n.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ny.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M64,140a7.9,7.9,0,0,1-8,8H12a8.2,8.2,0,0,1-7.2-4.4,8.2,8.2,0,0,1,.8-8.4A67.8,67.8,0,0,1,33,113.5a40,40,0,1,1,66.3-37,8.1,8.1,0,0,1-3.8,8.4,64.3,64.3,0,0,0-27.8,33.8A61.6,61.6,0,0,0,64,140Zm186.4-4.8A67.8,67.8,0,0,0,223,113.5a40,40,0,1,0-66.3-37,8.1,8.1,0,0,0,3.8,8.4,64,64,0,0,1,27.8,33.8A61.6,61.6,0,0,1,192,140a7.9,7.9,0,0,0,8,8h44a8,8,0,0,0,6.4-12.8Zm-93.2,42.9a48,48,0,1,0-58.4,0,72.1,72.1,0,0,0-35.6,34.4,7.8,7.8,0,0,0,.5,7.7,7.8,7.8,0,0,0,6.7,3.8H185.6a7.8,7.8,0,0,0,6.7-3.8,7.8,7.8,0,0,0,.5-7.7A72.1,72.1,0,0,0,157.2,178.1Z"}))}),Ny.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ny.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ny.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("circle",{cx:"128",cy:"140",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M196,116a59.8,59.8,0,0,1,48,24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M12,140a59.8,59.8,0,0,1,48-24",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M70.4,216a64.1,64.1,0,0,1,115.2,0",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M60,116A32,32,0,1,1,91.4,78",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M164.6,78A32,32,0,1,1,196,116",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Iy=function(e,t){return He(e,t,Ny)},Dy=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Iy}))});Dy.displayName="UsersThree";const Py=Dy;var Ry=new Map;Ry.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ry.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",opacity:"0.2"}),n.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ry.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M208.9,144a15.8,15.8,0,0,1-10.5,15l-52.2,19.2L127,230.4a16,16,0,0,1-30,0L77.8,178.2,25.6,159a16,16,0,0,1,0-30l52.2-19.2L97,57.6a16,16,0,0,1,30,0l19.2,52.2L198.4,129A15.8,15.8,0,0,1,208.9,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))}),Ry.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ry.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ry.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var By=function(e,t){return He(e,t,Ry)},zy=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:By}))});zy.displayName="Sparkle";const Fy=zy;var Wy=new Map;Wy.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Wy.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M80,128a80,80,0,1,1,80,80H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",opacity:"0.2"}),n.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Wy.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M160.1,40A88.1,88.1,0,0,0,81.3,88.7h0a86.6,86.6,0,0,0-9.3,39,8.2,8.2,0,0,1-7.4,8.3,8,8,0,0,1-8.6-8,105,105,0,0,1,5.3-32.9,4,4,0,0,0-4.7-5.2A64,64,0,0,0,8,152c0,35.2,29.8,64,64.9,64H160a88,88,0,0,0,.1-176Zm31.5,123.7-33.9,34A8.5,8.5,0,0,1,152,200a8.3,8.3,0,0,1-5.7-2.3l-33.9-34a8,8,0,0,1,11.3-11.3L144,172.7V112a8,8,0,0,1,16,0v60.7l20.3-20.3a8,8,0,0,1,11.3,11.3Z"}))}),Wy.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Wy.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Wy.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"118.1 174.1 152 208 185.9 174.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"152",y1:"128",x2:"152",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M96,208H72A56,56,0,0,1,72,96a57.5,57.5,0,0,1,13.9,1.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M80,128a80,80,0,1,1,144,48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Hy=function(e,t){return He(e,t,Wy)},Uy=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Hy}))});Uy.displayName="CloudArrowDown";const $y=Uy;function Vy(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Gy(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Gy(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Gy(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Gy(d,"constructor",c),Gy(c,"constructor",l),l.displayName="GeneratorFunction",Gy(c,o,"GeneratorFunction"),Gy(d),Gy(d,o,"Generator"),Gy(d,r,function(){return this}),Gy(d,"toString",function(){return"[object Generator]"}),(Vy=function(){return{w:i,m:p}})()}function Gy(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Gy=function(e,t,n,r){function i(t,n){Gy(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Gy(e,t,n,r)}function qy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ky(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Jy=function(){var e=Ky((0,n.useState)(!1),2),t=e[0],r=e[1],o=Ky((0,n.useState)(!1),2),i=o[0],a=o[1],s=Ky((0,n.useState)(function(){return localStorage.getItem("drive_doc_input")||"MISSING_ENV_VAR".REACT_APP_GOOGLE_DOC_URL||""}),2),l=s[0],c=s[1],u=Ky((0,n.useState)(""),2),d=u[0],p=u[1],f=Ky((0,n.useState)(!0),2),h=f[0],m=f[1],g=(0,n.useRef)(null),y=Y(),b=xu(function(e){return e.isDM()}),v=xu(function(e){return e.user});(0,n.useEffect)(function(){if(t){var e=function(e){return"Escape"===e.key&&r(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[t]),(0,n.useEffect)(function(){if(i){var e=function(e){return"Escape"===e.key&&a(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}},[i]),(0,n.useEffect)(function(){if(t){var e=function(e){var t=g.current;if(t){var n=e.target;n&&!t.contains(n)&&r(!1)}};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}},[t]);var k=function(e){return y("/lore/".concat(e,"/new"))},x=function(e){if(!e)return null;var t=e.trim();if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;var n=t.match(/\/document\/d\/([a-zA-Z0-9_-]+)/);return n?n[1]:null},w=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){qy(i,r,o,a,s,"next",e)}function s(e){qy(i,r,o,a,s,"throw",e)}a(void 0)})}}(Vy().m(function e(){var t,n,o,i,s,c,u,f,m;return Vy().w(function(e){for(;;)switch(e.p=e.n){case 0:if(b){e.n=1;break}return ry.error("Only DMs can sync from Drive"),e.a(2);case 1:if(t=x(l)){e.n=2;break}return ry.error("Please paste a valid Google Doc URL or ID"),e.a(2);case 2:return localStorage.setItem("drive_doc_input",l),e.p=3,o=ry.loading("Syncing from Google Docsâ€¦",{id:"sync-drive"}),i=(null==v?void 0:v.googleAccessToken)||localStorage.getItem("googleAccessToken"),e.n=4,fetch("".concat(au.getBaseUrl(),"/sync/campaign/from-google"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({docId:t,summarize:h,title:d,googleAccessToken:i})});case 4:return s=e.v,e.n=5,s.json();case 5:if(c=e.v,s.ok){e.n=8;break}if(!(401===s.status||null!=c&&null!==(u=c.error)&&void 0!==u&&u.includes("token"))){e.n=7;break}return ry.error("Google token expired. Reconnecting...",{id:o}),e.n=6,au.refreshGoogleToken();case 6:return(f=e.v).success?ry.success("Token refreshed. Please try again.",{id:o}):f.needsReauth&&ry.error("Please reconnect your Google account",{id:o}),e.a(2);case 7:throw new Error((null==c?void 0:c.error)||"Sync failed");case 8:null!=c&&null!==(n=c.created)&&void 0!==n&&n._id?(ry.success("Draft page created from Drive",{id:o}),y("/lore/campaign/".concat(c.created._id)),a(!1),r(!1),p("")):(ry.dismiss(o),ry("No newer section found")),e.n=10;break;case 9:e.p=9,m=e.v,ry.error((null==m?void 0:m.message)||"Sync failed");case 10:return e.a(2)}},e,null,[[3,9]])}));return function(){return e.apply(this,arguments)}}();return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"lore-create-fab","aria-live":"polite",children:(0,Je.jsxs)("div",{className:"lcfab__surface","data-open":t,ref:g,role:t?void 0:"button",tabIndex:t?-1:0,"aria-expanded":t,"aria-controls":"lcfab-panel",onClick:t?void 0:function(){return r(!0)},onKeyDown:function(e){t||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r(!0))},children:[(0,Je.jsx)("span",{className:"lcfab__plus","aria-hidden":!0,children:(0,Je.jsx)("i",{className:"icon icli iconly-Plus"})}),(0,Je.jsx)("div",{id:"lcfab-panel",className:"lcfab__content","aria-hidden":!t,children:(0,Je.jsxs)("div",{className:"lcfab__content_wrapper",children:[(0,Je.jsxs)("div",{className:"lcfab__content_wrapper--option history-option",onClick:function(){return k("history")},children:[(0,Je.jsx)(Ay,{size:18,className:"lcfab__content_wrapper--option-icon"}),"History"]}),(0,Je.jsxs)("div",{className:"lcfab__content_wrapper--option campaign-option",onClick:function(){return k("campaign")},children:[(0,Je.jsx)(Xd,{size:18,className:"lcfab__content_wrapper--option-icon"}),"Campaign"]}),(0,Je.jsxs)("div",{className:"lcfab__content_wrapper--option people-option",onClick:function(){return k("people")},children:[(0,Je.jsx)(Py,{size:18,className:"lcfab__content_wrapper--option-icon"}),"People&Orgs"]}),(0,Je.jsxs)("div",{className:"lcfab__content_wrapper--option myth-option",onClick:function(){return k("myth")},children:[(0,Je.jsx)(Fy,{size:18,className:"lcfab__content_wrapper--option-icon"}),"Myths&Legends"]}),b&&(0,Je.jsxs)("div",{className:"lcfab__content_wrapper--option sync-option",onClick:function(){a(!0),r(!1)},title:"Import latest session notes from Google Doc and create a draft",children:[(0,Je.jsx)($y,{size:18,className:"lcfab__content_wrapper--option-icon"}),"Sync Session from Drive"]})]})})]})}),i&&b&&(0,Je.jsx)("div",{className:"lcfab__modal",role:"dialog","aria-modal":"true",onMouseDown:function(e){e.target===e.currentTarget&&a(!1)},children:(0,Je.jsxs)("div",{className:"lcfab__modal__card",role:"document",children:[(0,Je.jsx)("div",{className:"lcfab__modal__title",children:"Sync from Google Docs"}),(0,Je.jsx)("label",{className:"lcfab__modal__label",children:"Session Title (optional)"}),(0,Je.jsx)("input",{className:"lcfab__modal__input",placeholder:"e.g., Session 42: The Lost Temple",value:d,onChange:function(e){return p(e.target.value)}}),(0,Je.jsx)("label",{className:"lcfab__modal__label",children:"Doc URL or ID"}),(0,Je.jsx)("input",{className:"lcfab__modal__input",placeholder:"https://docs.google.com/document/d/â€¦ or ID",value:l,onChange:function(e){return c(e.target.value)}}),(0,Je.jsxs)("label",{className:"lcfab__modal__check",children:[(0,Je.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){return m(e.target.checked)}}),(0,Je.jsx)("span",{children:"Summarize with AI (if available)"})]}),(0,Je.jsxs)("div",{className:"lcfab__modal__actions",children:[(0,Je.jsx)("button",{className:"modal__btn cancel",onClick:function(){return a(!1)},children:"Cancel"}),(0,Je.jsx)("button",{className:"modal__btn primary",onClick:w,children:"Sync"})]})]})})]})};var Zy=new Map;Zy.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"148 32 148 92 208 92",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Zy.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("polygon",{points:"152 32 152 88 208 88 152 32",opacity:"0.2"}),n.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Zy.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M80,224a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V184a8,8,0,0,1,16,0v32H72A8,8,0,0,1,80,224ZM80,24H56A16,16,0,0,0,40,40V64a8,8,0,0,0,16,0V40H80a8,8,0,0,0,0-16ZM216,88a7.8,7.8,0,0,0-2.4-5.7l-55.9-56h-.2l-.4-.4h-.2l-.4-.3c-.1-.1-.2-.1-.2-.2l-.5-.3h-.2l-.5-.3H155l-.7-.3H120a8,8,0,0,0,0,16h24V88a8,8,0,0,0,8,8h48v40a8,8,0,0,0,16,0V88Zm-8,80a8,8,0,0,0-8,8v40h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V176A8,8,0,0,0,208,168ZM48,152a8,8,0,0,0,8-8V104a8,8,0,0,0-16,0v40A8,8,0,0,0,48,152Zm104,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Z"}))}),Zy.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Zy.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Zy.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M72,224H56a8,8,0,0,1-8-8V184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("polyline",{points:"120 32 152 32 208 88 208 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M48,64V40a8,8,0,0,1,8-8H80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M208,176v40a8,8,0,0,1-8,8h-8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"48",y1:"104",x2:"48",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"112",y1:"224",x2:"152",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Qy=function(e,t){return He(e,t,Zy)},Xy=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:Qy}))});Xy.displayName="FileDotted";const eb=Xy;function tb(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return nb(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(nb(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nb(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,nb(d,"constructor",c),nb(c,"constructor",l),l.displayName="GeneratorFunction",nb(c,o,"GeneratorFunction"),nb(d),nb(d,o,"Generator"),nb(d,r,function(){return this}),nb(d,"toString",function(){return"[object Generator]"}),(tb=function(){return{w:i,m:p}})()}function nb(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nb=function(e,t,n,r){function i(t,n){nb(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},nb(e,t,n,r)}function rb(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ob(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ib(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ib(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}it().setAppElement("#root");const ab=function(){var e,t=Y(),r=ob(function(e){let t=n.useRef(he(e)),r=n.useRef(!1),o=q(),i=n.useMemo(()=>function(e,t){let n=he(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(o.search,r.current?null:t.current),[o.search]),a=Y(),s=n.useCallback((e,t)=>{const n=he("function"==typeof e?e(i):e);r.current=!0,a("?"+n,t)},[a,i]);return[i,s]}(),2),i=r[0],a=r[1],s=[{type:"place",label:"Places"},{type:"history",label:"History"},{type:"myth",label:"Myths"},{type:"people",label:"People"},{type:"campaign",label:"Campaign"}],l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!e||e.length<=t)return e;var n=e.substring(0,t),r=n.lastIndexOf(" ");return(r>0?n.substring(0,r):n)+'<span class="moreIndicator"> ...MORE</span>'},c=i.get("category"),u=(null===(e=s.find(function(e){return e.type===c}))||void 0===e?void 0:e.type)||s[0].type,d=ob((0,n.useState)(u),2),p=d[0],f=d[1],h=xu(function(e){return e.loadPages}),m=xu(function(e){return e.data.pages.data}),g=xu(function(e){return e.data.pages.loading}),y=xu(function(e){return e.isDM()}),b=xu(function(e){return e.deletePage}),v=ob((0,n.useState)(!1),2),k=v[0],x=v[1],w=ob((0,n.useState)(null),2),S=w[0],E=w[1],C=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){rb(i,r,o,a,s,"next",e)}function s(e){rb(i,r,o,a,s,"throw",e)}a(void 0)})}}(tb().m(function e(){var t;return tb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(S){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,b(S._id);case 2:ry.success("Page deleted successfully"),x(!1),E(null),h(p),e.n=4;break;case 3:e.p=3,t=e.v,console.error("Failed to delete page:",t),ry.error("Failed to delete page");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),_=function(){x(!1),E(null)},O=(0,n.useRef)(null),T=ob((0,n.useState)(0),2),L=T[0],M=T[1],j=ob((0,n.useState)(0),2),A=j[0],N=j[1],I=(0,n.useRef)(null);return(0,n.useEffect)(function(){return function(){I.current&&cancelAnimationFrame(I.current)}},[]),(0,n.useEffect)(function(){var e=i.get("category");e&&s.find(function(t){return t.type===e})&&f(e)},[i]),(0,n.useEffect)(function(){p&&h(p)},[p,h]),(0,Je.jsxs)("div",{className:"loreHome offset-container",style:{background:"url(".concat(o(4269),")")},children:[(0,Je.jsx)("div",{className:"bgLayer",style:{filter:"blur(".concat(L,"px) grayscale(").concat(A,")")}}),(0,Je.jsx)("div",{className:"overlay"}),(0,Je.jsx)("div",{className:"overflow-container",ref:O,onScroll:function(){var e=O.current;if(e){var t=e.scrollTop,n=Math.min(1,t/1200),r=12*n;I.current&&cancelAnimationFrame(I.current),I.current=requestAnimationFrame(function(){M(r),N(n)})}},children:(0,Je.jsxs)("div",{className:"contentContainer",children:[(0,Je.jsx)("h1",{className:"loreTitle",children:"Lore Library"}),(0,Je.jsx)("p",{className:"loreSubtitle",children:"Explore the world of Aetherium through its places, history and myths."}),(0,Je.jsxs)("div",{className:"loreColumns",children:[(0,Je.jsxs)("div",{className:"categoriesColumn",children:[(0,Je.jsx)("h2",{className:"columnTitle",children:"Categories"}),(0,Je.jsx)("div",{className:"categoriesList",children:s.map(function(e){return(0,Je.jsx)("button",{className:"categoryCard ".concat(p===e.type?"active":""),onClick:function(){return t=e.type,f(t),void a({category:t});var t},children:(0,Je.jsx)("span",{className:"label",children:e.label})},e.type)})})]}),(0,Je.jsx)("div",{className:"pagesColumn",children:g?(0,Je.jsx)("p",{className:"loadingText",children:"Loadingâ€¦"}):(0,Je.jsxs)("ul",{className:"pageList",children:[(m||[]).filter(function(e){return e.type===p}).filter(function(e){return!!y||!e.draft}).map(function(e){var n;return(0,Je.jsx)("li",{className:"pageListItem",onClick:function(){return t("/lore/".concat(p,"/").concat(e._id))},children:(0,Je.jsxs)("div",{className:"pageCard",children:[e.bannerUrl&&(0,Je.jsx)("div",{className:"thumb",style:{backgroundImage:"url(".concat(au.resolveAssetUrl(e.bannerUrl),")")}}),(0,Je.jsxs)("div",{className:"meta",children:[(0,Je.jsx)("h3",{className:"pageTitle",children:e.title}),e.subtitle&&(0,Je.jsx)("h4",{className:"pageSubtitle",children:e.subtitle}),(null===(n=e.blocks[0])||void 0===n?void 0:n.plainText)&&(0,Je.jsx)("p",{className:"pageExcerpt",dangerouslySetInnerHTML:{__html:l(e.blocks[0].plainText)}}),y&&(0,Je.jsx)("button",{className:"deleteBtn",onClick:function(t){return function(e,t){e.stopPropagation(),E(t),x(!0)}(t,e)},title:"Delete page",children:(0,Je.jsx)(wd,{size:18,weight:"bold"})})]}),e.draft&&y&&(0,Je.jsx)("span",{className:"draftBadge",children:(0,Je.jsx)(eb,{size:18})})]})},e._id)}),0===m.filter(function(e){return e.type===p}).filter(function(e){return!!y||!e.draft}).length&&(0,Je.jsx)("p",{className:"emptyText",children:"No pages found."})]})})]})]})}),(0,Je.jsx)(Jy,{}),(0,Je.jsxs)(it(),{isOpen:k,onRequestClose:_,className:"modal__content",overlayClassName:"modal__overlay",contentLabel:"Delete Page Confirmation",children:[(0,Je.jsx)("div",{className:"modal__header",children:(0,Je.jsx)("h2",{children:"Delete Page"})}),(0,Je.jsxs)("div",{className:"modal__body",children:[(0,Je.jsxs)("p",{children:['Are you sure you want to delete "',(0,Je.jsx)("strong",{children:null==S?void 0:S.title}),'"?']}),(0,Je.jsx)("p",{style:{color:"#d5d5d5",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."})]}),(0,Je.jsxs)("div",{className:"modal__actions",children:[(0,Je.jsx)("button",{className:"modal__btn cancel",onClick:_,children:"Cancel"}),(0,Je.jsx)("button",{className:"modal__btn delete",onClick:C,children:"Delete"})]})]})]})};var sb=new Map;sb.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),sb.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),sb.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))}),sb.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),sb.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),sb.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var lb=function(e,t){return He(e,t,sb)},cb=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:lb}))});cb.displayName="SignOut";const ub=cb;var db=new Map;db.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),db.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),db.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M141.7,133.7l-42,42A8.3,8.3,0,0,1,94,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H24a8,8,0,0,1,0-16H86V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,141.7,133.7ZM192,32H136a8,8,0,0,0,0,16h56V208H136a8,8,0,0,0,0,16h56a16,16,0,0,0,16-16V48A16,16,0,0,0,192,32Z"}))}),db.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),db.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),db.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"94 170 136 128 94 86",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"24",y1:"128",x2:"136",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M136,40h56a8,8,0,0,1,8,8V208a8,8,0,0,1-8,8H136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var pb=function(e,t){return He(e,t,db)},fb=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:pb}))});fb.displayName="SignIn";const hb=fb;var mb=o(9888);function gb(e){this.content=e}gb.prototype={constructor:gb,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new gb(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new gb(n)},addToStart:function(e,t){return new gb([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new gb(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new gb(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=gb.from(e)).size?new gb(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=gb.from(e)).size?new gb(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=gb.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},gb.from=function(e){if(e instanceof gb)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new gb(t)};const yb=gb;function bb(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=bb(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function vb(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let a=e.child(--o),s=t.child(--i),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let e=vb(a.content,s.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class kb{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,a=0;a<t;i++){let s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o||null,i)&&s.content.size){let o=a+1;s.nodesBetween(Math.max(0,e-o),Math.min(s.content.size,t-o),n,r+o)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,(a,s)=>{let l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?r?"function"==typeof r?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(i?i=!1:o+=n),o+=l},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new kb(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let a=this.content[o],s=i+a.nodeSize;s>e&&((i<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),r+=a.nodeSize),i=s}return new kb(n,r)}cutByIndex(e,t){return e==t?kb.empty:0==e&&t==this.content.length?this:new kb(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new kb(r,o)}addToStart(e){return new kb([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new kb(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return bb(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return vb(this,e,t,n)}findIndex(e){if(0==e)return wb(0,e);if(e==this.size)return wb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?wb(t+1,r):wb(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return kb.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new kb(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return kb.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new kb(t||e,n)}static from(e){if(!e)return kb.empty;if(e instanceof kb)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new kb([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}kb.empty=new kb([],0);const xb={index:0,offset:0};function wb(e,t){return xb.index=e,xb.offset=t,xb}function Sb(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Sb(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Sb(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Eb{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Eb.none;if(e instanceof Eb)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}Eb.none=[];class Cb extends Error{}class _b{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Tb(this.content,e+this.openStart,t);return n&&new _b(n,this.openStart,this.openEnd)}removeBetween(e,t){return new _b(Ob(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return _b.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new _b(kb.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new _b(e,n,r)}}function Ob(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(o==t||i.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(Ob(i.content,t-o-1,n-o-1)))}function Tb(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),a=e.maybeChild(o);if(i==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=Tb(a.content,t-i-1,n,a);return s&&e.replaceChild(o,a.copy(s))}function Lb(e,t,n){if(n.openStart>e.depth)throw new Cb("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Cb("Inconsistent open depths");return Mb(e,t,n,0)}function Mb(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let a=Mb(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:a}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(kb.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return Db(i,Pb(e,o,a,t,r))}{let r=e.parent,o=r.content;return Db(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return Db(i,Rb(e,t,r))}function jb(e,t){if(!t.type.compatibleContent(e.type))throw new Cb("Cannot join "+t.type.name+" onto "+e.type.name)}function Ab(e,t,n){let r=e.node(n);return jb(r,t.node(n)),r}function Nb(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Ib(e,t,n,r){let o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Nb(e.nodeAfter,r),i++));for(let e=i;e<a;e++)Nb(o.child(e),r);t&&t.depth==n&&t.textOffset&&Nb(t.nodeBefore,r)}function Db(e,t){return e.type.checkContent(t),e.copy(t)}function Pb(e,t,n,r,o){let i=e.depth>o&&Ab(e,t,o+1),a=r.depth>o&&Ab(n,r,o+1),s=[];return Ib(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(jb(i,a),Nb(Db(i,Pb(e,t,n,r,o+1)),s)):(i&&Nb(Db(i,Rb(e,t,o+1)),s),Ib(t,n,o,s),a&&Nb(Db(a,Rb(n,r,o+1)),s)),Ib(r,null,o,s),new kb(s)}function Rb(e,t,n){let r=[];return Ib(null,e,n,r),e.depth>n&&Nb(Db(Ab(e,t,n+1),Rb(e,t,n+1)),r),Ib(t,null,n,r),new kb(r)}_b.empty=new _b(kb.empty,0,0);class Bb{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Eb.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Hb(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(o),a=o-i;if(n.push(t,e,r+i),!a)break;if(t=t.child(e),t.isText)break;o=a-1,r+=i+1}return new Bb(t,n,o)}static resolveCached(e,t){let n=Wb.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else Wb.set(e,n=new zb);let r=n.elts[n.i]=Bb.resolve(e,t);return n.i=(n.i+1)%Fb,r}}class zb{constructor(){this.elts=[],this.i=0}}const Fb=12,Wb=new WeakMap;class Hb{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ub=Object.create(null);class $b{constructor(e,t,n,r=Eb.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||kb.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Sb(this.attrs,t||e.defaultAttrs||Ub)&&Eb.sameSet(this.marks,n||Eb.none)}copy(e=null){return e==this.content?this:new $b(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new $b(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return _b.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new _b(s,r.depth-i,o.depth-i)}replace(e,t,n){return Lb(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return Bb.resolveCached(this,e)}resolveNoCache(e){return Bb.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Gb(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=kb.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Eb.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Eb.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=kb.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}$b.prototype.text=void 0;class Vb extends $b{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Gb(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Vb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Vb(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Gb(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class qb{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Kb(e,t);if(null==n.next)return qb.empty;let r=Yb(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return function n(r){let o=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);tv(e,n).forEach(e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let i=t[r.join(",")]=new qb(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(ev);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}(tv(e,0))}(function(e){let t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,i)),[]);if("seq"!=t.type){if("star"==t.type){let a=n();return r(i,a),o(e(t.expr,a),a),[r(a)]}if("plus"==t.type){let a=n();return o(e(t.expr,i),a),o(e(t.expr,a),a),[r(a)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){let a=i;for(let r=0;r<t.min;r++){let r=n();o(e(t.expr,a),r),a=r}if(-1==t.max)o(e(t.expr,a),a);else for(let i=t.min;i<t.max;i++){let i=n();r(a,i),o(e(t.expr,a),i),a=i}return[r(a)]}if("name"==t.type)return[r(i,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=e(t.exprs[r],i);if(r==t.exprs.length-1)return a;o(a,i=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(a)&&r.push(a)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(i,a){let s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return kb.from(a.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,a.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:a}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!a.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}}qb.empty=new qb(!0);class Kb{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Yb(e){let t=[];do{t.push(Jb(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Jb(e){let t=[];do{t.push(Zb(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Zb(e){let t=function(e){if(e.eat("(")){let t=Yb(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.isInGroup(t)&&o.push(r)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Xb(e,t)}return t}function Qb(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Xb(e,t){let n=Qb(e),r=n;return e.eat(",")&&(r="}"!=e.next?Qb(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ev(e,t){return t-e}function tv(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(ev)}function nv(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function rv(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function ov(e,t,n,r){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function iv(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new sv(e,r,t[r]);return n}class av{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=iv(e,n.attrs),this.defaultAttrs=nv(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qb.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:rv(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $b(this,this.computeAttrs(e),kb.from(t),Eb.setFrom(n))}createChecked(e=null,t,n){return t=kb.from(t),this.checkContent(t),new $b(this,this.computeAttrs(e),t,Eb.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=kb.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(kb.empty,!0);return o?new $b(this,e,t.append(o),Eb.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ov(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Eb.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new av(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class sv{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class lv{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=iv(e,r.attrs),this.excluded=null;let o=nv(this.attrs);this.instance=o?new Eb(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Eb(this,rv(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new lv(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ov(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class cv{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=yb.from(e.nodes),t.marks=yb.from(e.marks||{}),this.nodes=av.compile(this.spec.nodes,this),this.marks=lv.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",o=t.spec.marks;if(t.contentMatch=n[r]||(n[r]=qb.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==o?null:o?uv(this,o.split(" ")):""!=o&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:uv(this,n.split(" "))}this.nodeFromJSON=e=>$b.fromJSON(this,e),this.markFromJSON=e=>Eb.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof av))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new Vb(n,n.defaultAttrs,e,Eb.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function uv(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class dv{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new yv(this,t,!1);return n.addAll(e,Eb.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new yv(this,t,!0);return n.addAll(e,Eb.none,t.from,t.to),_b.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(bv(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=vv(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach(e=>{n(e=vv(e)),e.node||e.ignore||e.mark||(e.node=t)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new dv(e,dv.schemaRules(e)))}}const pv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fv={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hv={ol:!0,ul:!0};function mv(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class gv{constructor(e,t,n,r,o,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=Eb.none,this.match=o||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(kb.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=kb.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(kb.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class yv{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,o=t.topNode,i=mv(null,t.preserveWhitespace,0)|(n?4:0);r=o?new gv(o.type,o.attrs,Eb.none,!0,t.topMatch||o.type.contentMatch,i):new gv(n?null:e.schema.topNodeType,null,Eb.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,o=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:i}=this.parser;if("full"===o||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)if("full"===o)n=n.replace(/\r\n?/g,"\n");else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(i.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(i.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,o=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i,a=e.nodeName.toLowerCase();hv.hasOwnProperty(a)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&hv.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));e:if(s?s.ignore:fv.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let n,r=this.needsBlock;if(pv.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let i=s&&s.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(o),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,s,n,!1===s.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],o=n.getPropertyValue(r);if(o)for(let e;;){let n=this.parser.matchStyle(r,o,this,e);if(!n)break;if(n.ignore)return null;if(t=n.clearMark?t.filter(e=>!n.clearMark(e)):t.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1!==n.consuming)break;e=n}}return t}addElementByRule(e,t,n,r){let o,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}o&&this.sync(a)&&this.open--}addAll(e,t,n,r){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i,t);this.findAtPoint(e,o)}findPlace(e,t,n){let r,o;for(let t=this.open,i=0;t>=0;t--){let a=this.nodes[t],s=a.findWrapping(e);if(s&&(!r||r.length>s.length+i)&&(r=s,o=a,!s.length))break;if(a.solid){if(n)break;i+=2}}if(!r)return null;this.sync(o);for(let e=0;e<r.length;e++)t=this.enterInner(r[e],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=Eb.none;for(let o of r.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):kv(o.type,e.type))&&(n=o.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,r)),o}enterInner(e,t,n,r=!1,o){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=mv(e,o,i.options);4&i.options&&0==i.content.length&&(a|=4);let s=Eb.none;return n=n.filter(t=>!(i.type?i.type.allowsMarkType(t.type):kv(t.type,e))||(s=t.addToSet(s),!1)),this.nodes.push(new gv(e,t,s,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=o;a--)if(i(e-1,a))return!0;return!1}{let e=a>0||0==a&&r?this.nodes[a].type:n&&a>=o?n.node(a-o).type:null;if(!e||e.name!=s&&!e.isInGroup(s))return!1;a--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}}function bv(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function vv(e){let t={};for(let n in e)t[n]=e[n];return t}function kv(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],a=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&a(o))return!0}};if(a(o.contentMatch))return!0}}class xv{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Sv(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],a=this.serializeMark(n,e.isInline,t);a&&(o.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Cv(Sv(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Cv(Sv(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return Cv(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new xv(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=wv(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return wv(e.marks)}}function wv(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Sv(e){return e.document||window.document}const Ev=new WeakMap;function Cv(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=function(e){let t=Ev.get(e);return void 0===t&&Ev.set(e,t=function(e){let t=null;return function e(n){if(n&&"object"==typeof n)if(Array.isArray(n))if("string"==typeof n[0])t||(t=[]),t.push(n);else for(let t=0;t<n.length;t++)e(n[t]);else for(let t in n)e(n[t])}(e),t}(e)),t}(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a,s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let o=u;o<t.length;o++){let i=t[o];if(0===i){if(o<t.length-1||o>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:o}=Cv(e,i,n,r);if(l.appendChild(t),o){if(a)throw new RangeError("Multiple content holes");a=o}}}return{dom:l,contentDOM:a}}const _v=Math.pow(2,16);function Ov(e,t){return e+t*_v}function Tv(e){return 65535&e}class Lv{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Mv{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Mv.empty)return Mv.empty}recover(e){let t=0,n=Tv(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/_v}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;let l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(e<=u){let o=s+r+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return o;let i=e==(t<0?s:u)?null:Ov(a/3,e-s),d=e==s?2:e==u?1:4;return(t<0?e!=s:e!=u)&&(d|=8),new Lv(o,d,i)}r+=c-l}return n?e+r:new Lv(e+r,0,null)}touches(e,t){let n=0,r=Tv(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let a=this.ranges[t]-(this.inverted?n:0);if(a>e)break;let s=this.ranges[t+o];if(e<=a+s&&t==3*r)return!0;n+=this.ranges[t+i]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}}invert(){return new Mv(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Mv.empty:new Mv(e<0?[0,-e,0]:[0,0,e])}}Mv.empty=new Mv([]);class jv{constructor(e,t,n=0,r=(e?e.length:0)){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new jv(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new jv;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this._maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this._maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new Lv(e,r,null)}}const Av=Object.create(null);class Nv{getMap(){return Mv.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Av[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Av)throw new RangeError("Duplicate use of step JSON ID "+e);return Av[e]=t,t.prototype.jsonID=e,t}}class Iv{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Iv(e,null)}static fail(e){return new Iv(null,e)}static fromReplace(e,t,n,r){try{return Iv.ok(e.replace(t,n,r))}catch(e){if(e instanceof Cb)return Iv.fail(e.message);throw e}}}function Dv(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Dv(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return kb.fromArray(r)}class Pv extends Nv{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new _b(Dv(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return Iv.fromReplace(e,this.from,this.to,o)}invert(){return new Rv(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Pv(t.pos,n.pos,this.mark)}merge(e){return e instanceof Pv&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pv(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pv(t.from,t.to,e.markFromJSON(t.mark))}}Nv.jsonID("addMark",Pv);class Rv extends Nv{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new _b(Dv(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return Iv.fromReplace(e,this.from,this.to,n)}invert(){return new Pv(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Rv(t.pos,n.pos,this.mark)}merge(e){return e instanceof Rv&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Rv(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Rv(t.from,t.to,e.markFromJSON(t.mark))}}Nv.jsonID("removeMark",Rv);class Bv extends Nv{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Iv.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Iv.fromReplace(e,this.pos,this.pos+1,new _b(kb.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Bv(this.pos,t.marks[n]);return new Bv(this.pos,this.mark)}}return new zv(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Bv(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bv(t.pos,e.markFromJSON(t.mark))}}Nv.jsonID("addNodeMark",Bv);class zv extends Nv{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Iv.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Iv.fromReplace(e,this.pos,this.pos+1,new _b(kb.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Bv(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new zv(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zv(t.pos,e.markFromJSON(t.mark))}}Nv.jsonID("removeNodeMark",zv);class Fv extends Nv{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Hv(e,this.from,this.to)?Iv.fail("Structure replace would overwrite content"):Iv.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Mv([this.from,this.to-this.from,this.slice.size])}invert(e){return new Fv(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Fv(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Fv)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?_b.empty:new _b(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Fv(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?_b.empty:new _b(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Fv(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fv(t.from,t.to,_b.fromJSON(e,t.slice),!!t.structure)}}Nv.jsonID("replace",Fv);class Wv extends Nv{constructor(e,t,n,r,o,i,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=a}apply(e){if(this.structure&&(Hv(e,this.from,this.gapFrom)||Hv(e,this.gapTo,this.to)))return Iv.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Iv.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Iv.fromReplace(e,this.from,this.to,n):Iv.fail("Content does not fit in gap")}getMap(){return new Mv([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Wv(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new Wv(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wv(t.from,t.to,t.gapFrom,t.gapTo,_b.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Hv(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function Uv(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),a=[],s=t+1;for(let t=0;t<i.childCount;t++){let l=i.child(t),c=s+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new Rv(s,c,l.marks[t]));if(o&&l.isText&&"pre"!=n.whitespace){let e,t,r=/\r?\n|\r/g;for(;e=r.exec(l.text);)t||(t=new _b(kb.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new Fv(s+e.index,s+e.index+e[0].length,t))}}else a.push(new Fv(s,c,_b.empty));s=c}if(!r.validEnd){let t=r.fillBefore(kb.empty,!0);e.replace(s,s,new _b(t,0,0))}for(let t=a.length-1;t>=0;t--)e.step(a[t])}function $v(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Vv(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!$v(r,o,i))break}return null}function Gv(e,t,n=null,r=e){let o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;let s=(a.length?a[a.length-1]:t).contentMatch;for(let e=r;s&&e<o;e++)s=s.matchType(n.child(e).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(qv).concat({type:t,attrs:n}).concat(i.map(qv)):null}function qv(e){return{type:e,attrs:null}}function Kv(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(o.text);){let o=e.mapping.slice(r).map(n+1+i+a.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function Yv(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function Jv(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>i;e--,t--){let n=o.node(e),i=o.index(e);if(n.type.spec.isolating)return!1;let a=n.content.cutByIndex(i,n.childCount),s=r&&r[t+1];s&&(a=a.replaceChild(0,s.type.create(s.attrs)));let l=r&&r[t]||n;if(!n.canReplace(i+1,n.childCount)||!l.type.validContent(a))return!1}let s=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(s,s,l?l.type:o.node(i+1).type)}function Zv(e,t){let n=e.resolve(t),r=n.index();return Qv(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Qv(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),a=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n)return!1;if(!e.type.allowsMarks(i.marks))return!1}return n.validEnd}(e,t))}function Xv(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let o,i,a=r.index(e);if(e==r.depth?(o=r.nodeBefore,i=r.nodeAfter):n>0?(o=r.node(e+1),a++,i=r.node(e).maybeChild(a)):(o=r.node(e).maybeChild(a-1),i=r.node(e+1)),o&&!o.isTextblock&&Qv(o,i)&&r.node(e).canReplace(a,a+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function ek(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,i=r.index(t)+(n>0?1:0),a=r.node(t),s=!1;if(1==e)s=a.canReplace(i,i,o);else{let e=a.contentMatchAt(i).findWrapping(o.firstChild.type);s=e&&a.canReplaceWith(i,i,e[0])}if(s)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function tk(e,t,n=t,r=_b.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return nk(o,i,r)?new Fv(t,n,r):new rk(o,i,r).fit()}function nk(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Nv.jsonID("replaceAround",Wv);class rk{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=kb.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=kb.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,a=r.depth;for(;i&&a&&1==o.childCount;)o=o.firstChild.content,i--,a--;let s=new _b(o,i,a);return e>-1?new Wv(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new Fv(n.pos,r.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=ak(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let e=this.depth;e>=0;e--){let i,{type:a,match:s}=this.frontier[e],l=null;if(1==t&&(o?s.matchType(o.type)||(l=s.fillBefore(kb.from(o),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:e,parent:r,inject:l};if(2==t&&o&&(i=s.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:e,parent:r,wrap:i};if(r&&s.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=ak(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new _b(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=ak(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new _b(ok(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new _b(ok(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let i=this.unplaced,a=n?n.content:i.content,s=i.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let p=a.size+e-(i.content.size-i.openEnd);for(;l<a.childCount;){let e=a.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==s||e.content.size)&&(u=t,c.push(sk(e.mark(d.allowedMarks(e.marks)),1==l?s:0,l==a.childCount?p:-1)))}let f=l==a.childCount;f||(p=-1),this.placed=ik(this.placed,t,kb.from(c)),this.frontier[t].match=u,f&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=a;e<p;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=f?0==e?_b.empty:new _b(ok(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new _b(ok(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!lk(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=lk(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=lk(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ik(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=ik(this.placed,this.depth,kb.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(kb.empty,!0);e.childCount&&(this.placed=ik(this.placed,this.frontier.length,e))}}function ok(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(ok(e.firstChild.content,t-1,n)))}function ik(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ik(e.lastChild.content,t-1,n)))}function ak(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function sk(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,sk(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(kb.empty,!0)))),e.copy(r)}function lk(e,t,n,r,o){let i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function ck(e){return e.spec.defining||e.spec.definingForContent}function uk(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(uk(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(kb.empty,!0))}return e}function dk(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class pk extends Nv{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Iv.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Iv.fromReplace(e,this.pos,this.pos+1,new _b(kb.from(r),0,t.isLeaf?0:1))}getMap(){return Mv.empty}invert(e){return new pk(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new pk(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new pk(t.pos,t.attr,t.value)}}Nv.jsonID("attr",pk);class fk extends Nv{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Iv.ok(n)}getMap(){return Mv.empty}invert(e){return new fk(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fk(t.attr,t.value)}}Nv.jsonID("docAttr",fk);let hk=class extends Error{};hk=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(hk.prototype=Object.create(Error.prototype)).constructor=hk,hk.prototype.name="TransformError";class mk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new jv}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new hk(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=_b.empty){let r=tk(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new _b(kb.from(n),0,0))}delete(e,t){return this.replace(e,t,_b.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(nk(o,i,r))return e.step(new Fv(t,n,r));let a=dk(o,e.doc.resolve(n));0==a[a.length-1]&&a.pop();let s=-(o.depth+1);a.unshift(s);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(e)>-1?s=e:o.before(e)==t&&a.splice(1,0,-e)}let l=a.indexOf(s),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e],n=ck(t.type);if(n&&!t.sameMarkup(o.node(Math.abs(s)-1)))u=e;else if(n||!t.type.isTextblock)break}for(let t=r.openStart;t>=0;t--){let s=(t+u+1)%(r.openStart+1),d=c[s];if(d)for(let t=0;t<a.length;t++){let c=a[(t+l)%a.length],u=!0;c<0&&(u=!1,c=-c);let p=o.node(c-1),f=o.index(c-1);if(p.canReplaceWith(f,f,d.type,d.marks))return e.replace(o.before(c),u?i.after(c):n,new _b(uk(r.content,0,r.openStart,s),s,r.openEnd))}}let d=e.steps.length;for(let s=a.length-1;s>=0&&(e.replace(t,n,r),!(e.steps.length>d));s--){let e=a[s];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new _b(kb.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=dk(r,o);for(let t=0;t<i.length;t++){let n=i[t],a=t==i.length-1;if(a&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(a||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i&&r.start(i-1)==o.start(i-1)&&r.node(i-1).canReplace(r.index(i-1),o.index(i-1)))return e.delete(r.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,a=r.before(i+1),s=o.after(i+1),l=a,c=s,u=kb.empty,d=0;for(let e=i,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,u=kb.from(r.node(e).copy(u)),d++):l--;let p=kb.empty,f=0;for(let e=i,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,p=kb.from(o.node(e).copy(p)),f++):c++;e.step(new Wv(l,c,a,s,new _b(u.append(p),d,f),u.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),a=i.node().type;if(o&&a.inlineContent){let e="pre"==a.whitespace,t=!!a.contentMatch.matchType(o);e&&!t?r=!1:!e&&t&&(r=!0)}let s=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);Yv(e,r.node(),r.before(),s)}a.inlineContent&&Uv(e,t+n-1,a,i.node().contentMatchAt(i.index()),null==r);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new Fv(c,l.map(t+n,-1),_b.empty,!0)),!0===r){let t=e.doc.resolve(c);Kv(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=kb.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=kb.from(n[e].type.create(n[e].attrs,r))}let o=t.start,i=t.end;e.step(new Wv(o,i,o,i,new _b(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let a="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(r,a)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let o=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&Yv(e,t,n,i),Uv(e,e.mapping.slice(i).map(n,1),r,void 0,null===o);let s=e.mapping.slice(i),l=s.map(n,1),c=s.map(n+t.nodeSize,1);return e.step(new Wv(l,c,l+1,c-1,new _b(kb.from(r.create(a,null,t.marks)),0,0),1,!0)),!0===o&&Kv(e,t,n,i),!1}})}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Wv(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new _b(kb.from(a),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new pk(e,t,n)),this}setDocAttribute(e,t){return this.step(new fk(e,t)),this}addNodeMark(e,t){return this.step(new Bv(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Eb)t.isInSet(n.marks)&&this.step(new zv(e,t));else{let r,o=n.marks,i=[];for(;r=t.isInSet(o);)i.push(new zv(e,r)),o=r.removeFromSet(o);for(let e=i.length-1;e>=0;e--)this.step(i[e])}return this}split(e,t=1,n){return function(e,t,n=1,r){let o=e.doc.resolve(t),i=kb.empty,a=kb.empty;for(let e=o.depth,t=o.depth-n,s=n-1;e>t;e--,s--){i=kb.from(o.node(e).copy(i));let t=r&&r[s];a=kb.from(t?t.type.create(t.attrs,a):o.node(e).copy(a))}e.step(new Fv(t,t,new _b(i.append(a),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let o,i,a=[],s=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),p=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(p)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:a.push(o=new Rv(c,d,u[e])));i&&i.to==c?i.to=d:s.push(i=new Pv(c,d,r))}}),a.forEach(t=>e.step(t)),s.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(e,a)=>{if(!e.isInline)return;i++;let s=null;if(r instanceof lv){let t,n=e.marks;for(;t=r.isInSet(n);)(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,l=s[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:l,from:Math.max(a,t),to:r,step:i})}}}),o.forEach(t=>e.step(new Rv(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return Uv(this,e,t,n),this}}const gk=Object.create(null);class yk{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new bk(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=_b.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],c=e.mapping.slice(o);e.replaceRange(c.map(s.pos),c.map(l.pos),a?_b.empty:t),0==a&&Tk(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:a}=r[o],s=e.mapping.slice(n),l=s.map(i.pos),c=s.map(a.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),Tk(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new xk(e):Ok(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?Ok(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):Ok(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Ck(e.node(0))}static atStart(e){return Ok(e,e,0,0,1)||new Ck(e)}static atEnd(e){return Ok(e,e,e.content.size,e.childCount,-1)||new Ck(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=gk[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in gk)throw new RangeError("Duplicate use of selection JSON ID "+e);return gk[e]=t,t.prototype.jsonID=e,t}getBookmark(){return xk.between(this.$anchor,this.$head).getBookmark()}}yk.prototype.visible=!0;class bk{constructor(e,t){this.$from=e,this.$to=t}}let vk=!1;function kk(e){vk||e.parent.inlineContent||(vk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class xk extends yk{constructor(e,t=e){kk(e),kk(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return yk.near(n);let r=e.resolve(t.map(this.anchor));return new xk(r.parent.inlineContent?r:n,n)}replace(e,t=_b.empty){if(super.replace(e,t),t==_b.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof xk&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wk(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new xk(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=yk.findFrom(t,n,!0)||yk.findFrom(t,-n,!0);if(!e)return yk.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(yk.findFrom(e,-n,!0)||yk.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new xk(e,t)}}yk.jsonID("text",xk);class wk{constructor(e,t){this.anchor=e,this.head=t}map(e){return new wk(e.map(this.anchor),e.map(this.head))}resolve(e){return xk.between(e.resolve(this.anchor),e.resolve(this.head))}}class Sk extends yk{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?yk.near(o):new Sk(o)}content(){return new _b(kb.from(this.node),0,0)}eq(e){return e instanceof Sk&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ek(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Sk(e.resolve(t.anchor))}static create(e,t){return new Sk(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Sk.prototype.visible=!1,yk.jsonID("node",Sk);class Ek{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new wk(n,n):new Ek(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Sk.isSelectable(n)?new Sk(t):yk.near(t)}}class Ck extends yk{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=_b.empty){if(t==_b.empty){e.delete(0,e.doc.content.size);let t=yk.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ck(e)}map(e){return new Ck(e)}eq(e){return e instanceof Ck}getBookmark(){return _k}}yk.jsonID("all",Ck);const _k={map(){return this},resolve:e=>new Ck(e)};function Ok(e,t,n,r,o,i=!1){if(t.inlineContent)return xk.create(e,n);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let r=t.child(a);if(r.isAtom){if(!i&&Sk.isSelectable(r))return Sk.create(e,n-(o<0?r.nodeSize:0))}else{let t=Ok(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function Tk(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof Fv||i instanceof Wv)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==o&&(o=r)}),e.setSelection(yk.near(e.doc.resolve(o),n)))}class Lk extends mk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return Eb.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Eb.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(yk.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Mk(e,t){return t&&e?e.bind(t):e}class jk{constructor(e,t,n){this.name=e,this.init=Mk(t.init,n),this.apply=Mk(t.apply,n)}}const Ak=[new jk("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new jk("selection",{init:(e,t)=>e.selection||yk.atStart(t.doc),apply:e=>e.selection}),new jk("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new jk("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class Nk{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ak.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new jk(e.key,e.spec.state,e))})}}class Ik{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Ik(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new Lk(this)}static create(e){let t=new Nk(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Ik(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new Nk(this.schema,e.plugins),n=t.fields,r=new Ik(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Nk(e.schema,e.plugins),o=new Ik(r);return r.fields.forEach(r=>{if("doc"==r.name)o.doc=$b.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=yk.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}}),o}}function Dk(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=Dk(o,t,{})),n[r]=o}return n}class Pk{constructor(e){this.spec=e,this.props={},e.props&&Dk(e.props,this,this.props),this.key=e.key?e.key.key:Bk("plugin")}getState(e){return e[this.key]}}const Rk=Object.create(null);function Bk(e){return e in Rk?e+"$"+ ++Rk[e]:(Rk[e]=0,e+"$")}class zk{constructor(e="key"){this.key=Bk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Fk=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Wk(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Hk=(e,t,n)=>{let r=Wk(e,n);if(!r)return!1;let o=Gk(r);if(!o){let n=r.blockRange(),o=n&&Vv(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(rx(e,o,t,-1))return!0;if(0==r.parent.content.size&&($k(i,"end")||Sk.isSelectable(i)))for(let n=r.depth;;n--){let a=tk(e.doc,r.before(n),r.after(n),_b.empty);if(a&&a.slice.size<a.to-a.from){if(t){let n=e.tr.step(a);n.setSelection($k(i,"end")?yk.findFrom(n.doc.resolve(n.mapping.map(o.pos,-1)),-1):Sk.create(n.doc,o.pos-i.nodeSize)),t(n.scrollIntoView())}return!0}if(1==n||r.node(n-1).childCount>1)break}return!(!i.isAtom||o.depth!=r.depth-1||(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),0))};function Uk(e,t,n){let r=t.nodeBefore,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,a=t.pos+1;for(;!i.isTextblock;a++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let s=tk(e.doc,o,a,_b.empty);if(!s||s.from!=o||s instanceof Fv&&s.slice.size>=a-o)return!1;if(n){let t=e.tr.step(s);t.setSelection(xk.create(t.doc,o)),n(t.scrollIntoView())}return!0}function $k(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const Vk=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=Gk(r)}let a=i&&i.nodeBefore;return!(!a||!Sk.isSelectable(a)||(t&&t(e.tr.setSelection(Sk.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),0))};function Gk(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function qk(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Kk=(e,t,n)=>{let r=qk(e,n);if(!r)return!1;let o=Jk(r);if(!o)return!1;let i=o.nodeAfter;if(rx(e,o,t,1))return!0;if(0==r.parent.content.size&&($k(i,"start")||Sk.isSelectable(i))){let n=tk(e.doc,r.before(),r.after(),_b.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection($k(i,"start")?yk.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):Sk.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1||(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),0))},Yk=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=Jk(r)}let a=i&&i.nodeAfter;return!(!a||!Sk.isSelectable(a)||(t&&t(e.tr.setSelection(Sk.create(e.doc,i.pos)).scrollIntoView()),0))};function Jk(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Zk=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))};function Qk(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Xk=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),a=Qk(o.contentMatchAt(i));if(!a||!o.canReplaceWith(i,i,a))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,a.createAndFill());o.setSelection(yk.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},ex=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Ck||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=Qk(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(n,i.createAndFill());a.setSelection(xk.create(a.doc,n+1)),t(a.scrollIntoView())}return!0},tx=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Jv(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Vv(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};var nx;function rx(e,t,n,r){let o,i,a=t.nodeBefore,s=t.nodeAfter,l=a.type.spec.isolating||s.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Zv(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(i=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&i.matchType(o[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,i=kb.empty;for(let e=o.length-1;e>=0;e--)i=kb.from(o[e].create(null,i));i=kb.from(a.copy(i));let l=e.tr.step(new Wv(t.pos-1,r,t.pos,r,new _b(i,1,0),o.length,!0)),c=l.doc.resolve(r+2*o.length);c.nodeAfter&&c.nodeAfter.type==a.type&&Zv(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:yk.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),p=d&&Vv(d);if(null!=p&&p>=t.depth)return n&&n(e.tr.lift(d,p).scrollIntoView()),!0;if(c&&$k(s,"start",!0)&&$k(a,"end")){let r=a,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let i=s,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=kb.empty;for(let e=o.length-1;e>=0;e--)r=kb.from(o[e].copy(r));n(e.tr.step(new Wv(t.pos-o.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new _b(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function ox(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(xk.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const ix=ox(-1),ax=ox(1);function sx(e,t=null){return function(n,r){let o=!1;for(let r=0;r<n.selection.ranges.length&&!o;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(i,a,(r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}})}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];o.setBlockType(i,a,e,t)}r(o.scrollIntoView())}return!0}}function lx(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let cx=lx(Fk,Hk,Vk),ux=lx(Fk,Kk,Yk);const dx={Enter:lx(Zk,ex,tx,(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Sk&&e.selection.node.isBlock)return!(!n.parentOffset||!Jv(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.depth)return!1;let o,i,a=[],s=!1,l=!1;for(let e=n.depth;;e--){if(n.node(e).isBlock){s=n.end(e)==n.pos+(n.depth-e),l=n.start(e)==n.pos-(n.depth-e),i=Qk(n.node(e-1).contentMatchAt(n.indexAfter(e-1)));let t=nx;a.unshift(t||(s&&i?{type:i}:null)),o=e;break}if(1==e)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof xk||e.selection instanceof Ck)&&c.deleteSelection();let u=c.mapping.map(n.pos),d=Jv(c.doc,u,a.length,a);if(d||(a[0]=i?{type:i}:null,d=Jv(c.doc,u,a.length,a)),!d)return!1;if(c.split(u,a.length,a),!s&&l&&n.node(o).type!=i){let e=c.mapping.map(n.before(o)),t=c.doc.resolve(e);i&&n.node(o-1).canReplaceWith(t.index(),t.index()+1,i)&&c.setNodeMarkup(c.mapping.map(n.before(o)),i)}return t&&t(c.scrollIntoView()),!0}),"Mod-Enter":Xk,Backspace:cx,"Mod-Backspace":cx,"Shift-Backspace":cx,Delete:ux,"Mod-Delete":ux,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new Ck(e.doc))),!0)},px={"Ctrl-h":dx.Backspace,"Alt-Backspace":dx["Mod-Backspace"],"Ctrl-d":dx.Delete,"Ctrl-Alt-Backspace":dx["Mod-Delete"],"Alt-Delete":dx["Mod-Delete"],"Alt-d":dx["Mod-Delete"],"Ctrl-a":ix,"Ctrl-e":ax};for(let e in dx)px[e]=dx[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();const fx=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},hx=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let mx=null;const gx=function(e,t,n){let r=mx||(mx=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},yx=function(e,t,n,r){return n&&(vx(e,t,n,r,-1)||vx(e,t,n,r,1))},bx=/^(img|br|input|textarea|hr)$/i;function vx(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:kx(e))){let n=e.parentNode;if(!n||1!=n.nodeType||xx(e)||bx.test(e.nodeName)||"false"==e.contentEditable)return!1;t=fx(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;t+=o}else e=n,t=o<0?kx(e):0}}}}function kx(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function xx(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const wx=function(e){return e.focusNode&&yx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Sx(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Ex="undefined"!=typeof navigator?navigator:null,Cx="undefined"!=typeof document?document:null,_x=Ex&&Ex.userAgent||"",Ox=/Edge\/(\d+)/.exec(_x),Tx=/MSIE \d/.exec(_x),Lx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_x),Mx=!!(Tx||Lx||Ox),jx=Tx?document.documentMode:Lx?+Lx[1]:Ox?+Ox[1]:0,Ax=!Mx&&/gecko\/(\d+)/i.test(_x);Ax&&(/Firefox\/(\d+)/.exec(_x)||[0,0])[1];const Nx=!Mx&&/Chrome\/(\d+)/.exec(_x),Ix=!!Nx,Dx=Nx?+Nx[1]:0,Px=!Mx&&!!Ex&&/Apple Computer/.test(Ex.vendor),Rx=Px&&(/Mobile\/\w+/.test(_x)||!!Ex&&Ex.maxTouchPoints>2),Bx=Rx||!!Ex&&/Mac/.test(Ex.platform),zx=!!Ex&&/Win/.test(Ex.platform),Fx=/Android \d/.test(_x),Wx=!!Cx&&"webkitFontSmoothing"in Cx.documentElement.style,Hx=Wx?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ux(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function $x(e,t){return"number"==typeof e?e:e[t]}function Vx(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Gx(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(1!=a.nodeType){a=hx(a);continue}let e=a,n=e==i.body,s=n?Ux(i):Vx(e),l=0,c=0;if(t.top<s.top+$x(r,"top")?c=-(s.top-t.top+$x(o,"top")):t.bottom>s.bottom-$x(r,"bottom")&&(c=t.bottom-t.top>s.bottom-s.top?t.top+$x(o,"top")-s.top:t.bottom-s.bottom+$x(o,"bottom")),t.left<s.left+$x(r,"left")?l=-(s.left-t.left+$x(o,"left")):t.right>s.right-$x(r,"right")&&(l=t.right-s.right+$x(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}let u=n?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(u))break;a="absolute"==u?a.offsetParent:hx(a)}}function qx(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=hx(r));return t}function Kx(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Yx=null;function Jx(e,t){let n,r,o,i,a=2e8,s=0,l=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=gx(u).getClientRects()}for(let p=0;p<e.length;p++){let f=e[p];if(f.top<=l&&f.bottom>=c){l=Math.max(f.bottom,l),c=Math.min(f.top,c);let e=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(e<a){n=u,a=e,r=e&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==u.nodeType&&e&&(s=d+(t.left>=(f.left+f.right)/2?1:0));continue}}else f.top>t.top&&!o&&f.left<=t.left&&f.right>=t.left&&(o=u,i={left:Math.max(f.left,Math.min(f.right,t.left)),top:f.top});!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(s=d+1)}}return!n&&o&&(n=o,r=i,a=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=tw(r,1);if(n.top!=n.bottom&&Zx(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||a&&1==n.nodeType?{node:e,offset:s}:Jx(n,r)}function Zx(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Qx(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(Zx(t,o))return Qx(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function Xx(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(kx(r.offsetNode),r.offset)}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(kx(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let a,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!Zx(t,n))return null;if(s=Qx(e.dom,t,n),!s)return null}if(Px)for(let e=s;n&&e;e=hx(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(Ax&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let r;Wx&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(a=function(e,t,n,r){let o=-1;for(let n=t,i=!1;n!=e.dom;){let t,a=e.docView.nearestDesc(n,!0);if(!a)return null;if(1==a.dom.nodeType&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((t=a.dom.getBoundingClientRect()).width||t.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!i&&t.left>r.left||t.top>r.top?o=a.posBefore:(!i&&t.right<r.left||t.bottom<r.top)&&(o=a.posAfter),i=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?a.posBefore:a.posAfter;n=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==a&&(a=function(e,t,n){let{node:r,offset:o}=Jx(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function ew(e){return e.top<e.bottom||e.left<e.right}function tw(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(ew(e))return e}return Array.prototype.find.call(n,ew)||e.getBoundingClientRect()}const nw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function rw(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),a=Wx||Ax;if(3==r.nodeType){if(!a||!nw.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,ow(tw(gx(r,e,t),i),i<0)}{let e=tw(gx(r,o,o),n);if(Ax&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=tw(gx(r,o-1,o-1),-1);if(t.top==e.top){let n=tw(gx(r,o,o+1),-1);if(n.top!=e.top)return ow(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==kx(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return iw(e.getBoundingClientRect(),!1)}if(null==i&&o<kx(r)){let e=r.childNodes[o];if(1==e.nodeType)return iw(e.getBoundingClientRect(),!0)}return iw(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==kx(r))){let e=r.childNodes[o-1],t=3==e.nodeType?gx(e,kx(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return ow(tw(t,1),!1)}if(null==i&&o<kx(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?gx(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return ow(tw(t,-1),!0)}return ow(tw(3==r.nodeType?gx(r):r,-n),n>=0)}function ow(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function iw(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function aw(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const sw=/[\u0590-\u08ac]/;let lw=null,cw=null,uw=!1;class dw{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>fx(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let o=this.children[n],i=t+o.size;if(i>e||o instanceof bw){r=e-t;break}t=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof pw&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?fx(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?fx(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,a=0;;a++){let n=this.children[a],s=i+n.size;if(-1==r&&e<=s){let o=i+n.border;if(e>=o&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=fx(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=fx(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((Ax||Px)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(a=s={node:t.parentNode,offset:fx(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Ax&&c.focusNode&&c.focusNode!=s.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||u&&Px)&&yx(a.node,a.offset,c.anchorNode,c.anchorOffset)&&yx(s.node,s.offset,c.focusNode,c.focusOffset))return;let d=!1;if((l.extend||e==t)&&(!u||!Ax)){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=a;a=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,a=i-o.border;if(e>=r&&t<=a)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class pw extends dw{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class fw extends dw{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class hw extends dw{constructor(e,t,n,r,o){super(e,[],n,r),this.mark=t,this.spec=o}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=xv.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new hw(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=hw.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=jw(o,t,i,n)),e>0&&(o=jw(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class mw extends dw{constructor(e,t,n,r,o,i,a,s,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,o,i){let a,s=o.nodeViews[t.type.name],l=s&&s(t,o,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:i,n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=xv.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=_w(c,n,t),l?a=new vw(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new yw(e,t,n,r,c,d,o):new mw(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>kb.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Ow(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,s=new Lw(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);r(a,o,t.forChild(i,a),n),i+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,d,p,f;for(;a<o.length&&o[a].to==i;){let e=o[a++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(Mw);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)f=-1,p=l,l=null;else{if(!(c<e.childCount))break;f=c,p=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=i&&s.splice(e--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);let h=i+p.nodeSize;if(p.isText){let e=h;a<o.length&&o[a].from<e&&(e=o[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<h&&(l=p.cut(e-i),p=p.cut(0,e-i),h=e,f=-1)}else for(;a<o.length&&o[a].to<h;)a++;let m=p.isInline&&!p.isLeaf?s.filter(e=>!e.inline):s.slice();r(p,m,t.forChild(i,p),f),i=h}}(this.node,this.innerDeco,(t,o,i)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&s.syncToMarks(o==this.node.childCount?Eb.none:this.node.child(o).marks,n,e),s.placeWidget(t,e,r)},(t,i,l,c)=>{let u;s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,i,l,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=s.findIndexWithChild(o.node))>-1&&s.updateNodeAt(t,i,l,u,e)||s.updateNextNode(t,i,l,e,c,r)||s.addNode(t,i,l,e,r),r+=t.nodeSize}),s.syncToMarks([],n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),kw(this.contentDOM,this.children,e),Rx&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof xk)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let a=e.child(o++),s=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new fw(this,o,t,r);e.input.compositionNodes.push(i),this.children=jw(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Ow(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Ew(this.dom,this.nodeDOM,Sw(this.outerDeco,this.node,t),Sw(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function gw(e,t,n,r,o){_w(r,t,e);let i=new mw(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class yw extends mw{constructor(e,t,n,r,o,i,a){super(e,t,n,r,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new yw(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class bw extends dw{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class vw extends mw{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.spec=s}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kw(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=Tw(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof hw){let t=r?r.previousSibling:e.lastChild;kw(a.contentDOM,a.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Tw(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const xw=function(e){e&&(this.nodeName=e)};xw.prototype=Object.create(null);const ww=[new xw];function Sw(e,t,n){if(0==e.length)return ww;let r=n?ww[0]:new xw,o=[r];for(let i=0;i<e.length;i++){let a=e[i].type.attrs;if(a){a.nodeName&&o.push(r=new xw(a.nodeName));for(let e in a){let i=a[e];null!=i&&(n&&1==o.length&&o.push(r=new xw(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function Ew(e,t,n,r){if(n==ww&&r==ww)return t;let o=t;for(let t=0;t<r.length;t++){let i=r[t],a=n[t];if(t){let t;a&&a.nodeName==i.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(o),a=ww[0]),o=t}Cw(o,a||ww[0],i)}return o}function Cw(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function _w(e,t,n){return Ew(e,e,ww,Sw(t,n,1!=e.nodeType))}function Ow(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Tw(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Lw{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof hw)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(o-1))break;--o,i.set(s,o),a.push(s)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=hw.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){i=r;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof mw){let l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;let c,u=s.dom,d=this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Ow(t,s.outerDeco));if(!d&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(s,e,t,n,r,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Ow(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=mw.create(this.top,t,n,r,o,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let e of a.children)e.parent=a}return e.destroy(),a}addNode(e,t,n,r,o){let i=mw.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new pw(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof hw;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof yw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Px||Ix)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new bw(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Mw(e,t){return e.type.side-t.type.side}function jw(e,t,n,r,o){let i=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Aw(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,l,c=r.resolve(a);if(wx(n)){for(s=a;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&Sk.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==kx(e);r||o;){if(e==n)return!0;let t=fx(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==kx(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new Sk(a==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=a,o=a;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[s,a]=o==e.state.selection.anchor?[o,t]:[t,o],c=r.resolve(a)}else s=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(s<0)return null}let u=r.resolve(s);return l||(l=Ww(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)),l}function Nw(e){return e.editable?e.hasFocus():Uw(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Iw(e,t=!1){let n=e.state.selection;if(zw(e,n),Nw(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Ix){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&yx(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,fx(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Mx&&jx<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,o,{anchor:i,head:a}=n;!Dw||n instanceof xk||(n.$from.parent.inlineContent||(r=Pw(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Pw(e,n.to))),e.docView.setSelection(i,a,e,t),Dw&&(r&&Bw(r),o&&Bw(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{Nw(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Dw=Px||Ix&&Dx<63;function Pw(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Px&&o&&"false"==o.contentEditable)return Rw(o);if(!(o&&"false"!=o.contentEditable||i&&"false"!=i.contentEditable)){if(o)return Rw(o);if(i)return Rw(i)}}function Rw(e){return e.contentEditable="true",Px&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Bw(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function zw(e,t){if(t instanceof Sk){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Fw(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Fw(e)}function Fw(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Ww(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||xk.between(t,n,r)}function Hw(e){return!(e.editable&&!e.hasFocus())&&Uw(e)}function Uw(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function $w(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&yk.findFrom(i,t)}function Vw(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Gw(e,t,n){let r=e.state.selection;if(!(r instanceof xk)){if(r instanceof Sk&&r.node.isInline)return Vw(e,new xk(t>0?r.$to:r.$from));{let n=$w(e.state,t);return!!n&&Vw(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return Vw(e,new xk(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=$w(e.state,t);return!!(n&&n instanceof Sk)&&Vw(e,n)}if(!(Bx&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let a=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(Sk.isSelectable(i)?Vw(e,new Sk(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!Wx&&Vw(e,new xk(e.state.doc.resolve(t<0?a:a+i.nodeSize))))}}function qw(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Kw(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function Yw(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=!1;for(Ax&&1==n.nodeType&&r<qw(n)&&Kw(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(Kw(e,-1))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(Jw(n))break;{let t=n.previousSibling;for(;t&&Kw(t,-1);)o=n.parentNode,i=fx(t),t=t.previousSibling;if(t)n=t,r=qw(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?Zw(e,n,r):o&&Zw(e,o,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=qw(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!Kw(n.childNodes[r],1))break;o=n,i=++r}else{if(Jw(n))break;{let t=n.nextSibling;for(;t&&Kw(t,1);)o=t.parentNode,i=fx(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=qw(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}o&&Zw(e,o,i)}(e)}function Jw(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Zw(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!xx(e);)t=fx(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!xx(e);)t=fx(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(wx(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Iw(e)},50)}function Qw(e,t){let n=e.state.doc.resolve(t);if(!Ix&&!zx&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function Xw(e,t,n){let r=e.state.selection;if(r instanceof xk&&!r.empty||n.indexOf("s")>-1)return!1;if(Bx&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=$w(e.state,t);if(n&&n instanceof Sk)return Vw(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,a=r instanceof Ck?yk.near(n,t):yk.findFrom(n,t);return!!a&&Vw(e,a)}return!1}function eS(e,t){if(!(e.state.selection instanceof xk))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function tS(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function nS(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||xv.fromSchema(e.state.schema),s=pS(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=uS[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:p,slice:t}}function rS(e,t,n,r,o){let i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,s||r,e)}),s)return a=new _b(kb.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{a=t(a,e,!0)}),a;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)a=n;else{let n=o.marks(),{schema:r}=e.state,a=xv.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=pS().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&uS[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=function(e){let t=window.trustedTypes;return t?(fS||(fS=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),fS.createHTML(e)):e}(e),n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),Wx&&function(e){let t=e.querySelectorAll(Ix?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"Â "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0;e--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||dv.fromSchema(e.state.schema);a=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||oS.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)a=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:i,openEnd:a}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=kb.from(t.create(n[e+1],o)),i++,a++}return new _b(o,i,a)}(cS(a,+u[1],+u[2]),u[4]);else if(a=_b.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach(e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&aS(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=sS(i[i.length-1],r.length));let t=iS(e,n);i.push(t),o=o.matchType(t.type),r=n}}),i)return kb.from(i)}return e}(a.content,o),!0),a.openStart||a.openEnd){let e=0,t=0;for(let t=a.content.firstChild;e<a.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=a.content.lastChild;t<a.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);a=cS(a,e,t)}return e.someProp("transformPasted",t=>{a=t(a,e,l)}),a}const oS=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function iS(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,kb.from(e));return e}function aS(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=aS(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(kb.from(iS(n,e,o+1))))}}function sS(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,sS(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(kb.empty,!0);return e.copy(n.append(r))}function lS(e,t,n,r,o,i){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(i=0),o<r-1&&(s=lS(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(kb.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function cS(e,t,n){return t<e.openStart&&(e=new _b(lS(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new _b(lS(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const uS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let dS=null;function pS(){return dS||(dS=document.implementation.createHTMLDocument("title"))}let fS=null;const hS={},mS={},gS={touchstart:!0,touchmove:!0};class yS{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function bS(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function vS(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>kS(e,t))})}function kS(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function xS(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function wS(e){return{left:e.clientX,top:e.clientY}}function SS(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let r=i.depth+1;r>0;r--)if(e.someProp(t,t=>r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)))return!0;return!1}function ES(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function CS(e,t,n,r){return SS(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function _S(e,t,n,r){return SS(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(ES(e,xk.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),i=o.before(t);if(n.inlineContent)ES(e,xk.create(r,i+1,i+1+n.content.size),"pointer");else{if(!Sk.isSelectable(n))continue;ES(e,Sk.create(r,i),"pointer")}return!0}}(e,n,r)}function OS(e){return IS(e)}mS.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!MS(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Fx||!Ix||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Rx||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||function(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||Bx&&72==n&&"c"==r)return eS(e,-1)||Yw(e,-1);if(46==n&&!t.shiftKey||Bx&&68==n&&"c"==r)return eS(e,1)||Yw(e,1);if(13==n||27==n)return!0;if(37==n||Bx&&66==n&&"c"==r){let t=37==n?"ltr"==Qw(e,e.state.selection.from)?-1:1:-1;return Gw(e,t,r)||Yw(e,t)}if(39==n||Bx&&70==n&&"c"==r){let t=39==n?"ltr"==Qw(e,e.state.selection.from)?1:-1:1;return Gw(e,t,r)||Yw(e,t)}return 38==n||Bx&&80==n&&"c"==r?Xw(e,-1,r)||Yw(e,-1):40==n||Bx&&78==n&&"c"==r?function(e){if(!Px||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;tS(e,n,"true"),setTimeout(()=>tS(e,n,"false"),20)}return!1}(e)||Xw(e,1,r)||Yw(e,1):r==(Bx?"m":"c")&&(66==n||73==n||89==n||90==n)}(e,n)?n.preventDefault():bS(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,Sx(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},mS.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},mS.keypress=(e,t)=>{let n=t;if(MS(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Bx&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof xk&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,o))||e.dispatch(o()),n.preventDefault()}};const TS=Bx?"metaKey":"ctrlKey";hS.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=OS(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[TS]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=e.posAtCoords(wS(n));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new LS(e,a,n,!!r)):("doubleClick"==i?CS:_S)(e,a.pos,a.inside,n)?n.preventDefault():bS(e,"pointer"))};class LS{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[TS],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const a=r?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&1==s.nodeDOM.nodeType?s.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof Sk&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Ax||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bS(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Iw(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(wS(e))),this.updateAllowDefault(e),this.allowDefault||!t?bS(this.view,"pointer"):function(e,t,n,r,o){return SS(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof Sk&&(n=o.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(Sk.isSelectable(t)){r=n&&o.$from.depth>0&&e>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(e);break}}return null!=r&&(ES(e,Sk.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Sk.isSelectable(r))&&(ES(e,new Sk(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Px&&this.mightDrag&&!this.mightDrag.node.isAtom||Ix&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ES(this.view,yk.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):bS(this.view,"pointer")}move(e){this.updateAllowDefault(e),bS(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function MS(e,t){return!!e.composing||!!(Px&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}hS.touchstart=e=>{e.input.lastTouch=Date.now(),OS(e),bS(e,"pointer")},hS.touchmove=e=>{e.input.lastTouch=Date.now(),bS(e,"pointer")},hS.contextmenu=e=>OS(e);const jS=Fx?5e3:-1;function AS(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>IS(e),t))}function NS(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function IS(e,t=!1){if(!(Fx&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),NS(e),t||e.docView&&e.docView.dirty){let n=Aw(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}mS.compositionstart=mS.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof xk&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),IS(e,!0),e.markCursor=null;else if(IS(e,!t.selection.empty),Ax&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}AS(e,jS)},mS.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,AS(e,20))};const DS=Mx&&jx<15||Rx&&Hx<604;function PS(e,t,n,r,o){let i=rS(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,o,i||_b.empty)))return!0;if(!i)return!1;let a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function RS(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}hS.copy=mS.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=DS?null:n.clipboardData,a=r.content(),{dom:s,text:l}=nS(e,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},mS.paste=(e,t)=>{let n=t;if(e.composing&&!Fx)return;let r=DS?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&PS(e,RS(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?PS(e,r.value,null,o,t):PS(e,r.textContent,r.innerHTML,o,t)},50)}(e,n)};class BS{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const zS=Bx?"altKey":"ctrlKey";function FS(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[zS]}hS.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o,i=e.state.selection,a=i.empty?null:e.posAtCoords(wS(n));if(a&&a.pos>=i.from&&a.pos<=(i instanceof Sk?i.to-1:i.to));else if(r&&r.mightDrag)o=Sk.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=Sk.create(e.state.doc,t.posBefore))}let s=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=nS(e,s);(!n.dataTransfer.files.length||!Ix||Dx>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(DS?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",DS||n.dataTransfer.setData("text/plain",c),e.dragging=new BS(u,FS(e,n),o)},hS.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},mS.dragover=mS.dragenter=(e,t)=>t.preventDefault(),mS.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(wS(n));if(!o)return;let i=e.state.doc.resolve(o.pos),a=r&&r.slice;a?e.someProp("transformPasted",t=>{a=t(a,e,!1)}):a=rS(e,RS(n.dataTransfer),DS?null:n.dataTransfer.getData("text/html"),!1,i);let s=!(!r||!FS(e,n));if(e.someProp("handleDrop",t=>t(e,n,a||_b.empty,s)))return void n.preventDefault();if(!a)return;n.preventDefault();let l=a?ek(e.state.doc,i.pos,a):i.pos;null==l&&(l=i.pos);let c=e.state.tr;if(s){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,p=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(p))return;let f=c.doc.resolve(u);if(d&&Sk.isSelectable(a.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Sk(f));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),c.setSelection(Ww(e,f,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},hS.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Iw(e)},20))},hS.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},hS.beforeinput=(e,t)=>{if(Ix&&Fx&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,Sx(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let e in mS)hS[e]=mS[e];function WS(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class HS{constructor(e,t){this.toDOM=e,this.spec=t||qS,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new VS(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof HS&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&WS(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class US{constructor(e,t){this.attrs=e,this.spec=t||qS}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new VS(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof US&&WS(this.attrs,e.attrs)&&WS(this.spec,e.spec)}static is(e){return e.type instanceof US}destroy(){}}class $S{constructor(e,t){this.attrs=e,this.spec=t||qS}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new VS(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof $S&&WS(this.attrs,e.attrs)&&WS(this.spec,e.spec)}destroy(){}}class VS{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new VS(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new VS(e,e,new HS(t,n))}static inline(e,t,n,r){return new VS(e,t,new US(n,r))}static node(e,t,n,r){return new VS(e,t,new $S(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof US}get widget(){return this.type instanceof HS}}const GS=[],qS={};class KS{constructor(e,t){this.local=e.length?e:GS,this.children=t.length?t:GS}static create(e,t){return t.length?eE(t,e,0,qS):YS}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,t-a,n,r+a,o)}}map(e,t,n){return this==YS||0==e.maps.length?this:this.mapInner(e,t,0,0,n||qS)}mapInner(e,t,n,r,o){let i;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){let s=e.slice();for(let e=0,t=i;e<n.maps.length;e++){let r=0;n.maps[e].forEach((e,n,o,i)=>{let a=i-o-(n-e);for(let o=0;o<s.length;o+=3){let i=s[o+1];if(i<0||e>i+t-r)continue;let l=s[o]+t-r;n>=l?s[o+1]=e<=l?-2:-1:e>=t&&a&&(s[o]+=a,s[o+1]+=a)}r+=a}),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<s.length;t+=3)if(s[t+1]<0){if(-2==s[t+1]){l=!0,s[t+1]=-1;continue}let c=n.map(e[t]+i),u=c-o;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[t+1]+i,-1)-o,{index:p,offset:f}=r.content.findIndex(u),h=r.maybeChild(p);if(h&&f==u&&f+h.nodeSize==d){let r=s[t+2].mapInner(n,h,c+1,e[t]+i+1,a);r!=YS?(s[t]=u,s[t+1]=d,s[t+2]=r):(s[t+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,o,i,a){function s(e,t){for(let i=0;i<e.local.length;i++){let s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&s(e[n+2],t[n]+i+1);return n}(s,e,t,n,o,i,a),c=eE(l,r,0,a);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new KS(t.sort(tE),s)}(this.children,i||[],e,t,n,r,o):i?new KS(i.sort(tE),GS):YS}add(e,t){return t.length?this==YS?KS.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,i)=>{let a,s=i+n;if(a=QS(t,e,s)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,a,s+1):r.splice(o,0,i,i+e.nodeSize,eE(a,e,s+1,qS)),o+=3}});let i=ZS(o?XS(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new KS(i.length?this.local.concat(i).sort(tE):this.local,r||this.children)}remove(e){return 0==e.length||this==YS?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,i=n[r]+t,a=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<a&&(e[n]=null,(o||(o=[])).push(t));if(!o)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(o,i+1);s!=YS?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,o=0;o<e.length;o++)if(n=e[o])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new KS(r,n):YS}forChild(e,t){if(this==YS)return this;if(t.isLeaf)return KS.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,i=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>o&&t.type instanceof US){let e=Math.max(o,t.from)-o,n=Math.min(i,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new KS(r.sort(tE),GS);return n?new JS([e,n]):e}return n||YS}eq(e){if(this==e)return!0;if(!(e instanceof KS)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return nE(this.localsInner(e))}localsInner(e){if(this==YS)return GS;if(e.inlineContent||!this.local.some(US.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof US||t.push(this.local[e]);return t}forEachSet(e){e(this)}}KS.empty=new KS([],[]),KS.removeOverlap=nE;const YS=KS.empty;class JS{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,qS));return JS.from(n)}forChild(e,t){if(t.isLeaf)return KS.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=YS&&(o instanceof JS?n=n.concat(o.members):n.push(o))}return JS.from(n)}eq(e){if(!(e instanceof JS)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?nE(n?t:t.sort(tE)):GS}static from(e){switch(e.length){case 0:return YS;case 1:return e[0];default:return new JS(e.every(e=>e instanceof KS)?e:e.reduce((e,t)=>e.concat(t instanceof KS?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function ZS(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new VS(o.from+t,o.to+t,o.type))}return n}function QS(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<r&&((o||(o=[])).push(t),e[i]=null);return o}function XS(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function eE(e,t,n,r){let o=[],i=!1;t.forEach((t,a)=>{let s=QS(e,t,a+n);if(s){i=!0;let e=eE(s,t,n+a+1,r);e!=YS&&o.push(a,a+t.nodeSize,e)}});let a=ZS(i?XS(e):e,-n).sort(tE);for(let e=0;e<a.length;e++)a[e].type.valid(t,a[e])||(r.onRemove&&r.onRemove(a[e].spec),a.splice(e--,1));return a.length||o.length?new KS(a,o):YS}function tE(e,t){return e.from-t.from||e.to-t.to}function nE(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),rE(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),rE(t,o+1,i.copy(r.to,i.to)))}}return t}function rE(e,t,n){for(;t<e.length&&tE(n,e[t])>0;)t++;e.splice(t,0,n)}function oE(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=YS&&t.push(r)}),e.cursorWrapper&&t.push(KS.create(e.state.doc,[e.cursorWrapper.deco])),JS.from(t)}const iE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},aE=Mx&&jx<=11;class sE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class lE{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new sE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Mx&&jx<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),aE&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Hw(this.view)){if(this.suppressingSelectionUpdates)return Iw(this.view);if(Mx&&jx<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&yx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=hx(t))n.add(t);for(let r=e.anchorNode;r;r=hx(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Hw(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,a=!1,s=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],s);n&&(o=o<0?n.from:Math.min(n.from,o),i=i<0?n.to:Math.max(n.to,i),n.typeOver&&(a=!0))}if(Ax&&s.length){let t=s.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&pE(e,n)==t||r.remove()}}}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&wx(n)&&(l=Aw(e))&&l.eq(yk.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Iw(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(!cE.has(e)&&(cE.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=Ax,uE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),uE=!0}}(e)),this.handleDOMChange(o,i,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Iw(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Mx&&jx<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?fx(r)+1:0,a=n.localPosFromDOM(e.target,i,-1),s=o&&o.parentNode==e.target?fx(o):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cE=new WeakMap,uE=!1;function dE(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return yx(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function pE(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function fE(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Px&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||Px&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hE=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function mE(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ww(e,t.resolve(n.anchor),t.resolve(n.head))}function gE(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function yE(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class bE{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new yS,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(SE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=xE(this),kE(this),this.nodeViews=wE(this),this.docView=gw(this.state.doc,vE(this),oE(this),this.dom,this),this.domObserver=new lE(this,(e,t,n,r)=>function(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Aw(e,t);if(n&&!e.state.selection.eq(n)){if(Ix&&Fx&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,Sx(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l,c,u=e.state.selection,d=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:a,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],wx(c)||r.push({node:c.focusNode,offset:c.focusOffset})),Ix&&8===e.input.lastKeyCode)for(let e=a;e>i;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){a=e;break}if(!n||n.size)break}let d=e.state.doc,p=e.someProp("domParser")||dv.fromSchema(e.state.schema),f=d.resolve(s),h=null,m=p.parse(o,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:a,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:fE,context:f});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),h={anchor:e+s,head:t+s}}return{doc:m,sel:h,from:s,to:l}}(e,t,n),p=e.state.doc,f=p.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let h=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o&&(r-=a+Math.max(0,i-Math.min(a,s))-i),a<i&&e.size<t.size){let e=r<=i&&r>=a?i-r:0;i-=e,i&&i<t.size&&yE(t.textBetween(i-1,i+1))&&(i+=e?1:-1),s=i+(s-a),a=i}else if(s<i){let t=r<=i&&r>=s?i-r:0;i-=t,i&&i<e.size&&yE(e.textBetween(i-1,i+1))&&(i+=t?1:-1),a=i+(a-s),s=i}return{start:i,endA:a,endB:s}}(f.content,d.doc.content,d.from,l,c);if(h&&e.input.domChangeCount++,(Rx&&e.input.lastIOSEnter>Date.now()-225||Fx)&&o.some(e=>1==e.nodeType&&!hE.test(e.nodeName))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",t=>t(e,Sx(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&u instanceof xk&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=mE(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}h={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof xk&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),Mx&&jx<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>d.from&&" Â "==d.doc.textBetween(h.start-d.from-1,h.start-d.from+1)&&(h.start--,h.endA--,h.endB--);let m=d.doc.resolveNoCache(h.start-d.from),g=d.doc.resolveNoCache(h.endB-d.from),y=p.resolve(h.start),b=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=h.endA;if((Rx&&e.input.lastIOSEnter>Date.now()-225&&(!b||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!b&&m.pos<d.doc.content.size&&(!m.sameParent(g)||!m.parent.inlineContent)&&m.pos<g.pos&&!/\S/.test(d.doc.textBetween(m.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,Sx(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||gE(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=e.resolve(gE(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||gE(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(p,h.start,h.endA,m,g)&&e.someProp("handleKeyDown",t=>t(e,Sx(8,"Backspace"))))return void(Fx&&Ix&&e.domObserver.suppressSelectionUpdates());Ix&&h.endB==h.start&&(e.input.lastChromeDelete=Date.now()),Fx&&!b&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==h.endA&&(h.endB-=2,g=d.doc.resolveNoCache(h.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,Sx(13,"Enter"))})},20));let v,k=h.start,x=h.endA,w=t=>{let n=t||e.state.tr.replace(k,x,d.doc.slice(h.start-d.from,h.endB-d.from));if(d.sel){let t=mE(e,n.doc,d.sel);t&&!(Ix&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==k||t.head==n.mapping.map(x)-1)||Mx&&t.empty&&t.head==k)&&n.setSelection(t)}return i&&n.setMeta("composition",i),n.scrollIntoView()};if(b)if(m.pos==g.pos){Mx&&jx<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Iw(e),20));let t=w(e.state.tr.delete(k,x)),n=p.resolve(h.start).marksAcross(p.resolve(h.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(h.endA==h.endB&&(v=function(e,t){let n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a;for(let e=0;e<a.length;e++)s=a[e].removeFromSet(s);for(let e=0;e<i.length;e++)l=i[e].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(o(t.child(e)));if(kb.from(c).eq(e))return{mark:r,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start())))){let t=w(e.state.tr);"add"==v.type?t.addMark(k,x,v.mark):t.removeMark(k,x,v.mark),e.dispatch(t)}else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset),n=()=>w(e.state.tr.insertText(t,k,x));e.someProp("handleTextInput",r=>r(e,k,x,t,n))||e.dispatch(n())}else e.dispatch(w());else e.dispatch(w())}(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in hS){let n=hS[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!xS(e,t)||kS(e,t)||!e.editable&&t.type in mS||n(e,t)},gS[t]?{passive:!0}:void 0)}Px&&e.dom.addEventListener("input",()=>null),vS(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&vS(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(SE),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(NS(this),i=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=wE(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&vS(this),this.editable=xE(this),kE(this);let s=oE(this),l=vE(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(e.doc,l,s);!u&&e.selection.eq(r.selection)||(i=!0);let d="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=e.root.elementFromPoint(i,a);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=o-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:qx(e.dom)}}(this);if(i){this.domObserver.stop();let t=u&&(Mx||Ix)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(u){let n=Ix?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=kx(e=e.childNodes[t-1])}else{if(!e.parentNode||xx(e))return null;t=fx(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||xx(e))return null;t=fx(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}(this)),!o&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=gw(e.doc,l,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return yx(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Iw(this,t):(zw(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Kx(n,0==r?0:r-t)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof Sk){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Gx(this,t.getBoundingClientRect(),e)}else Gx(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new BS(e.slice,e.move,r<0?void 0:Sk.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let i=o[r].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){if(Mx){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Yx)return e.focus(Yx);let t=qx(e);e.focus(null==Yx?{get preventScroll(){return Yx={preventScroll:!0},!0}}:void 0),Yx||(Yx=!1,Kx(t,0))}(this.dom),Iw(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}updateRoot(){this._root=null}posAtCoords(e){return Xx(this,e)}coordsAtPos(e,t=1){return rw(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){return lw==t&&cw==n?uw:(lw=t,cw=n,uw="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return aw(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=rw(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=gx(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=e.domSelection();return s?sw.test(r.parent.textContent)&&s.modify?aw(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:a}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),p=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{s.collapse(i,a),t&&(t!=i||o!=a)&&s.extend&&s.extend(t,o)}catch(e){}return null!=l&&(s.caretBidiLevel=l),p}):"left"==n||"backward"==n?i:a:r.pos==r.start()||r.pos==r.end()}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return PS(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return PS(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return nS(this,e)}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],oE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mx=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){kS(e,t)||!hS[t.type]||!e.editable&&t.type in mS||hS[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?Px&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return dE(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?dE(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function vE(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[VS.node(0,e.state.doc.content.size,t)]}function kE(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:VS.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function xE(e){return!e.someProp("editable",t=>!1===t(e.state))}function wE(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function SE(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}bE.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var EE={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},CE={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_E="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),OE="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),TE=0;TE<10;TE++)EE[48+TE]=EE[96+TE]=String(TE);for(TE=1;TE<=24;TE++)EE[TE+111]="F"+TE;for(TE=65;TE<=90;TE++)EE[TE]=String.fromCharCode(TE+32),CE[TE]=String.fromCharCode(TE);for(var LE in EE)CE.hasOwnProperty(LE)||(CE[LE]=EE[LE]);const ME="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),jE="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function AE(e){let t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(let e=0;e<i.length-1;e++){let a=i[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);ME?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function NE(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function IE(e){let t=function(e){let t=Object.create(null);for(let n in e)t[AE(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(_E&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||OE&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?CE:EE)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[NE(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[NE(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(jE&&n.ctrlKey&&n.altKey)&&(r=EE[n.keyCode])&&r!=o){let o=t[NE(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}var DE=Object.defineProperty,PE=(e,t)=>{for(var n in t)DE(e,n,{get:t[n],enumerable:!0})};function RE(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var BE=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(i);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a=[],s=!!e,l=e||o.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),o=n(...e)(r);return a.push(o),c}])),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),a.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a={tr:e,editor:r,view:i,state:RE({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(a)]))}};return a}},zE={};PE(zE,{blur:()=>FE,clearContent:()=>WE,clearNodes:()=>HE,command:()=>UE,createParagraphNear:()=>$E,cut:()=>VE,deleteCurrentNode:()=>GE,deleteNode:()=>KE,deleteRange:()=>YE,deleteSelection:()=>JE,enter:()=>ZE,exitCode:()=>QE,extendMarkRange:()=>iC,first:()=>aC,focus:()=>dC,forEach:()=>pC,insertContent:()=>fC,insertContentAt:()=>yC,joinBackward:()=>kC,joinDown:()=>vC,joinForward:()=>xC,joinItemBackward:()=>wC,joinItemForward:()=>SC,joinTextblockBackward:()=>EC,joinTextblockForward:()=>CC,joinUp:()=>bC,keyboardShortcut:()=>OC,lift:()=>LC,liftEmptyBlock:()=>MC,liftListItem:()=>jC,newlineInCode:()=>AC,resetAttributes:()=>DC,scrollIntoView:()=>PC,selectAll:()=>RC,selectNodeBackward:()=>BC,selectNodeForward:()=>zC,selectParentNode:()=>FC,selectTextblockEnd:()=>WC,selectTextblockStart:()=>HC,setContent:()=>$C,setMark:()=>x_,setMeta:()=>w_,setNode:()=>S_,setNodeSelection:()=>E_,setTextSelection:()=>C_,sinkListItem:()=>__,splitBlock:()=>T_,splitListItem:()=>L_,toggleList:()=>A_,toggleMark:()=>N_,toggleNode:()=>I_,toggleWrap:()=>D_,undoInputRule:()=>P_,unsetAllMarks:()=>R_,unsetMark:()=>B_,updateAttributes:()=>z_,wrapIn:()=>F_,wrapInList:()=>W_});var FE=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),WE=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),HE=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return!n||(o.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:o}=t,i=r.resolve(o.map(n)),a=r.resolve(o.map(n+e.nodeSize)),s=i.blockRange(a);if(!s)return;const l=Vv(s);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(s.start,e)}(l||0===l)&&t.lift(s,l)})}),!0)},UE=e=>t=>e(t),$E=()=>({state:e,dispatch:t})=>ex(e,t),VE=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,i.content),r.setSelection(new xk(r.doc.resolve(Math.max(a-1,0)))),!0},GE=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let n=o.depth;n>0;n-=1)if(o.node(n).type===r.type){if(t){const t=o.before(n),r=o.after(n);e.delete(t,r).scrollIntoView()}return!0}return!1};function qE(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var KE=e=>({tr:t,state:n,dispatch:r})=>{const o=qE(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1)if(i.node(e).type===o){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}return!1},YE=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},JE=()=>({state:e,dispatch:t})=>Fk(e,t),ZE=()=>({commands:e})=>e.keyboardShortcut("Enter"),QE=()=>({state:e,dispatch:t})=>Xk(e,t);function XE(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function eC(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:XE(t[r])?t[r].test(e[r]):t[r]===e[r])}function tC(e,t,n={}){return e.find(e=>e.type===t&&eC(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function nC(e,t,n={}){return!!tC(e,t,n)}function rC(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(o.node&&o.node.marks.some(e=>e.type===t)||(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(e=>e.type===t))return;if(n=n||(null==(r=o.node.marks[0])?void 0:r.attrs),!tC([...o.node.marks],t,n))return;let i=o.index,a=e.start()+o.offset,s=i+1,l=a+o.node.nodeSize;for(;i>0&&nC([...e.parent.child(i-1).marks],t,n);)i-=1,a-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&nC([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function oC(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var iC=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=oC(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(o){const e=rC(l,i,t);if(e&&e.from<=c&&e.to>=u){const t=xk.create(a,e.from,e.to);n.setSelection(t)}}return!0},aC=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function sC(e){return e instanceof xk}function lC(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function cC(e,t=null){if(!t)return null;const n=yk.atStart(e),r=yk.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,i=r.to;return"all"===t?xk.create(e,lC(0,o,i),lC(e.content.size,o,i)):xk.create(e,lC(t,o,i),lC(t,o,i))}function uC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var dC=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{(uC()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!sC(n.state.selection))return a(),!0;const s=cC(o.doc,e)||n.state.selection,l=n.state.selection.eq(s);return i&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},pC=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),fC=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),hC=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&hC(r)}return e};function mC(e){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return hC(n)}function gC(e,t,n){if(e instanceof $b||e instanceof kb)return e;n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return kb.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),gC("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,o="";const i=new cv({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,o="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?dv.fromSchema(i).parseSlice(mC(e),n.parseOptions):dv.fromSchema(i).parse(mC(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const r=dv.fromSchema(t);return n.slice?r.parseSlice(mC(e),n.parseOptions).content:r.parse(mC(e),n.parseOptions)}return gC("",t,n)}var yC=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var a;if(o){let o;const s=e=>{i.emit("contentError",{editor:i,error:e,disableCollaboration:()=>{"collaboration"in i.storage&&"object"==typeof i.storage.collaboration&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...(n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{gC(t,i.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(e){s(e)}try{o=gC(t,i.schema,{parseOptions:l,errorOnInvalidContent:null!=(a=n.errorOnInvalidContent)?a:i.options.enableContentCheck})}catch(e){return s(e),!1}let c,{from:u,to:d}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},p=!0,f=!0;if(("type"in o?[o]:o).forEach(e=>{e.check(),p=!!p&&e.isText&&0===e.marks.length,f=!!f&&e.isBlock}),u===d&&f){const{parent:e}=r.doc.resolve(u);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(u-=1,d+=1)}if(p){if(Array.isArray(t))c=t.map(e=>e.text||"").join("");else if(t instanceof kb){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),c=e}else c="object"==typeof t&&t&&t.text?t.text:t;r.insertText(c,u,d)}else{c=o;const e=r.doc.resolve(u),t=e.node(),n=0===e.parentOffset,i=t.isText||t.isTextblock,a=t.content.size>0;n&&i&&a&&(u=Math.max(0,u-1)),r.replaceWith(u,d,c)}n.updateSelection&&function(e,t){const n=e.steps.length-1;if(n<t)return;const r=e.steps[n];if(!(r instanceof Fv||r instanceof Wv))return;const o=e.mapping.maps[n];let i=0;o.forEach((e,t,n,r)=>{0===i&&(i=r)}),e.setSelection(yk.near(e.doc.resolve(i),-1))}(r,r.steps.length-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:c}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:c})}return!0},bC=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,o=r instanceof Sk;if(o){if(r.node.isTextblock||!Zv(e.doc,r.from))return!1;n=r.from}else if(n=Xv(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);o&&r.setSelection(Sk.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),vC=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof Sk){if(r.node.isTextblock||!Zv(e.doc,r.to))return!1;n=r.to}else if(n=Xv(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),kC=()=>({state:e,dispatch:t})=>Hk(e,t),xC=()=>({state:e,dispatch:t})=>Kk(e,t),wC=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Xv(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},SC=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Xv(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},EC=()=>({state:e,dispatch:t})=>((e,t)=>{let n=Wk(e,void 0);if(!n)return!1;let r=Gk(n);return!!r&&Uk(e,r,t)})(e,t),CC=()=>({state:e,dispatch:t})=>((e,t)=>{let n=qk(e,void 0);if(!n)return!1;let r=Jk(n);return!!r&&Uk(e,r,t)})(e,t);function _C(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var OC=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,a=t[t.length-1];"Space"===a&&(a=" ");for(let e=0;e<t.length-1;e+=1){const a=t[e];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error(`Unrecognized modifier name: ${a}`);uC()||_C()?i=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),i&&(a=`Meta-${a}`),o&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=i.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,s))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)}),!0};function TC(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?qE(t,e.schema):null,s=[];e.doc.nodesBetween(r,o,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s.push({node:e,from:n,to:i})});const l=o-r,c=s.filter(e=>!a||a.name===e.node.type.name).filter(e=>eC(e.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((e,t)=>e+t.to-t.from,0)>=l}var LC=(e,t={})=>({state:n,dispatch:r})=>!!TC(n,qE(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&Vv(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)})(n,r),MC=()=>({state:e,dispatch:t})=>tx(e,t),jC=e=>({state:t,dispatch:n})=>{return(r=qE(e,t.schema),function(e,t){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,e=>e.childCount>0&&e.firstChild.type==r);return!!i&&(!t||(n.node(i.depth-1).type==r?function(e,t,n,r){let o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new Wv(i-1,a,i,a,new _b(kb.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Hb(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const s=Vv(r);if(null==s)return!1;o.lift(r,s);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return Zv(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),t(o.scrollIntoView()),!0}(e,t,r,i):function(e,t,n){let r=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,i=n.startIndex;t>i;t--)e-=o.child(t).nodeSize,r.delete(e-1,e+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?kb.empty:kb.from(o))))return!1;let d=i.pos,p=d+a.nodeSize;return r.step(new Wv(d-(s?1:0),p+(l?1:0),d+1,p-1,new _b((s?kb.empty:kb.from(o.copy(kb.empty))).append(l?kb.empty:kb.from(o.copy(kb.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}(e,t,i)))})(t,n);var r},AC=()=>({state:e,dispatch:t})=>Zk(e,t);function NC(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function IC(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var DC=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=NC("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=qE(e,r.schema)),"mark"===s&&(a=oC(e,r.schema)),o&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,IC(e.attrs,t)),a&&e.marks.length&&e.marks.forEach(o=>{a===o.type&&n.addMark(r,r+e.nodeSize,a.create(IC(o.attrs,t)))})})}),!0)},PC=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),RC=()=>({tr:e,dispatch:t})=>{if(t){const t=new Ck(e.doc);e.setSelection(t)}return!0},BC=()=>({state:e,dispatch:t})=>Vk(e,t),zC=()=>({state:e,dispatch:t})=>Yk(e,t),FC=()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(Sk.create(e.doc,n))),!0)})(e,t),WC=()=>({state:e,dispatch:t})=>ax(e,t),HC=()=>({state:e,dispatch:t})=>ix(e,t);function UC(e,t,n={},r={}){return gC(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var $C=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:a,commands:s})=>{const{doc:l}=i;if("full"!==r.preserveWhitespace){const s=UC(e,o.schema,r,{errorOnInvalidContent:null!=t?t:o.options.enableContentCheck});return a&&i.replaceWith(0,l.content.size,s).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:o.options.enableContentCheck})};function VC(e,t){const n=oC(t,e.schema),{from:r,to:o,empty:i}=e.selection,a=[];i?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,e=>{a.push(...e.marks)});const s=a.find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}function GC(e,t){const n=new mk(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function qC(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function KC(e,t,n){return void 0===e.config[t]&&e.parent?KC(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?KC(e.parent,t,n):null}):e.config[t]}function YC(e){return e.map(e=>{const t=KC(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...YC(t())]:e}).flat(10)}function JC(e,t){const n=xv.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function ZC(e){return"function"==typeof e}function QC(e,t=void 0,...n){return ZC(e)?t?e.bind(t)(...n):e(...n):e}function XC(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function e_(e){const t=[],{nodeExtensions:n,markExtensions:r}=XC(e),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=KC(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:o});n&&n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})})})})}),o.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=KC(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(([n,r])=>{const o={...i,...r};"function"==typeof(null==o?void 0:o.default)&&(o.default=o.default()),(null==o?void 0:o.isRequired)&&void 0===(null==o?void 0:o.default)&&delete o.default,t.push({type:e.name,name:n,attribute:o})})}),t}function t_(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const r=t?String(t).split(" "):[],o=n[e]?n[e].split(" "):[],i=r.filter(e=>!o.includes(e));n[e]=[...o,...i].join(" ")}else if("style"===e){const r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],o=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],i=new Map;o.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),n[e]=Array.from(i.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function n_(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>t_(e,t),{})}function r_(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...o}}}}function o_(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function i_(e){return e.sort((e,t)=>{const n=KC(e,"priority")||100,r=KC(t,"priority")||100;return n>r?-1:n<r?1:0})}function a_(e){const t=i_(YC(e)),n=function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}function s_(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,o,(e,n,l,c)=>{var u;e.isBlock&&n>r&&(s+=i);const d=null==a?void 0:a[e.type.name];if(d)return l&&(s+=d({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(s+=null==(u=null==e?void 0:e.text)?void 0:u.slice(Math.max(r,n)-n,o-n))}),s}function l_(e,t){return s_(e,{from:0,to:e.content.size},t)}function c_(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function u_(e,t){const n=NC("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=qE(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,e=>{i.push(e)});const a=i.reverse().find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}(e,t):"mark"===n?VC(e,t):{}}function d_(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,o)=>{const i=[];if(e.ranges.length)e.forEach((e,t)=>{i.push({from:e,to:t})});else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach(({from:e,to:n})=>{const i=t.slice(o).map(e,-1),a=t.slice(o).map(n),s=t.invert().map(i,-1),l=t.invert().map(a);r.push({oldRange:{from:s,to:l},newRange:{from:i,to:a}})})}),function(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>{const r=t.filter((e,t)=>t!==n);return!r.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}(r)}function p_(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const o=rC(n.resolve(e),t.type);o&&r.push({mark:t,...o})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function f_(e,t){return t.nodes[e]||t.marks[e]||null}function h_(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function m_(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?oC(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>eC(e.attrs,n,{strict:!1}));let a=0;const s=[];if(o.forEach(({$from:t,$to:n})=>{const r=t.pos,o=n.pos;e.doc.nodesBetween(r,o,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);a+=i-n,s.push(...e.marks.map(e=>({mark:e,from:n,to:i})))})}),0===a)return!1;const l=s.filter(e=>!i||i.name===e.mark.type.name).filter(e=>eC(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=s.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=a}function g_(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function y_(e,t){const{nodeExtensions:n}=XC(t),r=n.find(t=>t.name===e);if(!r)return!1;const o=QC(KC(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function b_(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(b_(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function v_(e){return e instanceof Sk}function k_(e,t,n){const r=e.state.doc.content.size,o=lC(t,0,r),i=lC(n,0,r),a=e.coordsAtPos(o),s=e.coordsAtPos(i,-1),l=Math.min(a.top,s.top),c=Math.max(a.bottom,s.bottom),u=Math.min(a.left,s.left),d=Math.max(a.right,s.right),p={top:l,bottom:c,left:u,right:d,width:d-u,height:c-l,x:u,y:l};return{...p,toJSON:()=>p}}var x_=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:s}=i,l=oC(e,r.schema);if(o)if(a){const e=VC(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach(e=>{const o=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(o,i,(e,r)=>{const a=Math.max(r,o),s=Math.min(r+e.nodeSize,i);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))}):n.addMark(a,s,l.create(t))})});return function(e,t,n){var r;const{selection:o}=t;let i=null;if(sC(o)&&(i=o.$cursor),i){const t=null!=(r=e.storedMarks)?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:t,$to:r})=>{let o=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));o=t&&i}return!o}),o})}(r,n,l)},w_=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),S_=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=qE(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:e})=>!!sx(i,{...a,...t})(n)||e.clearNodes()).command(({state:e})=>sx(i,{...a,...t})(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},E_=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=lC(e,0,n.content.size),o=Sk.create(n,r);t.setSelection(o)}return!0},C_=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,i=xk.atStart(n).from,a=xk.atEnd(n).to,s=lC(r,i,a),l=lC(o,i,a),c=xk.create(n,s,l);t.setSelection(c)}return!0},__=e=>({state:t,dispatch:n})=>{const r=qE(e,t.schema);return(o=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==o);if(!i)return!1;let a=i.startIndex;if(0==a)return!1;let s=i.parent,l=s.child(a-1);if(l.type!=o)return!1;if(t){let n=l.lastChild&&l.lastChild.type==s.type,r=kb.from(n?o.create():null),a=new _b(kb.from(o.create(null,kb.from(s.type.create(null,r)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new Wv(c-(n?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0})(t,n);var o};function O_(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var T_=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:s,$to:l}=i,c=h_(o.extensionManager.attributes,s.node().type.name,s.node().attrs);if(i instanceof Sk&&i.node.isBlock)return!(!s.parentOffset||!Jv(a,s.pos)||(r&&(e&&O_(n,o.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),0));if(!s.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,d=0===s.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1)));let p=u&&d?[{type:d,attrs:c}]:void 0,f=Jv(t.doc,t.mapping.map(s.pos),1,p);if(p||f||!Jv(t.doc,t.mapping.map(s.pos),1,d?[{type:d}]:void 0)||(f=!0,p=d?[{type:d,attrs:c}]:void 0),r){if(f&&(i instanceof xk&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,p),d&&!u&&!s.parentOffset&&s.parent.type!==d)){const e=t.mapping.map(s.before()),n=t.doc.resolve(e);s.node(-1).canReplaceWith(n.index(),n.index()+1,d)&&t.setNodeMarkup(t.mapping.map(s.before()),d)}e&&O_(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return f},L_=(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var a;const s=qE(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==s)return!1;const p=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let e=kb.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=kb.from(l.node(t).copy(e));const o=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i={...h_(p,l.node().type.name,l.node().attrs),...t},c=(null==(a=s.contentMatch.defaultType)?void 0:a.createAndFill(i))||void 0;e=e.append(kb.from(s.createAndFill(null,c)||void 0));const u=l.before(l.depth-(r-1));n.replace(u,l.after(-o),new _b(e,4-r,0));let d=-1;n.doc.nodesBetween(u,n.doc.content.size,(e,t)=>{if(d>-1)return!1;e.isTextblock&&0===e.content.size&&(d=t+1)}),d>-1&&n.setSelection(xk.near(n.doc.resolve(d))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,h={...h_(p,d.type.name,d.attrs),...t},m={...h_(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=f?[{type:s,attrs:h},{type:f,attrs:m}]:[{type:s,attrs:h}];if(!Jv(n.doc,l.pos,2))return!1;if(o){const{selection:e,storedMarks:t}=r,{splittableMarks:a}=i.extensionManager,s=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!s||!o)return!0;const c=s.filter(e=>a.includes(e.type.name));n.ensureMarks(c)}return!0},M_=(e,t)=>{const n=qC(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!Zv(e.doc,n.pos)||(e.join(n.pos),!0)},j_=(e,t)=>{const n=qC(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!Zv(e.doc,r)||(e.join(r),!0)},A_=(e,t,n,r={})=>({editor:o,tr:i,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=o.extensionManager,f=qE(e,a.schema),h=qE(t,a.schema),{selection:m,storedMarks:g}=a,{$from:y,$to:b}=m,v=y.blockRange(b),k=g||m.$to.parentOffset&&m.$from.marks();if(!v)return!1;const x=qC(e=>y_(e.type.name,d))(m);if(v.depth>=1&&x&&v.depth-x.depth<=1){if(x.node.type===f)return c.liftListItem(h);if(y_(x.node.type.name,d)&&f.validContent(x.node.content)&&s)return l().command(()=>(i.setNodeMarkup(x.pos,f),!0)).command(()=>M_(i,f)).command(()=>j_(i,f)).run()}return n&&k&&s?l().command(()=>{const e=u().wrapInList(f,r),t=k.filter(e=>p.includes(e.type.name));return i.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(f,r).command(()=>M_(i,f)).command(()=>j_(i,f)).run():l().command(()=>!!u().wrapInList(f,r)||c.clearNodes()).wrapInList(f,r).command(()=>M_(i,f)).command(()=>j_(i,f)).run()},N_=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=oC(e,r.schema);return m_(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},I_=(e,t,n={})=>({state:r,commands:o})=>{const i=qE(e,r.schema),a=qE(t,r.schema),s=TC(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?o.setNode(a,l):o.setNode(i,{...l,...n})},D_=(e,t={})=>({state:n,commands:r})=>{const o=qE(e,n.schema);return TC(n,o,t)?r.lift(o):r.wrapIn(o,t)},P_=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},R_=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},B_=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=oC(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!o)return!0;if(u&&a){let{from:e,to:t}=s;const r=null==(i=c.marks().find(e=>e.type===l))?void 0:i.attrs,o=rC(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else d.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},z_=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=NC("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=qE(e,r.schema)),"mark"===s&&(a=oC(e,r.schema)),o&&n.selection.ranges.forEach(e=>{const o=e.$from.pos,s=e.$to.pos;let l,c,u,d;n.selection.empty?r.doc.nodesBetween(o,s,(e,t)=>{i&&i===e.type&&(u=Math.max(t,o),d=Math.min(t+e.nodeSize,s),l=t,c=e)}):r.doc.nodesBetween(o,s,(e,r)=>{r<o&&i&&i===e.type&&(u=Math.max(r,o),d=Math.min(r+e.nodeSize,s),l=r,c=e),r>=o&&r<=s&&(i&&i===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach(i=>{if(a===i.type){const l=Math.max(r,o),c=Math.min(r+e.nodeSize,s);n.addMark(l,c,a.create({...i.attrs,...t}))}}))}),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...t}),a&&c.marks.length&&c.marks.forEach(e=>{a===e.type&&n.addMark(u,d,a.create({...e.attrs,...t}))}))}),!0)},F_=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i),s=a&&Gv(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}(qE(e,n.schema),t)(n,r),W_=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i);if(!a)return!1;let s=r?n.tr:null;return!!function(e,t,n,r=null){let o=!1,i=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=a.resolve(t.start-2);i=new Hb(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new Hb(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let s=Gv(i,n,r,t);return!!s&&(e&&function(e,t,n,r,o){let i=kb.empty;for(let e=n.length-1;e>=0;e--)i=kb.from(n[e].type.create(n[e].attrs,i));e.step(new Wv(t.start-(r?2:0),t.end,t.start,t.end,new _b(i,0,0),n.length,!0));let a=0;for(let e=0;e<n.length;e++)n[e].type==o&&(a=e+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let n=t.startIndex,r=t.endIndex,o=!0;n<r;n++,o=!1)!o&&Jv(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(n).nodeSize}(e,t,s,o,n),!0)}(s,a,e,t)&&(r&&r(s.scrollIntoView()),!0)}}(qE(e,n.schema),t)(n,r),H_=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},U_=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function $_(e){var t;const{editor:n,from:r,to:o,text:i,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let u=!1;const d=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,o,i)=>{var a,s;const l=(null==(s=(a=e.type.spec).toText)?void 0:s.call(a,{node:e,pos:t,parent:o,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+i;return a.forEach(e=>{if(u)return;const t=((e,t)=>{if(XE(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;const a=l.state.tr,c=RE({state:l.state,transaction:a}),p={from:r-(t[0].length-i.length),to:o},{commands:f,chain:h,can:m}=new BE({editor:n,state:c});null!==e.handler({state:c,range:p,match:t,commands:f,chain:h,can:m})&&a.steps.length&&(e.undoable&&a.setMeta(s,{transform:a,from:r,to:o,text:i}),l.dispatch(a),u=!0)}),u}function V_(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function G_(e,t){const n={...e};return V_(e)&&V_(t)&&Object.keys(t).forEach(r=>{V_(t[r])&&V_(e[r])?n[r]=G_(e[r],t[r]):n[r]=t[r]}),n}var q_=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...QC(KC(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...QC(KC(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>G_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},K_=class e extends q_{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const i=o.find(e=>(null==e?void 0:e.type.name)===t.name);return i&&n.removeStoredMark(i),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},Y_=class{constructor(e){this.find=e.find,this.handler=e.handler}};var J_=null;function Z_(e){const{editor:t,rules:n}=e;let r,o=null,i=!1,a=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}const l=({state:e,from:n,to:o,rule:i,pasteEvt:a})=>{const l=e.tr,c=RE({state:e,transaction:l});if(function(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new BE({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,o,(e,t)=>{var p,f,h,m,g;if((null==(f=null==(p=e.type)?void 0:p.spec)?void 0:f.code)||!(e.isText||e.isTextblock||e.isInline))return;const y=null!=(g=null!=(m=null==(h=e.content)?void 0:h.size)?m:e.nodeSize)?g:0,b=Math.max(r,t),v=Math.min(o,t+y);if(b>=v)return;const k=((e,t,n)=>{if(XE(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(b-t,v-t,void 0,"ï¿¼"),i.find,a);k.forEach(e=>{if(void 0===e.index)return;const t=b+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},p=i.handler({state:n,range:o,match:e,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});d.push(p)})}),d.every(e=>null!==e)}({editor:t,state:c,from:Math.max(n-1,0),to:o.b-1,rule:i,pasteEvent:a,dropEvent:r})&&l.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}return s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}},c=n.map(e=>new Pk({view(e){const n=n=>{var r;o=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,o&&(J_=t)},r=()=>{J_&&(J_=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(a=o===e.dom.parentElement,r=t,!a){const e=J_;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return s=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const o=t[0],c="paste"===o.getMeta("uiEvent")&&!i,u="drop"===o.getMeta("uiEvent")&&!a,d=o.getMeta("applyPasteRules"),p=!!d;if(!c&&!u&&!p)return;if(p){let{text:t}=d;"string"==typeof t||(t=JC(kb.from(t),r.schema));const{from:n}=d,o=n+t.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:o},pasteEvt:i})}const f=n.doc.content.findDiffStart(r.doc.content),h=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof f&&h&&f!==h.b?l({rule:e,state:r,from:f,to:h,pasteEvt:s}):void 0}}));return c}var Q_=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=a_(e),this.schema=function(e,t){var n;const r=e_(e),{nodeExtensions:o,markExtensions:i}=XC(e),a=null==(n=o.find(e=>KC(e,"topNode")))?void 0:n.name,s=Object.fromEntries(o.map(n=>{const o=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=KC(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}},{}),s=o_({...a,content:QC(KC(n,"content",i)),marks:QC(KC(n,"marks",i)),group:QC(KC(n,"group",i)),inline:QC(KC(n,"inline",i)),atom:QC(KC(n,"atom",i)),selectable:QC(KC(n,"selectable",i)),draggable:QC(KC(n,"draggable",i)),code:QC(KC(n,"code",i)),whitespace:QC(KC(n,"whitespace",i)),linebreakReplacement:QC(KC(n,"linebreakReplacement",i)),defining:QC(KC(n,"defining",i)),isolating:QC(KC(n,"isolating",i)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=QC(KC(n,"parseHTML",i));l&&(s.parseDOM=l.map(e=>r_(e,o)));const c=KC(n,"renderHTML",i);c&&(s.toDOM=e=>c({node:e,HTMLAttributes:n_(e,o)}));const u=KC(n,"renderText",i);return u&&(s.toText=u),[n.name,s]})),l=Object.fromEntries(i.map(n=>{const o=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=KC(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}},{}),s=o_({...a,inclusive:QC(KC(n,"inclusive",i)),excludes:QC(KC(n,"excludes",i)),group:QC(KC(n,"group",i)),spanning:QC(KC(n,"spanning",i)),code:QC(KC(n,"code",i)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=QC(KC(n,"parseHTML",i));l&&(s.parseDOM=l.map(e=>r_(e,o)));const c=KC(n,"renderHTML",i);return c&&(s.toDOM=e=>c({mark:e,HTMLAttributes:n_(e,o)})),[n.name,s]}));return new cv({topNode:a,nodes:s,marks:l})}(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=KC(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:f_(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=i_([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:f_(t.name,this.schema)},r=[],o=KC(t,"addKeyboardShortcuts",n);let i={};if("mark"===t.type&&KC(t,"exitable",n)&&(i.ArrowRight=()=>K_.handleExit({editor:e,mark:t})),o){const t=Object.fromEntries(Object.entries(o()).map(([t,n])=>[t,()=>n({editor:e})]));i={...i,...t}}const a=new Pk({props:{handleKeyDown:IE(i)}});r.push(a);const s=KC(t,"addInputRules",n);if(g_(t,e.options.enableInputRules)&&s){const t=s();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new Pk({state:{init:()=>null,apply(e,o,i){const a=e.getMeta(r);if(a)return a;const s=e.getMeta("applyInputRules");return!!s&&setTimeout(()=>{let{text:e}=s;"string"==typeof e||(e=JC(kb.from(e),i.schema));const{from:o}=s,a=o+e.length;$_({editor:t,from:o,to:a,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,i,a)=>$_({editor:t,from:o,to:i,text:a,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:o}=e.state.selection;o&&$_({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&$_({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),o=Array.isArray(n)?n:[n];r.push(...o)}}const l=KC(t,"addPasteRules",n);if(g_(t,e.options.enablePasteRules)&&l){const t=l();if(t&&t.length){const n=Z_({editor:e,rules:t});r.push(...n)}}const c=KC(t,"addProseMirrorPlugins",n);if(c){const e=c();r.push(...e)}return r});return t}get attributes(){return e_(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=XC(this.extensions);return Object.fromEntries(t.filter(e=>!!KC(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:qE(t.name,this.schema)},o=KC(t,"addNodeView",r);if(!o)return[];const i=o();return i?[t.name,(r,o,a,s,l)=>{const c=n_(r,n);return i({node:r,view:o,getPos:a,decorations:s,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]:[]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=XC(this.extensions);return Object.fromEntries(t.filter(e=>!!KC(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:oC(t.name,this.schema)},o=KC(t,"addMarkView",r);return o?[t.name,(r,i,a)=>{const s=n_(r,n);return o()({mark:r,view:i,inline:a,editor:e,extension:t,HTMLAttributes:s,updateAttributes:t=>{!function(e,t,n={}){const{state:r}=t,{doc:o,tr:i}=r,a=e;o.descendants((t,r)=>{const o=i.mapping.map(r),s=i.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach(e=>{if(e!==a)return!1;l=e}),!l)return;let c=!1;if(Object.keys(n).forEach(e=>{n[e]!==l.attrs[e]&&(c=!0)}),c){const t=e.type.create({...e.attrs,...n});i.removeMark(o,s,e.type),i.addMark(o,s,t)}}),i.docChanged&&t.view.dispatch(i)}(r,e,t)}})}]:[]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:f_(e.name,this.schema)};"mark"===e.type&&(null==(t=QC(KC(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name);const r=KC(e,"onBeforeCreate",n),o=KC(e,"onCreate",n),i=KC(e,"onUpdate",n),a=KC(e,"onSelectionUpdate",n),s=KC(e,"onTransaction",n),l=KC(e,"onFocus",n),c=KC(e,"onBlur",n),u=KC(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),s&&this.editor.on("transaction",s),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)})}};Q_.resolve=a_,Q_.sort=i_,Q_.flatten=YC,PE({},{ClipboardTextSerializer:()=>eO,Commands:()=>tO,Delete:()=>nO,Drop:()=>rO,Editable:()=>oO,FocusEvents:()=>aO,Keymap:()=>sO,Paste:()=>lO,Tabindex:()=>cO,focusEventsPluginKey:()=>iO});var X_=class e extends q_{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},eO=X_.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new Pk({key:new zk("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map(e=>e.$from.pos)),s=Math.max(...i.map(e=>e.$to.pos)),l=c_(n);return s_(r,{from:a,to:s},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),tO=X_.create({name:"commands",addCommands:()=>({...zE})}),nO=X_.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const i=()=>{var n,r,o,i;if(null!=(i=null==(o=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.filterTransaction)?void 0:o.call(r,e))?i:e.getMeta("y-sync$"))return;const a=GC(e.before,[e,...t]);d_(a).forEach(t=>{a.mapping.mapResult(t.oldRange.from).deletedAfter&&a.mapping.mapResult(t.oldRange.to).deletedBefore&&a.before.nodesBetween(t.oldRange.from,t.oldRange.to,(n,r)=>{const o=r+n.nodeSize-2,i=t.oldRange.from<=r&&o<=t.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:o,newFrom:a.mapping.map(r),newTo:a.mapping.map(o),deletedRange:t.oldRange,newRange:t.newRange,partial:!i,editor:this.editor,transaction:e,combinedTransform:a})})});const s=a.mapping;a.steps.forEach((t,n)=>{var r,o;if(t instanceof Rv){const i=s.slice(n).map(t.from,-1),l=s.slice(n).map(t.to),c=s.invert().map(i,-1),u=s.invert().map(l),d=null==(r=a.doc.nodeAt(i-1))?void 0:r.marks.some(e=>e.eq(t.mark)),p=null==(o=a.doc.nodeAt(l))?void 0:o.marks.some(e=>e.eq(t.mark));this.editor.emit("delete",{type:"mark",mark:t.mark,from:t.from,to:t.to,deletedRange:{from:c,to:u},newRange:{from:i,to:l},partial:Boolean(p||d),editor:this.editor,transaction:e,combinedTransform:a})}})};null==(o=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.async)||o?setTimeout(i,0):i()}}),rO=X_.create({name:"drop",addProseMirrorPlugins(){return[new Pk({key:new zk("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),oO=X_.create({name:"editable",addProseMirrorPlugins(){return[new Pk({key:new zk("editable"),props:{editable:()=>this.editor.options.editable}})]}}),iO=new zk("focusEvents"),aO=X_.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Pk({key:iO,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),sO=X_.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:o,$anchor:i}=n,{pos:a,parent:s}=i,l=i.parent.isTextblock&&a>0?t.doc.resolve(a-1):i,c=l.parent.type.spec.isolating,u=i.pos-i.parentOffset,d=c&&1===l.parent.childCount?u===i.pos:yk.atStart(r).from===a;return!(!o||!s.type.isTextblock||s.textContent.length||!d||d&&"paragraph"===i.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return uC()||_C()?o:r},addProseMirrorPlugins(){return[new Pk({key:new zk("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:a,to:s}=t.selection,l=yk.atStart(t.doc).from,c=yk.atEnd(t.doc).to;if(i||a!==l||s!==c)return;if(!b_(n.doc))return;const u=n.tr,d=RE({state:n,transaction:u}),{commands:p}=new BE({editor:this.editor,state:d});return p.clearNodes(),u.steps.length?u:void 0}})]}}),lO=X_.create({name:"paste",addProseMirrorPlugins(){return[new Pk({key:new zk("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),cO=X_.create({name:"tabindex",addProseMirrorPlugins(){return[new Pk({key:new zk("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),uO=class e{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You canâ€™t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!o&&s.depth<=this.depth)return;const l=new e(s,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new e(s,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const o=Object.keys(t);return this.children.forEach(i=>{n&&r.length>0||(i.node.type.name===e&&o.every(e=>t[e]===i.node.attrs[e])&&r.push(i),n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},dO=class extends H_{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=cC(t,this.options.autofocus);this.editorState=Ik.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',document.getElementsByTagName("head")[0].appendChild(r),r}(0,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=ZC(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[oO,eO.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),tO,aO,sO,cO,rO,lO,nO].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new Q_(n,this)}createCommandManager(){this.commandManager=new BE({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=UC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message)))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=UC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new bE(e,{...this.options.editorProps,attributes:{role:"textbox",...null==(t=this.options.editorProps)?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),o=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),s=null==a?void 0:a.getMeta("focus"),l=null==a?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||i.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return u_(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return TC(e,null,n)||m_(e,null,n);const r=NC(t,e.schema);return"node"===r?TC(e,t,n):"mark"===r&&m_(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return JC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return l_(this.state.doc,{blockSeparator:t,textSerializers:{...c_(this.schema),...n}})}get isEmpty(){return b_(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new uO(t,this)}get $doc(){return this.$pos(0)}};function pO(e){return new U_({find:e.find,handler:({state:t,range:n,match:r})=>{const o=QC(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:i}=t,a=r[r.length-1],s=r[0];if(a){const r=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(p_(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const u=n.from+r+a.length;i.addMark(n.from+r,u,e.type.create(o||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function fO(e){return new U_({find:e.find,handler:({state:t,range:n,match:r})=>{const o=QC(e.getAttributes,void 0,r)||{},{tr:i}=t,a=n.from;let s=n.to;const l=e.type.create(o);if(r[1]){let e=a+r[0].lastIndexOf(r[1]);e>s?e=s:s=e+r[1].length;const t=r[0][r[0].length-1];i.insertText(t,a+r[0].length-1),i.replaceWith(e,s,l)}else if(r[0]){const t=e.type.isInline?a:a-1;i.insert(t,e.type.create(o)).delete(i.mapping.map(a),i.mapping.map(s))}i.scrollIntoView()},undoable:e.undoable})}function hO(e){return new U_({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=QC(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function mO(e){return new U_({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=QC(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),s=a.doc.resolve(n.from).blockRange(),l=s&&Gv(s,e.type,i);if(!l)return null;if(a.wrap(s,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:o}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter(e=>o.includes(e.type.name));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";o().updateAttributes(t,i).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Zv(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&a.join(n.from-1)},undoable:e.undoable})}var gO=class{constructor(e){var t,n,r,o,i;this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=e=>{if(!this.isResizing||!this.activeHandle)return;const t=e.clientX-this.startX,n=e.clientY-this.startY;this.handleResize(t,n)},this.handleTouchMove=e=>{if(!this.isResizing||!this.activeHandle)return;const t=e.touches[0];if(!t)return;const n=t.clientX-this.startX,r=t.clientY-this.startY;this.handleResize(n,r)},this.handleMouseUp=()=>{if(!this.isResizing)return;const e=this.element.offsetWidth,t=this.element.offsetHeight;this.onCommit(e,t),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=e=>{"Shift"===e.key&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=e=>{"Shift"===e.key&&(this.isShiftKeyPressed=!1)},this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(null==(t=e.options)?void 0:t.min)&&(this.minSize={...this.minSize,...e.options.min}),(null==(n=e.options)?void 0:n.max)&&(this.maxSize=e.options.max),(null==(r=null==e?void 0:e.options)?void 0:r.directions)&&(this.directions=e.options.directions),(null==(o=e.options)?void 0:o.preserveAspectRatio)&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(null==(i=e.options)?void 0:i.className)&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type===this.node.type&&(this.node=e,!this.onUpdate||this.onUpdate(e,t,n))}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),o=t.includes("left"),i=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),o&&(e.style.left="0"),i&&(e.style.right="0"),"top"!==t&&"bottom"!==t||(e.style.left="0",e.style.right="0"),"left"!==t&&"right"!==t||(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",t=>this.handleResizeStart(t,e)),t.addEventListener("touchstart",t=>this.handleResizeStart(t,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,(e=>"touches"in e)(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:o}=this.calculateNewDimensions(this.activeHandle,e,t),i=this.applyConstraints(r,o,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,o=this.startHeight;const i=e.includes("right"),a=e.includes("left"),s=e.includes("bottom"),l=e.includes("top");return i?r=this.startWidth+t:a&&(r=this.startWidth-t),s?o=this.startHeight+n:l&&(o=this.startHeight-n),"right"!==e&&"left"!==e||(r=this.startWidth+(i?t:-t)),"top"!==e&&"bottom"!==e||(o=this.startHeight+(s?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,o,e):{width:r,height:o}}applyConstraints(e,t,n){var r,o,i,a;if(!n){let n=Math.max(this.minSize.width,e),i=Math.max(this.minSize.height,t);return(null==(r=this.maxSize)?void 0:r.width)&&(n=Math.min(this.maxSize.width,n)),(null==(o=this.maxSize)?void 0:o.height)&&(i=Math.min(this.maxSize.height,i)),{width:n,height:i}}let s=e,l=t;return s<this.minSize.width&&(s=this.minSize.width,l=s/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,s=l*this.aspectRatio),(null==(i=this.maxSize)?void 0:i.width)&&s>this.maxSize.width&&(s=this.maxSize.width,l=s/this.aspectRatio),(null==(a=this.maxSize)?void 0:a.height)&&l>this.maxSize.height&&(l=this.maxSize.height,s=l*this.aspectRatio),{width:s,height:l}}applyAspectRatio(e,t,n){const r="top"===n||"bottom"===n;return"left"===n||"right"===n?{width:e,height:e/this.aspectRatio}:r?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function yO(e){if(!(null==e?void 0:e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,e=>(n.push(e),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const e=o.map(e=>e.trim().slice(1));t.class=e.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]),Array.from(r.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(([,e,r])=>{var o;const i=parseInt((null==(o=r.match(/__QUOTED_(\d+)__/))?void 0:o[1])||"0",10),a=n[i];a&&(t[e]=a.slice(1,-1))});const a=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return a&&a.split(/\s+/).filter(Boolean).forEach(e=>{e.match(/^[a-zA-Z][\w-]*$/)&&(t[e]=!0)}),t}function bO(e){if(!e||0===Object.keys(e).length)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(e=>t.push(`.${e}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([e,n])=>{"class"!==e&&"id"!==e&&(!0===n?t.push(e):!1!==n&&null!=n&&t.push(`${e}="${String(n)}"`))}),t.join(" ")}function vO(e){const{nodeName:t,name:n,parseAttributes:r=yO,serializeAttributes:o=bO,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t;return{parseMarkdown:(e,n)=>{const r={...i,...e.attributes};return n.createNode(t,r,[])},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${l}(?:\\s|$)`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,o){const i=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),s=e.match(i);if(!s)return;const c=s[1]||"",u=r(c);return a.find(e=>!(e in u))?void 0:{type:t,raw:s[0],attributes:u}}},renderMarkdown:e=>{const t=(e=>{if(!s)return e;const t={};return s.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),n=o(t);return`:::${l}${n?` {${n}}`:""} :::`}}}function kO(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=yO,serializeAttributes:i=bO,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t;return{parseMarkdown:(e,n)=>{let o;if(r){const t=r(e);o="string"==typeof t?[{type:"text",text:t}]:t}else o="block"===s?n.parseChildren(e.tokens||[]):n.parseInline(e.tokens||[]);const i={...a,...e.attributes};return n.createNode(t,i,o)},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${c}`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,r){var i;const a=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),l=e.match(a);if(!l)return;const[u,d=""]=l,p=o(d);let f=1;const h=u.length;let m="";const g=/^:::([\w-]*)(\s.*)?/gm,y=e.slice(h);for(g.lastIndex=0;;){const n=g.exec(y);if(null===n)break;const o=n.index,a=n[1];if(!(null==(i=n[2])?void 0:i.endsWith(":::")))if(a)f+=1;else if(f-=1,0===f){const i=y.slice(0,o);m=i.trim();const a=e.slice(0,h+o+n[0].length);let l=[];if(m)if("block"===s)for(l=r.blockTokens(i),l.forEach(e=>{!e.text||e.tokens&&0!==e.tokens.length||(e.tokens=r.inlineTokens(e.text))});l.length>0;){const e=l[l.length-1];if("paragraph"!==e.type||e.text&&""!==e.text.trim())break;l.pop()}else l=r.inlineTokens(m);return{type:t,raw:a,attributes:p,content:m,tokens:l}}}}},renderMarkdown:(e,t)=>{const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),r=i(n),o=r?` {${r}}`:"",a=t.renderChildren(e.content||[],"\n\n");return`:::${c}${o}\n\n${a}\n\n:::`}}}function xO(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;null!==r;){const[,o,i,a]=r;t[o]=i||a,r=n.exec(e)}return t}function wO(e){return Object.entries(e).filter(([,e])=>null!=e).map(([e,t])=>`${e}="${t}"`).join(" ")}function SO(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=xO,serializeAttributes:i=wO,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,u=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(e,n)=>{const o={...a,...e.attributes};if(s)return n.createNode(t,o);const i=r?r(e):e.content||"";return i?n.createNode(t,o,[n.createTextNode(i)]):n.createNode(t,o,[])},markdownTokenizer:{name:t,level:"inline",start(e){const t=s?new RegExp(`\\[${u}\\s*[^\\]]*\\]`):new RegExp(`\\[${u}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${u}\\]`),n=e.match(t),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(e,n,r){const i=s?new RegExp(`^\\[${u}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${u}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${u}\\]`),a=e.match(i);if(!a)return;let l="",c="";if(s){const[,e]=a;c=e}else{const[,e,t]=a;c=e,l=t||""}const d=o(c.trim());return{type:t,raw:a[0],content:l.trim(),attributes:d}}},renderMarkdown:e=>{let t="";r?t=r(e):e.content&&e.content.length>0&&(t=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""));const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),o=i(n),a=o?` ${o}`:"";return s?`[${c}${a}]`:`[${c}${a}]${t}[/${c}]`}}}function EO(e,t,n){var r,o,i,a;const s=e.split("\n"),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<s.length;){const e=s[u],p=e.match(t.itemPattern);if(!p){if(l.length>0)break;if(""===e.trim()){u+=1;continue}return}const f=t.extractItemData(p),{indentLevel:h,mainContent:m}=f;c=`${c}${e}\n`;const g=[m];for(u+=1;u<s.length;){const e=s[u];if(""===e.trim()){const t=s.slice(u+1).findIndex(e=>""!==e.trim());if(-1===t)break;if(((null==(o=null==(r=s[u+1+t].match(/^(\s*)/))?void 0:r[1])?void 0:o.length)||0)>h){g.push(e),c=`${c}${e}\n`,u+=1;continue}break}if(!(((null==(a=null==(i=e.match(/^(\s*)/))?void 0:i[1])?void 0:a.length)||0)>h))break;g.push(e),c=`${c}${e}\n`,u+=1}let y;const b=g.slice(1);if(b.length>0){const e=b.map(e=>e.slice(h+d)).join("\n");e.trim()&&(y=t.customNestedParser?t.customNestedParser(e):n.blockTokens(e))}const v=t.createToken(f,y);l.push(v)}if(0!==l.length)return{items:l,raw:c.trim()}}function CO(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o="function"==typeof n?n(r):n,[i,...a]=e.content,s=[`${o}${t.renderChildren([i])}`];return a&&a.length>0&&a.forEach(e=>{const n=t.renderChildren([e]);if(n){const e=n.split("\n").map(e=>e?t.indent(e):"").join("\n");s.push(e)}}),s.join("\n")}PE({},{createAtomBlockMarkdownSpec:()=>vO,createBlockMarkdownSpec:()=>kO,createInlineMarkdownSpec:()=>SO,parseAttributes:()=>yO,parseIndentedBlocks:()=>EO,renderNestedMarkdownContent:()=>CO,serializeAttributes:()=>bO});var _O=class e extends q_{constructor(){super(...arguments),this.type="node"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};function OO(e){return new Y_({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=QC(e.getAttributes,void 0,r,o);if(!1===i||null===i)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const r=l.search(/\S/),o=n.from+l.indexOf(s),u=o+s.length;if(p_(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;u<n.to&&a.delete(u,n.to),o>n.from&&a.delete(n.from+r,o),c=n.from+r+s.length,a.addMark(n.from+r,c,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}var TO=o(5095),LO=o(9242),MO=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},jO=({contentComponent:e})=>{const t=(0,mb.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getServerSnapshot);return(0,Je.jsx)(Je.Fragment,{children:Object.values(t)})},AO=class extends n.Component{constructor(e){var t;super(e),this.editorContentRef=n.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:ue.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{ref:MO(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&(0,Je.jsx)(jO,{contentComponent:e.contentComponent})]})}},NO=(0,n.forwardRef)((e,t)=>{const r=n.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return n.createElement(AO,{key:r,innerRef:t,...e})}),IO=n.memo(NO),DO="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,PO=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}},RO="undefined"==typeof window,BO=RO||Boolean("undefined"!=typeof window&&window.next),zO=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?RO||BO?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDrop)?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null==(n=(t=this.options.current).onPaste)?void 0:n.call(t,...e)},onDelete:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDelete)?void 0:n.call(t,...e)}};return new dO(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};var FO=(0,n.createContext)({editor:null}),WO=(FO.Consumer,()=>(0,n.useContext)(FO)),HO=(0,n.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}});n.forwardRef((e,t)=>{const{onDragStart:r}=(0,n.useContext)(HO),o=e.as||"div";return(0,Je.jsx)(o,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})}),n.createContext({markViewContentRef:()=>{}});const UO=["top","right","bottom","left"],$O=["start","end"],VO=UO.reduce((e,t)=>e.concat(t,t+"-"+$O[0],t+"-"+$O[1]),[]),GO=Math.min,qO=Math.max,KO=Math.round,YO=(Math.floor,e=>({x:e,y:e})),JO={left:"right",right:"left",bottom:"top",top:"bottom"},ZO={start:"end",end:"start"};function QO(e,t,n){return qO(e,GO(t,n))}function XO(e,t){return"function"==typeof e?e(t):e}function eT(e){return e.split("-")[0]}function tT(e){return e.split("-")[1]}function nT(e){return"x"===e?"y":"x"}function rT(e){return"y"===e?"height":"width"}const oT=new Set(["top","bottom"]);function iT(e){return oT.has(eT(e))?"y":"x"}function aT(e){return nT(iT(e))}function sT(e,t,n){void 0===n&&(n=!1);const r=tT(e),o=aT(e),i=rT(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=fT(a)),[a,fT(a)]}function lT(e){return e.replace(/start|end/g,e=>ZO[e])}const cT=["left","right"],uT=["right","left"],dT=["top","bottom"],pT=["bottom","top"];function fT(e){return e.replace(/left|right|bottom|top/g,e=>JO[e])}function hT(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function mT(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function gT(e,t,n){let{reference:r,floating:o}=e;const i=iT(t),a=aT(t),s=rT(a),l=eT(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-o.width,y:d};break;default:f={x:r.x,y:r.y}}switch(tT(t)){case"start":f[a]-=p*(n&&c?-1:1);break;case"end":f[a]+=p*(n&&c?-1:1)}return f}async function yT(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=XO(t,e),h=hT(f),m=s[p?"floating"===d?"reference":"floating":d],g=mT(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),v=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},k=mT(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-k.top+h.top)/v.y,bottom:(k.bottom-g.bottom+h.bottom)/v.y,left:(g.left-k.left+h.left)/v.x,right:(k.right-g.right+h.right)/v.x}}function bT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vT(e){return UO.some(t=>e[t]>=0)}function kT(e){const t=GO(...e.map(e=>e.left)),n=GO(...e.map(e=>e.top));return{x:t,y:n,width:qO(...e.map(e=>e.right))-t,height:qO(...e.map(e=>e.bottom))-n}}const xT=new Set(["left","top"]);function wT(){return"undefined"!=typeof window}function ST(e){return _T(e)?(e.nodeName||"").toLowerCase():"#document"}function ET(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function CT(e){var t;return null==(t=(_T(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function _T(e){return!!wT()&&(e instanceof Node||e instanceof ET(e).Node)}function OT(e){return!!wT()&&(e instanceof Element||e instanceof ET(e).Element)}function TT(e){return!!wT()&&(e instanceof HTMLElement||e instanceof ET(e).HTMLElement)}function LT(e){return!(!wT()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ET(e).ShadowRoot)}const MT=new Set(["inline","contents"]);function jT(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=UT(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!MT.has(o)}const AT=new Set(["table","td","th"]);function NT(e){return AT.has(ST(e))}const IT=[":popover-open",":modal"];function DT(e){return IT.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const PT=["transform","translate","scale","rotate","perspective"],RT=["transform","translate","scale","rotate","perspective","filter"],BT=["paint","layout","strict","content"];function zT(e){const t=FT(),n=OT(e)?UT(e):e;return PT.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||RT.some(e=>(n.willChange||"").includes(e))||BT.some(e=>(n.contain||"").includes(e))}function FT(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const WT=new Set(["html","body","#document"]);function HT(e){return WT.has(ST(e))}function UT(e){return ET(e).getComputedStyle(e)}function $T(e){return OT(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function VT(e){if("html"===ST(e))return e;const t=e.assignedSlot||e.parentNode||LT(e)&&e.host||CT(e);return LT(t)?t.host:t}function GT(e){const t=VT(e);return HT(t)?e.ownerDocument?e.ownerDocument.body:e.body:TT(t)&&jT(t)?t:GT(t)}function qT(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=GT(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=ET(o);if(i){const e=KT(a);return t.concat(a,a.visualViewport||[],jT(o)?o:[],e&&n?qT(e):[])}return t.concat(o,qT(o,[],n))}function KT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function YT(e){const t=UT(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=TT(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=KO(n)!==i||KO(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function JT(e){return OT(e)?e:e.contextElement}function ZT(e){const t=JT(e);if(!TT(t))return YO(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=YT(t);let a=(i?KO(n.width):n.width)/r,s=(i?KO(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const QT=YO(0);function XT(e){const t=ET(e);return FT()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:QT}function eL(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=JT(e);let a=YO(1);t&&(r?OT(r)&&(a=ZT(r)):a=ZT(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ET(e))&&t}(i,n,r)?XT(i):YO(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const e=ET(i),t=r&&OT(r)?ET(r):r;let n=e,o=KT(n);for(;o&&r&&t!==n;){const e=ZT(o),t=o.getBoundingClientRect(),r=UT(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=a,n=ET(o),o=KT(n)}}return mT({width:u,height:d,x:l,y:c})}function tL(e,t){const n=$T(e).scrollLeft;return t?t.left+n:eL(CT(e)).left+n}function nL(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-tL(e,n),y:n.top+t.scrollTop}}const rL=new Set(["absolute","fixed"]);function oL(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=ET(e),r=CT(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=FT();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}const c=tL(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-o);a<=25&&(i-=a)}else c<=25&&(i+=c);return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=CT(e),n=$T(e),r=e.ownerDocument.body,o=qO(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=qO(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+tL(e);const s=-n.scrollTop;return"rtl"===UT(r).direction&&(a+=qO(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(CT(e));else if(OT(t))r=function(e,t){const n=eL(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=TT(e)?ZT(e):YO(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=XT(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return mT(r)}function iL(e,t){const n=VT(e);return!(n===t||!OT(n)||HT(n))&&("fixed"===UT(n).position||iL(n,t))}function aL(e,t,n){const r=TT(t),o=CT(t),i="fixed"===n,a=eL(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=YO(0);function c(){l.x=tL(o)}if(r||!r&&!i)if(("body"!==ST(t)||jT(o))&&(s=$T(t)),r){const e=eL(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?YO(0):nL(o,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function sL(e){return"static"===UT(e).position}function lL(e,t){if(!TT(e)||"fixed"===UT(e).position)return null;if(t)return t(e);let n=e.offsetParent;return CT(e)===n&&(n=n.ownerDocument.body),n}function cL(e,t){const n=ET(e);if(DT(e))return n;if(!TT(e)){let t=VT(e);for(;t&&!HT(t);){if(OT(t)&&!sL(t))return t;t=VT(t)}return n}let r=lL(e,t);for(;r&&NT(r)&&sL(r);)r=lL(r,t);return r&&HT(r)&&sL(r)&&!zT(r)?n:r||function(e){let t=VT(e);for(;TT(t)&&!HT(t);){if(zT(t))return t;if(DT(t))return null;t=VT(t)}return null}(e)||n}const uL={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=CT(r),s=!!t&&DT(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=YO(1);const u=YO(0),d=TT(r);if((d||!d&&!i)&&(("body"!==ST(r)||jT(a))&&(l=$T(r)),TT(r))){const e=eL(r);c=ZT(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const p=!a||d||i?YO(0):nL(a,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:CT,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?DT(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=qT(e,[],!1).filter(e=>OT(e)&&"body"!==ST(e)),o=null;const i="fixed"===UT(e).position;let a=i?VT(e):e;for(;OT(a)&&!HT(a);){const t=UT(a),n=zT(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&rL.has(o.position)||jT(a)&&!n&&iL(e,a))?r=r.filter(e=>e!==a):o=t,a=VT(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],s=a[0],l=a.reduce((e,n)=>{const r=oL(t,n,o);return e.top=qO(r.top,e.top),e.right=GO(r.right,e.right),e.bottom=GO(r.bottom,e.bottom),e.left=qO(r.left,e.left),e},oL(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:cL,getElementRects:async function(e){const t=this.getOffsetParent||cL,n=this.getDimensions,r=await n(e.floating);return{reference:aL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=YT(e);return{width:t,height:n}},getScale:ZT,isElement:OT,isRTL:function(e){return"rtl"===UT(e).direction}},dL=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=eT(n),s=tT(n),l="y"===iT(n),c=xT.has(a)?-1:1,u=i&&l?-1:1,d=XO(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},pL=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:a,placement:s,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:p=VO,autoAlignment:f=!0,...h}=XO(e,t),m=void 0!==d||p===VO?function(e,t,n){return(e?[...n.filter(t=>tT(t)===e),...n.filter(t=>tT(t)!==e)]:n.filter(e=>eT(e)===e)).filter(n=>!e||tT(n)===e||!!t&&lT(n)!==n)}(d||null,f,p):p,g=await yT(t,h),y=(null==(n=a.autoPlacement)?void 0:n.index)||0,b=m[y];if(null==b)return{};const v=sT(b,i,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(s!==b)return{reset:{placement:m[0]}};const k=[g[eT(b)],g[v[0]],g[v[1]]],x=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:b,overflows:k}],w=m[y+1];if(w)return{data:{index:y+1,overflows:x},reset:{placement:w}};const S=x.map(e=>{const t=tT(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),E=S.filter(e=>e[2].slice(0,tT(e[0])?2:3).every(e=>e<=0)),C=(null==(o=E[0])?void 0:o[0])||S[0][0];return C!==s?{data:{index:y+1,overflows:x},reset:{placement:C}}:{}}}},fL=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=XO(e,t),c={x:n,y:r},u=await yT(t,l),d=iT(eT(o)),p=nT(d);let f=c[p],h=c[d];if(i){const e="y"===p?"bottom":"right";f=QO(f+u["y"===p?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";h=QO(h+u["y"===d?"top":"left"],h,h-u[e])}const m=s.fn({...t,[p]:f,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:i,[d]:a}}}}}},hL=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=XO(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const y=eT(o),b=iT(s),v=eT(s)===s,k=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=p||(v||!m?[fT(s)]:function(e){const t=fT(e);return[lT(e),t,lT(t)]}(s)),w="none"!==h;!p&&w&&x.push(...function(e,t,n,r){const o=tT(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?uT:cT:t?cT:uT;case"left":case"right":return t?dT:pT;default:return[]}}(eT(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(lT)))),i}(s,m,h,k));const S=[s,...x],E=await yT(t,g),C=[];let _=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&C.push(E[y]),d){const e=sT(o,a,k);C.push(E[e[0]],E[e[1]])}if(_=[..._,{placement:o,overflows:C}],!C.every(e=>e<=0)){var O,T;const e=((null==(O=i.flip)?void 0:O.index)||0)+1,t=S[e];if(t&&("alignment"!==d||b===iT(t)||_.every(e=>iT(e.placement)!==b||e.overflows[0]>0)))return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(T=_.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var L;const e=null==(L=_.filter(e=>{if(w){const t=iT(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:L[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},mL=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,{apply:l=()=>{},...c}=XO(e,t),u=await yT(t,c),d=eT(o),p=tT(o),f="y"===iT(o),{width:h,height:m}=i.floating;let g,y;"top"===d||"bottom"===d?(g=d,y=p===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=d,g="end"===p?"top":"bottom");const b=m-u.top-u.bottom,v=h-u.left-u.right,k=GO(m-u[g],b),x=GO(h-u[y],v),w=!t.middlewareData.shift;let S=k,E=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=v),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=b),w&&!p){const e=qO(u.left,0),t=qO(u.right,0),n=qO(u.top,0),r=qO(u.bottom,0);f?E=h-2*(0!==e||0!==t?e+t:qO(u.left,u.right)):S=m-2*(0!==n||0!==r?n+r:qO(u.top,u.bottom))}await l({...t,availableWidth:E,availableHeight:S});const C=await a.getDimensions(s.floating);return h!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}},gL=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=XO(e,t);switch(r){case"referenceHidden":{const e=bT(await yT(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:vT(e)}}}case"escaped":{const e=bT(await yT(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:vT(e)}}}default:return{}}}}},yL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=XO(e,t)||{};if(null==c)return{};const d=hT(u),p={x:n,y:r},f=aT(o),h=rT(f),m=await a.getDimensions(c),g="y"===f,y=g?"top":"left",b=g?"bottom":"right",v=g?"clientHeight":"clientWidth",k=i.reference[h]+i.reference[f]-p[f]-i.floating[h],x=p[f]-i.reference[f],w=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let S=w?w[v]:0;S&&await(null==a.isElement?void 0:a.isElement(w))||(S=s.floating[v]||i.floating[h]);const E=k/2-x/2,C=S/2-m[h]/2-1,_=GO(d[y],C),O=GO(d[b],C),T=_,L=S-m[h]-O,M=S/2-m[h]/2+E,j=QO(T,M,L),A=!l.arrow&&null!=tT(o)&&M!==j&&i.reference[h]/2-(M<T?_:O)-m[h]/2<0,N=A?M<T?M-T:M-L:0;return{[f]:p[f]+N,data:{[f]:j,centerOffset:M-j-N,...A&&{alignmentOffset:N}},reset:A}}}),bL=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:l,y:c}=XO(e,t),u=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(r.reference))||[]),d=function(e){const t=e.slice().sort((e,t)=>e.y-t.y),n=[];let r=null;for(let e=0;e<t.length;e++){const o=t[e];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(e=>mT(kT(e)))}(u),p=mT(kT(u)),f=hT(s),h=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===d.length&&d[0].left>d[1].right&&null!=l&&null!=c)return d.find(e=>l>e.left-f.left&&l<e.right+f.right&&c>e.top-f.top&&c<e.bottom+f.bottom)||p;if(d.length>=2){if("y"===iT(n)){const e=d[0],t=d[d.length-1],r="top"===eT(n),o=e.top,i=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:o,bottom:i,left:a,right:s,width:s-a,height:i-o,x:a,y:o}}const e="left"===eT(n),t=qO(...d.map(e=>e.right)),r=GO(...d.map(e=>e.left)),o=d.filter(n=>e?n.left===r:n.right===t),i=o[0].top,a=o[o.length-1].bottom;return{top:i,bottom:a,left:r,right:t,width:t-r,height:a-i,x:r,y:i}}return p}},floating:r.floating,strategy:a});return o.reference.x!==h.reference.x||o.reference.y!==h.reference.y||o.reference.width!==h.reference.width||o.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},vL=(e,t,n)=>{const r=new Map,o={platform:uL,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=gT(c,r,l),p=r,f={},h=0;for(let n=0;n<s.length;n++){const{name:i,fn:m}=s[n],{x:g,y,data:b,reset:v}=await m({x:u,y:d,initialPlacement:r,placement:p,strategy:o,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,f={...f,[i]:{...f[i],...b}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(p=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):v.rects),({x:u,y:d}=gT(c,p,l))),n=-1)}return{x:u,y:d,placement:p,strategy:o,middlewareData:f}})(e,t,{...o,platform:i})};var kL,xL;if("undefined"!=typeof WeakMap){let e=new WeakMap;kL=t=>e.get(t),xL=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;kL=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},xL=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}var wL=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,a=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:r,top:o,right:i,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(o,l),right:Math.max(r,s),bottom:Math.max(i,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<o;)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return kL(e)||xL(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){const t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[];let o=0,i=null;const a=[];for(let e=0,o=t*n;e<o;e++)r[e]=0;for(let s=0,l=0;s<n;s++){const c=e.child(s);l++;for(let e=0;;e++){for(;o<r.length&&0!=r[o];)o++;if(e==c.childCount)break;const u=c.child(e),{colspan:d,rowspan:p,colwidth:f}=u.attrs;for(let e=0;e<p;e++){if(e+s>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:l,n:p-e});break}const c=o+e*t;for(let e=0;e<d;e++){0==r[c+e]?r[c+e]=l:(i||(i=[])).push({type:"collision",row:s,pos:l,n:d-e});const n=f&&f[e];if(n){const r=(c+e)%t*2,o=a[r];null==o||o!=n&&1==a[r+1]?(a[r]=n,a[r+1]=1):o==n&&a[r+1]++}}}o+=d,l+=u.nodeSize}const u=(s+1)*t;let d=0;for(;o<u;)0==r[o++]&&d++;d&&(i||(i=[])).push({type:"missing",row:s,n:d}),l++}0!==t&&0!==n||(i||(i=[])).push({type:"zero_sized"});const s=new wL(t,n,r,i);let l=!1;for(let e=0;!l&&e<a.length;e+=2)null!=a[e]&&a[e+1]<n&&(l=!0);return l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const r=t[(o+n)%e.width*2];null==r||l.colwidth&&l.colwidth[n]==r||((s||(s=SL(l)))[n]=r)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}(s,a,e),s}(e))}};function SL(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function EL(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}function CL(e){const t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function _L(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function OL(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function TL(e,t,n){const r=e.node(-1),o=wL.get(r),i=e.start(-1),a=o.nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function LL(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(e=>e>0)||(r.colwidth=null)),r}new zk("selectingCells");var ML=class e extends yk{constructor(e,t=e){const n=e.node(-1),r=wL.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),s=r.cellsInRect(i).filter(e=>e!=t.pos-o);s.unshift(t.pos-o);const l=s.map(e=>{const t=n.nodeAt(e);if(!t)throw RangeError(`No cell with offset ${e} found`);const r=o+e+1;return new bk(a.resolve(r),a.resolve(r+t.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(_L(r)&&_L(o)&&OL(r,o)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,o):t&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return xk.between(r,o)}content(){const e=this.$anchorCell.node(-1),t=wL.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let i=n*t.width+r.left,s=r.left;s<r.right;s++,i++){const n=t.map[i];if(o[n])continue;o[n]=!0;const s=t.findCell(n);let l=e.nodeAt(n);if(!l)throw RangeError(`No cell with offset ${n} found`);const c=r.left-s.left,u=s.right-r.right;if(c>0||u>0){let e=l.attrs;if(c>0&&(e=LL(e,0,c)),u>0&&(e=LL(e,e.colspan-u,u)),s.left<r.left){if(l=l.type.createAndFill(e),!l)throw RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<r.top||s.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};l=s.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}a.push(l)}i.push(e.child(n).copy(kb.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new _b(kb.from(a),1,1)}replace(e,t=_b.empty){const n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:i,$to:a}=r[o],s=e.mapping.slice(n);e.replace(s.map(i.pos),s.map(a.pos),o?_b.empty:t)}const o=yk.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new _b(kb.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=wL.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<o.length;n++)e(t.nodeAt(o[n]),r+o[n])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=wL.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(t=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=wL.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);if(Math.min(r,o)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=wL.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(n=l.resolve(i+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(t=l.resolve(i+o.map[o.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new jL(this.$anchorCell.pos,this.$headCell.pos)}};ML.prototype.visible=!1,yk.jsonID("cell",ML);var jL=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&OL(t,n)?new ML(t,n):yk.near(n,1)}};function AL(e){const t=e.selection,n=function(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=function(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}(e),r=n.node(-1),o=n.start(-1),i=wL.get(r);return{...t instanceof ML?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function NL(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<r.length;e++){const o=t.table.nodeAt(r[e]);if(o&&o.type!==n.header_cell)return!1}return!0}function IL(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!CL(t))return!1;if(n){const r=EL(t.schema),o=AL(t),i=t.tr,a=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=a.map(e=>o.table.nodeAt(e));for(let e=0;e<a.length;e++)s[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[e],r.cell,s[e].attrs);if(0==i.steps.length)for(let e=0;e<a.length;e++)i.setNodeMarkup(o.tableStart+a[e],r.header_cell,s[e].attrs);n(i)}return!0}}(e):function(t,n){if(!CL(t))return!1;if(n){const r=EL(t.schema),o=AL(t),i=t.tr,a=NL("row",o,r),s=NL("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:o.map.height}:"row"==e?{left:l,top:0,right:o.map.width,bottom:1}:o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach(e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)}),n(i)}return!0}}function DL(e,t){const n=e.selection;if(!(n instanceof ML))return!1;if(t){const r=e.tr,o=EL(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new _b(o,0,0))}),r.docChanged&&t(r)}return!0}function PL(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function RL(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof ML)return PL(n,r,yk.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const a=zL(o,e,t);if(null==a)return!1;if("horiz"==e)return PL(n,r,yk.near(n.doc.resolve(i.head+t),t));{const o=n.doc.resolve(a),i=TL(o,e,t);let s;return s=i?yk.near(i,1):t<0?yk.near(n.doc.resolve(o.before(-1)),-1):yk.near(n.doc.resolve(o.after(-1)),1),PL(n,r,s)}}}function BL(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let a;if(i instanceof ML)a=i;else{const r=zL(o,e,t);if(null==r)return!1;a=new ML(n.doc.resolve(r))}const s=TL(a.$headCell,e,t);return!!s&&PL(n,r,new ML(a.$anchorCell,s))}}function zL(e,t,n){if(!(e.state.selection instanceof xk))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(o),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}new zk("fix-tables"),IL("row",{useDeprecatedLogic:!0}),IL("column",{useDeprecatedLogic:!0}),IL("cell",{useDeprecatedLogic:!0}),IE({ArrowLeft:RL("horiz",-1),ArrowRight:RL("horiz",1),ArrowUp:RL("vert",-1),ArrowDown:RL("vert",1),"Shift-ArrowLeft":BL("horiz",-1),"Shift-ArrowRight":BL("horiz",1),"Shift-ArrowUp":BL("vert",-1),"Shift-ArrowDown":BL("vert",1),Backspace:DL,"Mod-Backspace":DL,Delete:DL,"Mod-Delete":DL}),new zk("tableColumnResizing");var FL=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:o=60,shouldShow:i,appendTo:a,getReferencedVirtualElement:s,options:l}){var c;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:o,selection:i}=t,{empty:a}=i,s=!o.textBetween(n,r).length&&sC(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||a||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.editor.isDestroyed?this.destroy():this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,r,t)},this.updateDelay))},this.updateHandler=(e,t,n,r)=>{const{composing:o}=e;o||!t&&!n||(this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide())},this.transactionHandler=({transaction:e})=>{"updatePosition"===e.getMeta("bubbleMenu")&&this.updatePosition()},this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=o,this.appendTo=a,this.scrollTarget=null!=(c=null==l?void 0:l.scrollTarget)?c:window,this.getReferencedVirtualElement=s,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(hL("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(fL("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(dL("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(yL(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(mL("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(pL("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(gL("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(bL("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e;const{selection:t}=this.editor.state,n=null==(e=this.getReferencedVirtualElement)?void 0:e.call(this);if(n)return n;const r=k_(this.view,t.from,t.to);let o={getBoundingClientRect:()=>r,getClientRects:()=>[r]};if(t instanceof Sk){let e=this.view.nodeDOM(t.from);const n=e.dataset.nodeViewWrapper?e:e.querySelector("[data-node-view-wrapper]");n&&(e=n),e&&(o={getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>[e.getBoundingClientRect()]})}if(t instanceof ML){const{$anchorCell:e,$headCell:n}=t,r=e?e.pos:n.pos,i=n?n.pos:e.pos,a=this.view.nodeDOM(r),s=this.view.nodeDOM(i);if(!a||!s)return;const l=a===s?a.getBoundingClientRect():function(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),o=Math.min(e.left,t.left),i=Math.max(e.right,t.right);return new DOMRect(o,n,i-o,r-n)}(a.getBoundingClientRect(),s.getBoundingClientRect());o={getBoundingClientRect:()=>l,getClientRects:()=>[l]}}return o}updatePosition(){const e=this.virtualElement;e&&vL(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n})=>{this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const o=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,o,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos));return(null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:a}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},WL=e=>new Pk({key:"string"==typeof e.pluginKey?new zk(e.pluginKey):e.pluginKey,view:t=>new FL({view:t,...e})}),HL=(X_.create({name:"bubbleMenu",addOptions:()=>({element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[WL({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}}),class{constructor({editor:e,element:t,view:n,options:r,appendTo:o,shouldShow:i}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:o}=n,i=1===r.depth,a=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent&&0===r.parent.childCount&&!this.getTextContent(r.parent);return!!(e.hasFocus()&&o&&i&&a&&this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(e,t,n,r)=>{const{composing:o}=e;o||!t&&!n||(this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide())},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.editor=e,this.element=t,this.view=n,this.appendTo=o,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return l_(e,{textSerializers:c_(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(hL("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(fL("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(dL("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(yL(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(mL("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(pL("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(gL("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(bL("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos));return null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:a})}updatePosition(){const{selection:e}=this.editor.state,t=k_(this.view,e.from,e.to);vL({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n})=>{this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}}),UL=e=>new Pk({key:"string"==typeof e.pluginKey?new zk(e.pluginKey):e.pluginKey,view:t=>new HL({view:t,...e})}),$L=X_.create({name:"floatingMenu",addOptions:()=>({element:null,options:{},pluginKey:"floatingMenu",appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[UL({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}}),VL=n.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:r,resizeDelay:o,appendTo:i,shouldShow:a=null,getReferencedVirtualElement:s,options:l,children:c,...u},d)=>{const p=(0,n.useRef)(document.createElement("div"));"function"==typeof d?d(p.current):d&&(d.current=p.current);const{editor:f}=WO(),h=t||f,m={updateDelay:r,resizeDelay:o,appendTo:i,pluginKey:e,shouldShow:a,getReferencedVirtualElement:s,options:l},g=(0,n.useRef)(m);return g.current=m,(0,n.useEffect)(()=>{if(null==h?void 0:h.isDestroyed)return;if(!h)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const e=p.current;e.style.visibility="hidden",e.style.position="absolute";const t=WL({...g.current,editor:h,element:e});h.registerPlugin(t);const n=g.current.pluginKey;return()=>{h.unregisterPlugin(n),window.requestAnimationFrame(()=>{e.parentNode&&e.parentNode.removeChild(e)})}},[h]),(0,ue.createPortal)((0,Je.jsx)("div",{...u,children:c}),p.current)}),GL=n.forwardRef(({pluginKey:e="floatingMenu",editor:t,appendTo:r,shouldShow:o=null,options:i,children:a,...s},l)=>{const c=(0,n.useRef)(document.createElement("div"));"function"==typeof l?l(c.current):l&&(l.current=c.current);const{editor:u}=WO();return(0,n.useEffect)(()=>{const n=c.current;if(n.style.visibility="hidden",n.style.position="absolute",(null==t?void 0:t.isDestroyed)||(null==u?void 0:u.isDestroyed))return;const a=t||u;if(!a)return void console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");const s=UL({editor:a,element:n,pluginKey:e,appendTo:r,shouldShow:o,options:i});return a.registerPlugin(s),()=>{a.unregisterPlugin(e),window.requestAnimationFrame(()=>{n.parentNode&&n.parentNode.removeChild(n)})}},[t,u,r,e,o,i]),(0,ue.createPortal)((0,Je.jsx)("div",{...s,children:a}),c.current)}),qL=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const{children:n,...r}=null!=t?t:{};if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},KL=/^\s*>\s$/,YL=_O.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return qL("blockquote",{...t_(this.options.HTMLAttributes,e),children:qL("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(e=>{const r=t.renderChildren(e).split("\n").map(e=>`> ${e}`).join("\n");n.push(r)}),n.flatMap(e=>[e,"> "]).slice(0,-1).join("\n")},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[mO({find:KL,type:this.type})]}}),JL=YL,ZL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,QL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,XL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,eM=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,tM=K_.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return qL("strong",{...t_(this.options.HTMLAttributes,e),children:qL("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[pO({find:ZL,type:this.type}),pO({find:XL,type:this.type})]},addPasteRules(){return[OO({find:QL,type:this.type}),OO({find:eM,type:this.type})]}}),nM=tM,rM=/(^|[^`])`([^`]+)`(?!`)$/,oM=/(^|[^`])`([^`]+)`(?!`)/g,iM=K_.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",t_(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[pO({find:rM,type:this.type})]},addPasteRules(){return[OO({find:oM,type:this.type})]}}),aM=/^```([a-z]+)?[\s\n]$/,sM=/^~~~([a-z]+)?[\s\n]$/,lM=_O.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;return[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",t_(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return!1===(null==(n=e.raw)?void 0:n.startsWith("```"))&&"indented"!==e.codeBlockStyle?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const o=(null==(n=e.attrs)?void 0:n.language)||"";return r=e.content?[`\`\`\`${o}`,t.renderChildren(e.content),"```"].join("\n"):`\`\`\`${o}\n\n\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:o}=r,{$from:i,empty:a}=o;if(i.parent.type!==this.type)return!1;const s=" ".repeat(n);return a?e.commands.insertContent(s):e.commands.command(({tr:e})=>{const{from:t,to:n}=o,i=r.doc.textBetween(t,n,"\n","\n").split("\n").map(e=>s+e).join("\n");return e.replaceWith(t,n,r.schema.text(i)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:o}=r,{$from:i,empty:a}=o;return i.parent.type===this.type&&(a?e.commands.command(({tr:e})=>{var t;const{pos:o}=i,a=i.start(),s=i.end(),l=r.doc.textBetween(a,s,"\n","\n").split("\n");let c=0,u=0;const d=o-a;for(let e=0;e<l.length;e+=1){if(u+l[e].length>=d){c=e;break}u+=l[e].length+1}const p=(null==(t=l[c].match(/^ */))?void 0:t[0])||"",f=Math.min(p.length,n);if(0===f)return!0;let h=a;for(let e=0;e<c;e+=1)h+=l[e].length+1;return e.delete(h,h+f),o-h<=f&&e.setSelection(xk.create(e.doc,h)),!0}):e.commands.command(({tr:e})=>{const{from:t,to:i}=o,a=r.doc.textBetween(t,i,"\n","\n").split("\n").map(e=>{var t;const r=(null==(t=e.match(/^ */))?void 0:t[0])||"",o=Math.min(r.length,n);return e.slice(o)}).join("\n");return e.replaceWith(t,i,r.schema.text(a)),!0}))},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith("\n\n");return!(!i||!a)&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;if(o.parentOffset!==o.parent.nodeSize-2)return!1;const a=o.after();return void 0!==a&&(r.nodeAt(a)?e.commands.command(({tr:e})=>(e.setSelection(yk.near(r.resolve(a))),!0)):e.commands.exitCode())}}},addInputRules(){return[hO({find:aM,type:this.type,getAttributes:e=>({language:e[1]})}),hO({find:sM,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Pk({key:new zk("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=null==o?void 0:o.mode;if(!n||!i)return!1;const{tr:a,schema:s}=e.state,l=s.text(n.replace(/\r\n?/g,"\n"));return a.replaceSelectionWith(this.type.create({language:i},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(xk.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),cM=_O.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n\n"):""}),uM=_O.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",t_(this.options.HTMLAttributes,e)]},renderText:()=>"\n",renderMarkdown:(e,t)=>t.indent("\n"),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,s=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&s&&i){const t=s.filter(e=>a.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),dM=_O.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,t_(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.level)?parseInt(e.attrs.level,10):1,o="#".repeat(r);return e.content?`${o} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>hO({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),pM=dM,fM=_O.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",t_(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!function(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Sk){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let o=r.depth;for(;o>=0;){const e=r.index(o);if(r.node(o).contentMatchAt(e).matchType(t))return!0;o-=1}return!1}(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,o=e();return v_(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:e,tr:t,dispatch:n})=>{if(n){const{$to:n}=t.selection,r=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?t.setSelection(xk.create(t.doc,n.pos+1)):n.nodeAfter.isBlock?t.setSelection(Sk.create(t.doc,n.pos)):t.setSelection(xk.create(t.doc,n.pos));else{const o=e.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,i=null==o?void 0:o.create();i&&(t.insert(r,i),t.setSelection(xk.create(t.doc,r+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[fO({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}}),hM=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,mM=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,gM=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,yM=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,bM=K_.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",t_(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[pO({find:hM,type:this.type}),pO({find:gM,type:this.type})]},addPasteRules(){return[OO({find:mM,type:this.type}),OO({find:yM,type:this.type})]}});const vM="numeric",kM="ascii",xM="alpha",wM="asciinumeric",SM="alphanumeric",EM="domain",CM="emoji",_M="scheme",OM="slashscheme",TM="whitespace";function LM(e,t){return e in t||(t[e]=[]),t[e]}function MM(e,t,n){t[vM]&&(t[wM]=!0,t[SM]=!0),t[kM]&&(t[wM]=!0,t[xM]=!0),t[wM]&&(t[SM]=!0),t[xM]&&(t[SM]=!0),t[SM]&&(t[EM]=!0),t[CM]&&(t[EM]=!0);for(const r in t){const t=LM(r,n);t.indexOf(e)<0&&t.push(e)}}function jM(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}jM.groups={},jM.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){const r=t.jr[n][0],o=t.jr[n][1];if(o&&r.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||jM.groups,t&&t.j?o=t:(o=new jM(t),n&&r&&MM(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let t=0;t<i-1;t++)o=o.tt(e[t]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||jM.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const i=t;let a,s=o.go(e);if(s?(a=new jM,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new jM,i){if(r)if(a.t&&"string"==typeof a.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(a.t,r),n);MM(i,e,r)}else n&&MM(i,n,r);a.t=i}return o.j[e]=a,a}};const AM=(e,t,n,r,o)=>e.ta(t,n,r,o),NM=(e,t,n,r,o)=>e.tr(t,n,r,o),IM=(e,t,n,r,o)=>e.ts(t,n,r,o),DM=(e,t,n,r,o)=>e.tt(t,n,r,o),PM="WORD",RM="UWORD",BM="ASCIINUMERICAL",zM="ALPHANUMERICAL",FM="LOCALHOST",WM="TLD",HM="UTLD",UM="SCHEME",$M="SLASH_SCHEME",VM="NUM",GM="WS",qM="NL",KM="OPENBRACE",YM="CLOSEBRACE",JM="OPENBRACKET",ZM="CLOSEBRACKET",QM="OPENPAREN",XM="CLOSEPAREN",ej="OPENANGLEBRACKET",tj="CLOSEANGLEBRACKET",nj="FULLWIDTHLEFTPAREN",rj="FULLWIDTHRIGHTPAREN",oj="LEFTCORNERBRACKET",ij="RIGHTCORNERBRACKET",aj="LEFTWHITECORNERBRACKET",sj="RIGHTWHITECORNERBRACKET",lj="FULLWIDTHLESSTHAN",cj="FULLWIDTHGREATERTHAN",uj="AMPERSAND",dj="APOSTROPHE",pj="ASTERISK",fj="AT",hj="BACKSLASH",mj="BACKTICK",gj="CARET",yj="COLON",bj="COMMA",vj="DOLLAR",kj="DOT",xj="EQUALS",wj="EXCLAMATION",Sj="HYPHEN",Ej="PERCENT",Cj="PIPE",_j="PLUS",Oj="POUND",Tj="QUERY",Lj="QUOTE",Mj="FULLWIDTHMIDDLEDOT",jj="SEMI",Aj="SLASH",Nj="TILDE",Ij="UNDERSCORE",Dj="EMOJI",Pj="SYM";var Rj=Object.freeze({__proto__:null,ALPHANUMERICAL:zM,AMPERSAND:uj,APOSTROPHE:dj,ASCIINUMERICAL:BM,ASTERISK:pj,AT:fj,BACKSLASH:hj,BACKTICK:mj,CARET:gj,CLOSEANGLEBRACKET:tj,CLOSEBRACE:YM,CLOSEBRACKET:ZM,CLOSEPAREN:XM,COLON:yj,COMMA:bj,DOLLAR:vj,DOT:kj,EMOJI:Dj,EQUALS:xj,EXCLAMATION:wj,FULLWIDTHGREATERTHAN:cj,FULLWIDTHLEFTPAREN:nj,FULLWIDTHLESSTHAN:lj,FULLWIDTHMIDDLEDOT:Mj,FULLWIDTHRIGHTPAREN:rj,HYPHEN:Sj,LEFTCORNERBRACKET:oj,LEFTWHITECORNERBRACKET:aj,LOCALHOST:FM,NL:qM,NUM:VM,OPENANGLEBRACKET:ej,OPENBRACE:KM,OPENBRACKET:JM,OPENPAREN:QM,PERCENT:Ej,PIPE:Cj,PLUS:_j,POUND:Oj,QUERY:Tj,QUOTE:Lj,RIGHTCORNERBRACKET:ij,RIGHTWHITECORNERBRACKET:sj,SCHEME:UM,SEMI:jj,SLASH:Aj,SLASH_SCHEME:$M,SYM:Pj,TILDE:Nj,TLD:WM,UNDERSCORE:Ij,UTLD:HM,UWORD:RM,WORD:PM,WS:GM});const Bj=/[a-z]/,zj=/\p{L}/u,Fj=/\p{Emoji}/u,Wj=/\d/,Hj=/\s/;let Uj=null,$j=null;function Vj(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let o,i=e.charCodeAt(r),a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,o=[];let i=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,p=0,u=s):d>=0&&(d+=n[a].length,p++),c+=n[a].length,i+=n[a].length,a++;i-=d,a-=p,c-=d,o.push({t:u.t,v:t.slice(i-c,i),s:i-c,e:i})}return o}function Gj(e,t,n,r,o){let i;const a=t.length;for(let n=0;n<a-1;n++){const a=t[n];e.j[a]?i=e.j[a]:(i=new jM(r),i.jr=o.slice(),e.j[a]=i),e=i}return i=new jM(n),i.jr=o.slice(),e.j[t[a-1]]=i,i}function qj(e){const t=[],n=[];let r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}const Kj={defaultProtocol:"http",events:null,format:Jj,formatHref:Jj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Yj(e,t=null){let n=Object.assign({},Kj);e&&(n=Object.assign(n,e instanceof Yj?e.o:e));const r=n.ignoreTags,o=[];for(let e=0;e<r.length;e++)o.push(r[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function Jj(e){return e}function Zj(e,t){this.t="token",this.v=e,this.tk=t}function Qj(e,t){class n extends Zj{constructor(t,n){super(t,n),this.t=e}}for(const e in t)n.prototype[e]=t[e];return n.t=e,n}Yj.prototype={o:Kj,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let o=this.o[e];return o?("object"==typeof o?(o=n.t in o?o[n.t]:Kj[e],"function"==typeof o&&r&&(o=o(t,n))):"function"==typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},Zj.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"â€¦":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Kj.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),i=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:o,attributes:a,content:i,eventListeners:d}}};const Xj=Qj("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),eA=Qj("text"),tA=Qj("nl"),nA=Qj("url",{isLink:!0,toHref(e=Kj.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==FM&&e[1].t===yj}}),rA=e=>new jM(e);function oA(e,t,n){const r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}const iA="undefined"!=typeof console&&console&&console.warn||(()=>{}),aA={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sA(e,t=!1){if(aA.initialized&&iA(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');aA.customSchemes.push([e,t])}function lA(e){return aA.initialized||function(){aA.scanner=function(e=[]){const t={};jM.groups=t;const n=new jM;null==Uj&&(Uj=qj("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==$j&&($j=qj("ÎµÎ»1Ï…2Ð±Ð³1ÐµÐ»3Ð´ÐµÑ‚Ð¸4ÐµÑŽ2ÐºÐ°Ñ‚Ð¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5Ñ€Ð³3Ñ€ÑƒÑ2Ñ„2ÑÐ°Ð¹Ñ‚3Ñ€Ð±3ÑƒÐºÑ€3Ò›Ð°Ð·3Õ°Õ¡Õµ3×™×©×¨××œ5×§×•×3Ø§Ø¨ÙˆØ¸Ø¨ÙŠ5Ø±Ø§Ù…ÙƒÙˆ5Ù„Ø§Ø±Ø¯Ù†4Ø¨Ø­Ø±ÙŠÙ†5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙˆØ¯ÙŠØ©6Ø¹Ù„ÙŠØ§Ù†5Ù…ØºØ±Ø¨5Ù…Ø§Ø±Ø§Øª5ÛŒØ±Ø§Ù†5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙŠØªÙƒ3Ú¾Ø§Ø±Øª5ØªÙˆÙ†Ø³4Ø³ÙˆØ¯Ø§Ù†3Ø±ÙŠØ©5Ø´Ø¨ÙƒØ©4Ø¹Ø±Ø§Ù‚2Ø¨2Ù…Ø§Ù†4ÙÙ„Ø³Ø·ÙŠÙ†6Ù‚Ø·Ø±3ÙƒØ§Ø«ÙˆÙ„ÙŠÙƒ6ÙˆÙ…3Ù…ØµØ±2Ù„ÙŠØ³ÙŠØ§5ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§7Ù‚Ø¹4Ù‡Ù…Ø±Ø§Ù‡5Ù¾Ø§Ú©Ø³ØªØ§Ù†7Ú€Ø§Ø±Øª4à¤•à¥‰à¤®3à¤¨à¥‡à¤Ÿ3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥‹à¤¤5à¤¸à¤‚à¤—à¤ à¤¨5à¦¬à¦¾à¦‚à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®‡à®¨à¯à®¤à®¿à®¯à®¾6à®²à®™à¯à®•à¯ˆ6à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´‚5à¶½à¶‚à¶šà·4à¸„à¸­à¸¡3à¹„à¸—à¸¢3àº¥àº²àº§3áƒ’áƒ”2ã¿ã‚“ãª3ã‚¢ãƒžã‚¾ãƒ³4ã‚¯ãƒ©ã‚¦ãƒ‰4ã‚°ãƒ¼ã‚°ãƒ«4ã‚³ãƒ 2ã‚¹ãƒˆã‚¢3ã‚»ãƒ¼ãƒ«3ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³6ãƒã‚¤ãƒ³ãƒˆ4ä¸–ç•Œ2ä¸­ä¿¡1å›½1åœ‹1æ–‡ç½‘3äºšé©¬é€Š3ä¼ä¸š2ä½›å±±2ä¿¡æ¯2å¥åº·2å…«å¦2å…¬å¸1ç›Š2å°æ¹¾1ç£2å•†åŸŽ1åº—1æ ‡2å˜‰é‡Œ0å¤§é…’åº—5åœ¨çº¿2å¤§æ‹¿2å¤©ä¸»æ•™3å¨±ä¹2å®¶é›»2å¹¿ä¸œ2å¾®åš2æ…ˆå–„2æˆ‘çˆ±ä½ 3æ‰‹æœº2æ‹›è˜2æ”¿åŠ¡1åºœ2æ–°åŠ å¡2é—»2æ—¶å°š2æ›¸ç±2æœºæž„2æ·¡é©¬é”¡3æ¸¸æˆ2æ¾³é–€2ç‚¹çœ‹2ç§»åŠ¨2ç»„ç»‡æœºæž„4ç½‘å€1åº—1ç«™1ç»œ2è”é€š2è°·æ­Œ2è´­ç‰©2é€šè²©2é›†å›¢2é›»è¨Šç›ˆç§‘4é£žåˆ©æµ¦3é£Ÿå“2é¤åŽ…2é¦™æ ¼é‡Œæ‹‰3æ¸¯2ë‹·ë„·1ì»´2ì‚¼ì„±2í•œêµ­2")),DM(n,"'",dj),DM(n,"{",KM),DM(n,"}",YM),DM(n,"[",JM),DM(n,"]",ZM),DM(n,"(",QM),DM(n,")",XM),DM(n,"<",ej),DM(n,">",tj),DM(n,"ï¼ˆ",nj),DM(n,"ï¼‰",rj),DM(n,"ã€Œ",oj),DM(n,"ã€",ij),DM(n,"ã€Ž",aj),DM(n,"ã€",sj),DM(n,"ï¼œ",lj),DM(n,"ï¼ž",cj),DM(n,"&",uj),DM(n,"*",pj),DM(n,"@",fj),DM(n,"`",mj),DM(n,"^",gj),DM(n,":",yj),DM(n,",",bj),DM(n,"$",vj),DM(n,".",kj),DM(n,"=",xj),DM(n,"!",wj),DM(n,"-",Sj),DM(n,"%",Ej),DM(n,"|",Cj),DM(n,"+",_j),DM(n,"#",Oj),DM(n,"?",Tj),DM(n,'"',Lj),DM(n,"/",Aj),DM(n,";",jj),DM(n,"~",Nj),DM(n,"_",Ij),DM(n,"\\",hj),DM(n,"ãƒ»",Mj);const r=NM(n,Wj,VM,{[vM]:!0});NM(r,Wj,r);const o=NM(r,Bj,BM,{[wM]:!0}),i=NM(r,zj,zM,{[SM]:!0}),a=NM(n,Bj,PM,{[kM]:!0});NM(a,Wj,o),NM(a,Bj,a),NM(o,Wj,o),NM(o,Bj,o);const s=NM(n,zj,RM,{[xM]:!0});NM(s,Bj),NM(s,Wj,i),NM(s,zj,s),NM(i,Wj,i),NM(i,Bj),NM(i,zj,i);const l=DM(n,"\n",qM,{[TM]:!0}),c=DM(n,"\r",GM,{[TM]:!0}),u=NM(n,Hj,GM,{[TM]:!0});DM(n,"ï¿¼",u),DM(c,"\n",l),DM(c,"ï¿¼",u),NM(c,Hj,u),DM(u,"\r"),DM(u,"\n"),NM(u,Hj,u),DM(u,"ï¿¼",u);const d=NM(n,Fj,Dj,{[CM]:!0});DM(d,"#"),NM(d,Fj,d),DM(d,"ï¸",d);const p=DM(d,"â€");DM(p,"#"),NM(p,Fj,d);const f=[[Bj,a],[Wj,o]],h=[[Bj,null],[zj,s],[Wj,i]];for(let e=0;e<Uj.length;e++)Gj(n,Uj[e],WM,PM,f);for(let e=0;e<$j.length;e++)Gj(n,$j[e],HM,RM,h);MM(WM,{tld:!0,ascii:!0},t),MM(HM,{utld:!0,alpha:!0},t),Gj(n,"file",UM,PM,f),Gj(n,"mailto",UM,PM,f),Gj(n,"http",$M,PM,f),Gj(n,"https",$M,PM,f),Gj(n,"ftp",$M,PM,f),Gj(n,"ftps",$M,PM,f),MM(UM,{scheme:!0,ascii:!0},t),MM($M,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let t=0;t<e.length;t++){const r=e[t][0],o=e[t][1]?{[_M]:!0}:{[OM]:!0};r.indexOf("-")>=0?o[EM]=!0:Bj.test(r)?Wj.test(r)?o[wM]=!0:o[kM]=!0:o[vM]=!0,IM(n,r,r,o)}return IM(n,"localhost",FM,{ascii:!0}),n.jd=new jM(Pj),{start:n,tokens:Object.assign({groups:t},Rj)}}(aA.customSchemes);for(let e=0;e<aA.tokenQueue.length;e++)aA.tokenQueue[e][1]({scanner:aA.scanner});aA.parser=function({groups:e}){const t=e.domain.concat([uj,pj,fj,hj,mj,gj,vj,xj,Sj,VM,Ej,Cj,_j,Oj,Aj,Pj,Nj,Ij]),n=[dj,yj,bj,kj,wj,Ej,Tj,Lj,jj,ej,tj,KM,YM,ZM,JM,QM,XM,nj,rj,oj,ij,aj,sj,lj,cj],r=[uj,dj,pj,hj,mj,gj,vj,xj,Sj,KM,YM,Ej,Cj,_j,Oj,Tj,Aj,Pj,Nj,Ij],o=rA(),i=DM(o,Nj);AM(i,r,i),AM(i,e.domain,i);const a=rA(),s=rA(),l=rA();AM(o,e.domain,a),AM(o,e.scheme,s),AM(o,e.slashscheme,l),AM(a,r,i),AM(a,e.domain,a);const c=DM(a,fj);DM(i,fj,c),DM(s,fj,c),DM(l,fj,c);const u=DM(i,kj);AM(u,r,i),AM(u,e.domain,i);const d=rA();AM(c,e.domain,d),AM(d,e.domain,d);const p=DM(d,kj);AM(p,e.domain,d);const f=rA(Xj);AM(p,e.tld,f),AM(p,e.utld,f),DM(c,FM,f);const h=DM(d,Sj);DM(h,Sj,h),AM(h,e.domain,d),AM(f,e.domain,d),DM(f,kj,p),DM(f,Sj,h);const m=DM(f,yj);AM(m,e.numeric,Xj);const g=DM(a,Sj),y=DM(a,kj);DM(g,Sj,g),AM(g,e.domain,a),AM(y,r,i),AM(y,e.domain,a);const b=rA(nA);AM(y,e.tld,b),AM(y,e.utld,b),AM(b,e.domain,a),AM(b,r,i),DM(b,kj,y),DM(b,Sj,g),DM(b,fj,c);const v=DM(b,yj),k=rA(nA);AM(v,e.numeric,k);const x=rA(nA),w=rA();AM(x,t,x),AM(x,n,w),AM(w,t,x),AM(w,n,w),DM(b,Aj,x),DM(k,Aj,x);const S=DM(s,yj),E=DM(l,yj),C=DM(E,Aj),_=DM(C,Aj);AM(s,e.domain,a),DM(s,kj,y),DM(s,Sj,g),AM(l,e.domain,a),DM(l,kj,y),DM(l,Sj,g),AM(S,e.domain,x),DM(S,Aj,x),DM(S,Tj,x),AM(_,e.domain,x),AM(_,t,x),DM(_,Aj,x);const O=[[KM,YM],[JM,ZM],[QM,XM],[ej,tj],[nj,rj],[oj,ij],[aj,sj],[lj,cj]];for(let e=0;e<O.length;e++){const[r,o]=O[e],i=DM(x,r);DM(w,r,i),DM(i,o,x);const a=rA(nA);AM(i,t,a);const s=rA();AM(i,n),AM(a,t,a),AM(a,n,s),AM(s,t,a),AM(s,n,s),DM(a,o,x),DM(s,o,x)}return DM(o,FM,b),DM(o,qM,tA),{start:o,tokens:Rj}}(aA.scanner.tokens);for(let e=0;e<aA.pluginQueue.length;e++)aA.pluginQueue[e][1]({scanner:aA.scanner,parser:aA.parser});aA.initialized=!0}(),function(e,t,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let s=e,l=null,c=null,u=0,d=null,p=-1;for(;o<r&&!(l=s.go(n[o].t));)a.push(n[o++]);for(;o<r&&(c=l||s.go(n[o].t));)l=null,s=c,s.accepts()?(p=0,d=s):p>=0&&p++,o++,u++;if(p<0)o-=u,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(oA(eA,t,a)),a=[]),o-=p,u-=p;const e=d.t,r=n.slice(o-u,o);i.push(oA(e,t,r))}}return a.length>0&&i.push(oA(eA,t,a)),i}(aA.parser.start,e,Vj(aA.scanner.start,e))}function cA(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Yj(n),o=lA(e),i=[];for(let e=0;e<o.length;e++){const n=o[e];!n.isLink||t&&n.t!==t||!r.check(n)||i.push(n.toFormattedObject(r))}return i}lA.scan=Vj;var uA="[\0- Â áš€á Žâ€€-\u2029âŸã€€]",dA=new RegExp(uA),pA=new RegExp(`${uA}$`),fA=new RegExp(uA,"g");function hA(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(fA,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var mA=K_.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{"string"!=typeof e?sA(e.scheme,e.optionalSlashes):sA(e)})},onDestroy(){jM.groups={},aA.scanner=null,aA.parser=null,aA.tokenQueue=[],aA.pluginQueue=[],aA.customSchemes=[],aA.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!hA(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!hA(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!hA(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",t_(this.options.HTMLAttributes,e),0]:["a",t_(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!hA(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!hA(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[OO({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,o=cA(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!hA(e,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(function(e){return new Pk({key:new zk("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),i=t.some(e=>e.getMeta("preventAutolink"));if(!o||i)return;const{tr:a}=r;return d_(GC(n.doc,[...t])).forEach(({newRange:t})=>{const n=function(e,t){const n=[];return e.nodesBetween(t.from,t.to,(e,t)=>{(e=>e.isTextblock)(e)&&n.push({node:e,pos:t})}),n}(r.doc,t);let o,i;if(n.length>1)o=n[0],i=r.doc.textBetween(o.pos,o.pos+o.node.nodeSize,void 0," ");else if(n.length){const e=r.doc.textBetween(t.from,t.to," "," ");if(!pA.test(e))return;o=n[0],i=r.doc.textBetween(o.pos,t.to,void 0," ")}if(o&&i){const t=i.split(dA).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],l=o.pos+i.lastIndexOf(n);if(!n)return!1;const c=lA(n).map(t=>t.toObject(e.defaultProtocol));if(!(1===(s=c).length?s[0].isLink:3===s.length&&s[1].isLink&&["()","[]"].includes(s[0].value+s[2].value)))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{p_(t.from,t.to,r.doc).some(t=>t.mark.type===e.type)||a.addMark(t.from,t.to,e.type.create({href:t.href}))})}var s}),a.steps.length?a:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!hA(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&e.push(function(e){return new Pk({key:new zk("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,i;if(0!==r.button)return!1;if(!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let e=r.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;a=t.find(e=>"A"===e.nodeName)}if(!a)return!1;const s=u_(t.state,e.type.name),l=null!=(o=null==a?void 0:a.href)?o:s.href,c=null!=(i=null==a?void 0:a.target)?i:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!a||!l||(window.open(l,c),0))}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new Pk({key:new zk("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:o}=e,{state:i}=t,{selection:a}=i,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(e=>{l+=e.textContent});const c=cA(l,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===l);return!(!l||!c||void 0!==o&&!o(c.href))&&e.editor.commands.setMark(e.type,{href:c.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),gA=mA,yA=Object.defineProperty,bA="textStyle",vA=/^\s*([-+*])\s$/,kA=_O.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",t_(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>"list"!==e.type||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(bA)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=mO({find:vA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=mO({find:vA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(bA),editor:this.editor})),[e]}}),xA=_O.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",t_(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if("list_item"!==e.type)return[];let n=[];if(e.tokens&&e.tokens.length>0){const r=e.tokens.some(e=>"paragraph"===e.type);if(r)n=t.parseChildren(e.tokens);else{const r=e.tokens[0];if(r&&"text"===r.type&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){const r=e.tokens.slice(1),o=t.parseChildren(r);n.push(...o)}}else n=t.parseChildren(e.tokens)}}return 0===n.length&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>CO(e,t,e=>"bulletList"===e.parentType?"- ":"orderedList"===e.parentType?`${e.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)yA(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>wA,getNextListDepth:()=>SA,handleBackspace:()=>OA,handleDelete:()=>MA,hasListBefore:()=>EA,hasListItemAfter:()=>jA,hasListItemBefore:()=>CA,listItemHasSubList:()=>_A,nextListIsDeeper:()=>TA,nextListIsHigher:()=>LA});var wA=(e,t)=>{const{$from:n}=t.selection,r=qE(e,t.schema);let o=null,i=n.depth,a=n.pos,s=null;for(;i>0&&null===s;)o=n.node(i),o.type===r?s=i:(i-=1,a-=1);return null===s?null:{$pos:t.doc.resolve(a),depth:s}},SA=(e,t)=>{const n=wA(e,t);if(!n)return!1;const[,r]=((e,t,n,r=20)=>{const o=e.doc.resolve(n);let i=r,a=null;for(;i>0&&null===a;){const e=o.node(i);(null==e?void 0:e.type.name)===t?a=e:i-=1}return[a,i]})(t,e,n.$pos.pos+4);return r},EA=(e,t,n)=>{const{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),i=e.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},CA=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return 0!==o.index()&&(null==(n=o.nodeBefore)?void 0:n.type.name)===e},_A=(e,t,n)=>{if(!n)return!1;const r=qE(e,t.schema);let o=!1;return n.descendants(e=>{e.type===r&&(o=!0)}),o},OA=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!TC(e.state,t)&&EA(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),o=[];r.node().descendants((e,n)=>{e.type.name===t&&o.push({node:e,pos:n})});const i=o.at(-1);if(!i)return!1;const a=e.state.doc.resolve(r.start()+i.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},a.end()).joinForward().run()}if(!TC(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=wA(t,e.state);if(!r)return!1;const o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=_A(t,e.state,o);return CA(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},TA=(e,t)=>{const n=SA(e,t),r=wA(e,t);return!(!r||!n)&&n>r.depth},LA=(e,t)=>{const n=SA(e,t),r=wA(e,t);return!(!r||!n)&&n<r.depth},MA=(e,t)=>{if(!TC(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const n=qC(e=>e.type.name===t)(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return o.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:o}=n;return!(!n.empty&&r.sameParent(o))&&(TA(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():LA(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},jA=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return o.index()!==o.parent.childCount-1&&(null==(n=o.nodeAfter)?void 0:n.type.name)===e},AA=X_.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&MA(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&MA(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&OA(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&OA(e,n,r)&&(t=!0)}),t}}}}),NA=/^(\s*)(\d+)\.\s+(.*)$/,IA=/^\s/;function DA(e,t,n){var r;const o=[];let i=0;for(;i<e.length;){const a=e[i];if(a.indent===t){const s=a.content.split("\n"),l=(null==(r=s[0])?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=s.slice(1).join("\n").trim();if(u){const e=n.blockTokens(u);c.push(...e)}let d=i+1;const p=[];for(;d<e.length&&e[d].indent>t;)p.push(e[d]),d+=1;if(p.length>0){const e=Math.min(...p.map(e=>e.indent)),t=DA(p,e,n);c.push({type:"list",ordered:!0,start:p[0].number,items:t,raw:p.map(e=>e.raw).join("\n")})}o.push({type:"list_item",raw:a.raw,tokens:c}),i=d}else i+=1}return o}var PA="textStyle",RA=/^(\d+)\.\s$/,BA=_O.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",t_(this.options.HTMLAttributes,n),0]:["ol",t_(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if("list"!==e.type||!e.ordered)return[];const n=e.start||1,r=e.items?function(e,t){return e.map(e=>{if("list_item"!==e.type)return t.parseChildren([e])[0];const n=[];return e.tokens&&e.tokens.length>0&&e.tokens.forEach(e=>{if("paragraph"===e.type||"list"===e.type||"blockquote"===e.type||"code"===e.type)n.push(...t.parseChildren([e]));else if("text"===e.type&&e.tokens){const r=t.parseChildren([e]);n.push({type:"paragraph",content:r})}else{const r=t.parseChildren([e]);r.length>0&&n.push(...r)}}),{type:"listItem",content:n}})}(e.items,t):[];return 1!==n?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=null==t?void 0:t.index;return void 0!==n?n:-1},tokenize:(e,t,n)=>{var r;const o=e.split("\n"),[i,a]=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n],i=o.match(NA);if(!i)break;const[,a,s,l]=i,c=a.length;let u=l,d=n+1;const p=[o];for(;d<e.length;){const t=e[d];if(t.match(NA))break;if(""===t.trim())p.push(t),u+="\n",d+=1;else{if(!t.match(IA))break;p.push(t),u+=`\n${t.slice(c+2)}`,d+=1}}t.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:p.join("\n")}),r=d,n=d}return[t,r]}(o);if(0===i.length)return;const s=DA(i,0,n);return 0!==s.length?{type:"list",ordered:!0,start:(null==(r=i[0])?void 0:r.number)||1,items:s,raw:o.slice(0,a).join("\n")}:void 0}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(PA)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=mO({find:RA,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=mO({find:RA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(PA)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),zA=/^\s*(\[([( |x])?\])\s$/,FA=_O.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",t_(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;return CO(e,t,`- [${(null==(n=e.attrs)?void 0:n.checked)?"x":" "}] `)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=e=>{var t,n;s.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,s.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return c(e),i.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",e=>e.preventDefault()),s.addEventListener("change",t=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(s.checked=!s.checked);const{checked:o}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const r=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==r?void 0:r.attrs,checked:o}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,o)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{o.setAttribute(e,t)}),o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,i.append(s,a),o.append(i,l),Object.entries(t).forEach(([e,t])=>{o.setAttribute(e,t)}),{dom:o,contentDOM:l,update:e=>e.type===this.type&&(o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,c(e),!0)}}},addInputRules(){return[mO({find:zA,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),WA=_O.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",t_(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=null==(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:t.index;return void 0!==n?n:-1},tokenize(e,t,n){const r=e=>{const t=EO(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);return t?[{type:"taskList",raw:t.raw,items:t.items}]:n.blockTokens(e)},o=EO(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),HA=(X_.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(kA.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(xA.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(AA.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(BA.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(FA.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(WA.configure(this.options.taskList)),e}}),_O.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",t_(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return 1===n.length&&"image"===n[0].type?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>e&&Array.isArray(e.content)?t.renderChildren(e.content):"",addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})),UA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,$A=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,VA=K_.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",t_(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[pO({find:UA,type:this.type})]},addPasteRules(){return[OO({find:$A,type:this.type})]}}),GA=_O.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),qA=K_.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",t_(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown:(e,t)=>`++${t.renderChildren(e)}++`,markdownTokenizer:{name:"underline",level:"inline",start:e=>e.indexOf("++"),tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const o=r[2].trim();return{type:"underline",raw:r[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),KA=qA;function YA(e={}){return new Pk({view:t=>new JA(t,e)})}class JA{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,o=r.getBoundingClientRect(),i=o.width/r.offsetWidth,a=o.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let s=this.width/2*a;e={left:o.left,right:o.right,top:i-s,bottom:i+s}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;s=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-s)/i+"px",this.element.style.top=(e.top-l)/a+"px",this.element.style.width=(e.right-e.left)/i+"px",this.element.style.height=(e.bottom-e.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=ek(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ZA extends yk{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return ZA.valid(n)?new ZA(n):yk.near(n)}content(){return _b.empty}eq(e){return e instanceof ZA&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new ZA(e.resolve(t.pos))}getBookmark(){return new QA(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||XA(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||XA(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&ZA.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let a=e.doc.resolve(r);if(ZA.valid(a))return a}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!Sk.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let a=e.doc.resolve(r);if(ZA.valid(a))return a}return null}}}ZA.prototype.visible=!1,ZA.findFrom=ZA.findGapCursorFrom,yk.jsonID("gapcursor",ZA);class QA{constructor(e){this.pos=e}map(e){return new QA(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return ZA.valid(t)?new ZA(t):yk.near(t)}}function XA(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}const eN=IE({ArrowLeft:tN("horiz",-1),ArrowRight:tN("horiz",1),ArrowUp:tN("vert",-1),ArrowDown:tN("vert",1)});function tN(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof xk){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}let l=ZA.findGapCursorFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new ZA(l))),!0)}}function nN(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!ZA.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&Sk.isSelectable(e.state.doc.nodeAt(o.inside))||(e.dispatch(e.state.tr.setSelection(new ZA(r))),0))}function rN(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof ZA))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=kb.empty;for(let e=r.length-1;e>=0;e--)o=kb.from(r[e].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new _b(o,0,0));return i.setSelection(xk.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function oN(e){if(!(e.selection instanceof ZA))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",KS.create(e.doc,[VS.widget(e.selection.head,t,{key:"gapcursor"})])}var iN=200,aN=function(){};aN.prototype.append=function(e){return e.length?(e=aN.from(e),!this.length&&e||e.length<iN&&this.leafAppend(e)||this.length<iN&&e.leafPrepend(this)||this.appendInner(e)):this},aN.prototype.prepend=function(e){return e.length?aN.from(e).append(this):this},aN.prototype.appendInner=function(e){return new lN(this,e)},aN.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?aN.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},aN.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},aN.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},aN.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},aN.from=function(e){return e instanceof aN?e:e&&e.length?new sN(e):aN.empty};var sN=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=iN)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=iN)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(aN);aN.empty=new sN([]);var lN=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(aN);const cN=aN;class uN{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,a,s=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new dN(e.map));let t,o=e.step.map(n.slice(r));o&&s.maybeStep(o).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new dN(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,a=new uN(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:s,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new dN(e.mapping.maps[n],c,t);(l=s&&s.merge(u))&&(u=l,n?o.pop():a=a.slice(0,a.length-1)),o.push(u),t&&(i++,t=void 0),r||(s=u)}let l=i-n.depth;return l>fN&&(a=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(a,l),i-=l),new uN(a.append(o),i)}remapping(e,t){let n=new jv;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new uN(this.items.append(e.map(e=>new dN(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(e=>{e.selection&&a--},r);let s=t;this.items.forEach(t=>{let r=o.getMirror(--s);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(s+1,r));c&&a++,n.push(new dN(l,i,c))}else n.push(new dN(l))},r);let l=[];for(let e=t;e<i;e++)l.push(new dN(o.maps[e]));let c=this.items.slice(0,r).append(l).append(n),u=new uN(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=i.selection&&i.selection.map(t.slice(n));s&&o++;let l,c=new dN(a.invert(),e,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new uN(cN.from(r.reverse()),o)}}uN.empty=new uN(cN.empty,0);class dN{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new dN(t.getMap().invert(),t,this.selection)}}}class pN{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const fN=20;function hN(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,o)=>t.push(r,o));return t}function mN(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}let gN=!1,yN=null;function bN(e){let t=e.plugins;if(yN!=t){gN=!1,yN=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){gN=!0;break}}return gN}const vN=new zk("history"),kN=new zk("closeHistory");function xN(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Pk({key:vN,state:{init:()=>new pN(uN.empty,uN.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(vN);if(i)return i.historyState;n.getMeta(kN)&&(e=new pN(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(vN))return a.getMeta(vN).redo?new pN(e.done.addTransform(n,void 0,r,bN(t)),e.undone,hN(n.mapping.maps),e.prevTime,e.prevComposition):new pN(e.done,e.undone.addTransform(n,void 0,r,bN(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new pN(e.done.rebased(n,o),e.undone.rebased(n,o),mN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new pN(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),mN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges)),s=a?mN(e.prevRanges,n.mapping):hN(n.mapping.maps);return new pN(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,bN(t)),uN.empty,s,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?SN:"historyRedo"==n?EN:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function wN(e,t){return(n,r)=>{let o=vN.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=bN(t),o=vN.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),s=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new pN(n?s:i.remaining,n?i.remaining:s,null,0,-1);return i.transform.setSelection(a).setMeta(vN,{redo:n,historyState:l})}(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const SN=wN(!1,!0),EN=wN(!0,!0);wN(!1,!1),wN(!0,!1),X_.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Pk({key:new zk("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const o=this.options.limit;if(null==o||0===o)return void(e=!0);const i=this.storage.characters({node:r.doc});if(i>o){const t=0,n=i-o;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const a=r.tr.deleteRange(t,n);return e=!0,a}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=n)return!0;if(r>n&&o>n&&o<=r)return!0;if(r>n&&o>n&&o>r)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,a=i-(o-n),s=i;return e.deleteRange(a,s),!(this.storage.characters({node:e.doc})>n)}})]}});var CN=X_.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[YA(this.options)]}}),_N=(X_.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new Pk({key:new zk("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=t,i=[];if(!n||!r)return KS.create(e,[]);let a=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(!e.isText)return o>=t&&o<=t+e.nodeSize-1&&void(a+=1)});let s=0;return e.descendants((e,t)=>!e.isText&&(o>=t&&o<=t+e.nodeSize-1&&(s+=1,"deepest"===this.options.mode&&a-s>0||"shallowest"===this.options.mode&&s>1?"deepest"===this.options.mode:void i.push(VS.node(t,t+e.nodeSize,{class:this.options.className}))))),KS.create(e,i)}}})]}}),X_.create({name:"gapCursor",addProseMirrorPlugins:()=>[new Pk({props:{decorations:oN,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&ZA.valid(n)?new ZA(n):null,handleClick:nN,handleKeyDown:eN,handleDOMEvents:{beforeinput:rN}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=QC(KC(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}}));function ON({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}X_.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something â€¦",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new Pk({key:new zk("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((e,t)=>{const n=r>=t&&r<=t+e.nodeSize,a=!e.isLeaf&&b_(e);if((n||!this.options.showOnlyCurrent)&&a){const r=[this.options.emptyNodeClass];i&&r.push(this.options.emptyEditorClass);const a=VS.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});o.push(a)}return this.options.includeChildren}),KS.create(e,o)}}})]}}),X_.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Pk({key:new zk("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||v_(n.selection)||e.view.dragging?null:KS.create(n.doc,[VS.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});var TN=X_.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;const t=new zk(this.name),n=(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new Pk({key:t,appendTransaction:(e,r,o)=>{const{doc:i,tr:a,schema:s}=o,l=t.getState(o),c=i.content.size,u=s.nodes[n];if(l)return a.insert(c,u.create())},state:{init:(e,t)=>!ON({node:t.tr.doc.lastChild,types:r}),apply:(e,t)=>e.docChanged?!ON({node:e.doc.lastChild,types:r}):t}})]}}),LN=X_.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>SN(e,t),redo:()=>({state:e,dispatch:t})=>EN(e,t)}),addProseMirrorPlugins(){return[xN(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),MN=X_.create({name:"starterKit",addExtensions(){var e,t,n,r;const o=[];return!1!==this.options.bold&&o.push(tM.configure(this.options.bold)),!1!==this.options.blockquote&&o.push(YL.configure(this.options.blockquote)),!1!==this.options.bulletList&&o.push(kA.configure(this.options.bulletList)),!1!==this.options.code&&o.push(iM.configure(this.options.code)),!1!==this.options.codeBlock&&o.push(lM.configure(this.options.codeBlock)),!1!==this.options.document&&o.push(cM.configure(this.options.document)),!1!==this.options.dropcursor&&o.push(CN.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&o.push(_N.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&o.push(uM.configure(this.options.hardBreak)),!1!==this.options.heading&&o.push(dM.configure(this.options.heading)),!1!==this.options.undoRedo&&o.push(LN.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&o.push(fM.configure(this.options.horizontalRule)),!1!==this.options.italic&&o.push(bM.configure(this.options.italic)),!1!==this.options.listItem&&o.push(xA.configure(this.options.listItem)),!1!==this.options.listKeymap&&o.push(AA.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&o.push(mA.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&o.push(BA.configure(this.options.orderedList)),!1!==this.options.paragraph&&o.push(HA.configure(this.options.paragraph)),!1!==this.options.strike&&o.push(VA.configure(this.options.strike)),!1!==this.options.text&&o.push(GA.configure(this.options.text)),!1!==this.options.underline&&o.push(qA.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&o.push(TN.configure(null==(r=this.options)?void 0:r.trailingNode)),o}}),jN=kA,AN=xA,NN=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,IN=_O.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",t_(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,o,i,a;const s=null!=(n=null==(t=e.attrs)?void 0:t.src)?n:"",l=null!=(o=null==(r=e.attrs)?void 0:r.alt)?o:"",c=null!=(a=null==(i=e.attrs)?void 0:i.title)?a:"";return c?`![${l}](${s} "${c}")`:`![${l}](${s})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||"undefined"==typeof document||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:o,getPos:i,HTMLAttributes:a})=>{const s=document.createElement("img");Object.entries(a).forEach(([e,t])=>{if(null!=t)switch(e){case"width":case"height":break;default:s.setAttribute(e,t)}}),s.src=a.src;const l=new gO({element:s,node:o,getPos:i,onResize:(e,t)=>{s.style.width=`${e}px`,s.style.height=`${t}px`},onCommit:(e,t)=>{const n=i();void 0!==n&&this.editor.chain().setNodeSelection(n).updateAttributes(this.name,{width:e,height:t}).run()},onUpdate:(e,t,n)=>e.type===o.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:!0===r}}),c=l.dom;return c.style.visibility="hidden",c.style.pointerEvents="none",s.onload=()=>{c.style.visibility="",c.style.pointerEvents=""},l}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[fO({find:NN,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),DN=IN,PN=X_.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(e=>e),toggleTextAlign:e=>({editor:t,commands:n})=>!!this.options.alignments.includes(e)&&(t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function RN(e){return RN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RN(e)}function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BN(Object(n),!0).forEach(function(t){FN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FN(e,t,n){return(t=function(e){var t=function(e){if("object"!=RN(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=RN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==RN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WN=DN.extend({addAttributes:function(){var e;return zN(zN({},null===(e=this.parent)||void 0===e?void 0:e.call(this)),{},{float:{default:"none",parseHTML:function(e){return e.getAttribute("data-float")||"none"},renderHTML:function(e){return{"data-float":e.float||"none"}}}})},addProseMirrorPlugins:function(){return[new Pk({view:function(e){var t=function(){e.dom.querySelectorAll("img[data-float]").forEach(function(e){var t=e.getAttribute("data-float")||"none",n=e.closest("[data-resize-container]");n&&n.getAttribute("data-float")!==t&&n.setAttribute("data-float",t)})},n=function(){return requestAnimationFrame(t)};n();var r=new MutationObserver(n);return r.observe(e.dom,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-float"]}),{update:n,destroy:function(){r.disconnect()}}}})]}}),HN=[MN.configure({orderedList:!1,bulletList:{},blockquote:{},heading:!1,code:!1,codeBlock:!1}),KA,nM,gA.configure({openOnClick:!1,autolink:!0}),jN,AN,JL,$L,PN.configure({types:["paragraph","heading"],defaultAlignment:"left"}),pM.configure({levels:[1,2,3],HTMLAttributes:{class:"richtext-heading"}}),WN.configure({inline:!0,HTMLAttributes:{class:"richtext-image"},resize:{enabled:!0,alwaysPreserveAspectRatio:!0}}),CN.configure({color:"gold",class:"richtext-dropcursor"})],UN=o(5922),$N={};$N.styleTagTransform=Re(),$N.setAttributes=Ne(),$N.insert=je().bind(null,"head"),$N.domAPI=Le(),$N.insertStyleElement=De(),Oe()(UN.A,$N),UN.A&&UN.A.locals&&UN.A.locals;var VN=new Map;VN.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),VN.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),VN.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),n.createElement("path",{d:"M40,116H168a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),n.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M168,180H40a8,8,0,0,0,0,16H168a8,8,0,0,0,0-16Z"}))}),VN.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),VN.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),VN.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"108",x2:"168",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"188",x2:"168",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var GN=function(e,t){return He(e,t,VN)},qN=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:GN}))});qN.displayName="TextAlignLeft";const KN=qN;var YN=new Map;YN.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),YN.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),YN.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),n.createElement("path",{d:"M216,100H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M216,180H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))}),YN.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),YN.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),YN.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"88",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"88",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var JN=function(e,t){return He(e,t,YN)},ZN=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:JN}))});ZN.displayName="TextAlignRight";const QN=ZN;var XN=new Map;XN.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),XN.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),XN.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),n.createElement("path",{d:"M216,100H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M216,180H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))}),XN.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),XN.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),XN.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"108",x2:"216",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"188",x2:"216",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var eI=function(e,t){return He(e,t,XN)},tI=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:eI}))});tI.displayName="TextAlignJustify";const nI=tI;var rI=new Map;rI.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),rI.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),rI.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M40,76H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),n.createElement("path",{d:"M64,100a8,8,0,0,0,0,16H192a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M216,140H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),n.createElement("path",{d:"M192,180H64a8,8,0,0,0,0,16H192a8,8,0,0,0,0-16Z"}))}),rI.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),rI.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),rI.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"68",x2:"216",y2:"68",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"64",y1:"108",x2:"192",y2:"108",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"40",y1:"148",x2:"216",y2:"148",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"64",y1:"188",x2:"192",y2:"188",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var oI=function(e,t){return He(e,t,rI)},iI=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:oI}))});iI.displayName="TextAlignCenter";const aI=iI;var sI=new Map;sI.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),sI.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),sI.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))}),sI.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),sI.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),sI.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var lI=function(e,t){return He(e,t,sI)},cI=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:lI}))});cI.displayName="Plus";const uI=cI;var dI=new Map;dI.set("bold",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),n.createElement("circle",{cx:"156",cy:"100",r:"16"}))}),dI.set("duotone",function(e){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184V56a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8Z",opacity:"0.2"}),n.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("circle",{cx:"156",cy:"100",r:"12"}))}),dI.set("fill",function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M168,100h0a12,12,0,0,1-12,12,12,12,0,0,1-12-12,12,12,0,0,1,24,0Zm64-44V184h0v16a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V168h0V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,164.7V56H40v92.7L76.7,112a16.1,16.1,0,0,1,22.6,0L144,156.7,164.7,136a16.1,16.1,0,0,1,22.6,0Z"}))}),dI.set("light",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),n.createElement("circle",{cx:"156",cy:"100",r:"10"}))}),dI.set("thin",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),n.createElement("circle",{cx:"156",cy:"100",r:"8"}))}),dI.set("regular",function(e){return n.createElement(n.Fragment,null,n.createElement("rect",{x:"32",y:"48",width:"192",height:"160",rx:"8",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("path",{d:"M32,168l50.3-50.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,0,11.4,0l20.6-20.6a8,8,0,0,1,11.4,0L224,184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),n.createElement("circle",{cx:"156",cy:"100",r:"12"}))});var pI=function(e,t){return He(e,t,dI)},fI=(0,n.forwardRef)(function(e,t){return n.createElement(Ve,Object.assign({ref:t},e,{renderPath:pI}))});fI.displayName="Image";const hI=fI;function mI(e){return mI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mI(e)}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(t){bI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bI(e,t,n){return(t=function(e){var t=function(e){if("object"!=mI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||kI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kI(e,t){if(e){if("string"==typeof e)return xI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xI(e,t):void 0}}function xI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}it().setAppElement("#root");var wI={type:"doc",content:[{type:"paragraph"}]};function SI(e){return e?"text"===e.type?e.text||"":e.content&&Array.isArray(e.content)?e.content.map(SI).join(" "):"":""}const EI=function(e){var t,r=e.value,o=e.editable,i=e.onChange,a=e.onMoveUp,s=e.onMoveDown,l=e.onDelete,c=e.addBlock,u=e.className,d=void 0===u?"":u,p=e.bubbleMenu,f=void 0===p||p,h=e.floatingMenu,m=void 0===h||h,g=e.singleLine,y=void 0!==g&&g,b=e.inline,v=void 0!==b&&b,k=e.placeholder,x=e.requestFocus,w=e.isDM,S=e.onKeyDown,E=e.insertBlocksAfter,C=vI((0,n.useState)(!1),2),_=C[0],O=C[1],T=vI((0,n.useState)(void 0),2),L=T[0],M=T[1],j=vI((0,n.useState)(!1),2),A=j[0],N=j[1],I=(0,n.useRef)(null),D=(0,n.useMemo)(function(){return null!=r&&r.rich?r.rich:wI},[null==r?void 0:r.rich]),P=function(e){var t,n;if(o&&"function"==typeof i){var a=e.getJSON(),s=((null===(t=e.getText)||void 0===t?void 0:t.call(e))||"").replace(/\u00A0/g," ").replace(/\s+/g," ").trim(),l=yI(yI({},r||{}),{},{type:"rich",hidden:null!==(n=null==r?void 0:r.hidden)&&void 0!==n&&n,rich:a,plainText:s});delete l.content,delete l.text,delete l.marks,i(l)}},R=function(e={},t=[]){const r=(0,n.useRef)(e);r.current=e;const[o]=(0,n.useState)(()=>new zO(r)),i=(0,mb.useSyncExternalStore)(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,n.useDebugValue)(i),(0,n.useEffect)(o.onRender(t)),function(e){var t;const[r]=(0,n.useState)(()=>new PO(e.editor)),o=(0,LO.useSyncExternalStoreWithSelector)(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:TO);DO(()=>r.watch(e.editor),[e.editor,r]),(0,n.useDebugValue)(o)}({editor:i,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),i}({extensions:HN,content:D,editable:o,editorProps:{attributes:yI({class:"rt-content".concat(v?" rt-inline":"")},k?{"data-placeholder":k}:{}),handleKeyDown:function(e,t){if(y&&"Enter"===t.key)return t.preventDefault(),!0;if("function"==typeof S)try{S(t)}catch(e){}return!1},handlePaste:function(e,t,n){if(!E)return!1;var o=function(e){if(!e.content||!Array.isArray(e.content))return null;var t,n=[],r=null,o=[],i=!1,a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=kI(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.content);try{for(a.s();!(t=a.n()).done;){var s=t.value;i||"blockquote"!==s.type?i?o.push(s):n.push(s):(r=s,i=!0)}}catch(e){a.e(e)}finally{a.f()}return r?{before:{type:"doc",content:n},quote:{type:"doc",content:[r]},after:{type:"doc",content:o}}:null}(n);if(!o)return!1;var a,s=o.before,l=o.quote,c=o.after,u=s.content&&s.content.length>0?s:{type:"doc",content:[{type:"paragraph"}]},d=[];return l&&d.push({type:"rich",rich:l,plainText:SI(l),hidden:!1}),c&&c.content&&c.content.length>0&&d.push({type:"rich",rich:c,plainText:SI(c),hidden:!1}),i&&i(yI(yI({},r||{}),{},{type:"rich",rich:u,plainText:SI(u),hidden:null!==(a=null==r?void 0:r.hidden)&&void 0!==a&&a})),d.length>0&&E(d),!0}},onCreate:function(e){var t=e.editor;try{var n=t.view.dom;if(n){var r=0===t.getText().trim().length;n.setAttribute("data-empty",r?"true":"false"),k&&w&&n.setAttribute("data-placeholder",k)}P(t)}catch(e){}},onUpdate:function(e){var t=e.editor;try{var n=t.view.dom;if(n){var r=0===t.getText().trim().length;n.setAttribute("data-empty",r?"true":"false"),k&&w&&n.setAttribute("data-placeholder",k)}P(t)}catch(e){}}},[o]),B=vI((0,n.useState)(0),2)[1];if((0,n.useEffect)(function(){if(R){var e=function(){return B(function(e){return e+1})};return R.on("selectionUpdate",e),R.on("transaction",e),function(){R.off("selectionUpdate",e),R.off("transaction",e)}}},[R]),(0,n.useEffect)(function(){if(R&&x){var e=setTimeout(function(){try{R.chain().focus("end").run()}catch(e){}},0);return function(){return clearTimeout(e)}}},[R,x]),(0,n.useEffect)(function(){if(L&&R){var e=au.resolveAssetUrl(L);R.chain().focus().setImage({src:e}).run(),M(void 0)}},[L]),(0,n.useEffect)(function(){if(A){var e=function(e){var t=I.current;t&&!t.contains(e.target)&&N(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}},[A]),!R)return null;var z,F,W=function(){var e;if(!R)return null;var t=R.state,n=t.selection,r=t.schema.nodes.image;if(!r)return null;if(n instanceof Sk&&(null===(e=n.node)||void 0===e?void 0:e.type)===r)return n.from;var o=n.$from,i=o.nodeBefore;if(i&&i.type===r)return o.pos-i.nodeSize;var a=o.nodeAfter;if(a&&a.type===r)return o.pos;var s=null,l=Math.max(0,n.from-5),c=Math.min(t.doc.content.size,n.to+5);return t.doc.nodesBetween(l,c,function(e,t){return e.type!==r||(s=t,!1)}),s},H=function(e){if(R){var t=R.state,n=R.view,r=t.schema.nodes.image;if(r){var o=W();if(null!=o){var i=t.doc.nodeAt(o);if(i){var a=yI(yI({},i.attrs),{},{float:e}),s=t.tr.setNodeMarkup(o,r,a,i.marks);n.dispatch(s),R.commands.focus();try{P(R),R.commands.blur();var l=n.nodeDOM(o),c="IMG"===(null==l?void 0:l.nodeName)?l:null==l?void 0:l.querySelector("img");null==c||c.setAttribute("data-float",e),R.commands.focus()}catch(e){console.error("Error setting image float:",e)}}}}}},U=o&&(null==r?void 0:r.hidden);return(0,Je.jsxs)("div",{className:"rt-block ".concat(d," ").concat(U?"rt-hidden":""),children:[o&&(0,Je.jsxs)(Je.Fragment,{children:[!1!==f&&w&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(VL,{className:"rt-bubble-menu-image",editor:R,pluginKey:"image-float-menu",shouldShow:function(){return null!=W()},children:(0,Je.jsx)("div",{className:"rt-image-float",style:{display:"flex"},children:(F=null!==(z=function(){if(!R)return{};var e=W();if(null==e)return{};var t=R.state.doc.nodeAt(e);return(null==t?void 0:t.attrs)||{}}().float)&&void 0!==z?z:"none",(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("button",{className:"left"===F?"active":"",onClick:function(){return H("left")},children:(0,Je.jsx)(KN,{})}),(0,Je.jsx)("button",{className:"right"===F?"active":"",onClick:function(){return H("right")},children:(0,Je.jsx)(QN,{})}),(0,Je.jsx)("button",{className:"none"===F?"active":"",onClick:function(){return H("none")},children:(0,Je.jsx)(nI,{})})]}))})}),(0,Je.jsx)(VL,{className:"rt-bubble-menu",editor:R,pluginKey:"common",shouldShow:function(e){var t,n=e.editor,r=e.state.selection;return!(r instanceof Sk&&"image"===(null===(t=r.node)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.name)||n.isActive("image")||r.empty)},children:(0,Je.jsxs)("div",{className:"btns",children:[(0,Je.jsxs)("div",{className:"rt-mode",ref:I,children:[(0,Je.jsx)("button",{type:"button",className:"rt-mode__btn",onClick:function(){return N(function(e){return!e})},children:function(){var e;if(null!=R&&null!==(e=R.schema)&&void 0!==e&&null!==(e=e.nodes)&&void 0!==e&&e.heading&&R.isActive("heading")){var t,n=null===(t=R.getAttributes("heading"))||void 0===t?void 0:t.level;return n?"Heading ".concat(n):"Heading"}return R.isActive("orderedList")?"Numbered list":R.isActive("bulletList")?"Bullet list":R.isActive("blockquote")?"Quote":"Normal text"}()}),A&&(0,Je.jsxs)("div",{className:"rt-mode-menu",children:[(0,Je.jsx)("div",{className:"rt-menu-section",children:"TURN INTO"}),(0,Je.jsx)("div",{className:"rt-menu-row",children:(0,Je.jsx)("button",{className:R.isActive("paragraph")?"active":"",onClick:function(){R.chain().focus().setParagraph().run(),N(!1)},children:"Normal text"})}),(null==R||null===(t=R.schema)||void 0===t||null===(t=t.nodes)||void 0===t?void 0:t.heading)&&(0,Je.jsxs)("div",{className:"rt-menu-row",children:[(0,Je.jsx)("span",{style:{opacity:.7,marginRight:6},children:"Heading"}),[1,2,3,4,5,6].map(function(e){return(0,Je.jsx)("button",{className:R.isActive("heading",{level:e})?"active":"",onClick:function(){!function(e){var t;null!=R&&null!==(t=R.schema)&&void 0!==t&&null!==(t=t.nodes)&&void 0!==t&&t.heading&&R.chain().focus().command(function(t){var n=t.commands;return"function"==typeof n.setHeading?(n.setHeading({level:e}),!0):"function"==typeof n.toggleHeading?(n.toggleHeading({level:e}),!0):"function"!=typeof n.setNode||(n.setNode("heading",{level:e}),!0)}).run()}(e),N(!1)},children:e},e)})]}),(0,Je.jsx)("div",{className:"rt-menu-row",children:(0,Je.jsx)("button",{className:R.isActive("orderedList")?"active":"",onClick:function(){R.chain().focus().toggleOrderedList().run(),N(!1)},children:"Numbered List"})}),(0,Je.jsx)("div",{className:"rt-menu-row",children:(0,Je.jsx)("button",{className:R.isActive("bulletList")?"active":"",onClick:function(){R.chain().focus().toggleBulletList().run(),N(!1)},children:"Bullet List"})}),(0,Je.jsx)("div",{className:"rt-menu-section",children:"WRAP IN"}),(0,Je.jsx)("div",{className:"rt-menu-row",children:(0,Je.jsx)("button",{className:R.isActive("blockquote")?"active":"",onClick:function(){R.chain().focus().toggleBlockquote().run(),N(!1)},children:"Quote"})}),(0,Je.jsx)("div",{className:"rt-menu-row",children:(0,Je.jsx)("button",{className:null!=r&&r.hidden?"active":"",onClick:function(){i&&i(yI(yI({},r||{}),{},{type:"rich",hidden:!(null!=r&&r.hidden)})),N(!1)},children:"Secret"})})]})]}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleBold().run()},className:R.isActive("bold")?"active":"",children:(0,Je.jsx)("b",{children:"B"})}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleItalic().run()},className:R.isActive("italic")?"active":"",children:(0,Je.jsx)("i",{children:"I"})}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleUnderline().run()},className:R.isActive("underline")?"active":"",children:(0,Je.jsx)("u",{children:"U"})}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("left").run()},className:R.isActive({textAlign:"left"})?"active":"",children:(0,Je.jsx)(KN,{})}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("center").run()},className:R.isActive({textAlign:"center"})?"active":"",children:(0,Je.jsx)(aI,{})}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("right").run()},className:R.isActive({textAlign:"right"})?"active":"",children:(0,Je.jsx)(QN,{})}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleTextAlign("justify").run()},className:R.isActive({textAlign:"justify"})?"active":"",children:(0,Je.jsx)(nI,{})})]})})]}),!1!==m&&w&&(0,Je.jsx)(GL,{className:"rt-float",editor:R,children:(0,Je.jsxs)("div",{className:"btns",children:[(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().setParagraph().run()},className:R.isActive("paragraph")?"active":"",children:"P"}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleBlockquote().run()},className:R.isActive("blockquote")?"active":"",children:"â€œ â€"}),(0,Je.jsx)("button",{onClick:function(){return R.chain().focus().toggleBulletList().run()},className:R.isActive("bulletList")?"active":"",children:"â€¢ List"})]})}),toolbar&&w&&(0,Je.jsxs)("div",{className:"rt-toolbar",children:[(0,Je.jsxs)("div",{className:"rt-add-block",children:[(0,Je.jsx)(uI,{size:24,type:"button",className:"add-block-btn","aria-label":"Add block below",onClick:c}),(0,Je.jsx)(hI,{size:24,type:"button",className:"add-block-btn","aria-label":"Add image",onClick:function(){R&&O(!0)}})]}),(0,Je.jsxs)("div",{className:"rt-sideTools",children:[a&&(0,Je.jsx)("button",{title:"Move up",onClick:a,children:"â†‘"}),s&&(0,Je.jsx)("button",{title:"Move down",onClick:s,children:"â†“"}),l&&(0,Je.jsx)("button",{title:"Delete",onClick:l,children:"âœ•"})]})]})]}),(0,Je.jsx)(IO,{editor:R}),(0,Je.jsx)(id,{isOpen:_,onClose:function(){return O(!1)},onSelect:function(e){M(e.url),O(!1)}})]})};function CI(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return _I(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(_I(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_I(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,_I(d,"constructor",c),_I(c,"constructor",l),l.displayName="GeneratorFunction",_I(c,o,"GeneratorFunction"),_I(d),_I(d,o,"Generator"),_I(d,r,function(){return this}),_I(d,"toString",function(){return"[object Generator]"}),(CI=function(){return{w:i,m:p}})()}function _I(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_I=function(e,t,n,r){function i(t,n){_I(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},_I(e,t,n,r)}function OI(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function TI(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){OI(i,r,o,a,s,"next",e)}function s(e){OI(i,r,o,a,s,"throw",e)}a(void 0)})}}function LI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jI=o(1687),AI={};AI.styleTagTransform=Re(),AI.setAttributes=Ne(),AI.insert=je().bind(null,"head"),AI.domAPI=Le(),AI.insertStyleElement=De(),Oe()(jI.A,AI),jI.A&&jI.A.locals&&jI.A.locals;const NI=function(){return(0,Je.jsxs)("div",{className:"aetheriumDivider",children:[(0,Je.jsx)("div",{className:"divider-line"}),(0,Je.jsx)("div",{className:"aetherium-logo",children:(0,Je.jsx)("img",{src:Fe,alt:"Aetherium Logo"})}),(0,Je.jsx)("div",{className:"divider-line"})]})};function II(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return DI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var PI=function(e){if(!e||"string"!=typeof e)return null;var t=e.match(/^(\d{2})[./-](\d{2})[./-](\d{4})$/);if(!t)return null;var n=II(t,4),r=(n[0],n[1]),o=n[2],i=n[3],a=new Date(Number(i),Number(o)-1,Number(r));return isNaN(a.getTime())?null:a},RI=function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getFullYear());return"".concat(t,"/").concat(n,"/").concat(r)},BI=function(e,t){return new Date(e,t+1,0).getDate()};const zI=function(e){var t=e.value,r=e.placeholder,o=void 0===r?"Pick a date":r,i=e.label,a=e.onChange,s=e.clearable,l=void 0!==s&&s,c=(0,n.useMemo)(function(){return PI(t)||new Date},[t]),u=II((0,n.useState)(c.getFullYear()),2),d=u[0],p=u[1],f=II((0,n.useState)(c.getMonth()),2),h=f[0],m=f[1],g=II((0,n.useState)(PI(t)),2),y=g[0],b=g[1],v=II((0,n.useState)(!1),2),k=v[0],x=v[1],w=function(e,t){var r=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(e){var n=function(e){r.current&&(r.current.contains(e.target)||t())};return document.addEventListener("mousedown",n),function(){return document.removeEventListener("mousedown",n)}}},[e,t]),r}(k,function(){return x(!1)});(0,n.useEffect)(function(){var e=PI(t);b(e),e&&(p(e.getFullYear()),m(e.getMonth()))},[t]);for(var S,E=(0,n.useMemo)(function(){return y?RI(y):""},[y]),C=0===(S=new Date(d,h,1).getDay())?6:S-1,_=BI(d,h),O=0===h?BI(d-1,11):BI(d,h-1),T=[],L=0;L<C;L++){var M=O-C+1+L,j=0===h?d-1:d,A=0===h?11:h-1;T.push({day:M,inMonth:-1,year:j,month:A})}for(var N=1;N<=_;N++)T.push({day:N,inMonth:0,year:d,month:h});for(var I=(7-T.length%7)%7,D=1;D<=I;D++){var P=11===h?d+1:d,R=11===h?0:h+1;T.push({day:D,inMonth:1,year:P,month:R})}return(0,Je.jsxs)("div",{className:"datepick",children:[i&&(0,Je.jsx)("div",{className:"datepick__label",children:i}),(0,Je.jsxs)("div",{className:"datepick__inputWrap session-datepicker",children:[(0,Je.jsx)(bd,{weight:"bold",size:20,className:"icon__hover gold_on_hover"}),(0,Je.jsx)("input",{className:"modal__input datepill",onFocus:function(){return x(!0)},onClick:function(){return x(!0)},readOnly:!0,value:E,placeholder:o,"aria-haspopup":"dialog","aria-expanded":k}),l&&E&&(0,Je.jsx)("button",{type:"button",className:"datepill__icon-end",onClick:function(){b(null),a(null)},"aria-label":"Clear date",children:(0,Je.jsx)(_d,{size:30,weight:"bold",className:"icon__hover dim_on_hover"})})]}),k&&(0,Je.jsx)("div",{ref:w,className:"dp-pop custom-datepicker",children:(0,Je.jsxs)("div",{className:"dp-pop__panel",children:[(0,Je.jsxs)("div",{className:"dp-pop__head",children:[(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return p(d-1)},"aria-label":"Previous year",children:(0,Je.jsx)(Md,{size:16})}),(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){0===h?(p(d-1),m(11)):m(h-1)},"aria-label":"Previous month",children:(0,Je.jsx)(Ye,{size:16})}),(0,Je.jsxs)("div",{className:"dp-pop__headmain",children:[(0,Je.jsx)("select",{className:"modal__select",value:String(h),style:{backgroundImage:"none"},onChange:function(e){return m(parseInt(e.target.value,10))},children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(e,t){return(0,Je.jsx)("option",{value:String(t),children:e},t)})}),(0,Je.jsx)("input",{className:"modal__input dp-pop__year",type:"number",value:String(d),onChange:function(e){return p(parseInt(e.target.value,10)||d)},placeholder:"Year"})]}),(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){11===h?(p(d+1),m(0)):m(h+1)},"aria-label":"Next month",children:(0,Je.jsx)(Id,{size:16})}),(0,Je.jsx)("button",{type:"button",className:"dp-pop__navbtn",onClick:function(){return p(d+1)},"aria-label":"Next year",children:(0,Je.jsx)(Bd,{size:16})})]}),(0,Je.jsx)("div",{className:"dp-pop__grid dp-pop__week",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(function(e){return(0,Je.jsx)("div",{className:"dp-pop__weekcell",children:e},e)})}),(0,Je.jsx)("div",{className:"dp-pop__grid dp-pop__days",children:T.map(function(e,t){var n=0!==e.inMonth,r=y&&e.day===y.getDate()&&e.month===y.getMonth()&&e.year===y.getFullYear();return(0,Je.jsx)("button",{type:"button",className:"dp-pop__daybtn".concat(n?" is-outside":"").concat(r?" is-selected":""),onClick:function(){return function(e){var t=new Date(e.year,e.month,e.day);b(t),a(RI(t)),x(!1)}(e)},children:e.day},"".concat(e.year,"-").concat(e.month,"-").concat(e.day,"-").concat(t))})})]})})]})};function FI(e){return FI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FI(e)}function WI(e){return function(e){if(Array.isArray(e))return ZI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HI(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return UI(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(UI(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,UI(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,UI(d,"constructor",c),UI(c,"constructor",l),l.displayName="GeneratorFunction",UI(c,o,"GeneratorFunction"),UI(d),UI(d,o,"Generator"),UI(d,r,function(){return this}),UI(d,"toString",function(){return"[object Generator]"}),(HI=function(){return{w:i,m:p}})()}function UI(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}UI=function(e,t,n,r){function i(t,n){UI(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},UI(e,t,n,r)}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(t){GI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GI(e,t,n){return(t=function(e){var t=function(e){if("object"!=FI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=FI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==FI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qI(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function KI(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){qI(i,r,o,a,s,"next",e)}function s(e){qI(i,r,o,a,s,"throw",e)}a(void 0)})}}function YI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||JI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JI(e,t){if(e){if("string"==typeof e)return ZI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZI(e,t):void 0}}function ZI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}it().setAppElement("#root");var QI={type:"doc",content:[{type:"paragraph"}]};const XI=function(e){var t,r,o,i,a=e.isDM,s=Y(),l=function(){let{matches:e}=n.useContext($),t=e[e.length-1];return t?t.params:{}}(),c=l.type,u=l.id,d=(0,n.useRef)(!1),p=xu(function(e){return e.createPage}),f=xu(function(e){return e.updatePage}),h=xu(function(e){return e.getPage}),m=xu(function(e){return e.replacePageInCache}),g=xu(function(e){return e.loadTimeSystem}),y=xu(function(e){return e.data.timeSystem.data}),b=xu(function(e){return e.data.groups.data}),v=xu(function(e){return e.loadGroups}),k=xu(function(e){return e.createEvent}),x=YI((0,n.useState)(!1),2),w=x[0],S=x[1],E=(0,n.useRef)(null),C=YI((0,n.useState)(0),2),_=C[0],O=C[1],T=YI((0,n.useState)(0),2),L=T[0],M=T[1],j=(0,n.useRef)(null);(0,n.useEffect)(function(){return function(){j.current&&cancelAnimationFrame(j.current)}},[]);var A=function(){return"".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2,8))},N=function(){return{id:A(),type:"rich",hidden:!1,plainText:""}},I=function(e){var t;return e?"image"===e.type?{id:e.id||A(),type:"image",url:e.url,hidden:!!e.hidden}:{id:e.id||A(),type:"rich",hidden:!!e.hidden,rich:null!==(t=e.rich)&&void 0!==t?t:QI,plainText:"string"==typeof e.plainText?e.plainText:""}:N()},D=YI((0,n.useState)(function(){return{type:c,title:"",bannerUrl:"",blocks:[N()],hidden:!1,draft:!0,sessionDate:"",worldDate:null}}),2),P=D[0],R=D[1],B=YI((0,n.useState)(null),2),z=B[0],F=B[1],W=YI((0,n.useState)(!1),2),H=W[0],U=W[1];n.useEffect(function(){if(null!==z){var e=setTimeout(function(){return F(null)},250);return function(){return clearTimeout(e)}}},[z]),n.useEffect(function(){if(u){var e=!0;return KI(HI().m(function t(){var n,r;return HI().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,U(!0),t.n=1,h(u);case 1:if(n=t.v,e){t.n=2;break}return t.a(2);case 2:r=Array.isArray(null==n?void 0:n.blocks)&&n.blocks.length>0?n.blocks.map(I):[N()],R(function(e){return VI(VI(VI({},e),n),{},{blocks:r})});case 3:return t.p=3,e&&U(!1),t.f(3);case 4:return t.a(2)}},t,null,[[0,,3,4]])}))(),function(){e=!1}}},[u,h]),(0,n.useEffect)(function(){"campaign"===c&&(y||g(),b&&0!==b.length||v())},[c]);var V=(0,n.useCallback)(function(){var e=KI(HI().m(function e(t){var n,r,o,i,a,l;return HI().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=(null!==(n=t.title)&&void 0!==n?n:"").trim()){e.n=1;break}return e.a(2);case 1:if(o={title:r,subtitle:t.subtitle,bannerUrl:t.bannerUrl,blocks:t.blocks,hidden:t.hidden,draft:t.draft,sessionDate:t.sessionDate,worldDate:t.worldDate,type:c},!u){e.n=6;break}return e.p=2,e.n=3,f(VI({_id:u},o));case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2);case 6:if(!d.current){e.n=7;break}return e.a(2);case 7:return d.current=!0,i=ry.loading("Savingâ€¦",{id:"page-save"}),e.p=8,e.n=9,p(o);case 9:a=e.v,ry.success("Saved",{id:i,duration:1200}),null!=a&&a._id&&s("/lore/".concat(c,"/").concat(a._id),{replace:!0}),e.n=11;break;case 10:throw e.p=10,l=e.v,d.current=!1,ry.error((null==l?void 0:l.message)||"Save failed",{id:i,duration:2500}),l;case 11:return e.a(2)}},e,null,[[8,10],[2,4]])}));return function(t){return e.apply(this,arguments)}}(),[u,c,p,f,s]),G=function(e,t,r){var o,i,a,s="number"==typeof r?{idleMs:r}:r||{},l=null!==(o=s.idleMs)&&void 0!==o?o:5e3,c=null===(i=s.immediateFirst)||void 0===i||i,u=null!==(a=s.disabled)&&void 0!==a&&a,d=LI(n.useState(!1),2),p=d[0],f=d[1],h=LI(n.useState(null),2),m=h[0],g=h[1],y=LI(n.useState(null),2),b=y[0],v=y[1],k=n.useRef(e),x=n.useRef(JSON.stringify(e)),w=n.useRef(JSON.stringify(e)),S=n.useRef(null),E=n.useRef(!1),C=n.useRef(!1),_=n.useRef(!1);n.useEffect(function(){k.current=e},[e]);var O=n.useCallback(function(){null!=S.current&&(window.clearTimeout(S.current),S.current=null)},[]),T=n.useRef(TI(CI().m(function e(){return CI().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}))),L=n.useCallback(function(){u||(O(),E.current=!0,S.current=window.setTimeout(TI(CI().m(function e(){return CI().w(function(e){for(;;)switch(e.n){case 0:return S.current=null,e.n=1,T.current();case 1:E.current=!1;case 2:return e.a(2)}},e)})),l))},[O,u,l]);return n.useEffect(function(){T.current=TI(CI().m(function e(){var n,r;return CI().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!u){e.n=1;break}return e.a(2);case 1:if((n=x.current)!==w.current){e.n=2;break}return e.a(2);case 2:if(!C.current){e.n=3;break}return _.current=!0,e.a(2);case 3:return e.p=3,C.current=!0,f(!0),v(null),e.n=4,Promise.resolve(t(k.current));case 4:w.current=n,g(Date.now()),e.n=6;break;case 5:e.p=5,r=e.v,v((null==r?void 0:r.message)||"Autosave failed");case 6:return e.p=6,C.current=!1,f(!1),_.current&&(_.current=!1,L()),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}))},[u,t,L]),n.useEffect(function(){if(!u){var t=JSON.stringify(e);t!==x.current&&(x.current=t,E.current||(E.current=!0,c&&T.current()),L())}},[e,u,c,L]),n.useEffect(function(){return function(){O();var e=x.current;if(!u&&e!==w.current)try{var n=t(k.current);n&&"function"==typeof n.then&&n.catch(function(){})}catch(e){}}},[O,u,t]),{isSaving:p,lastSavedAt:m,error:b}}(P,V,{idleMs:2500}),q=G.isSaving,K=G.lastSavedAt,J=G.error,Z=function(e,t){R(function(n){var r=Array.isArray(n.blocks)?WI(n.blocks):[],o=e+t;if(o<0||o>=r.length)return n;var i=YI(r.splice(e,1),1)[0];return r.splice(o,0,i),VI(VI({},n),{},{blocks:r})}),F(function(n){return n===e?e+t:n})},Q=function(){var e=KI(HI().m(function e(){var t,n;return HI().w(function(e){for(;;)switch(e.p=e.n){case 0:if(R(function(e){return VI(VI({},e),{},{bannerUrl:""})}),!u){e.n=4;break}return e.p=1,e.n=2,f({_id:u,bannerUrl:""});case 2:t=e.v,m(t),ry.success("Banner removed"),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to remove banner",n),ry.error("Failed to remove banner");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),X=function(e,t){var n,r,o=null==e||null===(n=e.eras)||void 0===n?void 0:n.find(function(e){return e.id===t.eraId}),i=(null==o?void 0:o.abbreviation)||"",a=null==e||null===(r=e.months)||void 0===r||null===(r=r[t.monthIndex])||void 0===r?void 0:r.name;return"number"==typeof t.day&&a?"".concat(function(e){var t=e%100;if(t>=11&&t<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}}(t.day)," ").concat(a," ").concat(String(t.year)).concat(i?", ".concat(i):""):a?"".concat(a," ").concat(String(t.year)).concat(i?", ".concat(i):""):"".concat(String(t.year)).concat(i?", ".concat(i):"")},ee=function(){var e=KI(HI().m(function e(){var t,n,r,o,i,a,s;return HI().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,f({_id:P._id,draft:!1});case 1:if(t=e.v,R(function(e){return VI(VI({},e),{},{draft:!1})}),t&&m(t),"campaign"!==c||null==P||!P.worldDate){e.n=7;break}if(n=P.worldDate,r=b&&b.length?b[0]._id:void 0,o=null==b?void 0:b.find(function(e){return/campaign|session/i.test(e.name)}),o&&(r=o._id),r){e.n=2;break}return ry(function(e){return(0,Je.jsx)("div",{children:"Published. No groups available to create a timeline event."})}),ry.success("Page published"),e.a(2);case 2:return i=y?X(y,n):String(n.year),e.p=3,e.n=4,k({title:P.title||"Session",groupId:r,startDate:i,startEraId:n.eraId,startYear:n.year,startMonthIndex:n.monthIndex,startDay:n.day,detailLevel:"Day",description:P.subtitle||"",pageId:(null==t?void 0:t._id)||(null==P?void 0:P._id)});case 4:ry.success("Page published and event created"),e.n=6;break;case 5:e.p=5,a=e.v,console.error("Failed to create event for page",a),ry.success("Page published (event not created)");case 6:e.n=8;break;case 7:ry.success("Page published");case 8:e.n=10;break;case 9:e.p=9,s=e.v,console.error("Failed to publish page",s),ry.error("Failed to publish page");case 10:return e.a(2)}},e,null,[[3,5],[0,9]])}));return function(){return e.apply(this,arguments)}}();return(0,Je.jsxs)("div",{className:"loreDetail offset-container",style:{background:"url(".concat(P.bannerUrl?au.resolveAssetUrl(P.bannerUrl):"transparent",")")},children:[(0,Je.jsx)("div",{className:"bgLayer",style:{filter:"grayscale(".concat(L,") blur(").concat(_,"px)")}}),(0,Je.jsx)("div",{className:"overlay"}),H&&(0,Je.jsx)("div",{style:{padding:16,opacity:.7},children:"Loadingâ€¦"}),(0,Je.jsxs)("div",{className:"overflow-container",ref:E,onScroll:function(){var e=E.current;if(e){var t=e.scrollTop,n=Math.min(1,t/1200),r=12*n;j.current&&cancelAnimationFrame(j.current),j.current=requestAnimationFrame(function(){O(r),M(n)})}},children:[(0,Je.jsxs)("div",{className:"contentContainer",children:[(0,Je.jsx)("h1",{className:"pageTitle",children:a?(0,Je.jsxs)(Je.Fragment,{children:[P.bannerUrl?(0,Je.jsxs)("div",{className:"banner-icon loaded",onClick:Q,children:[(0,Je.jsx)(hI,{size:32}),(0,Je.jsx)("span",{children:"REMOVE BANNER"})]}):(0,Je.jsxs)("div",{className:"banner-icon loaded",onClick:function(){return S(!0)},children:[(0,Je.jsx)(hI,{size:32}),(0,Je.jsx)("span",{children:"ADD BANNER"})]}),(0,Je.jsx)("textarea",{className:"richTextBlock richTextBlock--title",value:P.title,placeholder:"New Title",onChange:function(e){return t=e.target.value,void R(function(e){return VI(VI({},e),{},{title:t})});var t}},"page-title")]}):(0,Je.jsx)("h1",{children:P.title||"New Title"})}),(0,Je.jsx)("div",{className:"campaignWorldDate",children:(0,Je.jsx)(Vd,{ts:y,format:"yearMonthDay",value:P.worldDate?{eraId:P.worldDate.eraId,year:String(null!==(t=P.worldDate.year)&&void 0!==t?t:""),monthIndex:String(null!==(r=P.worldDate.monthIndex)&&void 0!==r?r:"0"),day:String(null!==(o=P.worldDate.day)&&void 0!==o?o:"1")}:null,onChange:function(e){R(function(t){return VI(VI({},t),{},{worldDate:e?{eraId:e.eraId,year:parseInt(e.year||"0",10)||0,monthIndex:parseInt(e.monthIndex||"0",10)||0,day:parseInt(e.day||"1",10)||1}:null})})}})}),(0,Je.jsx)(NI,{}),(0,Je.jsx)("h4",{className:"pageSubtitle",children:a?(0,Je.jsx)("textarea",{className:"richTextBlock richTextBlock--subtitle",value:P.subtitle,placeholder:"Subtitle",onChange:function(e){return t=e.target.value,void R(function(e){return VI(VI({},e),{},{subtitle:t})});var t}},"page-title"):P.subtitle?(0,Je.jsx)("h4",{children:P.subtitle||""}):null}),(P.sessionDate||a)&&(0,Je.jsx)("div",{className:"dateWrapper",children:a?(0,Je.jsx)(zI,{value:P.sessionDate||null,onChange:function(e){return R(function(t){return VI(VI({},t),{},{sessionDate:e||""})})},placeholder:"Select session date"}):(0,Je.jsx)("span",{className:"sessionDate",children:P.sessionDate?P.sessionDate:"N/A"})}),a&&(null==P?void 0:P.draft)&&(0,Je.jsx)("div",{className:"publishRow",children:(0,Je.jsx)("button",{className:"publishBtn",onClick:ee,children:"Publish"})}),(0,Je.jsx)("div",{className:"blocks",children:null==P||null===(i=P.blocks)||void 0===i?void 0:i.map(function(e,t){return!a&&e.hidden?null:"image"===e.type?(0,Je.jsx)("div",{className:"imageBlock ".concat(a&&e.hidden?"rt-hidden":""),children:(0,Je.jsx)("img",{src:e.url,alt:""})},e.id||t):(0,Je.jsx)(EI,{className:"richTextBlock",value:VI(VI({},e),{},{type:"rich"}),editable:a,floatingMenu:!1,onChange:function(e){return n=t,r=e,void R(function(e){var t=VI({},e),o=Array.isArray(t.blocks)?WI(t.blocks):[];return o[n]=I(r),t.blocks=o,t});var n,r},onMoveUp:a?function(){return Z(t,-1)}:void 0,onMoveDown:a?function(){return Z(t,1)}:void 0,onDelete:a?function(){return e=t,void R(function(t){var n=Array.isArray(t.blocks)?WI(t.blocks):[];return n.splice(e,1),VI(VI({},t),{},{blocks:n})});var e}:void 0,placeholder:a?"Add your content here...":"",requestFocus:z===t,isDM:a,addBlock:function(){return function(e){R(function(t){var n=VI({},t),r=Array.isArray(n.blocks)?WI(n.blocks):[],o=e+1;return r.splice(o,0,N()),n.blocks=r,n}),F(e+1)}(t)},insertBlocksAfter:function(e){R(function(n){var r=VI({},n),o=WI(r.blocks||[]);return o.splice.apply(o,[t+1,0].concat(WI(e.map(function(e){return VI({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,6)),hidden:!1},e)})))),r.blocks=o,r})}},e.id||t)})})]}),a&&"campaign"===c&&(0,Je.jsxs)("div",{className:"metaFields",style:{margin:"8px 0 16px"},children:[(0,Je.jsx)(NI,{}),(0,Je.jsxs)("div",{className:"saveStatus",children:[q?"Savingâ€¦":K?"Last saved at: ".concat(new Date(K).toLocaleTimeString()):null,J?(0,Je.jsxs)("span",{className:"error",children:[" â€¢ ",J]}):null]})]})]}),(0,Je.jsx)(id,{isOpen:w,onClose:function(){return S(!1)},onSelect:function(e){R(function(t){return VI(VI({},t),{},{bannerUrl:e.url})}),S(!1)}})]})};function eD(e){return eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eD(e)}function tD(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return nD(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,l=h;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(p.n=-1),f(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(nD(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nD(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,nD(d,"constructor",c),nD(c,"constructor",l),l.displayName="GeneratorFunction",nD(c,o,"GeneratorFunction"),nD(d),nD(d,o,"Generator"),nD(d,r,function(){return this}),nD(d,"toString",function(){return"[object Generator]"}),(tD=function(){return{w:i,m:p}})()}function nD(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nD=function(e,t,n,r){function i(t,n){nD(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},nD(e,t,n,r)}function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rD(Object(n),!0).forEach(function(t){iD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iD(e,t,n){return(t=function(e){var t=function(e){if("object"!=eD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=eD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aD(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function sD(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){aD(i,r,o,a,s,"next",e)}function s(e){aD(i,r,o,a,s,"throw",e)}a(void 0)})}}function lD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cD=function(){var e=q(),t=(Y(),xu(function(e){return e.setUser})),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lD(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)({connected:!1,expired:!1,checking:!1}),2),o=r[0],i=r[1];(0,n.useEffect)(function(){var e=new URL(window.location.href),n=e.searchParams.get("token"),r=e.hash?new URLSearchParams(e.hash.replace(/^#/,"")).get("token"):null,o=n||r,i=function(){if(n&&e.searchParams.delete("token"),r){var t=new URLSearchParams(e.hash.replace(/^#/,""));t.delete("token");var o=t.toString();e.hash=o?"#".concat(o):""}var i=e.pathname+(e.search?"?".concat(e.searchParams.toString()):"")+e.hash;window.history.replaceState(null,"",i)},a=function(){var e=sD(tD().m(function e(n){var r,o;return tD().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,localStorage.setItem("token",n),e.n=1,au.getCurrentUser();case 1:(r=e.v)&&t(oD(oD({},r),{},{token:n})),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Failed to hydrate user from token",o),localStorage.removeItem("token"),t(null);case 3:return e.p=3,i(),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}();if(o)a(o);else{var s=localStorage.getItem("token");s&&sD(tD().m(function e(){var n;return tD().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,au.getCurrentUser();case 1:(n=e.v)&&t(oD(oD({},n),{},{token:s})),e.n=3;break;case 2:e.p=2,e.v,localStorage.removeItem("token"),t(null);case 3:return e.a(2)}},e,null,[[0,2]])}))()}},[t]);var a=xu(function(e){return e.loadGroups}),s=xu(function(e){return e.loadEvents}),l=xu(function(e){return e.loadTimeSystem}),c=xu(function(e){return e.loadAssets}),u=xu(function(e){return e.logout}),d=xu(function(e){return e.isDM}),p=xu(function(e){return e.isLoggedIn});return(0,n.useEffect)(function(){a(),s(),l(),c()},[a,s,l]),(0,n.useEffect)(function(){p()&&d()&&(i(function(e){return oD(oD({},e),{},{checking:!0})}),au.checkGoogleTokenStatus().then(function(e){i({connected:e.connected,expired:e.expired,checking:!1}),e.connected&&e.expired&&!e.needsReauth&&au.refreshGoogleToken().then(function(e){if(e.success){var n=localStorage.getItem("token");n&&au.getCurrentUser().then(function(e){e&&t(oD(oD({},e),{},{token:n}))}),i(function(e){return oD(oD({},e),{},{expired:!1})})}})}).catch(function(){i({connected:!1,expired:!0,checking:!1})}))},[p,d,t]),(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("div",{className:"loginContainer",children:[(0,Je.jsx)("button",{className:"loginButton",title:p()?"Logout":"Login with Google",onClick:function(){p()?u():window.location.href="".concat(au.getBaseUrl(),"/auth/google")},children:(0,Je.jsx)("span",{className:"icon_square-btn",children:p()?(0,Je.jsx)(ub,{}):(0,Je.jsx)(hb,{})})}),p()&&d()&&(0,Je.jsx)("div",{className:"googleStatus",title:o.checking?"Checking Google connection...":o.connected?o.expired?"Google token expired. Click to reconnect.":"Google Docs connected":"Google Docs not connected. Click to connect.",children:o.checking?(0,Je.jsx)("span",{style:{color:"#888"},children:"âŸ³"}):o.connected&&!o.expired?(0,Je.jsx)("span",{style:{color:"#4CAF50"},children:"â—"}):(0,Je.jsxs)("button",{className:"reconnectButton",onClick:function(e){e.stopPropagation(),window.location.href="".concat(au.getBaseUrl(),"/auth/google")},title:"Reconnect Google Docs",children:[(0,Je.jsx)("span",{style:{color:"#ff9800"},children:"âš "})," Reconnect"]})})]}),(0,Je.jsx)("div",{className:"appContent ".concat("/"===e.pathname?"home":"other"),children:(0,Je.jsxs)(le,{children:[(0,Je.jsx)(ae,{path:"/",element:(0,Je.jsx)(et,{})}),(0,Je.jsx)(ae,{path:"/campaign",element:(0,Je.jsx)(tt,{})}),(0,Je.jsx)(ae,{path:"/history",element:(0,Je.jsx)(Tg,{})}),(0,Je.jsx)(ae,{path:"/lore",element:(0,Je.jsx)(ab,{})}),(0,Je.jsx)(ae,{path:"/lore/:type/new",element:(0,Je.jsx)(XI,{isDM:d()})}),(0,Je.jsx)(ae,{path:"/lore/:type/:id",element:(0,Je.jsx)(XI,{isDM:d()})})]})}),(0,Je.jsx)(Ze,{}),(0,Je.jsx)(_y,{})]})};const uD=function(){return(0,Je.jsx)(ve,{children:(0,Je.jsx)(cD,{})})};var dD=o(6523),pD={};pD.styleTagTransform=Re(),pD.setAttributes=Ne(),pD.insert=je().bind(null,"head"),pD.domAPI=Le(),pD.insertStyleElement=De(),Oe()(dD.A,pD),dD.A&&dD.A.locals&&dD.A.locals;var fD=o(2462),hD={};hD.styleTagTransform=Re(),hD.setAttributes=Ne(),hD.insert=je().bind(null,"head"),hD.domAPI=Le(),hD.insertStyleElement=De(),Oe()(fD.A,hD),fD.A&&fD.A.locals&&fD.A.locals;var mD=document.getElementById("root");mD&&(0,i.H)(mD).render((0,Je.jsx)(uD,{}))})()})();